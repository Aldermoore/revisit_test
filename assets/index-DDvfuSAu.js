var cGe=Object.defineProperty;var fGe=(e,t,n)=>t in e?cGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dGe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gu=(e,t,n)=>(fGe(e,typeof t!="symbol"?t+"":t,n),n);var RFn=dGe((B5n,Yue)=>{function hGe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pGe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Mxe={exports:{}},b4={},Lxe={exports:{}},rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR=Symbol.for("react.element"),mGe=Symbol.for("react.portal"),gGe=Symbol.for("react.fragment"),yGe=Symbol.for("react.strict_mode"),vGe=Symbol.for("react.profiler"),bGe=Symbol.for("react.provider"),_Ge=Symbol.for("react.context"),wGe=Symbol.for("react.forward_ref"),EGe=Symbol.for("react.suspense"),xGe=Symbol.for("react.memo"),SGe=Symbol.for("react.lazy"),vle=Symbol.iterator;function TGe(e){return e===null||typeof e!="object"?null:(e=vle&&e[vle]||e["@@iterator"],typeof e=="function"?e:null)}var Fxe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jxe=Object.assign,Bxe={};function gT(e,t,n){this.props=e,this.context=t,this.refs=Bxe,this.updater=n||Fxe}gT.prototype.isReactComponent={};gT.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gT.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uxe(){}Uxe.prototype=gT.prototype;function hK(e,t,n){this.props=e,this.context=t,this.refs=Bxe,this.updater=n||Fxe}var pK=hK.prototype=new Uxe;pK.constructor=hK;jxe(pK,gT.prototype);pK.isPureReactComponent=!0;var ble=Array.isArray,zxe=Object.prototype.hasOwnProperty,mK={current:null},Vxe={key:!0,ref:!0,__self:!0,__source:!0};function Hxe(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)zxe.call(t,r)&&!Vxe.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:UR,type:e,key:s,ref:o,props:i,_owner:mK.current}}function CGe(e,t){return{$$typeof:UR,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gK(e){return typeof e=="object"&&e!==null&&e.$$typeof===UR}function AGe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _le=/\/+/g;function RB(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AGe(""+e.key):t.toString(36)}function JD(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case UR:case mGe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+RB(o,0):r,ble(i)?(n="",e!=null&&(n=e.replace(_le,"$&/")+"/"),JD(i,t,n,"",function(l){return l})):i!=null&&(gK(i)&&(i=CGe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_le,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ble(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+RB(s,a);o+=JD(s,t,n,u,i)}else if(u=TGe(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+RB(s,a++),o+=JD(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ZP(e,t,n){if(e==null)return e;var r=[],i=0;return JD(e,r,"","",function(s){return t.call(n,s,i++)}),r}function IGe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lu={current:null},ZD={transition:null},kGe={ReactCurrentDispatcher:Lu,ReactCurrentBatchConfig:ZD,ReactCurrentOwner:mK};function qxe(){throw Error("act(...) is not supported in production builds of React.")}rr.Children={map:ZP,forEach:function(e,t,n){ZP(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ZP(e,function(){t++}),t},toArray:function(e){return ZP(e,function(t){return t})||[]},only:function(e){if(!gK(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rr.Component=gT;rr.Fragment=gGe;rr.Profiler=vGe;rr.PureComponent=hK;rr.StrictMode=yGe;rr.Suspense=EGe;rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kGe;rr.act=qxe;rr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jxe({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mK.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)zxe.call(t,u)&&!Vxe.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:UR,type:e.type,key:i,ref:s,props:r,_owner:o}};rr.createContext=function(e){return e={$$typeof:_Ge,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bGe,_context:e},e.Consumer=e};rr.createElement=Hxe;rr.createFactory=function(e){var t=Hxe.bind(null,e);return t.type=e,t};rr.createRef=function(){return{current:null}};rr.forwardRef=function(e){return{$$typeof:wGe,render:e}};rr.isValidElement=gK;rr.lazy=function(e){return{$$typeof:SGe,_payload:{_status:-1,_result:e},_init:IGe}};rr.memo=function(e,t){return{$$typeof:xGe,type:e,compare:t===void 0?null:t}};rr.startTransition=function(e){var t=ZD.transition;ZD.transition={};try{e()}finally{ZD.transition=t}};rr.unstable_act=qxe;rr.useCallback=function(e,t){return Lu.current.useCallback(e,t)};rr.useContext=function(e){return Lu.current.useContext(e)};rr.useDebugValue=function(){};rr.useDeferredValue=function(e){return Lu.current.useDeferredValue(e)};rr.useEffect=function(e,t){return Lu.current.useEffect(e,t)};rr.useId=function(){return Lu.current.useId()};rr.useImperativeHandle=function(e,t,n){return Lu.current.useImperativeHandle(e,t,n)};rr.useInsertionEffect=function(e,t){return Lu.current.useInsertionEffect(e,t)};rr.useLayoutEffect=function(e,t){return Lu.current.useLayoutEffect(e,t)};rr.useMemo=function(e,t){return Lu.current.useMemo(e,t)};rr.useReducer=function(e,t,n){return Lu.current.useReducer(e,t,n)};rr.useRef=function(e){return Lu.current.useRef(e)};rr.useState=function(e){return Lu.current.useState(e)};rr.useSyncExternalStore=function(e,t,n){return Lu.current.useSyncExternalStore(e,t,n)};rr.useTransition=function(){return Lu.current.useTransition()};rr.version="18.3.1";Lxe.exports=rr;var A=Lxe.exports;const de=On(A),YI=hGe({__proto__:null,default:de},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RGe=A,NGe=Symbol.for("react.element"),PGe=Symbol.for("react.fragment"),OGe=Object.prototype.hasOwnProperty,DGe=RGe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$Ge={key:!0,ref:!0,__self:!0,__source:!0};function Wxe(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OGe.call(t,r)&&!$Ge.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NGe,type:e,key:s,ref:o,props:i,_owner:DGe.current}}b4.Fragment=PGe;b4.jsx=Wxe;b4.jsxs=Wxe;Mxe.exports=b4;var _=Mxe.exports,Zz={},Gxe={exports:{}},Dc={},Yxe={exports:{}},Kxe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var O=z.length;z.push(H);e:for(;0<O;){var U=O-1>>>1,q=z[U];if(0<i(q,H))z[U]=H,z[O]=q,O=U;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],O=z.pop();if(O!==H){z[0]=O;e:for(var U=0,q=z.length,F=q>>>1;U<F;){var V=2*(U+1)-1,G=z[V],Z=V+1,ae=z[Z];if(0>i(G,O))Z<q&&0>i(ae,G)?(z[U]=ae,z[Z]=O,U=Z):(z[U]=G,z[V]=O,U=V);else if(Z<q&&0>i(ae,O))z[U]=ae,z[Z]=O,U=Z;else break e}}return H}function i(z,H){var O=z.sortIndex-H.sortIndex;return O!==0?O:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var H=n(l);H!==null;){if(H.callback===null)r(l);else if(H.startTime<=z)r(l),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(l)}}function w(z){if(m=!1,b(z),!p)if(n(u)!==null)p=!0,M(E);else{var H=n(l);H!==null&&B(w,H.startTime-z)}}function E(z,H){p=!1,m&&(m=!1,y(C),C=-1),h=!0;var O=d;try{for(b(H),f=n(u);f!==null&&(!(f.expirationTime>H)||z&&!R());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var q=U(f.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),b(H)}else r(u);f=n(u)}if(f!==null)var F=!0;else{var V=n(l);V!==null&&B(w,V.startTime-H),F=!1}return F}finally{f=null,d=O,h=!1}}var x=!1,S=null,C=-1,I=5,k=-1;function R(){return!(e.unstable_now()-k<I)}function D(){if(S!==null){var z=e.unstable_now();k=z;var H=!0;try{H=S(!0,z)}finally{H?P():(x=!1,S=null)}}else x=!1}var P;if(typeof v=="function")P=function(){v(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=D,P=function(){L.postMessage(null)}}else P=function(){g(D,0)};function M(z){S=z,x||(x=!0,P())}function B(z,H){C=g(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var O=d;d=H;try{return z()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var O=d;d=z;try{return H()}finally{d=O}},e.unstable_scheduleCallback=function(z,H,O){var U=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=O+q,z={id:c++,callback:H,priorityLevel:z,startTime:O,expirationTime:q,sortIndex:-1},O>U?(z.sortIndex=O,t(l,z),n(u)===null&&z===n(l)&&(m?(y(C),C=-1):m=!0,B(w,O-U))):(z.sortIndex=q,t(u,z),p||h||(p=!0,M(E))),z},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(z){var H=d;return function(){var O=d;d=H;try{return z.apply(this,arguments)}finally{d=O}}}})(Kxe);Yxe.exports=Kxe;var MGe=Yxe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LGe=A,_c=MGe;function at(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xxe=new Set,KI={};function j_(e,t){Yx(e,t),Yx(e+"Capture",t)}function Yx(e,t){for(KI[e]=t,e=0;e<t.length;e++)Xxe.add(t[e])}var fg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eV=Object.prototype.hasOwnProperty,FGe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wle={},Ele={};function jGe(e){return eV.call(Ele,e)?!0:eV.call(wle,e)?!1:FGe.test(e)?Ele[e]=!0:(wle[e]=!0,!1)}function BGe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UGe(e,t,n,r){if(t===null||typeof t>"u"||BGe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fu(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ba={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ba[e]=new Fu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ba[t]=new Fu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ba[e]=new Fu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ba[e]=new Fu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ba[e]=new Fu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ba[e]=new Fu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ba[e]=new Fu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ba[e]=new Fu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ba[e]=new Fu(e,5,!1,e.toLowerCase(),null,!1,!1)});var yK=/[\-:]([a-z])/g;function vK(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yK,vK);ba[t]=new Fu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yK,vK);ba[t]=new Fu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yK,vK);ba[t]=new Fu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ba[e]=new Fu(e,1,!1,e.toLowerCase(),null,!1,!1)});ba.xlinkHref=new Fu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ba[e]=new Fu(e,1,!1,e.toLowerCase(),null,!0,!0)});function bK(e,t,n,r){var i=ba.hasOwnProperty(t)?ba[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UGe(t,n,i,r)&&(n=null),r||i===null?jGe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zg=LGe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eO=Symbol.for("react.element"),NE=Symbol.for("react.portal"),PE=Symbol.for("react.fragment"),_K=Symbol.for("react.strict_mode"),tV=Symbol.for("react.profiler"),Qxe=Symbol.for("react.provider"),Jxe=Symbol.for("react.context"),wK=Symbol.for("react.forward_ref"),nV=Symbol.for("react.suspense"),rV=Symbol.for("react.suspense_list"),EK=Symbol.for("react.memo"),P0=Symbol.for("react.lazy"),Zxe=Symbol.for("react.offscreen"),xle=Symbol.iterator;function KC(e){return e===null||typeof e!="object"?null:(e=xle&&e[xle]||e["@@iterator"],typeof e=="function"?e:null)}var as=Object.assign,NB;function Z2(e){if(NB===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);NB=t&&t[1]||""}return`
`+NB+e}var PB=!1;function OB(e,t){if(!e||PB)return"";PB=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{PB=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Z2(e):""}function zGe(e){switch(e.tag){case 5:return Z2(e.type);case 16:return Z2("Lazy");case 13:return Z2("Suspense");case 19:return Z2("SuspenseList");case 0:case 2:case 15:return e=OB(e.type,!1),e;case 11:return e=OB(e.type.render,!1),e;case 1:return e=OB(e.type,!0),e;default:return""}}function iV(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case PE:return"Fragment";case NE:return"Portal";case tV:return"Profiler";case _K:return"StrictMode";case nV:return"Suspense";case rV:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jxe:return(e.displayName||"Context")+".Consumer";case Qxe:return(e._context.displayName||"Context")+".Provider";case wK:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case EK:return t=e.displayName||null,t!==null?t:iV(e.type)||"Memo";case P0:t=e._payload,e=e._init;try{return iV(e(t))}catch{}}return null}function VGe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iV(t);case 8:return t===_K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vy(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eSe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HGe(e){var t=eSe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tO(e){e._valueTracker||(e._valueTracker=HGe(e))}function tSe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eSe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wM(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sV(e,t){var n=t.checked;return as({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sle(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vy(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nSe(e,t){t=t.checked,t!=null&&bK(e,"checked",t,!1)}function oV(e,t){nSe(e,t);var n=Vy(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aV(e,t.type,n):t.hasOwnProperty("defaultValue")&&aV(e,t.type,Vy(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tle(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function aV(e,t,n){(t!=="number"||wM(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var eA=Array.isArray;function ox(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vy(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function uV(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(at(91));return as({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cle(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(at(92));if(eA(n)){if(1<n.length)throw Error(at(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vy(n)}}function rSe(e,t){var n=Vy(t.value),r=Vy(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ale(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iSe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lV(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iSe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nO,sSe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nO=nO||document.createElement("div"),nO.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nO.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function XI(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qGe=["Webkit","ms","Moz","O"];Object.keys(qA).forEach(function(e){qGe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qA[t]=qA[e]})});function oSe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qA.hasOwnProperty(e)&&qA[e]?(""+t).trim():t+"px"}function aSe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oSe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var WGe=as({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cV(e,t){if(t){if(WGe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(at(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(at(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(at(61))}if(t.style!=null&&typeof t.style!="object")throw Error(at(62))}}function fV(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dV=null;function xK(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hV=null,ax=null,ux=null;function Ile(e){if(e=HR(e)){if(typeof hV!="function")throw Error(at(280));var t=e.stateNode;t&&(t=S4(t),hV(e.stateNode,e.type,t))}}function uSe(e){ax?ux?ux.push(e):ux=[e]:ax=e}function lSe(){if(ax){var e=ax,t=ux;if(ux=ax=null,Ile(e),t)for(e=0;e<t.length;e++)Ile(t[e])}}function cSe(e,t){return e(t)}function fSe(){}var DB=!1;function dSe(e,t,n){if(DB)return e(t,n);DB=!0;try{return cSe(e,t,n)}finally{DB=!1,(ax!==null||ux!==null)&&(fSe(),lSe())}}function QI(e,t){var n=e.stateNode;if(n===null)return null;var r=S4(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(at(231,t,typeof n));return n}var pV=!1;if(fg)try{var XC={};Object.defineProperty(XC,"passive",{get:function(){pV=!0}}),window.addEventListener("test",XC,XC),window.removeEventListener("test",XC,XC)}catch{pV=!1}function GGe(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var WA=!1,EM=null,xM=!1,mV=null,YGe={onError:function(e){WA=!0,EM=e}};function KGe(e,t,n,r,i,s,o,a,u){WA=!1,EM=null,GGe.apply(YGe,arguments)}function XGe(e,t,n,r,i,s,o,a,u){if(KGe.apply(this,arguments),WA){if(WA){var l=EM;WA=!1,EM=null}else throw Error(at(198));xM||(xM=!0,mV=l)}}function B_(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hSe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kle(e){if(B_(e)!==e)throw Error(at(188))}function QGe(e){var t=e.alternate;if(!t){if(t=B_(e),t===null)throw Error(at(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kle(i),e;if(s===r)return kle(i),t;s=s.sibling}throw Error(at(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(at(189))}}if(n.alternate!==r)throw Error(at(190))}if(n.tag!==3)throw Error(at(188));return n.stateNode.current===n?e:t}function pSe(e){return e=QGe(e),e!==null?mSe(e):null}function mSe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mSe(e);if(t!==null)return t;e=e.sibling}return null}var gSe=_c.unstable_scheduleCallback,Rle=_c.unstable_cancelCallback,JGe=_c.unstable_shouldYield,ZGe=_c.unstable_requestPaint,Ns=_c.unstable_now,eYe=_c.unstable_getCurrentPriorityLevel,SK=_c.unstable_ImmediatePriority,ySe=_c.unstable_UserBlockingPriority,SM=_c.unstable_NormalPriority,tYe=_c.unstable_LowPriority,vSe=_c.unstable_IdlePriority,_4=null,ep=null;function nYe(e){if(ep&&typeof ep.onCommitFiberRoot=="function")try{ep.onCommitFiberRoot(_4,e,void 0,(e.current.flags&128)===128)}catch{}}var Ad=Math.clz32?Math.clz32:sYe,rYe=Math.log,iYe=Math.LN2;function sYe(e){return e>>>=0,e===0?32:31-(rYe(e)/iYe|0)|0}var rO=64,iO=4194304;function tA(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function TM(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=tA(a):(s&=o,s!==0&&(r=tA(s)))}else o=n&~i,o!==0?r=tA(o):s!==0&&(r=tA(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ad(t),i=1<<n,r|=e[n],t&=~i;return r}function oYe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aYe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ad(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=oYe(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function gV(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bSe(){var e=rO;return rO<<=1,!(rO&4194240)&&(rO=64),e}function $B(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zR(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ad(t),e[t]=n}function uYe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ad(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function TK(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ad(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ni=0;function _Se(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wSe,CK,ESe,xSe,SSe,yV=!1,sO=[],my=null,gy=null,yy=null,JI=new Map,ZI=new Map,z0=[],lYe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nle(e,t){switch(e){case"focusin":case"focusout":my=null;break;case"dragenter":case"dragleave":gy=null;break;case"mouseover":case"mouseout":yy=null;break;case"pointerover":case"pointerout":JI.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ZI.delete(t.pointerId)}}function QC(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=HR(t),t!==null&&CK(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cYe(e,t,n,r,i){switch(t){case"focusin":return my=QC(my,e,t,n,r,i),!0;case"dragenter":return gy=QC(gy,e,t,n,r,i),!0;case"mouseover":return yy=QC(yy,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return JI.set(s,QC(JI.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ZI.set(s,QC(ZI.get(s)||null,e,t,n,r,i)),!0}return!1}function TSe(e){var t=ab(e.target);if(t!==null){var n=B_(t);if(n!==null){if(t=n.tag,t===13){if(t=hSe(n),t!==null){e.blockedOn=t,SSe(e.priority,function(){ESe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e$(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vV(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dV=r,n.target.dispatchEvent(r),dV=null}else return t=HR(n),t!==null&&CK(t),e.blockedOn=n,!1;t.shift()}return!0}function Ple(e,t,n){e$(e)&&n.delete(t)}function fYe(){yV=!1,my!==null&&e$(my)&&(my=null),gy!==null&&e$(gy)&&(gy=null),yy!==null&&e$(yy)&&(yy=null),JI.forEach(Ple),ZI.forEach(Ple)}function JC(e,t){e.blockedOn===t&&(e.blockedOn=null,yV||(yV=!0,_c.unstable_scheduleCallback(_c.unstable_NormalPriority,fYe)))}function ek(e){function t(i){return JC(i,e)}if(0<sO.length){JC(sO[0],e);for(var n=1;n<sO.length;n++){var r=sO[n];r.blockedOn===e&&(r.blockedOn=null)}}for(my!==null&&JC(my,e),gy!==null&&JC(gy,e),yy!==null&&JC(yy,e),JI.forEach(t),ZI.forEach(t),n=0;n<z0.length;n++)r=z0[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<z0.length&&(n=z0[0],n.blockedOn===null);)TSe(n),n.blockedOn===null&&z0.shift()}var lx=zg.ReactCurrentBatchConfig,CM=!0;function dYe(e,t,n,r){var i=ni,s=lx.transition;lx.transition=null;try{ni=1,AK(e,t,n,r)}finally{ni=i,lx.transition=s}}function hYe(e,t,n,r){var i=ni,s=lx.transition;lx.transition=null;try{ni=4,AK(e,t,n,r)}finally{ni=i,lx.transition=s}}function AK(e,t,n,r){if(CM){var i=vV(e,t,n,r);if(i===null)qB(e,t,r,AM,n),Nle(e,r);else if(cYe(i,e,t,n,r))r.stopPropagation();else if(Nle(e,r),t&4&&-1<lYe.indexOf(e)){for(;i!==null;){var s=HR(i);if(s!==null&&wSe(s),s=vV(e,t,n,r),s===null&&qB(e,t,r,AM,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qB(e,t,r,null,n)}}var AM=null;function vV(e,t,n,r){if(AM=null,e=xK(r),e=ab(e),e!==null)if(t=B_(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hSe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return AM=e,null}function CSe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eYe()){case SK:return 1;case ySe:return 4;case SM:case tYe:return 16;case vSe:return 536870912;default:return 16}default:return 16}}var J0=null,IK=null,t$=null;function ASe(){if(t$)return t$;var e,t=IK,n=t.length,r,i="value"in J0?J0.value:J0.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return t$=i.slice(e,1<r?1-r:void 0)}function n$(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oO(){return!0}function Ole(){return!1}function $c(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oO:Ole,this.isPropagationStopped=Ole,this}return as(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oO)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oO)},persist:function(){},isPersistent:oO}),t}var yT={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kK=$c(yT),VR=as({},yT,{view:0,detail:0}),pYe=$c(VR),MB,LB,ZC,w4=as({},VR,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RK,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ZC&&(ZC&&e.type==="mousemove"?(MB=e.screenX-ZC.screenX,LB=e.screenY-ZC.screenY):LB=MB=0,ZC=e),MB)},movementY:function(e){return"movementY"in e?e.movementY:LB}}),Dle=$c(w4),mYe=as({},w4,{dataTransfer:0}),gYe=$c(mYe),yYe=as({},VR,{relatedTarget:0}),FB=$c(yYe),vYe=as({},yT,{animationName:0,elapsedTime:0,pseudoElement:0}),bYe=$c(vYe),_Ye=as({},yT,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wYe=$c(_Ye),EYe=as({},yT,{data:0}),$le=$c(EYe),xYe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SYe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TYe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CYe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TYe[e])?!!t[e]:!1}function RK(){return CYe}var AYe=as({},VR,{key:function(e){if(e.key){var t=xYe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=n$(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SYe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RK,charCode:function(e){return e.type==="keypress"?n$(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n$(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IYe=$c(AYe),kYe=as({},w4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mle=$c(kYe),RYe=as({},VR,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RK}),NYe=$c(RYe),PYe=as({},yT,{propertyName:0,elapsedTime:0,pseudoElement:0}),OYe=$c(PYe),DYe=as({},w4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$Ye=$c(DYe),MYe=[9,13,27,32],NK=fg&&"CompositionEvent"in window,GA=null;fg&&"documentMode"in document&&(GA=document.documentMode);var LYe=fg&&"TextEvent"in window&&!GA,ISe=fg&&(!NK||GA&&8<GA&&11>=GA),Lle=" ",Fle=!1;function kSe(e,t){switch(e){case"keyup":return MYe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RSe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var OE=!1;function FYe(e,t){switch(e){case"compositionend":return RSe(t);case"keypress":return t.which!==32?null:(Fle=!0,Lle);case"textInput":return e=t.data,e===Lle&&Fle?null:e;default:return null}}function jYe(e,t){if(OE)return e==="compositionend"||!NK&&kSe(e,t)?(e=ASe(),t$=IK=J0=null,OE=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ISe&&t.locale!=="ko"?null:t.data;default:return null}}var BYe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jle(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BYe[e.type]:t==="textarea"}function NSe(e,t,n,r){uSe(r),t=IM(t,"onChange"),0<t.length&&(n=new kK("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var YA=null,tk=null;function UYe(e){zSe(e,0)}function E4(e){var t=ME(e);if(tSe(t))return e}function zYe(e,t){if(e==="change")return t}var PSe=!1;if(fg){var jB;if(fg){var BB="oninput"in document;if(!BB){var Ble=document.createElement("div");Ble.setAttribute("oninput","return;"),BB=typeof Ble.oninput=="function"}jB=BB}else jB=!1;PSe=jB&&(!document.documentMode||9<document.documentMode)}function Ule(){YA&&(YA.detachEvent("onpropertychange",OSe),tk=YA=null)}function OSe(e){if(e.propertyName==="value"&&E4(tk)){var t=[];NSe(t,tk,e,xK(e)),dSe(UYe,t)}}function VYe(e,t,n){e==="focusin"?(Ule(),YA=t,tk=n,YA.attachEvent("onpropertychange",OSe)):e==="focusout"&&Ule()}function HYe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E4(tk)}function qYe(e,t){if(e==="click")return E4(t)}function WYe(e,t){if(e==="input"||e==="change")return E4(t)}function GYe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Md=typeof Object.is=="function"?Object.is:GYe;function nk(e,t){if(Md(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eV.call(t,i)||!Md(e[i],t[i]))return!1}return!0}function zle(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vle(e,t){var n=zle(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zle(n)}}function DSe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DSe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $Se(){for(var e=window,t=wM();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wM(e.document)}return t}function PK(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YYe(e){var t=$Se(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&DSe(n.ownerDocument.documentElement,n)){if(r!==null&&PK(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Vle(n,s);var o=Vle(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KYe=fg&&"documentMode"in document&&11>=document.documentMode,DE=null,bV=null,KA=null,_V=!1;function Hle(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_V||DE==null||DE!==wM(r)||(r=DE,"selectionStart"in r&&PK(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),KA&&nk(KA,r)||(KA=r,r=IM(bV,"onSelect"),0<r.length&&(t=new kK("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=DE)))}function aO(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $E={animationend:aO("Animation","AnimationEnd"),animationiteration:aO("Animation","AnimationIteration"),animationstart:aO("Animation","AnimationStart"),transitionend:aO("Transition","TransitionEnd")},UB={},MSe={};fg&&(MSe=document.createElement("div").style,"AnimationEvent"in window||(delete $E.animationend.animation,delete $E.animationiteration.animation,delete $E.animationstart.animation),"TransitionEvent"in window||delete $E.transitionend.transition);function x4(e){if(UB[e])return UB[e];if(!$E[e])return e;var t=$E[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in MSe)return UB[e]=t[n];return e}var LSe=x4("animationend"),FSe=x4("animationiteration"),jSe=x4("animationstart"),BSe=x4("transitionend"),USe=new Map,qle="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rv(e,t){USe.set(e,t),j_(t,[e])}for(var zB=0;zB<qle.length;zB++){var VB=qle[zB],XYe=VB.toLowerCase(),QYe=VB[0].toUpperCase()+VB.slice(1);Rv(XYe,"on"+QYe)}Rv(LSe,"onAnimationEnd");Rv(FSe,"onAnimationIteration");Rv(jSe,"onAnimationStart");Rv("dblclick","onDoubleClick");Rv("focusin","onFocus");Rv("focusout","onBlur");Rv(BSe,"onTransitionEnd");Yx("onMouseEnter",["mouseout","mouseover"]);Yx("onMouseLeave",["mouseout","mouseover"]);Yx("onPointerEnter",["pointerout","pointerover"]);Yx("onPointerLeave",["pointerout","pointerover"]);j_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));j_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));j_("onBeforeInput",["compositionend","keypress","textInput","paste"]);j_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));j_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));j_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JYe=new Set("cancel close invalid load scroll toggle".split(" ").concat(nA));function Wle(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XGe(r,t,void 0,e),e.currentTarget=null}function zSe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Wle(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Wle(i,a,l),s=u}}}if(xM)throw e=mV,xM=!1,mV=null,e}function Ni(e,t){var n=t[TV];n===void 0&&(n=t[TV]=new Set);var r=e+"__bubble";n.has(r)||(VSe(t,e,2,!1),n.add(r))}function HB(e,t,n){var r=0;t&&(r|=4),VSe(n,e,r,t)}var uO="_reactListening"+Math.random().toString(36).slice(2);function rk(e){if(!e[uO]){e[uO]=!0,Xxe.forEach(function(n){n!=="selectionchange"&&(JYe.has(n)||HB(n,!1,e),HB(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uO]||(t[uO]=!0,HB("selectionchange",!1,t))}}function VSe(e,t,n,r){switch(CSe(t)){case 1:var i=dYe;break;case 4:i=hYe;break;default:i=AK}n=i.bind(null,t,n,e),i=void 0,!pV||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qB(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ab(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dSe(function(){var l=s,c=xK(n),f=[];e:{var d=USe.get(e);if(d!==void 0){var h=kK,p=e;switch(e){case"keypress":if(n$(n)===0)break e;case"keydown":case"keyup":h=IYe;break;case"focusin":p="focus",h=FB;break;case"focusout":p="blur",h=FB;break;case"beforeblur":case"afterblur":h=FB;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dle;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=gYe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NYe;break;case LSe:case FSe:case jSe:h=bYe;break;case BSe:h=OYe;break;case"scroll":h=pYe;break;case"wheel":h=$Ye;break;case"copy":case"cut":case"paste":h=wYe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Mle}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=QI(v,y),w!=null&&m.push(ik(v,w,b)))),g)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==dV&&(p=n.relatedTarget||n.fromElement)&&(ab(p)||p[dg]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?ab(p):null,p!==null&&(g=B_(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=Dle,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Mle,w="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?d:ME(h),b=p==null?d:ME(p),d=new m(w,v+"leave",h,n,c),d.target=g,d.relatedTarget=b,w=null,ab(c)===l&&(m=new m(y,v+"enter",p,n,c),m.target=b,m.relatedTarget=g,w=m),g=w,h&&p)t:{for(m=h,y=p,v=0,b=m;b;b=Mw(b))v++;for(b=0,w=y;w;w=Mw(w))b++;for(;0<v-b;)m=Mw(m),v--;for(;0<b-v;)y=Mw(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Mw(m),y=Mw(y)}m=null}else m=null;h!==null&&Gle(f,d,h,m,!1),p!==null&&g!==null&&Gle(f,g,p,m,!0)}}e:{if(d=l?ME(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=zYe;else if(jle(d))if(PSe)E=WYe;else{E=HYe;var x=VYe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=qYe);if(E&&(E=E(e,l))){NSe(f,E,n,c);break e}x&&x(e,d,l),e==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&aV(d,"number",d.value)}switch(x=l?ME(l):window,e){case"focusin":(jle(x)||x.contentEditable==="true")&&(DE=x,bV=l,KA=null);break;case"focusout":KA=bV=DE=null;break;case"mousedown":_V=!0;break;case"contextmenu":case"mouseup":case"dragend":_V=!1,Hle(f,n,c);break;case"selectionchange":if(KYe)break;case"keydown":case"keyup":Hle(f,n,c)}var S;if(NK)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else OE?kSe(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ISe&&n.locale!=="ko"&&(OE||C!=="onCompositionStart"?C==="onCompositionEnd"&&OE&&(S=ASe()):(J0=c,IK="value"in J0?J0.value:J0.textContent,OE=!0)),x=IM(l,C),0<x.length&&(C=new $le(C,e,null,n,c),f.push({event:C,listeners:x}),S?C.data=S:(S=RSe(n),S!==null&&(C.data=S)))),(S=LYe?FYe(e,n):jYe(e,n))&&(l=IM(l,"onBeforeInput"),0<l.length&&(c=new $le("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}zSe(f,t)})}function ik(e,t,n){return{instance:e,listener:t,currentTarget:n}}function IM(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=QI(e,n),s!=null&&r.unshift(ik(e,s,i)),s=QI(e,t),s!=null&&r.push(ik(e,s,i))),e=e.return}return r}function Mw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gle(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=QI(n,s),u!=null&&o.unshift(ik(n,u,a))):i||(u=QI(n,s),u!=null&&o.push(ik(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ZYe=/\r\n?/g,eKe=/\u0000|\uFFFD/g;function Yle(e){return(typeof e=="string"?e:""+e).replace(ZYe,`
`).replace(eKe,"")}function lO(e,t,n){if(t=Yle(t),Yle(e)!==t&&n)throw Error(at(425))}function kM(){}var wV=null,EV=null;function xV(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var SV=typeof setTimeout=="function"?setTimeout:void 0,tKe=typeof clearTimeout=="function"?clearTimeout:void 0,Kle=typeof Promise=="function"?Promise:void 0,nKe=typeof queueMicrotask=="function"?queueMicrotask:typeof Kle<"u"?function(e){return Kle.resolve(null).then(e).catch(rKe)}:SV;function rKe(e){setTimeout(function(){throw e})}function WB(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ek(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ek(t)}function vy(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xle(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vT=Math.random().toString(36).slice(2),kh="__reactFiber$"+vT,sk="__reactProps$"+vT,dg="__reactContainer$"+vT,TV="__reactEvents$"+vT,iKe="__reactListeners$"+vT,sKe="__reactHandles$"+vT;function ab(e){var t=e[kh];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dg]||n[kh]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xle(e);e!==null;){if(n=e[kh])return n;e=Xle(e)}return t}e=n,n=e.parentNode}return null}function HR(e){return e=e[kh]||e[dg],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ME(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(at(33))}function S4(e){return e[sk]||null}var CV=[],LE=-1;function Nv(e){return{current:e}}function Li(e){0>LE||(e.current=CV[LE],CV[LE]=null,LE--)}function Si(e,t){LE++,CV[LE]=e.current,e.current=t}var Hy={},Ja=Nv(Hy),El=Nv(!1),qb=Hy;function Kx(e,t){var n=e.type.contextTypes;if(!n)return Hy;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xl(e){return e=e.childContextTypes,e!=null}function RM(){Li(El),Li(Ja)}function Qle(e,t,n){if(Ja.current!==Hy)throw Error(at(168));Si(Ja,t),Si(El,n)}function HSe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(at(108,VGe(e)||"Unknown",i));return as({},n,r)}function NM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hy,qb=Ja.current,Si(Ja,e),Si(El,El.current),!0}function Jle(e,t,n){var r=e.stateNode;if(!r)throw Error(at(169));n?(e=HSe(e,t,qb),r.__reactInternalMemoizedMergedChildContext=e,Li(El),Li(Ja),Si(Ja,e)):Li(El),Si(El,n)}var Tm=null,T4=!1,GB=!1;function qSe(e){Tm===null?Tm=[e]:Tm.push(e)}function oKe(e){T4=!0,qSe(e)}function Pv(){if(!GB&&Tm!==null){GB=!0;var e=0,t=ni;try{var n=Tm;for(ni=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tm=null,T4=!1}catch(i){throw Tm!==null&&(Tm=Tm.slice(e+1)),gSe(SK,Pv),i}finally{ni=t,GB=!1}}return null}var FE=[],jE=0,PM=null,OM=0,tf=[],nf=0,Wb=null,Lm=1,Fm="";function I1(e,t){FE[jE++]=OM,FE[jE++]=PM,PM=e,OM=t}function WSe(e,t,n){tf[nf++]=Lm,tf[nf++]=Fm,tf[nf++]=Wb,Wb=e;var r=Lm;e=Fm;var i=32-Ad(r)-1;r&=~(1<<i),n+=1;var s=32-Ad(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lm=1<<32-Ad(t)+i|n<<i|r,Fm=s+e}else Lm=1<<s|n<<i|r,Fm=e}function OK(e){e.return!==null&&(I1(e,1),WSe(e,1,0))}function DK(e){for(;e===PM;)PM=FE[--jE],FE[jE]=null,OM=FE[--jE],FE[jE]=null;for(;e===Wb;)Wb=tf[--nf],tf[nf]=null,Fm=tf[--nf],tf[nf]=null,Lm=tf[--nf],tf[nf]=null}var pc=null,oc=null,Ki=!1,cd=null;function GSe(e,t){var n=cf(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zle(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pc=e,oc=vy(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pc=e,oc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wb!==null?{id:Lm,overflow:Fm}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cf(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pc=e,oc=null,!0):!1;default:return!1}}function AV(e){return(e.mode&1)!==0&&(e.flags&128)===0}function IV(e){if(Ki){var t=oc;if(t){var n=t;if(!Zle(e,t)){if(AV(e))throw Error(at(418));t=vy(n.nextSibling);var r=pc;t&&Zle(e,t)?GSe(r,n):(e.flags=e.flags&-4097|2,Ki=!1,pc=e)}}else{if(AV(e))throw Error(at(418));e.flags=e.flags&-4097|2,Ki=!1,pc=e}}}function ece(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pc=e}function cO(e){if(e!==pc)return!1;if(!Ki)return ece(e),Ki=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xV(e.type,e.memoizedProps)),t&&(t=oc)){if(AV(e))throw YSe(),Error(at(418));for(;t;)GSe(e,t),t=vy(t.nextSibling)}if(ece(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(at(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){oc=vy(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}oc=null}}else oc=pc?vy(e.stateNode.nextSibling):null;return!0}function YSe(){for(var e=oc;e;)e=vy(e.nextSibling)}function Xx(){oc=pc=null,Ki=!1}function $K(e){cd===null?cd=[e]:cd.push(e)}var aKe=zg.ReactCurrentBatchConfig;function e2(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(at(309));var r=n.stateNode}if(!r)throw Error(at(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(at(284));if(!n._owner)throw Error(at(290,e))}return e}function fO(e,t){throw e=Object.prototype.toString.call(t),Error(at(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tce(e){var t=e._init;return t(e._payload)}function KSe(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Ey(y,v),y.index=0,y.sibling=null,y}function s(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,w){return v===null||v.tag!==6?(v=e9(b,y.mode,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function u(y,v,b,w){var E=b.type;return E===PE?c(y,v,b.props.children,w,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===P0&&tce(E)===v.type)?(w=i(v,b.props),w.ref=e2(y,v,b),w.return=y,w):(w=l$(b.type,b.key,b.props,null,y.mode,w),w.ref=e2(y,v,b),w.return=y,w)}function l(y,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=t9(b,y.mode,w),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,w,E){return v===null||v.tag!==7?(v=Ib(b,y.mode,w,E),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=e9(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eO:return b=l$(v.type,v.key,v.props,null,y.mode,b),b.ref=e2(y,null,v),b.return=y,b;case NE:return v=t9(v,y.mode,b),v.return=y,v;case P0:var w=v._init;return f(y,w(v._payload),b)}if(eA(v)||KC(v))return v=Ib(v,y.mode,b,null),v.return=y,v;fO(y,v)}return null}function d(y,v,b,w){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(y,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eO:return b.key===E?u(y,v,b,w):null;case NE:return b.key===E?l(y,v,b,w):null;case P0:return E=b._init,d(y,v,E(b._payload),w)}if(eA(b)||KC(b))return E!==null?null:c(y,v,b,w,null);fO(y,b)}return null}function h(y,v,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,a(v,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eO:return y=y.get(w.key===null?b:w.key)||null,u(v,y,w,E);case NE:return y=y.get(w.key===null?b:w.key)||null,l(v,y,w,E);case P0:var x=w._init;return h(y,v,b,x(w._payload),E)}if(eA(w)||KC(w))return y=y.get(b)||null,c(v,y,w,E,null);fO(v,w)}return null}function p(y,v,b,w){for(var E=null,x=null,S=v,C=v=0,I=null;S!==null&&C<b.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var k=d(y,S,b[C],w);if(k===null){S===null&&(S=I);break}e&&S&&k.alternate===null&&t(y,S),v=s(k,v,C),x===null?E=k:x.sibling=k,x=k,S=I}if(C===b.length)return n(y,S),Ki&&I1(y,C),E;if(S===null){for(;C<b.length;C++)S=f(y,b[C],w),S!==null&&(v=s(S,v,C),x===null?E=S:x.sibling=S,x=S);return Ki&&I1(y,C),E}for(S=r(y,S);C<b.length;C++)I=h(S,y,C,b[C],w),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?C:I.key),v=s(I,v,C),x===null?E=I:x.sibling=I,x=I);return e&&S.forEach(function(R){return t(y,R)}),Ki&&I1(y,C),E}function m(y,v,b,w){var E=KC(b);if(typeof E!="function")throw Error(at(150));if(b=E.call(b),b==null)throw Error(at(151));for(var x=E=null,S=v,C=v=0,I=null,k=b.next();S!==null&&!k.done;C++,k=b.next()){S.index>C?(I=S,S=null):I=S.sibling;var R=d(y,S,k.value,w);if(R===null){S===null&&(S=I);break}e&&S&&R.alternate===null&&t(y,S),v=s(R,v,C),x===null?E=R:x.sibling=R,x=R,S=I}if(k.done)return n(y,S),Ki&&I1(y,C),E;if(S===null){for(;!k.done;C++,k=b.next())k=f(y,k.value,w),k!==null&&(v=s(k,v,C),x===null?E=k:x.sibling=k,x=k);return Ki&&I1(y,C),E}for(S=r(y,S);!k.done;C++,k=b.next())k=h(S,y,C,k.value,w),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?C:k.key),v=s(k,v,C),x===null?E=k:x.sibling=k,x=k);return e&&S.forEach(function(D){return t(y,D)}),Ki&&I1(y,C),E}function g(y,v,b,w){if(typeof b=="object"&&b!==null&&b.type===PE&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case eO:e:{for(var E=b.key,x=v;x!==null;){if(x.key===E){if(E=b.type,E===PE){if(x.tag===7){n(y,x.sibling),v=i(x,b.props.children),v.return=y,y=v;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===P0&&tce(E)===x.type){n(y,x.sibling),v=i(x,b.props),v.ref=e2(y,x,b),v.return=y,y=v;break e}n(y,x);break}else t(y,x);x=x.sibling}b.type===PE?(v=Ib(b.props.children,y.mode,w,b.key),v.return=y,y=v):(w=l$(b.type,b.key,b.props,null,y.mode,w),w.ref=e2(y,v,b),w.return=y,y=w)}return o(y);case NE:e:{for(x=b.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=t9(b,y.mode,w),v.return=y,y=v}return o(y);case P0:return x=b._init,g(y,v,x(b._payload),w)}if(eA(b))return p(y,v,b,w);if(KC(b))return m(y,v,b,w);fO(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=e9(b,y.mode,w),v.return=y,y=v),o(y)):n(y,v)}return g}var Qx=KSe(!0),XSe=KSe(!1),DM=Nv(null),$M=null,BE=null,MK=null;function LK(){MK=BE=$M=null}function FK(e){var t=DM.current;Li(DM),e._currentValue=t}function kV(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cx(e,t){$M=e,MK=BE=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ml=!0),e.firstContext=null)}function bf(e){var t=e._currentValue;if(MK!==e)if(e={context:e,memoizedValue:t,next:null},BE===null){if($M===null)throw Error(at(308));BE=e,$M.dependencies={lanes:0,firstContext:e}}else BE=BE.next=e;return t}var ub=null;function jK(e){ub===null?ub=[e]:ub.push(e)}function QSe(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jK(t)):(n.next=i.next,i.next=n),t.interleaved=n,hg(e,r)}function hg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var O0=!1;function BK(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JSe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qm(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function by(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ar&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hg(e,n)}return i=r.interleaved,i===null?(t.next=t,jK(r)):(t.next=i.next,i.next=t),r.interleaved=t,hg(e,n)}function r$(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TK(e,n)}}function nce(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function MM(e,t,n,r){var i=e.updateQueue;O0=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=as({},f,d);break e;case 2:O0=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Yb|=o,e.lanes=o,e.memoizedState=f}}function rce(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(at(191,i));i.call(r)}}}var qR={},tp=Nv(qR),ok=Nv(qR),ak=Nv(qR);function lb(e){if(e===qR)throw Error(at(174));return e}function UK(e,t){switch(Si(ak,t),Si(ok,e),Si(tp,qR),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lV(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lV(t,e)}Li(tp),Si(tp,t)}function Jx(){Li(tp),Li(ok),Li(ak)}function ZSe(e){lb(ak.current);var t=lb(tp.current),n=lV(t,e.type);t!==n&&(Si(ok,e),Si(tp,n))}function zK(e){ok.current===e&&(Li(tp),Li(ok))}var is=Nv(0);function LM(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var YB=[];function VK(){for(var e=0;e<YB.length;e++)YB[e]._workInProgressVersionPrimary=null;YB.length=0}var i$=zg.ReactCurrentDispatcher,KB=zg.ReactCurrentBatchConfig,Gb=0,os=null,oo=null,No=null,FM=!1,XA=!1,uk=0,uKe=0;function Aa(){throw Error(at(321))}function HK(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Md(e[n],t[n]))return!1;return!0}function qK(e,t,n,r,i,s){if(Gb=s,os=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i$.current=e===null||e.memoizedState===null?dKe:hKe,e=n(r,i),XA){s=0;do{if(XA=!1,uk=0,25<=s)throw Error(at(301));s+=1,No=oo=null,t.updateQueue=null,i$.current=pKe,e=n(r,i)}while(XA)}if(i$.current=jM,t=oo!==null&&oo.next!==null,Gb=0,No=oo=os=null,FM=!1,t)throw Error(at(300));return e}function WK(){var e=uk!==0;return uk=0,e}function bh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return No===null?os.memoizedState=No=e:No=No.next=e,No}function _f(){if(oo===null){var e=os.alternate;e=e!==null?e.memoizedState:null}else e=oo.next;var t=No===null?os.memoizedState:No.next;if(t!==null)No=t,oo=e;else{if(e===null)throw Error(at(310));oo=e,e={memoizedState:oo.memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null},No===null?os.memoizedState=No=e:No=No.next=e}return No}function lk(e,t){return typeof t=="function"?t(e):t}function XB(e){var t=_f(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=e;var r=oo,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Gb&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,os.lanes|=c,Yb|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Md(r,t.memoizedState)||(ml=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,os.lanes|=s,Yb|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function QB(e){var t=_f(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Md(s,t.memoizedState)||(ml=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function eTe(){}function tTe(e,t){var n=os,r=_f(),i=t(),s=!Md(r.memoizedState,i);if(s&&(r.memoizedState=i,ml=!0),r=r.queue,GK(iTe.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||No!==null&&No.memoizedState.tag&1){if(n.flags|=2048,ck(9,rTe.bind(null,n,r,i,t),void 0,null),Uo===null)throw Error(at(349));Gb&30||nTe(n,t,i)}return i}function nTe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=os.updateQueue,t===null?(t={lastEffect:null,stores:null},os.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rTe(e,t,n,r){t.value=n,t.getSnapshot=r,sTe(t)&&oTe(e)}function iTe(e,t,n){return n(function(){sTe(t)&&oTe(e)})}function sTe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Md(e,n)}catch{return!0}}function oTe(e){var t=hg(e,1);t!==null&&Id(t,e,1,-1)}function ice(e){var t=bh();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lk,lastRenderedState:e},t.queue=e,e=e.dispatch=fKe.bind(null,os,e),[t.memoizedState,e]}function ck(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=os.updateQueue,t===null?(t={lastEffect:null,stores:null},os.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aTe(){return _f().memoizedState}function s$(e,t,n,r){var i=bh();os.flags|=e,i.memoizedState=ck(1|t,n,void 0,r===void 0?null:r)}function C4(e,t,n,r){var i=_f();r=r===void 0?null:r;var s=void 0;if(oo!==null){var o=oo.memoizedState;if(s=o.destroy,r!==null&&HK(r,o.deps)){i.memoizedState=ck(t,n,s,r);return}}os.flags|=e,i.memoizedState=ck(1|t,n,s,r)}function sce(e,t){return s$(8390656,8,e,t)}function GK(e,t){return C4(2048,8,e,t)}function uTe(e,t){return C4(4,2,e,t)}function lTe(e,t){return C4(4,4,e,t)}function cTe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fTe(e,t,n){return n=n!=null?n.concat([e]):null,C4(4,4,cTe.bind(null,t,e),n)}function YK(){}function dTe(e,t){var n=_f();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&HK(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hTe(e,t){var n=_f();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&HK(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pTe(e,t,n){return Gb&21?(Md(n,t)||(n=bSe(),os.lanes|=n,Yb|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ml=!0),e.memoizedState=n)}function lKe(e,t){var n=ni;ni=n!==0&&4>n?n:4,e(!0);var r=KB.transition;KB.transition={};try{e(!1),t()}finally{ni=n,KB.transition=r}}function mTe(){return _f().memoizedState}function cKe(e,t,n){var r=wy(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gTe(e))yTe(t,n);else if(n=QSe(e,t,n,r),n!==null){var i=Tu();Id(n,e,r,i),vTe(n,t,r)}}function fKe(e,t,n){var r=wy(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gTe(e))yTe(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Md(a,o)){var u=t.interleaved;u===null?(i.next=i,jK(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=QSe(e,t,i,r),n!==null&&(i=Tu(),Id(n,e,r,i),vTe(n,t,r))}}function gTe(e){var t=e.alternate;return e===os||t!==null&&t===os}function yTe(e,t){XA=FM=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vTe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TK(e,n)}}var jM={readContext:bf,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useInsertionEffect:Aa,useLayoutEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useMutableSource:Aa,useSyncExternalStore:Aa,useId:Aa,unstable_isNewReconciler:!1},dKe={readContext:bf,useCallback:function(e,t){return bh().memoizedState=[e,t===void 0?null:t],e},useContext:bf,useEffect:sce,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,s$(4194308,4,cTe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return s$(4194308,4,e,t)},useInsertionEffect:function(e,t){return s$(4,2,e,t)},useMemo:function(e,t){var n=bh();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bh();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cKe.bind(null,os,e),[r.memoizedState,e]},useRef:function(e){var t=bh();return e={current:e},t.memoizedState=e},useState:ice,useDebugValue:YK,useDeferredValue:function(e){return bh().memoizedState=e},useTransition:function(){var e=ice(!1),t=e[0];return e=lKe.bind(null,e[1]),bh().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=os,i=bh();if(Ki){if(n===void 0)throw Error(at(407));n=n()}else{if(n=t(),Uo===null)throw Error(at(349));Gb&30||nTe(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,sce(iTe.bind(null,r,s,e),[e]),r.flags|=2048,ck(9,rTe.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bh(),t=Uo.identifierPrefix;if(Ki){var n=Fm,r=Lm;n=(r&~(1<<32-Ad(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uk++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uKe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hKe={readContext:bf,useCallback:dTe,useContext:bf,useEffect:GK,useImperativeHandle:fTe,useInsertionEffect:uTe,useLayoutEffect:lTe,useMemo:hTe,useReducer:XB,useRef:aTe,useState:function(){return XB(lk)},useDebugValue:YK,useDeferredValue:function(e){var t=_f();return pTe(t,oo.memoizedState,e)},useTransition:function(){var e=XB(lk)[0],t=_f().memoizedState;return[e,t]},useMutableSource:eTe,useSyncExternalStore:tTe,useId:mTe,unstable_isNewReconciler:!1},pKe={readContext:bf,useCallback:dTe,useContext:bf,useEffect:GK,useImperativeHandle:fTe,useInsertionEffect:uTe,useLayoutEffect:lTe,useMemo:hTe,useReducer:QB,useRef:aTe,useState:function(){return QB(lk)},useDebugValue:YK,useDeferredValue:function(e){var t=_f();return oo===null?t.memoizedState=e:pTe(t,oo.memoizedState,e)},useTransition:function(){var e=QB(lk)[0],t=_f().memoizedState;return[e,t]},useMutableSource:eTe,useSyncExternalStore:tTe,useId:mTe,unstable_isNewReconciler:!1};function id(e,t){if(e&&e.defaultProps){t=as({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RV(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:as({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var A4={isMounted:function(e){return(e=e._reactInternals)?B_(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=wy(e),s=Qm(r,i);s.payload=t,n!=null&&(s.callback=n),t=by(e,s,i),t!==null&&(Id(t,e,i,r),r$(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=wy(e),s=Qm(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=by(e,s,i),t!==null&&(Id(t,e,i,r),r$(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tu(),r=wy(e),i=Qm(n,r);i.tag=2,t!=null&&(i.callback=t),t=by(e,i,r),t!==null&&(Id(t,e,r,n),r$(t,e,r))}};function oce(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!nk(n,r)||!nk(i,s):!0}function bTe(e,t,n){var r=!1,i=Hy,s=t.contextType;return typeof s=="object"&&s!==null?s=bf(s):(i=xl(t)?qb:Ja.current,r=t.contextTypes,s=(r=r!=null)?Kx(e,i):Hy),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=A4,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ace(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&A4.enqueueReplaceState(t,t.state,null)}function NV(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},BK(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=bf(s):(s=xl(t)?qb:Ja.current,i.context=Kx(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(RV(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&A4.enqueueReplaceState(i,i.state,null),MM(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zx(e,t){try{var n="",r=t;do n+=zGe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function JB(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function PV(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mKe=typeof WeakMap=="function"?WeakMap:Map;function _Te(e,t,n){n=Qm(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){UM||(UM=!0,zV=r),PV(e,t)},n}function wTe(e,t,n){n=Qm(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){PV(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){PV(e,t),typeof r!="function"&&(_y===null?_y=new Set([this]):_y.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function uce(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mKe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kKe.bind(null,e,t,n),t.then(e,e))}function lce(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cce(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qm(-1,1),t.tag=2,by(n,t,1))),n.lanes|=1),e)}var gKe=zg.ReactCurrentOwner,ml=!1;function hu(e,t,n,r){t.child=e===null?XSe(t,null,n,r):Qx(t,e.child,n,r)}function fce(e,t,n,r,i){n=n.render;var s=t.ref;return cx(t,i),r=qK(e,t,n,r,s,i),n=WK(),e!==null&&!ml?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pg(e,t,i)):(Ki&&n&&OK(t),t.flags|=1,hu(e,t,r,i),t.child)}function dce(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!nX(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ETe(e,t,s,r,i)):(e=l$(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nk,n(o,r)&&e.ref===t.ref)return pg(e,t,i)}return t.flags|=1,e=Ey(s,r),e.ref=t.ref,e.return=t,t.child=e}function ETe(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(nk(s,r)&&e.ref===t.ref)if(ml=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ml=!0);else return t.lanes=e.lanes,pg(e,t,i)}return OV(e,t,n,r,i)}function xTe(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(zE,Jl),Jl|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(zE,Jl),Jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Si(zE,Jl),Jl|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(zE,Jl),Jl|=r;return hu(e,t,i,n),t.child}function STe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function OV(e,t,n,r,i){var s=xl(n)?qb:Ja.current;return s=Kx(t,s),cx(t,i),n=qK(e,t,n,r,s,i),r=WK(),e!==null&&!ml?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pg(e,t,i)):(Ki&&r&&OK(t),t.flags|=1,hu(e,t,n,i),t.child)}function hce(e,t,n,r,i){if(xl(n)){var s=!0;NM(t)}else s=!1;if(cx(t,i),t.stateNode===null)o$(e,t),bTe(t,n,r),NV(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=bf(l):(l=xl(n)?qb:Ja.current,l=Kx(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&ace(t,o,r,l),O0=!1;var d=t.memoizedState;o.state=d,MM(t,r,o,i),u=t.memoizedState,a!==r||d!==u||El.current||O0?(typeof c=="function"&&(RV(t,n,c,r),u=t.memoizedState),(a=O0||oce(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,JSe(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:id(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=bf(u):(u=xl(n)?qb:Ja.current,u=Kx(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&ace(t,o,r,u),O0=!1,d=t.memoizedState,o.state=d,MM(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||El.current||O0?(typeof h=="function"&&(RV(t,n,h,r),p=t.memoizedState),(l=O0||oce(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return DV(e,t,n,r,s,i)}function DV(e,t,n,r,i,s){STe(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Jle(t,n,!1),pg(e,t,s);r=t.stateNode,gKe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qx(t,e.child,null,s),t.child=Qx(t,null,a,s)):hu(e,t,a,s),t.memoizedState=r.state,i&&Jle(t,n,!0),t.child}function TTe(e){var t=e.stateNode;t.pendingContext?Qle(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qle(e,t.context,!1),UK(e,t.containerInfo)}function pce(e,t,n,r,i){return Xx(),$K(i),t.flags|=256,hu(e,t,n,r),t.child}var $V={dehydrated:null,treeContext:null,retryLane:0};function MV(e){return{baseLanes:e,cachePool:null,transitions:null}}function CTe(e,t,n){var r=t.pendingProps,i=is.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Si(is,i&1),e===null)return IV(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=R4(o,r,0,null),e=Ib(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=MV(n),t.memoizedState=$V,e):KK(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yKe(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ey(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ey(a,s):(s=Ib(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?MV(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=$V,r}return s=e.child,e=s.sibling,r=Ey(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function KK(e,t){return t=R4({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dO(e,t,n,r){return r!==null&&$K(r),Qx(t,e.child,null,n),e=KK(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yKe(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=JB(Error(at(422))),dO(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=R4({mode:"visible",children:r.children},i,0,null),s=Ib(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qx(t,e.child,null,o),t.child.memoizedState=MV(o),t.memoizedState=$V,s);if(!(t.mode&1))return dO(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(at(419)),r=JB(s,r,void 0),dO(e,t,o,r)}if(a=(o&e.childLanes)!==0,ml||a){if(r=Uo,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hg(e,i),Id(r,e,i,-1))}return tX(),r=JB(Error(at(421))),dO(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=RKe.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,oc=vy(i.nextSibling),pc=t,Ki=!0,cd=null,e!==null&&(tf[nf++]=Lm,tf[nf++]=Fm,tf[nf++]=Wb,Lm=e.id,Fm=e.overflow,Wb=t),t=KK(t,r.children),t.flags|=4096,t)}function mce(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kV(e.return,t,n)}function ZB(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ATe(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(hu(e,t,r.children,n),r=is.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mce(e,n,t);else if(e.tag===19)mce(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(is,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&LM(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ZB(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&LM(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ZB(t,!0,n,null,s);break;case"together":ZB(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function o$(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pg(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yb|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(at(153));if(t.child!==null){for(e=t.child,n=Ey(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ey(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vKe(e,t,n){switch(t.tag){case 3:TTe(t),Xx();break;case 5:ZSe(t);break;case 1:xl(t.type)&&NM(t);break;case 4:UK(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(DM,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Si(is,is.current&1),t.flags|=128,null):n&t.child.childLanes?CTe(e,t,n):(Si(is,is.current&1),e=pg(e,t,n),e!==null?e.sibling:null);Si(is,is.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ATe(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(is,is.current),r)break;return null;case 22:case 23:return t.lanes=0,xTe(e,t,n)}return pg(e,t,n)}var ITe,LV,kTe,RTe;ITe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};LV=function(){};kTe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lb(tp.current);var s=null;switch(n){case"input":i=sV(e,i),r=sV(e,r),s=[];break;case"select":i=as({},i,{value:void 0}),r=as({},r,{value:void 0}),s=[];break;case"textarea":i=uV(e,i),r=uV(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kM)}cV(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(KI.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(KI.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ni("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};RTe=function(e,t,n,r){n!==r&&(t.flags|=4)};function t2(e,t){if(!Ki)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ia(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bKe(e,t,n){var r=t.pendingProps;switch(DK(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(t),null;case 1:return xl(t.type)&&RM(),Ia(t),null;case 3:return r=t.stateNode,Jx(),Li(El),Li(Ja),VK(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cO(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cd!==null&&(qV(cd),cd=null))),LV(e,t),Ia(t),null;case 5:zK(t);var i=lb(ak.current);if(n=t.type,e!==null&&t.stateNode!=null)kTe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(at(166));return Ia(t),null}if(e=lb(tp.current),cO(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kh]=t,r[sk]=s,e=(t.mode&1)!==0,n){case"dialog":Ni("cancel",r),Ni("close",r);break;case"iframe":case"object":case"embed":Ni("load",r);break;case"video":case"audio":for(i=0;i<nA.length;i++)Ni(nA[i],r);break;case"source":Ni("error",r);break;case"img":case"image":case"link":Ni("error",r),Ni("load",r);break;case"details":Ni("toggle",r);break;case"input":Sle(r,s),Ni("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ni("invalid",r);break;case"textarea":Cle(r,s),Ni("invalid",r)}cV(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lO(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lO(r.textContent,a,e),i=["children",""+a]):KI.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ni("scroll",r)}switch(n){case"input":tO(r),Tle(r,s,!0);break;case"textarea":tO(r),Ale(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kM)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iSe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kh]=t,e[sk]=r,ITe(e,t,!1,!1),t.stateNode=e;e:{switch(o=fV(n,r),n){case"dialog":Ni("cancel",e),Ni("close",e),i=r;break;case"iframe":case"object":case"embed":Ni("load",e),i=r;break;case"video":case"audio":for(i=0;i<nA.length;i++)Ni(nA[i],e);i=r;break;case"source":Ni("error",e),i=r;break;case"img":case"image":case"link":Ni("error",e),Ni("load",e),i=r;break;case"details":Ni("toggle",e),i=r;break;case"input":Sle(e,r),i=sV(e,r),Ni("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=as({},r,{value:void 0}),Ni("invalid",e);break;case"textarea":Cle(e,r),i=uV(e,r),Ni("invalid",e);break;default:i=r}cV(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?aSe(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sSe(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&XI(e,u):typeof u=="number"&&XI(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(KI.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ni("scroll",e):u!=null&&bK(e,s,u,o))}switch(n){case"input":tO(e),Tle(e,r,!1);break;case"textarea":tO(e),Ale(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vy(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ox(e,!!r.multiple,s,!1):r.defaultValue!=null&&ox(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ia(t),null;case 6:if(e&&t.stateNode!=null)RTe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(at(166));if(n=lb(ak.current),lb(tp.current),cO(t)){if(r=t.stateNode,n=t.memoizedProps,r[kh]=t,(s=r.nodeValue!==n)&&(e=pc,e!==null))switch(e.tag){case 3:lO(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lO(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kh]=t,t.stateNode=r}return Ia(t),null;case 13:if(Li(is),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ki&&oc!==null&&t.mode&1&&!(t.flags&128))YSe(),Xx(),t.flags|=98560,s=!1;else if(s=cO(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(at(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(at(317));s[kh]=t}else Xx(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ia(t),s=!1}else cd!==null&&(qV(cd),cd=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||is.current&1?ho===0&&(ho=3):tX())),t.updateQueue!==null&&(t.flags|=4),Ia(t),null);case 4:return Jx(),LV(e,t),e===null&&rk(t.stateNode.containerInfo),Ia(t),null;case 10:return FK(t.type._context),Ia(t),null;case 17:return xl(t.type)&&RM(),Ia(t),null;case 19:if(Li(is),s=t.memoizedState,s===null)return Ia(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)t2(s,!1);else{if(ho!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=LM(e),o!==null){for(t.flags|=128,t2(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(is,is.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ns()>eS&&(t.flags|=128,r=!0,t2(s,!1),t.lanes=4194304)}else{if(!r)if(e=LM(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t2(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ki)return Ia(t),null}else 2*Ns()-s.renderingStartTime>eS&&n!==1073741824&&(t.flags|=128,r=!0,t2(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ns(),t.sibling=null,n=is.current,Si(is,r?n&1|2:n&1),t):(Ia(t),null);case 22:case 23:return eX(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jl&1073741824&&(Ia(t),t.subtreeFlags&6&&(t.flags|=8192)):Ia(t),null;case 24:return null;case 25:return null}throw Error(at(156,t.tag))}function _Ke(e,t){switch(DK(t),t.tag){case 1:return xl(t.type)&&RM(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jx(),Li(El),Li(Ja),VK(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zK(t),null;case 13:if(Li(is),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(at(340));Xx()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Li(is),null;case 4:return Jx(),null;case 10:return FK(t.type._context),null;case 22:case 23:return eX(),null;case 24:return null;default:return null}}var hO=!1,Ba=!1,wKe=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function UE(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ds(e,t,r)}else n.current=null}function FV(e,t,n){try{n()}catch(r){ds(e,t,r)}}var gce=!1;function EKe(e,t){if(wV=CM,e=$Se(),PK(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(EV={focusedElem:e,selectionRange:n},CM=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:id(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(w){ds(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return p=gce,gce=!1,p}function QA(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&FV(t,n,s)}i=i.next}while(i!==r)}}function I4(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jV(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NTe(e){var t=e.alternate;t!==null&&(e.alternate=null,NTe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kh],delete t[sk],delete t[TV],delete t[iKe],delete t[sKe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PTe(e){return e.tag===5||e.tag===3||e.tag===4}function yce(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PTe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function BV(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kM));else if(r!==4&&(e=e.child,e!==null))for(BV(e,t,n),e=e.sibling;e!==null;)BV(e,t,n),e=e.sibling}function UV(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(UV(e,t,n),e=e.sibling;e!==null;)UV(e,t,n),e=e.sibling}var ia=null,od=!1;function v0(e,t,n){for(n=n.child;n!==null;)OTe(e,t,n),n=n.sibling}function OTe(e,t,n){if(ep&&typeof ep.onCommitFiberUnmount=="function")try{ep.onCommitFiberUnmount(_4,n)}catch{}switch(n.tag){case 5:Ba||UE(n,t);case 6:var r=ia,i=od;ia=null,v0(e,t,n),ia=r,od=i,ia!==null&&(od?(e=ia,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ia.removeChild(n.stateNode));break;case 18:ia!==null&&(od?(e=ia,n=n.stateNode,e.nodeType===8?WB(e.parentNode,n):e.nodeType===1&&WB(e,n),ek(e)):WB(ia,n.stateNode));break;case 4:r=ia,i=od,ia=n.stateNode.containerInfo,od=!0,v0(e,t,n),ia=r,od=i;break;case 0:case 11:case 14:case 15:if(!Ba&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&FV(n,t,o),i=i.next}while(i!==r)}v0(e,t,n);break;case 1:if(!Ba&&(UE(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ds(n,t,a)}v0(e,t,n);break;case 21:v0(e,t,n);break;case 22:n.mode&1?(Ba=(r=Ba)||n.memoizedState!==null,v0(e,t,n),Ba=r):v0(e,t,n);break;default:v0(e,t,n)}}function vce(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wKe),t.forEach(function(r){var i=NKe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yf(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ia=a.stateNode,od=!1;break e;case 3:ia=a.stateNode.containerInfo,od=!0;break e;case 4:ia=a.stateNode.containerInfo,od=!0;break e}a=a.return}if(ia===null)throw Error(at(160));OTe(s,o,i),ia=null,od=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ds(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DTe(t,e),t=t.sibling}function DTe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yf(t,e),ch(e),r&4){try{QA(3,e,e.return),I4(3,e)}catch(m){ds(e,e.return,m)}try{QA(5,e,e.return)}catch(m){ds(e,e.return,m)}}break;case 1:Yf(t,e),ch(e),r&512&&n!==null&&UE(n,n.return);break;case 5:if(Yf(t,e),ch(e),r&512&&n!==null&&UE(n,n.return),e.flags&32){var i=e.stateNode;try{XI(i,"")}catch(m){ds(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nSe(i,s),fV(a,o);var l=fV(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?aSe(i,f):c==="dangerouslySetInnerHTML"?sSe(i,f):c==="children"?XI(i,f):bK(i,c,f,l)}switch(a){case"input":oV(i,s);break;case"textarea":rSe(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ox(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?ox(i,!!s.multiple,s.defaultValue,!0):ox(i,!!s.multiple,s.multiple?[]:"",!1))}i[sk]=s}catch(m){ds(e,e.return,m)}}break;case 6:if(Yf(t,e),ch(e),r&4){if(e.stateNode===null)throw Error(at(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){ds(e,e.return,m)}}break;case 3:if(Yf(t,e),ch(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ek(t.containerInfo)}catch(m){ds(e,e.return,m)}break;case 4:Yf(t,e),ch(e);break;case 13:Yf(t,e),ch(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(JK=Ns())),r&4&&vce(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ba=(l=Ba)||c,Yf(t,e),Ba=l):Yf(t,e),ch(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Mt=e,c=e.child;c!==null;){for(f=Mt=c;Mt!==null;){switch(d=Mt,h=d.child,d.tag){case 0:case 11:case 14:case 15:QA(4,d,d.return);break;case 1:UE(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){ds(r,n,m)}}break;case 5:UE(d,d.return);break;case 22:if(d.memoizedState!==null){_ce(f);continue}}h!==null?(h.return=d,Mt=h):_ce(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=oSe("display",o))}catch(m){ds(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){ds(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yf(t,e),ch(e),r&4&&vce(e);break;case 21:break;default:Yf(t,e),ch(e)}}function ch(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PTe(n)){var r=n;break e}n=n.return}throw Error(at(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(XI(i,""),r.flags&=-33);var s=yce(e);UV(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yce(e);BV(e,a,o);break;default:throw Error(at(161))}}catch(u){ds(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xKe(e,t,n){Mt=e,$Te(e)}function $Te(e,t,n){for(var r=(e.mode&1)!==0;Mt!==null;){var i=Mt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hO;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ba;a=hO;var l=Ba;if(hO=o,(Ba=u)&&!l)for(Mt=i;Mt!==null;)o=Mt,u=o.child,o.tag===22&&o.memoizedState!==null?wce(i):u!==null?(u.return=o,Mt=u):wce(i);for(;s!==null;)Mt=s,$Te(s),s=s.sibling;Mt=i,hO=a,Ba=l}bce(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Mt=s):bce(e)}}function bce(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ba||I4(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ba)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:id(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&rce(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rce(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ek(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Ba||t.flags&512&&jV(t)}catch(d){ds(t,t.return,d)}}if(t===e){Mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function _ce(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function wce(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{I4(4,t)}catch(u){ds(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){ds(t,i,u)}}var s=t.return;try{jV(t)}catch(u){ds(t,s,u)}break;case 5:var o=t.return;try{jV(t)}catch(u){ds(t,o,u)}}}catch(u){ds(t,t.return,u)}if(t===e){Mt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Mt=a;break}Mt=t.return}}var SKe=Math.ceil,BM=zg.ReactCurrentDispatcher,XK=zg.ReactCurrentOwner,mf=zg.ReactCurrentBatchConfig,Ar=0,Uo=null,Qs=null,ha=0,Jl=0,zE=Nv(0),ho=0,fk=null,Yb=0,k4=0,QK=0,JA=null,al=null,JK=0,eS=1/0,_m=null,UM=!1,zV=null,_y=null,pO=!1,Z0=null,zM=0,ZA=0,VV=null,a$=-1,u$=0;function Tu(){return Ar&6?Ns():a$!==-1?a$:a$=Ns()}function wy(e){return e.mode&1?Ar&2&&ha!==0?ha&-ha:aKe.transition!==null?(u$===0&&(u$=bSe()),u$):(e=ni,e!==0||(e=window.event,e=e===void 0?16:CSe(e.type)),e):1}function Id(e,t,n,r){if(50<ZA)throw ZA=0,VV=null,Error(at(185));zR(e,n,r),(!(Ar&2)||e!==Uo)&&(e===Uo&&(!(Ar&2)&&(k4|=n),ho===4&&V0(e,ha)),Sl(e,r),n===1&&Ar===0&&!(t.mode&1)&&(eS=Ns()+500,T4&&Pv()))}function Sl(e,t){var n=e.callbackNode;aYe(e,t);var r=TM(e,e===Uo?ha:0);if(r===0)n!==null&&Rle(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rle(n),t===1)e.tag===0?oKe(Ece.bind(null,e)):qSe(Ece.bind(null,e)),nKe(function(){!(Ar&6)&&Pv()}),n=null;else{switch(_Se(r)){case 1:n=SK;break;case 4:n=ySe;break;case 16:n=SM;break;case 536870912:n=vSe;break;default:n=SM}n=VTe(n,MTe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function MTe(e,t){if(a$=-1,u$=0,Ar&6)throw Error(at(327));var n=e.callbackNode;if(fx()&&e.callbackNode!==n)return null;var r=TM(e,e===Uo?ha:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=VM(e,r);else{t=r;var i=Ar;Ar|=2;var s=FTe();(Uo!==e||ha!==t)&&(_m=null,eS=Ns()+500,Ab(e,t));do try{AKe();break}catch(a){LTe(e,a)}while(!0);LK(),BM.current=s,Ar=i,Qs!==null?t=0:(Uo=null,ha=0,t=ho)}if(t!==0){if(t===2&&(i=gV(e),i!==0&&(r=i,t=HV(e,i))),t===1)throw n=fk,Ab(e,0),V0(e,r),Sl(e,Ns()),n;if(t===6)V0(e,r);else{if(i=e.current.alternate,!(r&30)&&!TKe(i)&&(t=VM(e,r),t===2&&(s=gV(e),s!==0&&(r=s,t=HV(e,s))),t===1))throw n=fk,Ab(e,0),V0(e,r),Sl(e,Ns()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(at(345));case 2:k1(e,al,_m);break;case 3:if(V0(e,r),(r&130023424)===r&&(t=JK+500-Ns(),10<t)){if(TM(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=SV(k1.bind(null,e,al,_m),t);break}k1(e,al,_m);break;case 4:if(V0(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ad(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ns()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SKe(r/1960))-r,10<r){e.timeoutHandle=SV(k1.bind(null,e,al,_m),r);break}k1(e,al,_m);break;case 5:k1(e,al,_m);break;default:throw Error(at(329))}}}return Sl(e,Ns()),e.callbackNode===n?MTe.bind(null,e):null}function HV(e,t){var n=JA;return e.current.memoizedState.isDehydrated&&(Ab(e,t).flags|=256),e=VM(e,t),e!==2&&(t=al,al=n,t!==null&&qV(t)),e}function qV(e){al===null?al=e:al.push.apply(al,e)}function TKe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Md(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function V0(e,t){for(t&=~QK,t&=~k4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ad(t),r=1<<n;e[n]=-1,t&=~r}}function Ece(e){if(Ar&6)throw Error(at(327));fx();var t=TM(e,0);if(!(t&1))return Sl(e,Ns()),null;var n=VM(e,t);if(e.tag!==0&&n===2){var r=gV(e);r!==0&&(t=r,n=HV(e,r))}if(n===1)throw n=fk,Ab(e,0),V0(e,t),Sl(e,Ns()),n;if(n===6)throw Error(at(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,k1(e,al,_m),Sl(e,Ns()),null}function ZK(e,t){var n=Ar;Ar|=1;try{return e(t)}finally{Ar=n,Ar===0&&(eS=Ns()+500,T4&&Pv())}}function Kb(e){Z0!==null&&Z0.tag===0&&!(Ar&6)&&fx();var t=Ar;Ar|=1;var n=mf.transition,r=ni;try{if(mf.transition=null,ni=1,e)return e()}finally{ni=r,mf.transition=n,Ar=t,!(Ar&6)&&Pv()}}function eX(){Jl=zE.current,Li(zE)}function Ab(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tKe(n)),Qs!==null)for(n=Qs.return;n!==null;){var r=n;switch(DK(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&RM();break;case 3:Jx(),Li(El),Li(Ja),VK();break;case 5:zK(r);break;case 4:Jx();break;case 13:Li(is);break;case 19:Li(is);break;case 10:FK(r.type._context);break;case 22:case 23:eX()}n=n.return}if(Uo=e,Qs=e=Ey(e.current,null),ha=Jl=t,ho=0,fk=null,QK=k4=Yb=0,al=JA=null,ub!==null){for(t=0;t<ub.length;t++)if(n=ub[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ub=null}return e}function LTe(e,t){do{var n=Qs;try{if(LK(),i$.current=jM,FM){for(var r=os.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}FM=!1}if(Gb=0,No=oo=os=null,XA=!1,uk=0,XK.current=null,n===null||n.return===null){ho=1,fk=t,Qs=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=ha,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=lce(o);if(h!==null){h.flags&=-257,cce(h,o,a,s,t),h.mode&1&&uce(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){uce(s,l,t),tX();break e}u=Error(at(426))}}else if(Ki&&a.mode&1){var g=lce(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),cce(g,o,a,s,t),$K(Zx(u,a));break e}}s=u=Zx(u,a),ho!==4&&(ho=2),JA===null?JA=[s]:JA.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=_Te(s,u,t);nce(s,y);break e;case 1:a=u;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_y===null||!_y.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=wTe(s,a,t);nce(s,w);break e}}s=s.return}while(s!==null)}BTe(n)}catch(E){t=E,Qs===n&&n!==null&&(Qs=n=n.return);continue}break}while(!0)}function FTe(){var e=BM.current;return BM.current=jM,e===null?jM:e}function tX(){(ho===0||ho===3||ho===2)&&(ho=4),Uo===null||!(Yb&268435455)&&!(k4&268435455)||V0(Uo,ha)}function VM(e,t){var n=Ar;Ar|=2;var r=FTe();(Uo!==e||ha!==t)&&(_m=null,Ab(e,t));do try{CKe();break}catch(i){LTe(e,i)}while(!0);if(LK(),Ar=n,BM.current=r,Qs!==null)throw Error(at(261));return Uo=null,ha=0,ho}function CKe(){for(;Qs!==null;)jTe(Qs)}function AKe(){for(;Qs!==null&&!JGe();)jTe(Qs)}function jTe(e){var t=zTe(e.alternate,e,Jl);e.memoizedProps=e.pendingProps,t===null?BTe(e):Qs=t,XK.current=null}function BTe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_Ke(n,t),n!==null){n.flags&=32767,Qs=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ho=6,Qs=null;return}}else if(n=bKe(n,t,Jl),n!==null){Qs=n;return}if(t=t.sibling,t!==null){Qs=t;return}Qs=t=e}while(t!==null);ho===0&&(ho=5)}function k1(e,t,n){var r=ni,i=mf.transition;try{mf.transition=null,ni=1,IKe(e,t,n,r)}finally{mf.transition=i,ni=r}return null}function IKe(e,t,n,r){do fx();while(Z0!==null);if(Ar&6)throw Error(at(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(at(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(uYe(e,s),e===Uo&&(Qs=Uo=null,ha=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pO||(pO=!0,VTe(SM,function(){return fx(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mf.transition,mf.transition=null;var o=ni;ni=1;var a=Ar;Ar|=4,XK.current=null,EKe(e,n),DTe(n,e),YYe(EV),CM=!!wV,EV=wV=null,e.current=n,xKe(n),ZGe(),Ar=a,ni=o,mf.transition=s}else e.current=n;if(pO&&(pO=!1,Z0=e,zM=i),s=e.pendingLanes,s===0&&(_y=null),nYe(n.stateNode),Sl(e,Ns()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(UM)throw UM=!1,e=zV,zV=null,e;return zM&1&&e.tag!==0&&fx(),s=e.pendingLanes,s&1?e===VV?ZA++:(ZA=0,VV=e):ZA=0,Pv(),null}function fx(){if(Z0!==null){var e=_Se(zM),t=mf.transition,n=ni;try{if(mf.transition=null,ni=16>e?16:e,Z0===null)var r=!1;else{if(e=Z0,Z0=null,zM=0,Ar&6)throw Error(at(331));var i=Ar;for(Ar|=4,Mt=e.current;Mt!==null;){var s=Mt,o=s.child;if(Mt.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Mt=l;Mt!==null;){var c=Mt;switch(c.tag){case 0:case 11:case 15:QA(8,c,s)}var f=c.child;if(f!==null)f.return=c,Mt=f;else for(;Mt!==null;){c=Mt;var d=c.sibling,h=c.return;if(NTe(c),c===l){Mt=null;break}if(d!==null){d.return=h,Mt=d;break}Mt=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Mt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Mt=o;else e:for(;Mt!==null;){if(s=Mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:QA(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Mt=y;break e}Mt=s.return}}var v=e.current;for(Mt=v;Mt!==null;){o=Mt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Mt=b;else e:for(o=v;Mt!==null;){if(a=Mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:I4(9,a)}}catch(E){ds(a,a.return,E)}if(a===o){Mt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Mt=w;break e}Mt=a.return}}if(Ar=i,Pv(),ep&&typeof ep.onPostCommitFiberRoot=="function")try{ep.onPostCommitFiberRoot(_4,e)}catch{}r=!0}return r}finally{ni=n,mf.transition=t}}return!1}function xce(e,t,n){t=Zx(n,t),t=_Te(e,t,1),e=by(e,t,1),t=Tu(),e!==null&&(zR(e,1,t),Sl(e,t))}function ds(e,t,n){if(e.tag===3)xce(e,e,n);else for(;t!==null;){if(t.tag===3){xce(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_y===null||!_y.has(r))){e=Zx(n,e),e=wTe(t,e,1),t=by(t,e,1),e=Tu(),t!==null&&(zR(t,1,e),Sl(t,e));break}}t=t.return}}function kKe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tu(),e.pingedLanes|=e.suspendedLanes&n,Uo===e&&(ha&n)===n&&(ho===4||ho===3&&(ha&130023424)===ha&&500>Ns()-JK?Ab(e,0):QK|=n),Sl(e,t)}function UTe(e,t){t===0&&(e.mode&1?(t=iO,iO<<=1,!(iO&130023424)&&(iO=4194304)):t=1);var n=Tu();e=hg(e,t),e!==null&&(zR(e,t,n),Sl(e,n))}function RKe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UTe(e,n)}function NKe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(at(314))}r!==null&&r.delete(t),UTe(e,n)}var zTe;zTe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||El.current)ml=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ml=!1,vKe(e,t,n);ml=!!(e.flags&131072)}else ml=!1,Ki&&t.flags&1048576&&WSe(t,OM,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;o$(e,t),e=t.pendingProps;var i=Kx(t,Ja.current);cx(t,n),i=qK(null,t,r,e,i,n);var s=WK();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xl(r)?(s=!0,NM(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BK(t),i.updater=A4,t.stateNode=i,i._reactInternals=t,NV(t,r,e,n),t=DV(null,t,r,!0,s,n)):(t.tag=0,Ki&&s&&OK(t),hu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(o$(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=OKe(r),e=id(r,e),i){case 0:t=OV(null,t,r,e,n);break e;case 1:t=hce(null,t,r,e,n);break e;case 11:t=fce(null,t,r,e,n);break e;case 14:t=dce(null,t,r,id(r.type,e),n);break e}throw Error(at(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:id(r,i),OV(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:id(r,i),hce(e,t,r,i,n);case 3:e:{if(TTe(t),e===null)throw Error(at(387));r=t.pendingProps,s=t.memoizedState,i=s.element,JSe(e,t),MM(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zx(Error(at(423)),t),t=pce(e,t,r,n,i);break e}else if(r!==i){i=Zx(Error(at(424)),t),t=pce(e,t,r,n,i);break e}else for(oc=vy(t.stateNode.containerInfo.firstChild),pc=t,Ki=!0,cd=null,n=XSe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xx(),r===i){t=pg(e,t,n);break e}hu(e,t,r,n)}t=t.child}return t;case 5:return ZSe(t),e===null&&IV(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,xV(r,i)?o=null:s!==null&&xV(r,s)&&(t.flags|=32),STe(e,t),hu(e,t,o,n),t.child;case 6:return e===null&&IV(t),null;case 13:return CTe(e,t,n);case 4:return UK(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qx(t,null,r,n):hu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:id(r,i),fce(e,t,r,i,n);case 7:return hu(e,t,t.pendingProps,n),t.child;case 8:return hu(e,t,t.pendingProps.children,n),t.child;case 12:return hu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Si(DM,r._currentValue),r._currentValue=o,s!==null)if(Md(s.value,o)){if(s.children===i.children&&!El.current){t=pg(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Qm(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),kV(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(at(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kV(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cx(t,n),i=bf(i),r=r(i),t.flags|=1,hu(e,t,r,n),t.child;case 14:return r=t.type,i=id(r,t.pendingProps),i=id(r.type,i),dce(e,t,r,i,n);case 15:return ETe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:id(r,i),o$(e,t),t.tag=1,xl(r)?(e=!0,NM(t)):e=!1,cx(t,n),bTe(t,r,i),NV(t,r,i,n),DV(null,t,r,!0,e,n);case 19:return ATe(e,t,n);case 22:return xTe(e,t,n)}throw Error(at(156,t.tag))};function VTe(e,t){return gSe(e,t)}function PKe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cf(e,t,n,r){return new PKe(e,t,n,r)}function nX(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OKe(e){if(typeof e=="function")return nX(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wK)return 11;if(e===EK)return 14}return 2}function Ey(e,t){var n=e.alternate;return n===null?(n=cf(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function l$(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")nX(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case PE:return Ib(n.children,i,s,t);case _K:o=8,i|=8;break;case tV:return e=cf(12,n,t,i|2),e.elementType=tV,e.lanes=s,e;case nV:return e=cf(13,n,t,i),e.elementType=nV,e.lanes=s,e;case rV:return e=cf(19,n,t,i),e.elementType=rV,e.lanes=s,e;case Zxe:return R4(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qxe:o=10;break e;case Jxe:o=9;break e;case wK:o=11;break e;case EK:o=14;break e;case P0:o=16,r=null;break e}throw Error(at(130,e==null?e:typeof e,""))}return t=cf(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ib(e,t,n,r){return e=cf(7,e,r,t),e.lanes=n,e}function R4(e,t,n,r){return e=cf(22,e,r,t),e.elementType=Zxe,e.lanes=n,e.stateNode={isHidden:!1},e}function e9(e,t,n){return e=cf(6,e,null,t),e.lanes=n,e}function t9(e,t,n){return t=cf(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DKe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$B(0),this.expirationTimes=$B(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$B(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rX(e,t,n,r,i,s,o,a,u){return e=new DKe(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=cf(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BK(s),e}function $Ke(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:NE,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HTe(e){if(!e)return Hy;e=e._reactInternals;e:{if(B_(e)!==e||e.tag!==1)throw Error(at(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(at(171))}if(e.tag===1){var n=e.type;if(xl(n))return HSe(e,n,t)}return t}function qTe(e,t,n,r,i,s,o,a,u){return e=rX(n,r,!0,e,i,s,o,a,u),e.context=HTe(null),n=e.current,r=Tu(),i=wy(n),s=Qm(r,i),s.callback=t??null,by(n,s,i),e.current.lanes=i,zR(e,i,r),Sl(e,r),e}function N4(e,t,n,r){var i=t.current,s=Tu(),o=wy(i);return n=HTe(n),t.context===null?t.context=n:t.pendingContext=n,t=Qm(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=by(i,t,o),e!==null&&(Id(e,i,o,s),r$(e,i,o)),o}function HM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sce(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function iX(e,t){Sce(e,t),(e=e.alternate)&&Sce(e,t)}function MKe(){return null}var WTe=typeof reportError=="function"?reportError:function(e){console.error(e)};function sX(e){this._internalRoot=e}P4.prototype.render=sX.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(at(409));N4(e,t,null,null)};P4.prototype.unmount=sX.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kb(function(){N4(null,e,null,null)}),t[dg]=null}};function P4(e){this._internalRoot=e}P4.prototype.unstable_scheduleHydration=function(e){if(e){var t=xSe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<z0.length&&t!==0&&t<z0[n].priority;n++);z0.splice(n,0,e),n===0&&TSe(e)}};function oX(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function O4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tce(){}function LKe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=HM(o);s.call(l)}}var o=qTe(t,r,e,0,null,!1,!1,"",Tce);return e._reactRootContainer=o,e[dg]=o.current,rk(e.nodeType===8?e.parentNode:e),Kb(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=HM(u);a.call(l)}}var u=rX(e,0,!1,null,null,!1,!1,"",Tce);return e._reactRootContainer=u,e[dg]=u.current,rk(e.nodeType===8?e.parentNode:e),Kb(function(){N4(t,u,n,r)}),u}function D4(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=HM(o);a.call(u)}}N4(t,o,e,i)}else o=LKe(n,t,e,i,r);return HM(o)}wSe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tA(t.pendingLanes);n!==0&&(TK(t,n|1),Sl(t,Ns()),!(Ar&6)&&(eS=Ns()+500,Pv()))}break;case 13:Kb(function(){var r=hg(e,1);if(r!==null){var i=Tu();Id(r,e,1,i)}}),iX(e,1)}};CK=function(e){if(e.tag===13){var t=hg(e,134217728);if(t!==null){var n=Tu();Id(t,e,134217728,n)}iX(e,134217728)}};ESe=function(e){if(e.tag===13){var t=wy(e),n=hg(e,t);if(n!==null){var r=Tu();Id(n,e,t,r)}iX(e,t)}};xSe=function(){return ni};SSe=function(e,t){var n=ni;try{return ni=e,t()}finally{ni=n}};hV=function(e,t,n){switch(t){case"input":if(oV(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=S4(r);if(!i)throw Error(at(90));tSe(r),oV(r,i)}}}break;case"textarea":rSe(e,n);break;case"select":t=n.value,t!=null&&ox(e,!!n.multiple,t,!1)}};cSe=ZK;fSe=Kb;var FKe={usingClientEntryPoint:!1,Events:[HR,ME,S4,uSe,lSe,ZK]},n2={findFiberByHostInstance:ab,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jKe={bundleType:n2.bundleType,version:n2.version,rendererPackageName:n2.rendererPackageName,rendererConfig:n2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pSe(e),e===null?null:e.stateNode},findFiberByHostInstance:n2.findFiberByHostInstance||MKe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mO=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mO.isDisabled&&mO.supportsFiber)try{_4=mO.inject(jKe),ep=mO}catch{}}Dc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FKe;Dc.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oX(t))throw Error(at(200));return $Ke(e,t,null,n)};Dc.createRoot=function(e,t){if(!oX(e))throw Error(at(299));var n=!1,r="",i=WTe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rX(e,1,!1,null,null,n,!1,r,i),e[dg]=t.current,rk(e.nodeType===8?e.parentNode:e),new sX(t)};Dc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(at(188)):(e=Object.keys(e).join(","),Error(at(268,e)));return e=pSe(t),e=e===null?null:e.stateNode,e};Dc.flushSync=function(e){return Kb(e)};Dc.hydrate=function(e,t,n){if(!O4(t))throw Error(at(200));return D4(null,e,t,!0,n)};Dc.hydrateRoot=function(e,t,n){if(!oX(e))throw Error(at(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WTe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qTe(t,null,e,1,n??null,i,!1,s,o),e[dg]=t.current,rk(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new P4(t)};Dc.render=function(e,t,n){if(!O4(t))throw Error(at(200));return D4(null,e,t,!1,n)};Dc.unmountComponentAtNode=function(e){if(!O4(e))throw Error(at(40));return e._reactRootContainer?(Kb(function(){D4(null,null,e,!1,function(){e._reactRootContainer=null,e[dg]=null})}),!0):!1};Dc.unstable_batchedUpdates=ZK;Dc.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!O4(n))throw Error(at(200));if(e==null||e._reactInternals===void 0)throw Error(at(38));return D4(e,t,n,!1,r)};Dc.version="18.3.1-next-f1338f8080-20240426";function GTe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GTe)}catch(e){console.error(e)}}GTe(),Gxe.exports=Dc;var U_=Gxe.exports;const VE=On(U_);var Cce=U_;Zz.createRoot=Cce.createRoot,Zz.hydrateRoot=Cce.hydrateRoot;var Rh=function(){return Rh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rh.apply(this,arguments)};function WR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Rm(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function Ace(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function BKe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function pr(e){return this instanceof pr?(this.v=e,this):new pr(e)}function cb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,f)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||u(h,m)})},p&&(i[h]=p(i[h])))}function u(h,p){try{l(r[h](p))}catch(m){d(s[0][3],m)}}function l(h){h.value instanceof pr?Promise.resolve(h.value.v).then(c,f):d(s[0][2],h)}function c(h){u("next",h)}function f(h){u("throw",h)}function d(h,p){h(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function n9(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:pr(e[i](o)),done:!1}:s?s(o):o}:s}}function eI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ace=="function"?Ace(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var c$="right-scroll-bar-position",f$="width-before-scroll-bar",UKe="with-scroll-bars-hidden",zKe="--removed-body-scroll-bar-size";function r9(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VKe(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var HKe=typeof window<"u"?A.useLayoutEffect:A.useEffect,Ice=new WeakMap;function qKe(e,t){var n=VKe(null,function(r){return e.forEach(function(i){return r9(i,r)})});return HKe(function(){var r=Ice.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||r9(a,null)}),s.forEach(function(a){i.has(a)||r9(a,o)})}Ice.set(n,e)},[e]),n}function WKe(e){return e}function GKe(e,t){t===void 0&&(t=WKe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var c=o;o=[],c.forEach(s)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){o.push(c),l()},filter:function(c){return o=o.filter(c),n}}}};return i}function YKe(e){e===void 0&&(e={});var t=GKe(null);return t.options=Rh({async:!0,ssr:!1},e),t}var YTe=function(e){var t=e.sideCar,n=WR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Rh({},n))};YTe.isSideCarExport=!0;function KKe(e,t){return e.useMedium(t),YTe}var KTe=YKe(),i9=function(){},$4=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:i9,onWheelCapture:i9,onTouchMoveCapture:i9}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,b=WR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=d,E=qKe([n,t]),x=Rh(Rh({},b),i);return A.createElement(A.Fragment,null,c&&A.createElement(w,{sideCar:KTe,removeScrollBar:l,shards:f,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?A.cloneElement(A.Children.only(a),Rh(Rh({},x),{ref:E})):A.createElement(y,Rh({},x,{className:u,ref:E}),a))});$4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$4.classNames={fullWidth:f$,zeroRight:c$};var XKe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QKe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XKe();return t&&e.setAttribute("nonce",t),e}function JKe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZKe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eXe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QKe())&&(JKe(t,n),ZKe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tXe=function(){var e=eXe();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},XTe=function(){var e=tXe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},nXe={left:0,top:0,right:0,gap:0},s9=function(e){return parseInt(e||"",10)||0},rXe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[s9(n),s9(r),s9(i)]},iXe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nXe;var t=rXe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sXe=XTe(),dx="data-scroll-locked",oXe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UKe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(dx,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(c$,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(f$,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(c$," .").concat(c$,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(f$," .").concat(f$,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dx,`] {
    `).concat(zKe,": ").concat(a,`px;
  }
`)},kce=function(){var e=parseInt(document.body.getAttribute(dx)||"0",10);return isFinite(e)?e:0},aXe=function(){A.useEffect(function(){return document.body.setAttribute(dx,(kce()+1).toString()),function(){var e=kce()-1;e<=0?document.body.removeAttribute(dx):document.body.setAttribute(dx,e.toString())}},[])},uXe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;aXe();var s=A.useMemo(function(){return iXe(i)},[i]);return A.createElement(sXe,{styles:oXe(s,!t,i,n?"":"!important")})},WV=!1;if(typeof window<"u")try{var gO=Object.defineProperty({},"passive",{get:function(){return WV=!0,!0}});window.addEventListener("test",gO,gO),window.removeEventListener("test",gO,gO)}catch{WV=!1}var Lw=WV?{passive:!1}:!1,lXe=function(e){return e.tagName==="TEXTAREA"},QTe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!lXe(e)&&n[t]==="visible")},cXe=function(e){return QTe(e,"overflowY")},fXe=function(e){return QTe(e,"overflowX")},Rce=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=JTe(e,r);if(i){var s=ZTe(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dXe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},hXe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JTe=function(e,t){return e==="v"?cXe(t):fXe(t)},ZTe=function(e,t){return e==="v"?dXe(t):hXe(t)},pXe=function(e,t){return e==="h"&&t==="rtl"?-1:1},mXe=function(e,t,n,r,i){var s=pXe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,u=t.contains(a),l=!1,c=o>0,f=0,d=0;do{var h=ZTe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&JTe(e,a)&&(f+=y,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(c&&(Math.abs(f)<1||!i)||!c&&(Math.abs(d)<1||!i))&&(l=!0),l},yO=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nce=function(e){return[e.deltaX,e.deltaY]},Pce=function(e){return e&&"current"in e?e.current:e},gXe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yXe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vXe=0,Fw=[];function bXe(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(vXe++)[0],s=A.useState(XTe)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=BKe([e.lockRef.current],(e.shards||[]).map(Pce),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=A.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var y=yO(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-y[0],w="deltaY"in m?m.deltaY:v[1]-y[1],E,x=m.target,S=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&S==="h"&&x.type==="range")return!1;var C=Rce(S,x);if(!C)return!0;if(C?E=S:(E=S==="v"?"h":"v",C=Rce(S,x)),!C)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=E),!E)return!0;var I=r.current||E;return mXe(I,g,m,I==="h"?b:w,!0)},[]),u=A.useCallback(function(m){var g=m;if(!(!Fw.length||Fw[Fw.length-1]!==s)){var y="deltaY"in g?Nce(g):yO(g),v=t.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&gXe(E.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Pce).filter(Boolean).filter(function(E){return E.contains(g.target)}),w=b.length>0?a(g,b[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),l=A.useCallback(function(m,g,y,v){var b={name:m,delta:g,target:y,should:v,shadowParent:_Xe(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),c=A.useCallback(function(m){n.current=yO(m),r.current=void 0},[]),f=A.useCallback(function(m){l(m.type,Nce(m),m.target,a(m,e.lockRef.current))},[]),d=A.useCallback(function(m){l(m.type,yO(m),m.target,a(m,e.lockRef.current))},[]);A.useEffect(function(){return Fw.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",u,Lw),document.addEventListener("touchmove",u,Lw),document.addEventListener("touchstart",c,Lw),function(){Fw=Fw.filter(function(m){return m!==s}),document.removeEventListener("wheel",u,Lw),document.removeEventListener("touchmove",u,Lw),document.removeEventListener("touchstart",c,Lw)}},[]);var h=e.removeScrollBar,p=e.inert;return A.createElement(A.Fragment,null,p?A.createElement(s,{styles:yXe(i)}):null,h?A.createElement(uXe,{gapMode:e.gapMode}):null)}function _Xe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wXe=KKe(KTe,bXe);var M4=A.forwardRef(function(e,t){return A.createElement($4,Rh({},e,{ref:t,sideCar:wXe}))});M4.classNames=$4.classNames;function yi(e){return Object.keys(e)}function o9(e){return e&&typeof e=="object"&&!Array.isArray(e)}function aX(e,t){const n={...e},r=t;return o9(e)&&o9(t)&&Object.keys(t).forEach(i=>{o9(r[i])&&i in e?n[i]=aX(n[i],r[i]):n[i]=r[i]}),n}function EXe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function xXe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function dk(e){const t=xXe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function a9(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function eCe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?a9(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?a9(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?a9(s):s}}return r}return n}const Pe=eCe("rem",{shouldScale:!0}),qM=eCe("em");function Ov(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function tCe(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Dv(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==A.Fragment:!1}function qo(e){const t=A.createContext(null);return[({children:i,value:s})=>_.jsx(t.Provider,{value:s,children:i}),()=>{const i=A.useContext(t);if(i===null)throw new Error(e);return i}]}function bT(e=null){const t=A.createContext(e);return[({children:i,value:s})=>_.jsx(t.Provider,{value:s,children:i}),()=>A.useContext(t)]}function WM(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function GM(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function SXe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function TXe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function CXe(e,t,n){return GM(e,n)===GM(t,n)}function uX({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var p;n==null||n(a);const u=Array.from(((p=GM(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>CXe(a.currentTarget,m,e)),l=u.findIndex(m=>a.currentTarget===m),c=TXe(l,u,r),f=SXe(l,u,r),d=s==="rtl"?f:c,h=s==="rtl"?c:f;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[c].focus(),i&&u[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=u.length-1;!u[m].disabled&&u[m].focus();break}}}}const AXe={app:100,modal:200,popover:300,overlay:400,max:9999};function Mc(e){return AXe[e]}const IXe=()=>{};function kXe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||IXe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function mn(e,t="size",n=!0){if(e!==void 0)return tCe(e)?n?Pe(e):e:`var(--${t}-${e})`}function Os(e){return mn(e,"mantine-spacing")}function ci(e){return e===void 0?"var(--mantine-radius-default)":mn(e,"mantine-radius")}function zo(e){return mn(e,"mantine-font-size")}function nCe(e){return mn(e,"mantine-line-height",!1)}function lX(e){if(e)return mn(e,"mantine-shadow",!1)}function jm(e,t){return n=>{e==null||e(n),t==null||t(n)}}function cX(e,t){return e in t.breakpoints?dk(t.breakpoints[e]):dk(e)}function hk(e,t){const n=e.map(r=>({value:r,px:cX(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function bd(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function RXe(e,t,n){var r;return n?Array.from(((r=GM(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function NXe(){const[e,t]=A.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Wh(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function hx(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function W1(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function L4(e,t){const n=W1(e),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),t)},[n,t])}const Oce=["mousedown","touchstart"];function PXe(e,t,n){const r=A.useRef();return A.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||Oce).forEach(s=>document.addEventListener(s,i)),()=>{(t||Oce).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function OXe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function DXe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function $Xe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=A.useState(n?t:DXe(e)),s=A.useRef();return A.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),OXe(s.current,o=>i(o.matches))},[e]),r}const z_=typeof document<"u"?A.useLayoutEffect:A.useEffect;function yp(e,t){const n=A.useRef(!1);A.useEffect(()=>()=>{n.current=!1},[]),A.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function rCe({opened:e,shouldReturnFocus:t=!0}){const n=A.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return yp(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}function MXe(e,t="body > :not(script)"){const n=hx(),r=Array.from(document.querySelectorAll(t)).map(i=>{var u;if((u=i==null?void 0:i.shadowRoot)!=null&&u.contains(e)||i.contains(e))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const LXe=/input|select|textarea|button|object/,iCe="a, input, select, textarea, button, object, [tabindex]";function FXe(e){return e.style.display==="none"}function jXe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(FXe(n))return!1;n=n.parentNode}return!0}function sCe(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function GV(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(sCe(e));return(LXe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&jXe(e)}function oCe(e){const t=sCe(e);return(Number.isNaN(t)||t>=0)&&GV(e)}function BXe(e){return Array.from(e.querySelectorAll(iCe)).filter(oCe)}function UXe(e,t){const n=BXe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function zXe(e=!0){const t=A.useRef(),n=A.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(iCe));o=a.find(oCe)||a.find(GV)||null,!o&&GV(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=A.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=MXe(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return A.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=o=>{o.key==="Tab"&&t.current&&UXe(t.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),i}const VXe=e=>(e+1)%1e6;function HXe(){const[,e]=A.useReducer(VXe,0);return e}const qXe=de.useId||(()=>{});function WXe(){const e=qXe();return e?`mantine-${e.replace(/:/g,"")}`:""}function iu(e){const t=WXe(),[n,r]=A.useState(t);return z_(()=>{r(hx())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function aCe(e,t,n){A.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function fX(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function uCe(...e){return t=>{e.forEach(n=>fX(n,t))}}function Us(...e){return A.useCallback(uCe(...e),e)}function lCe(e,t,n="ltr"){const r=A.useRef(null),i=A.useRef(!1),s=A.useRef(!1),o=A.useRef(0),[a,u]=A.useState(!1);return A.useEffect(()=>{i.current=!0},[]),A.useEffect(()=>{var v,b;const l=({x:w,y:E})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const x=r.current.getBoundingClientRect();if(x.width&&x.height){const S=Wh((w-x.left)/x.width,0,1);e({x:n==="ltr"?S:1-S,y:Wh((E-x.top)/x.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=w=>{d(),w.preventDefault(),m(w)},m=w=>l({x:w.clientX,y:w.clientY}),g=w=>{w.cancelable&&w.preventDefault(),d(),y(w)},y=w=>{w.cancelable&&w.preventDefault(),l({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return(v=r.current)==null||v.addEventListener("mousedown",p),(b=r.current)==null||b.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function eo({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=A.useState(t!==void 0?t:n),o=(a,...u)=>{s(a),r==null||r(a,...u)};return e!==void 0?[e,r,!0]:[i,o,!1]}function F4(e,t){return $Xe("(prefers-reduced-motion: reduce)",e,t)}const GXe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function kb(e){const t=A.useRef(0),n=A.useRef(null),[r,i]=A.useState(GXe),s=A.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return A.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function YXe(e){const[t,{width:n,height:r}]=kb(e);return{ref:t,width:n,height:r}}function KXe(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return{...n,key:i}}function XXe(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function QXe(e){return t=>XXe(KXe(e),t)}function JXe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{QXe(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function j4(e=!1,t){const{onOpen:n,onClose:r}={},[i,s]=A.useState(e),o=A.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=A.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=A.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function ZXe(e,t,n={autoInvoke:!1}){const r=A.useRef(null),i=A.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{e(o),r.current=null},t))},[t]),s=A.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return A.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function eQe(e,t,n){const r=A.useRef(),i=A.useRef(null);return A.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(e),r.current.observe(s||i.current,t)),()=>{var o;(o=r.current)==null||o.disconnect()}},[e,t]),i}function tQe(){const[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}function nQe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function rQe(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});z_(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>nQe(`${e}:${String(r)}`,i[0])}return[t,n]}var iQe={};function cCe(){return typeof process<"u"&&iQe?"production":"development"}function fCe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fCe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ws(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fCe(e))&&(r&&(r+=" "),r+=t);return r}const sQe={};function oQe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=ws(t[r],i):t[r]=i})}),t}function B4({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||sQe);return oQe(s)}function YM({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const dCe=A.createContext(null);function $v(){const e=A.useContext(dCe);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function aQe(){return $v().cssVariablesResolver}function uQe(){return $v().classNamesPrefix}function dX(){return $v().getStyleNonce}function lQe(){return $v().withStaticClasses}function cQe(){return $v().headless}function fQe(){var e;return(e=$v().stylesTransform)==null?void 0:e.sx}function dQe(){var e;return(e=$v().stylesTransform)==null?void 0:e.styles}function hQe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function pQe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function mQe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function gQe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,u=r/60,l=a*(1-Math.abs(u%2-1)),c=s-a/2;let f,d,h;return u>=0&&u<1?(f=a,d=l,h=0):u>=1&&u<2?(f=l,d=a,h=0):u>=2&&u<3?(f=0,d=a,h=l):u>=3&&u<4?(f=0,d=l,h=a):u>=4&&u<5?(f=l,d=0,h=a):(f=a,d=0,h=l),{r:Math.round((f+c)*255),g:Math.round((d+c)*255),b:Math.round((h+c)*255),a:o||1}}function hX(e){return hQe(e)?pQe(e):e.startsWith("rgb")?mQe(e):e.startsWith("hsl")?gQe(e):{r:0,g:0,b:0,a:1}}function vO(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=hX(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function pk(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function u9(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function yQe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function vQe(e){if(e.startsWith("oklch("))return(yQe(e)||0)/100;const{r:t,g:n,b:r}=hX(e),i=t/255,s=n/255,o=r/255,a=u9(i),u=u9(s),l=u9(o);return .2126*a+.7152*u+.0722*l}function r2(e,t=.179){return e.startsWith("var(")?!1:vQe(e)>t}function Mp({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:r2(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:r2(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:r2(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][pk(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:r2(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:r2(e,t.luminanceThreshold),shade:s,variable:void 0}}function ri(e,t){const n=Mp({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function YV(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=ri(n.from,t),i=ri(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function _h(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=hX(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const jw=_h,bQe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=Mp({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Pe(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Pe(1)} solid transparent`}:{background:e,hover:vO(e,.1),color:a,border:`${Pe(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:_h(a,.1),hover:_h(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Pe(1)} solid transparent`}}return{background:_h(e,.1),hover:_h(e,.12),color:e,border:`${Pe(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Pe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:_h(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Pe(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:_h(e,.05),color:e,border:`${Pe(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:_h(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Pe(1)} solid transparent`}}return{background:"transparent",hover:_h(e,.12),color:e,border:`${Pe(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Pe(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:vO(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Pe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:vO(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Pe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:vO(t.white,.01),color:e,border:`${Pe(1)} solid transparent`}:n==="gradient"?{background:YV(r,t),hover:YV(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Pe(1)} solid var(--mantine-color-default-border)`}:{}},_Qe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Dce="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",pX={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:_Qe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:bQe,autoContrast:!1,luminanceThreshold:.3,fontFamily:Dce,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Dce,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Pe(34),lineHeight:"1.3"},h2:{fontSize:Pe(26),lineHeight:"1.35"},h3:{fontSize:Pe(22),lineHeight:"1.4"},h4:{fontSize:Pe(18),lineHeight:"1.45"},h5:{fontSize:Pe(16),lineHeight:"1.5"},h6:{fontSize:Pe(14),lineHeight:"1.5"}}},fontSizes:{xs:Pe(12),sm:Pe(14),md:Pe(16),lg:Pe(18),xl:Pe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Pe(2),sm:Pe(4),md:Pe(8),lg:Pe(16),xl:Pe(32)},spacing:{xs:Pe(10),sm:Pe(12),md:Pe(16),lg:Pe(20),xl:Pe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), 0 ${Pe(1)} ${Pe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(10)} ${Pe(15)} ${Pe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Pe(7)} ${Pe(7)} ${Pe(-5)}`,md:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(20)} ${Pe(25)} ${Pe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Pe(10)} ${Pe(10)} ${Pe(-5)}`,lg:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(28)} ${Pe(23)} ${Pe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Pe(12)} ${Pe(12)} ${Pe(-7)}`,xl:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(36)} ${Pe(28)} ${Pe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Pe(17)} ${Pe(17)} ${Pe(-7)}`},other:{},components:{}};function $ce(e){return e==="auto"||e==="dark"||e==="light"}function wQe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return $ce(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&$ce(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const EQe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Mce="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function l9(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Lce(e){if(!(e.primaryColor in e.colors))throw new Error(EQe);if(typeof e.primaryShade=="object"&&(!l9(e.primaryShade.dark)||!l9(e.primaryShade.light)))throw new Error(Mce);if(typeof e.primaryShade=="number"&&!l9(e.primaryShade))throw new Error(Mce)}function xQe(e,t){var r;if(!t)return Lce(e),e;const n=aX(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),Lce(n),n}const mX=A.createContext(null),SQe=()=>A.useContext(mX)||pX;function zs(){const e=A.useContext(mX);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function hCe({theme:e,children:t,inherit:n=!0}){const r=SQe(),i=A.useMemo(()=>xQe(n?r:pX,e),[e,r,n]);return _.jsx(mX.Provider,{value:i,children:t})}hCe.displayName="@mantine/core/MantineThemeProvider";function TQe(){const e=zs(),t=dX(),n=yi(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=dk(e.breakpoints[i]),a=s?`${o-.1}px`:qM(o-.1),u=s?`${o}px`:qM(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return _.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function c9(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function f9(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function CQe(e,t){const n=c9(e.variables),r=n?f9(t,n):"",i=c9(e.dark),s=i?f9(`${t}[data-mantine-color-scheme="dark"]`,i):"",o=c9(e.light),a=o?f9(`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function Mv({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Mp({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Fce(e,t){return Mv({color:e.colors[e.primaryColor][pk(e,t)],theme:e,autoContrast:null})}function bO({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=pk(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:jw(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:jw(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:jw(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...u}:u}const s=pk(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:jw(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:jw(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:jw(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function AQe(e){return Array.isArray(e)?e:Array(10).fill(e)}function IQe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Bw(e,t,n){yi(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const pCe=e=>{const t=pk(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Pe(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Fce(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Fce(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Bw(r.variables,e.breakpoints,"breakpoint"),Bw(r.variables,e.spacing,"spacing"),Bw(r.variables,e.fontSizes,"font-size"),Bw(r.variables,e.lineHeights,"line-height"),Bw(r.variables,e.shadows,"shadow"),Bw(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),yi(e.colors).forEach(s=>{const o=e.colors[s];if(IQe(o)){Object.assign(r.light,bO({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,bO({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,u)=>{r.variables[`--mantine-color-${s}-${u}`]=a}),Object.assign(r.light,bO({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,bO({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return yi(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function kQe({theme:e,generator:t}){const n=pCe(e),r=t==null?void 0:t(e);return r?aX(n,r):n}const d9=pCe(pX);function RQe(e){const t={variables:{},light:{},dark:{}};return yi(e.variables).forEach(n=>{d9.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),yi(e.light).forEach(n=>{d9.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),yi(e.dark).forEach(n=>{d9.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function NQe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function mCe({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=zs(),r=dX(),i=aQe(),s=kQe({theme:n,generator:i}),o=e===":root"&&t,a=o?RQe(s):s,u=CQe(a,e);return u?_.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${u}${o?"":NQe(e)}`}}):null}mCe.displayName="@mantine/CssVariables";function PQe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Uw(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function OQe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=A.useRef(),[s,o]=A.useState(()=>e.get(t)),a=r||s,u=A.useCallback(c=>{r||(Uw(c,n),o(c),e.set(c))},[e.set,a,r]),l=A.useCallback(()=>{o(t),Uw(t,n),e.clear()},[e.clear,t]);return A.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),z_(()=>{Uw(e.get(t),n)},[]),A.useEffect(()=>{var f;if(r)return Uw(r,n),()=>{};r===void 0&&Uw(s,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=d=>{s==="auto"&&Uw(d.matches?"dark":"light",n)};return(f=i.current)==null||f.addEventListener("change",c),()=>{var d;return(d=i.current)==null?void 0:d.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:u,clearColorScheme:l}}function DQe({respectReducedMotion:e,getRootElement:t}){z_(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}PQe();function gCe({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:u="mantine",colorSchemeManager:l=wQe(),defaultColorScheme:c="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:h,stylesTransform:p}){const{colorScheme:m,setColorScheme:g,clearColorScheme:y}=OQe({defaultColorScheme:c,forceColorScheme:h,manager:l,getRootElement:f});return DQe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:f}),_.jsx(dCe.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:y,getRootElement:f,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p},children:_.jsxs(hCe,{theme:e,children:[o&&_.jsx(mCe,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&_.jsx(TQe,{}),t]})})}gCe.displayName="@mantine/core/MantineProvider";function Vg({classNames:e,styles:t,props:n,stylesCtx:r}){const i=zs();return{resolvedClassNames:B4({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:YM({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const $Qe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function MQe({theme:e,options:t,unstyled:n}){return ws((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||$Qe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function LQe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return B4({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function jce({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return B4({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function FQe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function jQe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function BQe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function UQe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=B4({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function zQe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function VQe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:u,rootSelector:l,props:c,stylesCtx:f,withStaticClasses:d,headless:h,transformedStyles:p}){return ws(MQe({theme:e,options:t,unstyled:a||h}),UQe({theme:e,themeName:n,selector:r,props:c,stylesCtx:f}),zQe({options:t,classes:o,selector:r,unstyled:a}),jce({selector:r,stylesCtx:f,theme:e,classNames:s,props:c}),jce({selector:r,stylesCtx:f,theme:e,classNames:p,props:c}),LQe({selector:r,stylesCtx:f,options:t,props:c,theme:e}),FQe({rootSelector:l,selector:r,className:u}),jQe({selector:r,classes:o,unstyled:a||h}),d&&!h&&BQe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function HQe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return YM({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function KV({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...KV({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function qQe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Ov(n[r])}}),t),{})}function WQe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var u;return(u=qQe([a?{}:t==null?void 0:t(n,r,i),...o.map(l=>{var c,f,d;return(d=(f=(c=n.components)==null?void 0:c[l])==null?void 0:f.vars)==null?void 0:d.call(f,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:u[s]}function GQe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:u,vars:l,varsResolver:c,headless:f,withStylesTransform:d}){return{...!d&&HQe({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!d&&YM({theme:e,styles:a,props:i,stylesCtx:s})[n],...!d&&YM({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...WQe({theme:e,props:i,stylesCtx:s,vars:l,varsResolver:c,selector:n,themeName:t,headless:f}),...o===n?KV({style:u,theme:e}):null,...KV({style:r==null?void 0:r.style,theme:e})}}function YQe({props:e,stylesCtx:t,themeName:n}){var o;const r=zs(),i=(o=dQe())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>{var c;return i((c=r.components[l])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Et({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:u,styles:l,vars:c,varsResolver:f}){const d=zs(),h=uQe(),p=lQe(),m=cQe(),g=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:y,getTransformedStyles:v}=YQe({props:n,stylesCtx:r,themeName:g});return(b,w)=>({className:VQe({theme:d,options:w,themeName:g,selector:b,classNamesPrefix:h,classNames:u,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([w==null?void 0:w.styles,l])}),style:GQe({theme:d,themeName:g,selector:b,options:w,props:n,stylesCtx:r,rootSelector:o,styles:l,style:s,vars:c,varsResolver:f,headless:m,withStylesTransform:y})})}function _T(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ie(e,t,n){var o;const r=zs(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...Ov(n)}}function h9(e){return yi(e).reduce((t,n)=>e[n]!==void 0?`${t}${EXe(n)}:${e[n]};`:t,"").trim()}function KQe({selector:e,styles:t,media:n,container:r}){const i=t?h9(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${h9(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${h9(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function V_(e){const t=dX();return _.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:KQe(e)}})}function H_(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:w,c:E,opacity:x,ff:S,fz:C,fw:I,lts:k,ta:R,lh:D,fs:P,tt:$,td:L,w:M,miw:B,maw:z,h:H,mih:O,mah:U,bgsz:q,bgp:F,bgr:V,bga:G,pos:Z,top:ae,left:re,bottom:ue,right:pe,inset:xe,display:ve,flex:We,hiddenFrom:Be,visibleFrom:ht,lightHidden:Je,darkHidden:we,sx:Ae,...ze}=e;return{styleProps:Ov({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:w,c:E,opacity:x,ff:S,fz:C,fw:I,lts:k,ta:R,lh:D,fs:P,tt:$,td:L,w:M,miw:B,maw:z,h:H,mih:O,mah:U,bgsz:q,bgp:F,bgr:V,bga:G,pos:Z,top:ae,left:re,bottom:ue,right:pe,inset:xe,display:ve,flex:We,hiddenFrom:Be,visibleFrom:ht,lightHidden:Je,darkHidden:we,sx:Ae}),rest:ze}}const XQe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function gX(e,t){const n=Mp({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function QQe(e,t){const n=Mp({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:gX(e,t)}function JQe(e,t){if(typeof e=="number")return Pe(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Pe(n)}`;return r&&(s+=` ${r}`),AQe.length>0&&(s+=` ${gX(i.join(" "),t)}`),s.trim()}return e}const Bce={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function ZQe(e){return typeof e=="string"&&e in Bce?Bce[e]:e}const eJe=["h1","h2","h3","h4","h5","h6"];function tJe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&eJe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Pe(e):e}function nJe(e){return e}const rJe=["h1","h2","h3","h4","h5","h6"];function iJe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&rJe.includes(e)?`var(--mantine-${e}-line-height)`:e}function sJe(e){return typeof e=="number"?Pe(e):e}function oJe(e,t){if(typeof e=="number")return Pe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Pe(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const p9={color:gX,textColor:QQe,fontSize:tJe,spacing:oJe,identity:nJe,size:sJe,lineHeight:iJe,fontFamily:ZQe,border:JQe};function Uce(e){return e.replace("(min-width: ","").replace("em)","")}function aJe({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(Uce(i))-Number(Uce(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function uJe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function lJe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function cJe(e){return typeof e=="object"&&e!==null?yi(e).filter(t=>t!=="base"):[]}function fJe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function yCe({styleProps:e,data:t,theme:n}){return aJe(yi(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=lJe(e[i]);if(!uJe(e[i]))return o.forEach(l=>{r.inlineStyles[l]=p9[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const u=cJe(e[i]);return o.forEach(l=>{a&&(r.styles[l]=p9[s.type](a,n)),u.forEach(c=>{const f=`(min-width: ${n.breakpoints[c]})`;r.media[f]={...r.media[f],[l]:p9[s.type](fJe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function GR(){return`__m__-${A.useId().replace(/:/g,"")}`}function yX(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...yX(r,t)}),{}):typeof e=="function"?e(t):e??{}}function vCe(e){return e.startsWith("data-")?e:`data-${e}`}function dJe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[vCe(n)]=e[n]),t},{})}function bCe(e){return e?typeof e=="string"?{[vCe(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...bCe(n)}),{}):dJe(e):null}function XV(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...XV(r,t)}),{}):typeof e=="function"?e(t):e??{}}function hJe({theme:e,style:t,vars:n,styleProps:r}){const i=XV(t,e),s=XV(n,e);return{...i,...s,...r}}const _Ce=A.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:u,lightHidden:l,darkHidden:c,renderRoot:f,__size:d,...h},p)=>{var C;const m=zs(),g=e||"div",{styleProps:y,rest:v}=H_(h),b=fQe(),w=(C=b==null?void 0:b())==null?void 0:C(y.sx),E=GR(),x=yCe({styleProps:y,theme:m,data:XQe}),S={ref:p,style:hJe({theme:m,style:t,vars:n,styleProps:x.inlineStyles}),className:ws(r,w,{[E]:x.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":tCe(o)?void 0:o||void 0,size:d,...bCe(s),...v};return _.jsxs(_.Fragment,{children:[x.hasResponsiveStyles&&_.jsx(V_,{selector:`.${E}`,styles:x.styles,media:x.media}),typeof f=="function"?f(S):_.jsx(g,{...S})]})});_Ce.displayName="@mantine/core/Box";const Ee=_Ce;function wCe(e){return e}function je(e){const t=A.forwardRef(e);return t.extend=wCe,t}function _o(e){const t=A.forwardRef(e);return t.extend=wCe,t}const pJe=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Lp(){return A.useContext(pJe)}function mJe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function m9(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const i2=typeof window<"u"&&window.requestAnimationFrame;function gJe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=A.useRef(null),s=0,o={display:"none",height:0,overflow:"hidden"},[a,u]=A.useState(r?{}:o),l=p=>{U_.flushSync(()=>u(p))},c=p=>{l(m=>({...m,...p}))};function f(p){const m=e||mJe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}yp(()=>{typeof i2=="function"&&i2(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),i2(()=>{const p=m9(i);c({...f(p),height:p})})}:()=>{const p=m9(i);c({...f(p),willChange:"height",height:p}),i2(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=m9(i);m===a.height?l({}):c({height:m}),n()}else a.height===s&&(l(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:uCe(i,y),onTransitionEnd:d,style:{boxSizing:"border-box",...p,...a}}}return h}const yJe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},U4=je((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:u,...l}=Ie("Collapse",yJe,e),c=zs(),f=F4(),h=(c.respectReducedMotion?f:!1)?0:i,p=gJe({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?_.jsx(Ee,{...l,children:n}):null:_.jsx(Ee,{...p({style:{opacity:r||!u?1:0,transition:u?`opacity ${h}ms ${s}`:"none",...yX(o,c)},ref:t,...l}),children:n})});U4.displayName="@mantine/core/Collapse";const[vJe,Pf]=qo("ScrollArea.Root component was not found in tree");function tS(e,t){const n=W1(t);z_(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const bJe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=Pf(),[s,o]=A.useState(0),[a,u]=A.useState(0),l=!!(s&&a);return tS(i.scrollbarX,()=>{var f;const c=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(c),u(c)}),tS(i.scrollbarY,()=>{var f;const c=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),l?_.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),_Je=A.forwardRef((e,t)=>{const n=Pf(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?_.jsx(bJe,{...e,ref:t}):null}),wJe={scrollHideDelay:1e3,type:"hover"},ECe=A.forwardRef((e,t)=>{const n=Ie("ScrollAreaRoot",wJe,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,u]=A.useState(null),[l,c]=A.useState(null),[f,d]=A.useState(null),[h,p]=A.useState(null),[m,g]=A.useState(null),[y,v]=A.useState(0),[b,w]=A.useState(0),[E,x]=A.useState(!1),[S,C]=A.useState(!1),I=Us(t,k=>u(k));return _.jsx(vJe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:E,onScrollbarXEnabledChange:x,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w},children:_.jsx(Ee,{...o,ref:I,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${y}px`,"--sa-corner-height":s!=="xy"?"0px":`${b}px`}})})});ECe.displayName="@mantine/core/ScrollAreaRoot";function xCe(e,t){const n=e/t;return Number.isNaN(n)?0:n}function z4(e){const t=xCe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function SCe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EJe(e,[t,n]){return Math.min(n,Math.max(t,e))}function zce(e,t,n="ltr"){const r=z4(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=EJe(e,u);return SCe([0,o],[0,a])(l)}function xJe(e,t,n,r="ltr"){const i=z4(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return SCe([u,l],f)(e)}function TCe(e,t){return e>0&&e<t}function KM(e){return e?parseInt(e,10):0}function Rb(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[SJe,CCe]=qo("ScrollAreaScrollbar was not found in tree"),ACe=A.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:l,onResize:c,...f}=e,d=Pf(),[h,p]=A.useState(null),m=Us(t,C=>p(C)),g=A.useRef(null),y=A.useRef(""),{viewport:v}=d,b=n.content-n.viewport,w=W1(l),E=W1(a),x=L4(c,10),S=C=>{if(g.current){const I=C.clientX-g.current.left,k=C.clientY-g.current.top;u({x:I,y:k})}};return A.useEffect(()=>{const C=I=>{const k=I.target;(h==null?void 0:h.contains(k))&&w(I,b)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,h,b,w]),A.useEffect(E,[n,E]),tS(h,x),tS(d.content,x),_.jsx(SJe,{value:{scrollbar:h,hasThumb:r,onThumbChange:W1(i),onThumbPointerUp:W1(s),onThumbPositionChange:E,onThumbPointerDown:W1(o)},children:_.jsx("div",{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Rb(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S(C))}),onPointerMove:Rb(e.onPointerMove,S),onPointerUp:Rb(e.onPointerUp,C=>{const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,g.current=null})})})}),TJe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=Pf(),[a,u]=A.useState(),l=A.useRef(null),c=Us(t,l,o.onScrollbarXChange);return A.useEffect(()=>{l.current&&u(getComputedStyle(l.current))},[l]),_.jsx(ACe,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${z4(n)}px`},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),TCe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:KM(a.paddingLeft),paddingEnd:KM(a.paddingRight)}})}})}),CJe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=Pf(),[a,u]=A.useState(),l=A.useRef(null),c=Us(t,l,o.onScrollbarYChange);return A.useEffect(()=>{l.current&&u(window.getComputedStyle(l.current))},[]),_.jsx(ACe,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${z4(n)}px`,...i},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),TCe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:KM(a.paddingTop),paddingEnd:KM(a.paddingBottom)}})}})}),vX=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Lp(),s=Pf(),o=A.useRef(null),a=A.useRef(0),[u,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=xCe(u.viewport,u.content),f={...r,sizes:u,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},d=(h,p)=>xJe(h,a.current,u,p);return n==="horizontal"?_.jsx(TJe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=zce(h,u,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,i))}}):n==="vertical"?_.jsx(CJe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=zce(h,u);u.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),ICe=A.forwardRef((e,t)=>{const n=Pf(),{forceMount:r,...i}=e,[s,o]=A.useState(!1),a=e.orientation==="horizontal",u=L4(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return tS(n.viewport,u),tS(n.content,u),r||s?_.jsx(vX,{"data-state":s?"visible":"hidden",...i,ref:t}):null}),AJe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pf(),[s,o]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?_.jsx(ICe,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),IJe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pf(),s=e.orientation==="horizontal",[o,a]=A.useState("hidden"),u=L4(()=>a("idle"),100);return A.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:l}=i,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(a("scrolling"),u()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u]),n||o!=="hidden"?_.jsx(vX,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Rb(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Rb(e.onPointerLeave,()=>a("idle"))}):null}),Vce=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pf(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?_.jsx(AJe,{...r,ref:t,forceMount:n}):i.type==="scroll"?_.jsx(IJe,{...r,ref:t,forceMount:n}):i.type==="auto"?_.jsx(ICe,{...r,ref:t,forceMount:n}):i.type==="always"?_.jsx(vX,{...r,ref:t}):null});function kJe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const RJe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=Pf(),s=CCe(),{onThumbPositionChange:o}=s,a=Us(t,c=>s.onThumbChange(c)),u=A.useRef(),l=L4(()=>{u.current&&(u.current(),u.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const f=()=>{if(l(),!u.current){const d=kJe(c,o);u.current=d,o()}};return o(),c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,l,o]),_.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Rb(e.onPointerDownCapture,c=>{const d=c.target.getBoundingClientRect(),h=c.clientX-d.left,p=c.clientY-d.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:Rb(e.onPointerUp,s.onThumbPointerUp)})}),Hce=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=CCe();return n||i.hasThumb?_.jsx(RJe,{ref:t,...r}):null}),kCe=A.forwardRef(({children:e,style:t,...n},r)=>{const i=Pf(),s=Us(r,i.onViewportChange);return _.jsx(Ee,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:_.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});kCe.displayName="@mantine/core/ScrollAreaViewport";var bX={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const RCe={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},NJe=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":Pe(t)}}),mg=je((e,t)=>{const n=Ie("ScrollArea",RCe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:u,vars:l,type:c,scrollHideDelay:f,viewportProps:d,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,...v}=n,[b,w]=A.useState(!1),E=Et({name:"ScrollArea",props:n,classes:bX,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:NJe});return _.jsxs(ECe,{type:c==="never"?"always":c,scrollHideDelay:f,ref:t,scrollbars:y,...E("root"),...v,children:[_.jsx(kCe,{...d,...E("viewport",{style:d==null?void 0:d.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,onScroll:x=>{var S;(S=d==null?void 0:d.onScroll)==null||S.call(d,x),p==null||p({x:x.currentTarget.scrollLeft,y:x.currentTarget.scrollTop})},children:m}),(y==="xy"||y==="x")&&_.jsx(Vce,{...E("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:_.jsx(Hce,{...E("thumb")})}),(y==="xy"||y==="y")&&_.jsx(Vce,{...E("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:_.jsx(Hce,{...E("thumb")})}),_.jsx(_Je,{...E("corner"),"data-hovered":b||void 0,"data-hidden":c==="never"||void 0})]})});mg.displayName="@mantine/core/ScrollArea";const _X=je((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,...v}=Ie("ScrollAreaAutosize",RCe,e);return _.jsx(Ee,{...v,ref:t,style:[{display:"flex",overflow:"auto"},g],children:_.jsx(Ee,{style:{display:"flex",flexDirection:"column",flex:1},children:_.jsx(mg,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,vars:y,scrollbars:m,children:n})})})});mg.classes=bX;_X.displayName="@mantine/core/ScrollAreaAutosize";_X.classes=bX;mg.Autosize=_X;var NCe={root:"m_87cf2631"};const PJe={__staticSelector:"UnstyledButton"},Zs=_o((e,t)=>{const n=Ie("UnstyledButton",PJe,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:u,style:l,...c}=n,f=Et({name:s,props:n,classes:NCe,className:r,style:l,classNames:a,styles:u,unstyled:o});return _.jsx(Ee,{...f("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Zs.classes=NCe;Zs.displayName="@mantine/core/UnstyledButton";var PCe={root:"m_515a97f8"};const OJe={},wX=je((e,t)=>{const n=Ie("VisuallyHidden",OJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,...l}=n,c=Et({name:"VisuallyHidden",classes:PCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return _.jsx(Ee,{component:"span",ref:t,...c("root"),...l})});wX.classes=PCe;wX.displayName="@mantine/core/VisuallyHidden";var OCe={root:"m_1b7284a3"};const DJe={},$Je=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:ci(t),"--paper-shadow":lX(n)}}),wT=_o((e,t)=>{const n=Ie("Paper",DJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:u,vars:l,radius:c,shadow:f,variant:d,mod:h,...p}=n,m=Et({name:"Paper",props:n,classes:OCe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$Je});return _.jsx(Ee,{ref:t,mod:[{"data-with-border":u},h],...m("root"),variant:d,...p})});wT.classes=OCe;wT.displayName="@mantine/core/Paper";function ET(e){return DCe(e)?(e.nodeName||"").toLowerCase():"#document"}function Tl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hg(e){var t;return(t=(DCe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DCe(e){return e instanceof Node||e instanceof Tl(e).Node}function Xi(e){return e instanceof Element||e instanceof Tl(e).Element}function wc(e){return e instanceof HTMLElement||e instanceof Tl(e).HTMLElement}function QV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tl(e).ShadowRoot}function YR(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function MJe(e){return["table","td","th"].includes(ET(e))}function EX(e){const t=xX(),n=wf(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function LJe(e){let t=gg(e);for(;wc(t)&&!qy(t);){if(EX(t))return t;t=gg(t)}return null}function xX(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qy(e){return["html","body","#document"].includes(ET(e))}function wf(e){return Tl(e).getComputedStyle(e)}function V4(e){return Xi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function gg(e){if(ET(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QV(e)&&e.host||Hg(e);return QV(t)?t.host:t}function $Ce(e){const t=gg(e);return qy(t)?e.ownerDocument?e.ownerDocument.body:e.body:wc(t)&&YR(t)?t:$Ce(t)}function Jm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=$Ce(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Tl(i);return s?t.concat(o,o.visualViewport||[],YR(i)?i:[],o.frameElement&&n?Jm(o.frameElement):[]):t.concat(i,Jm(i,[],n))}function qce(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function mk(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&QV(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function MCe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function LCe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function FJe(e){return UJe()?!1:!Wce()&&e.width===0&&e.height===0||Wce()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function jJe(){return/apple/i.test(navigator.vendor)}function Wce(){const e=/android/i;return e.test(MCe())||e.test(LCe())}function BJe(){return MCe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function UJe(){return LCe().includes("jsdom/")}function JV(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function zJe(e){return"nativeEvent"in e}function VJe(e){return e.matches("html,body")}function fb(e){return(e==null?void 0:e.ownerDocument)||document}function g9(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function mE(e){return"composedPath"in e?e.composedPath()[0]:e.target}const HJe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qJe(e){return wc(e)&&e.matches(HJe)}const ac=Math.min,Ua=Math.max,XM=Math.round,_O=Math.floor,Wy=e=>({x:e,y:e}),WJe={left:"right",right:"left",bottom:"top",top:"bottom"},GJe={start:"end",end:"start"};function ZV(e,t,n){return Ua(e,ac(t,n))}function yg(e,t){return typeof e=="function"?e(t):e}function Ld(e){return e.split("-")[0]}function xT(e){return e.split("-")[1]}function SX(e){return e==="x"?"y":"x"}function TX(e){return e==="y"?"height":"width"}function q_(e){return["top","bottom"].includes(Ld(e))?"y":"x"}function CX(e){return SX(q_(e))}function YJe(e,t,n){n===void 0&&(n=!1);const r=xT(e),i=CX(e),s=TX(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=QM(o)),[o,QM(o)]}function KJe(e){const t=QM(e);return[eH(e),t,eH(t)]}function eH(e){return e.replace(/start|end/g,t=>GJe[t])}function XJe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function QJe(e,t,n,r){const i=xT(e);let s=XJe(Ld(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(eH)))),s}function QM(e){return e.replace(/left|right|bottom|top/g,t=>WJe[t])}function JJe(e){return{top:0,right:0,bottom:0,left:0,...e}}function AX(e){return typeof e!="number"?JJe(e):{top:e,right:e,bottom:e,left:e}}function nS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Gce(e,t,n){let{reference:r,floating:i}=e;const s=q_(t),o=CX(t),a=TX(o),u=Ld(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(xT(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const ZJe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Gce(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:b,data:w,reset:E}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=b??f,h={...h,[g]:{...h[g],...w}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(l=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=Gce(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function IX(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=yg(t,e),p=AX(h),g=a[d?f==="floating"?"reference":"floating":f],y=nS(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=nS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:u}):v);return{top:(y.top-E.top+p.top)/w.y,bottom:(E.bottom-y.bottom+p.bottom)/w.y,left:(y.left-E.left+p.left)/w.x,right:(E.right-y.right+p.right)/w.x}}const eZe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=yg(e,t)||{};if(l==null)return{};const f=AX(c),d={x:n,y:r},h=CX(i),p=TX(h),m=await o.getDimensions(l),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[h]-d[h]-s.floating[p],E=d[h]-s.reference[h],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=x?x[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(x)))&&(S=a.floating[b]||s.floating[p]);const C=w/2-E/2,I=S/2-m[p]/2-1,k=ac(f[y],I),R=ac(f[v],I),D=k,P=S-m[p]-R,$=S/2-m[p]/2+C,L=ZV(D,$,P),M=!u.arrow&&xT(i)!=null&&$!==L&&s.reference[p]/2-($<D?k:R)-m[p]/2<0,B=M?$<D?$-D:$-P:0;return{[h]:d[h]+B,data:{[h]:L,centerOffset:$-L-B,...M&&{alignmentOffset:B}},reset:M}}}),tZe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=yg(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Ld(i),v=Ld(a)===a,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),w=d||(v||!m?[QM(a)]:KJe(a));!d&&p!=="none"&&w.push(...QJe(a,m,p,b));const E=[a,...w],x=await IX(t,g),S=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&S.push(x[y]),f){const D=YJe(i,o,b);S.push(x[D[0]],x[D[1]])}if(C=[...C,{placement:i,overflows:S}],!S.every(D=>D<=0)){var I,k;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,P=E[D];if(P)return{data:{index:D,overflows:C},reset:{placement:P}};let $=(k=C.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(h){case"bestFit":{var R;const L=(R=C.map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,z)=>B+z,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:R[0];L&&($=L);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function FCe(e){const t=ac(...e.map(s=>s.left)),n=ac(...e.map(s=>s.top)),r=Ua(...e.map(s=>s.right)),i=Ua(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function nZe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>nS(FCe(i)))}const rZe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=yg(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=nZe(c),d=nS(FCe(c)),h=AX(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(g=>u>g.left-h.left&&u<g.right+h.right&&l>g.top-h.top&&l<g.bottom+h.bottom)||d;if(f.length>=2){if(q_(n)==="y"){const k=f[0],R=f[f.length-1],D=Ld(n)==="top",P=k.top,$=R.bottom,L=D?k.left:R.left,M=D?k.right:R.right,B=M-L,z=$-P;return{top:P,bottom:$,left:L,right:M,width:B,height:z,x:L,y:P}}const g=Ld(n)==="left",y=Ua(...f.map(k=>k.right)),v=ac(...f.map(k=>k.left)),b=f.filter(k=>g?k.left===v:k.right===y),w=b[0].top,E=b[b.length-1].bottom,x=v,S=y,C=S-x,I=E-w;return{top:w,bottom:E,left:x,right:S,width:C,height:I,x,y:w}}return d}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function iZe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ld(n),a=xT(n),u=q_(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=yg(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const sZe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await iZe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},oZe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...u}=yg(e,t),l={x:n,y:r},c=await IX(t,u),f=q_(Ld(i)),d=SX(f);let h=l[d],p=l[f];if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+c[g],b=h-c[y];h=ZV(v,h,b)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+c[g],b=p-c[y];p=ZV(v,p,b)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},aZe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=yg(e,t),c={x:n,y:r},f=q_(i),d=SX(f);let h=c[d],p=c[f];const m=yg(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const b=d==="y"?"height":"width",w=s.reference[d]-s.floating[b]+g.mainAxis,E=s.reference[d]+s.reference[b]-g.mainAxis;h<w?h=w:h>E&&(h=E)}if(l){var y,v;const b=d==="y"?"width":"height",w=["top","left"].includes(Ld(i)),E=s.reference[f]-s.floating[b]+(w&&((y=o.offset)==null?void 0:y[f])||0)+(w?0:g.crossAxis),x=s.reference[f]+s.reference[b]+(w?0:((v=o.offset)==null?void 0:v[f])||0)-(w?g.crossAxis:0);p<E?p=E:p>x&&(p=x)}return{[d]:h,[f]:p}}}},uZe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=yg(e,t),u=await IX(t,a),l=Ld(n),c=xT(n),f=q_(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const g=h-u.top-u.bottom,y=d-u.left-u.right,v=ac(h-u[p],g),b=ac(d-u[m],y),w=!t.middlewareData.shift;let E=v,x=b;if(f?x=c||w?ac(b,y):y:E=c||w?ac(v,g):g,w&&!c){const C=Ua(u.left,0),I=Ua(u.right,0),k=Ua(u.top,0),R=Ua(u.bottom,0);f?x=d-2*(C!==0||I!==0?C+I:Ua(u.left,u.right)):E=h-2*(k!==0||R!==0?k+R:Ua(u.top,u.bottom))}await o({...t,availableWidth:x,availableHeight:E});const S=await i.getDimensions(s.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function jCe(e){const t=wf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=wc(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=XM(n)!==s||XM(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function kX(e){return Xi(e)?e:e.contextElement}function px(e){const t=kX(e);if(!wc(t))return Wy(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=jCe(t);let o=(s?XM(n.width):n.width)/r,a=(s?XM(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lZe=Wy(0);function BCe(e){const t=Tl(e);return!xX()||!t.visualViewport?lZe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cZe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tl(e)?!1:t}function Xb(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=kX(e);let o=Wy(1);t&&(r?Xi(r)&&(o=px(r)):o=px(e));const a=cZe(s,n,r)?BCe(s):Wy(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Tl(s),h=r&&Xi(r)?Tl(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const g=px(m),y=m.getBoundingClientRect(),v=wf(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;u*=g.x,l*=g.y,c*=g.x,f*=g.y,u+=b,l+=w,p=Tl(m),m=p.frameElement}}return nS({width:c,height:f,x:u,y:l})}const fZe=[":popover-open",":modal"];function RX(e){return fZe.some(t=>{try{return e.matches(t)}catch{return!1}})}function dZe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Hg(r),a=t?RX(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Wy(1);const c=Wy(0),f=wc(r);if((f||!f&&!s)&&((ET(r)!=="body"||YR(o))&&(u=V4(r)),wc(r))){const d=Xb(r);l=px(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function hZe(e){return Array.from(e.getClientRects())}function UCe(e){return Xb(Hg(e)).left+V4(e).scrollLeft}function pZe(e){const t=Hg(e),n=V4(e),r=e.ownerDocument.body,i=Ua(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ua(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+UCe(e);const a=-n.scrollTop;return wf(r).direction==="rtl"&&(o+=Ua(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function mZe(e,t){const n=Tl(e),r=Hg(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=xX();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function gZe(e,t){const n=Xb(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=wc(e)?px(e):Wy(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function Yce(e,t,n){let r;if(t==="viewport")r=mZe(e,n);else if(t==="document")r=pZe(Hg(e));else if(Xi(t))r=gZe(t,n);else{const i=BCe(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return nS(r)}function zCe(e,t){const n=gg(e);return n===t||!Xi(n)||qy(n)?!1:wf(n).position==="fixed"||zCe(n,t)}function yZe(e,t){const n=t.get(e);if(n)return n;let r=Jm(e,[],!1).filter(a=>Xi(a)&&ET(a)!=="body"),i=null;const s=wf(e).position==="fixed";let o=s?gg(e):e;for(;Xi(o)&&!qy(o);){const a=wf(o),u=EX(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||YR(o)&&!u&&zCe(e,o))?r=r.filter(c=>c!==o):i=a,o=gg(o)}return t.set(e,r),r}function vZe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?RX(t)?[]:yZe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=Yce(t,c,i);return l.top=Ua(f.top,l.top),l.right=ac(f.right,l.right),l.bottom=ac(f.bottom,l.bottom),l.left=Ua(f.left,l.left),l},Yce(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function bZe(e){const{width:t,height:n}=jCe(e);return{width:t,height:n}}function _Ze(e,t,n){const r=wc(t),i=Hg(t),s=n==="fixed",o=Xb(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Wy(0);if(r||!r&&!s)if((ET(t)!=="body"||YR(i))&&(a=V4(t)),r){const f=Xb(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=UCe(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function y9(e){return wf(e).position==="static"}function Kce(e,t){return!wc(e)||wf(e).position==="fixed"?null:t?t(e):e.offsetParent}function VCe(e,t){const n=Tl(e);if(RX(e))return n;if(!wc(e)){let i=gg(e);for(;i&&!qy(i);){if(Xi(i)&&!y9(i))return i;i=gg(i)}return n}let r=Kce(e,t);for(;r&&MJe(r)&&y9(r);)r=Kce(r,t);return r&&qy(r)&&y9(r)&&!EX(r)?n:r||LJe(e)||n}const wZe=async function(e){const t=this.getOffsetParent||VCe,n=this.getDimensions,r=await n(e.floating);return{reference:_Ze(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EZe(e){return wf(e).direction==="rtl"}const xZe={convertOffsetParentRelativeRectToViewportRelativeRect:dZe,getDocumentElement:Hg,getClippingRect:vZe,getOffsetParent:VCe,getElementRects:wZe,getClientRects:hZe,getDimensions:bZe,getScale:px,isElement:Xi,isRTL:EZe};function SZe(e,t){let n=null,r;const i=Hg(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=_O(c),p=_O(i.clientWidth-(l+f)),m=_O(i.clientHeight-(c+d)),g=_O(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Ua(0,ac(1,u))||1};let b=!0;function w(E){const x=E[0].intersectionRatio;if(x!==u){if(!b)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),s}function TZe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=kX(e),c=i||s?[...l?Jm(l):[],...Jm(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=l&&a?SZe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?Xb(e):null;u&&g();function g(){const y=Xb(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const CZe=sZe,AZe=oZe,IZe=tZe,kZe=uZe,Xce=eZe,RZe=rZe,NZe=aZe,PZe=(e,t,n)=>{const r=new Map,i={platform:xZe,...n},s={...i.platform,_c:r};return ZJe(e,t,{...i,platform:s})};var d$=typeof document<"u"?A.useLayoutEffect:A.useEffect;function JM(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!JM(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!JM(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function HCe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qce(e,t){const n=HCe(e);return Math.round(t*n)/n}function Jce(e){const t=A.useRef(e);return d$(()=>{t.current=e}),t}function OZe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:l}=e,[c,f]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=A.useState(r);JM(d,r)||h(r);const[p,m]=A.useState(null),[g,y]=A.useState(null),v=A.useCallback(B=>{B!==x.current&&(x.current=B,m(B))},[]),b=A.useCallback(B=>{B!==S.current&&(S.current=B,y(B))},[]),w=s||p,E=o||g,x=A.useRef(null),S=A.useRef(null),C=A.useRef(c),I=u!=null,k=Jce(u),R=Jce(i),D=A.useCallback(()=>{if(!x.current||!S.current)return;const B={placement:t,strategy:n,middleware:d};R.current&&(B.platform=R.current),PZe(x.current,S.current,B).then(z=>{const H={...z,isPositioned:!0};P.current&&!JM(C.current,H)&&(C.current=H,U_.flushSync(()=>{f(H)}))})},[d,t,n,R]);d$(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[l]);const P=A.useRef(!1);d$(()=>(P.current=!0,()=>{P.current=!1}),[]),d$(()=>{if(w&&(x.current=w),E&&(S.current=E),w&&E){if(k.current)return k.current(w,E,D);D()}},[w,E,D,k,I]);const $=A.useMemo(()=>({reference:x,floating:S,setReference:v,setFloating:b}),[v,b]),L=A.useMemo(()=>({reference:w,floating:E}),[w,E]),M=A.useMemo(()=>{const B={position:n,left:0,top:0};if(!L.floating)return B;const z=Qce(L.floating,c.x),H=Qce(L.floating,c.y);return a?{...B,transform:"translate("+z+"px, "+H+"px)",...HCe(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:H}},[n,a,L.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:D,refs:$,elements:L,floatingStyles:M}),[c,D,$,L,M])}const DZe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xce({element:r.current,padding:i}).fn(n):{}:r?Xce({element:r,padding:i}).fn(n):{}}}},qCe=(e,t)=>({...CZe(e),options:[e,t]}),NX=(e,t)=>({...AZe(e),options:[e,t]}),Zce=(e,t)=>({...NZe(e),options:[e,t]}),tH=(e,t)=>({...IZe(e),options:[e,t]}),$Ze=(e,t)=>({...kZe(e),options:[e,t]}),nH=(e,t)=>({...RZe(e),options:[e,t]}),WCe=(e,t)=>({...DZe(e),options:[e,t]}),GCe={...YI},MZe=GCe.useInsertionEffect,LZe=MZe||(e=>e());function H0(e){const t=A.useRef(()=>{});return LZe(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var np=typeof document<"u"?A.useLayoutEffect:A.useEffect;let efe=!1,FZe=0;const tfe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+FZe++;function jZe(){const[e,t]=A.useState(()=>efe?tfe():void 0);return np(()=>{e==null&&t(tfe())},[]),A.useEffect(()=>{efe=!0},[]),e}const BZe=GCe.useId,YCe=BZe||jZe;function UZe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const zZe=A.createContext(null),VZe=A.createContext(null),PX=()=>{var e;return((e=A.useContext(zZe))==null?void 0:e.id)||null},OX=()=>A.useContext(VZe);function DX(e){return"data-floating-ui-"+e}function nfe(e){const t=A.useRef(e);return np(()=>{t.current=e}),t}const rfe=DX("safe-polygon");function h$(e,t,n){return n&&!JV(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function HZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:{domReference:o,floating:a}}=e,{enabled:u=!0,delay:l=0,handleClose:c=null,mouseOnly:f=!1,restMs:d=0,move:h=!0}=t,p=OX(),m=PX(),g=nfe(c),y=nfe(l),v=A.useRef(),b=A.useRef(-1),w=A.useRef(),E=A.useRef(-1),x=A.useRef(!0),S=A.useRef(!1),C=A.useRef(()=>{}),I=A.useCallback(()=>{var P;const $=(P=i.current.openEvent)==null?void 0:P.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[i]);A.useEffect(()=>{if(!u)return;function P($){let{open:L}=$;L||(clearTimeout(b.current),clearTimeout(E.current),x.current=!0)}return s.on("openchange",P),()=>{s.off("openchange",P)}},[u,s]),A.useEffect(()=>{if(!u||!g.current||!n)return;function P(L){I()&&r(!1,L,"hover")}const $=fb(a).documentElement;return $.addEventListener("mouseleave",P),()=>{$.removeEventListener("mouseleave",P)}},[a,n,r,u,g,I]);const k=A.useCallback(function(P,$,L){$===void 0&&($=!0),L===void 0&&(L="hover");const M=h$(y.current,"close",v.current);M&&!w.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,P,L),M)):$&&(clearTimeout(b.current),r(!1,P,L))},[y,r]),R=H0(()=>{C.current(),w.current=void 0}),D=H0(()=>{if(S.current){const P=fb(a).body;P.style.pointerEvents="",P.removeAttribute(rfe),S.current=!1}});return A.useEffect(()=>{if(!u)return;function P(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function $(B){if(clearTimeout(b.current),x.current=!1,f&&!JV(v.current)||d>0&&!h$(y.current,"open"))return;const z=h$(y.current,"open",v.current);z?b.current=window.setTimeout(()=>{r(!0,B,"hover")},z):r(!0,B,"hover")}function L(B){if(P())return;C.current();const z=fb(a);if(clearTimeout(E.current),g.current&&i.current.floatingContext){n||clearTimeout(b.current),w.current=g.current({...i.current.floatingContext,tree:p,x:B.clientX,y:B.clientY,onClose(){D(),R(),k(B,!0,"safe-polygon")}});const O=w.current;z.addEventListener("mousemove",O),C.current=()=>{z.removeEventListener("mousemove",O)};return}(v.current==="touch"?!mk(a,B.relatedTarget):!0)&&k(B)}function M(B){P()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:p,x:B.clientX,y:B.clientY,onClose(){D(),R(),k(B)}})(B))}if(Xi(o)){const B=o;return n&&B.addEventListener("mouseleave",M),a==null||a.addEventListener("mouseleave",M),h&&B.addEventListener("mousemove",$,{once:!0}),B.addEventListener("mouseenter",$),B.addEventListener("mouseleave",L),()=>{n&&B.removeEventListener("mouseleave",M),a==null||a.removeEventListener("mouseleave",M),h&&B.removeEventListener("mousemove",$),B.removeEventListener("mouseenter",$),B.removeEventListener("mouseleave",L)}}},[o,a,u,e,f,d,h,k,R,D,r,n,p,y,g,i]),np(()=>{var P;if(u&&n&&(P=g.current)!=null&&P.__options.blockPointerEvents&&I()){const L=fb(a).body;if(L.setAttribute(rfe,""),L.style.pointerEvents="none",S.current=!0,Xi(o)&&a){var $;const M=o,B=p==null||($=p.nodesRef.current.find(z=>z.id===m))==null||($=$.context)==null?void 0:$.elements.floating;return B&&(B.style.pointerEvents=""),M.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{M.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,m,a,o,p,g,I]),np(()=>{n||(v.current=void 0,R(),D())},[n,R,D]),A.useEffect(()=>()=>{R(),clearTimeout(b.current),clearTimeout(E.current),D()},[u,o,R,D]),A.useMemo(()=>{if(!u)return{};function P($){v.current=$.pointerType}return{reference:{onPointerDown:P,onPointerEnter:P,onMouseMove($){function L(){x.current||r(!0,$.nativeEvent,"hover")}f&&!JV(v.current)||n||d===0||(clearTimeout(E.current),v.current==="touch"?L():E.current=window.setTimeout(L,d))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave($){k($.nativeEvent,!1)}}}},[u,f,n,d,r,k])}const rH=()=>{},KCe=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:rH,setState:rH,isInstantPhase:!1}),XCe=()=>A.useContext(KCe);function qZe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=A.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=A.useRef(null),a=A.useCallback(u=>{s({currentId:u})},[]);return np(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),A.createElement(KCe.Provider,{value:A.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function WZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s}=t,o=s??i,a=XCe(),{currentId:u,setCurrentId:l,initialDelay:c,setState:f,timeoutMs:d}=a;return np(()=>{u&&(f({delay:{open:1,close:h$(c,"close")}}),u!==o&&r(!1))},[o,r,f,u,c]),np(()=>{function h(){r(!1),f({delay:c,currentId:null})}if(u&&!n&&u===o){if(d){const p=window.setTimeout(h,d);return()=>{clearTimeout(p)}}h()}},[n,f,u,o,r,c,d]),np(()=>{l===rH||!n||l(o)},[n,l,o]),a}function v9(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const GZe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},YZe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ife=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function KZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:{reference:i,domReference:s,floating:o},dataRef:a}=e,{enabled:u=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:f="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:g}=t,y=OX(),v=H0(typeof c=="function"?c:()=>!1),b=typeof c=="function"?v:c,w=A.useRef(!1),E=A.useRef(!1),{escapeKey:x,outsidePress:S}=ife(m),{escapeKey:C,outsidePress:I}=ife(g),k=H0($=>{var L;if(!n||!u||!l||$.key!=="Escape")return;const M=(L=a.current.floatingContext)==null?void 0:L.nodeId,B=y?v9(y.nodesRef.current,M):[];if(!x&&($.stopPropagation(),B.length>0)){let z=!0;if(B.forEach(H=>{var O;if((O=H.context)!=null&&O.open&&!H.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}r(!1,zJe($)?$.nativeEvent:$,"escape-key")}),R=H0($=>{var L;const M=()=>{var B;k($),(B=mE($))==null||B.removeEventListener("keydown",M)};(L=mE($))==null||L.addEventListener("keydown",M)}),D=H0($=>{var L;const M=w.current;w.current=!1;const B=E.current;if(E.current=!1,f==="click"&&B||M||typeof b=="function"&&!b($))return;const z=mE($),H="["+DX("inert")+"]",O=fb(o).querySelectorAll(H);let U=Xi(z)?z:null;for(;U&&!qy(U);){const G=gg(U);if(qy(G)||!Xi(G))break;U=G}if(O.length&&Xi(z)&&!VJe(z)&&!mk(z,o)&&Array.from(O).every(G=>!mk(U,G)))return;if(wc(z)&&o){const G=z.clientWidth>0&&z.scrollWidth>z.clientWidth,Z=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let ae=Z&&$.offsetX>z.clientWidth;if(Z&&wf(z).direction==="rtl"&&(ae=$.offsetX<=z.offsetWidth-z.clientWidth),ae||G&&$.offsetY>z.clientHeight)return}const q=(L=a.current.floatingContext)==null?void 0:L.nodeId,F=y&&v9(y.nodesRef.current,q).some(G=>{var Z;return g9($,(Z=G.context)==null?void 0:Z.elements.floating)});if(g9($,o)||g9($,s)||F)return;const V=y?v9(y.nodesRef.current,q):[];if(V.length>0){let G=!0;if(V.forEach(Z=>{var ae;if((ae=Z.context)!=null&&ae.open&&!Z.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}r(!1,$,"outside-press")}),P=H0($=>{var L;const M=()=>{var B;D($),(B=mE($))==null||B.removeEventListener(f,M)};(L=mE($))==null||L.addEventListener(f,M)});return A.useEffect(()=>{if(!n||!u)return;a.current.__escapeKeyBubbles=x,a.current.__outsidePressBubbles=S;function $(B){r(!1,B,"ancestor-scroll")}const L=fb(o);l&&L.addEventListener("keydown",C?R:k,C),b&&L.addEventListener(f,I?P:D,I);let M=[];return p&&(Xi(s)&&(M=Jm(s)),Xi(o)&&(M=M.concat(Jm(o))),!Xi(i)&&i&&i.contextElement&&(M=M.concat(Jm(i.contextElement)))),M=M.filter(B=>{var z;return B!==((z=L.defaultView)==null?void 0:z.visualViewport)}),M.forEach(B=>{B.addEventListener("scroll",$,{passive:!0})}),()=>{l&&L.removeEventListener("keydown",C?R:k,C),b&&L.removeEventListener(f,I?P:D,I),M.forEach(B=>{B.removeEventListener("scroll",$)})}},[a,o,s,i,l,b,f,n,r,p,u,x,S,k,C,R,D,I,P]),A.useEffect(()=>{w.current=!1},[b,f]),A.useMemo(()=>u?{reference:{onKeyDown:k,[GZe[h]]:$=>{d&&r(!1,$.nativeEvent,"reference-press")}},floating:{onKeyDown:k,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[YZe[f]]:()=>{w.current=!0}}}:{},[u,d,f,h,r,k])}function XZe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=YCe(),s=A.useRef({}),[o]=A.useState(()=>UZe()),a=PX()!=null,[u,l]=A.useState(r.reference),c=H0((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),f=A.useMemo(()=>({setPositionReference:l}),[]),d=A.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return A.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:d,events:o,floatingId:i,refs:f}),[t,c,d,o,i,f])}function $X(e){e===void 0&&(e={});const{nodeId:t}=e,n=XZe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=A.useState(null),[a,u]=A.useState(null),c=(i==null?void 0:i.reference)||s,f=A.useRef(null),d=OX();np(()=>{c&&(f.current=c)},[c]);const h=OZe({...e,elements:{...i,...a&&{reference:a}}}),p=A.useCallback(b=>{const w=Xi(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(w),h.refs.setReference(w)},[h.refs]),m=A.useCallback(b=>{(Xi(b)||b===null)&&(f.current=b,o(b)),(Xi(h.refs.reference.current)||h.refs.reference.current===null||b!==null&&!Xi(b))&&h.refs.setReference(b)},[h.refs]),g=A.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:f}),[h.refs,m,p]),y=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=A.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return np(()=>{r.dataRef.current.floatingContext=v;const b=d==null?void 0:d.nodesRef.current.find(w=>w.id===t);b&&(b.context=v)}),A.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function QZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:{domReference:o}}=e,{enabled:a=!0,visibleOnly:u=!0}=t,l=A.useRef(!1),c=A.useRef(),f=A.useRef(!0);return A.useEffect(()=>{if(!a)return;const d=Tl(o);function h(){!n&&wc(o)&&o===qce(fb(o))&&(l.current=!0)}function p(){f.current=!0}return d.addEventListener("blur",h),d.addEventListener("keydown",p,!0),()=>{d.removeEventListener("blur",h),d.removeEventListener("keydown",p,!0)}},[o,n,a]),A.useEffect(()=>{if(!a)return;function d(h){let{reason:p}=h;(p==="reference-press"||p==="escape-key")&&(l.current=!0)}return i.on("openchange",d),()=>{i.off("openchange",d)}},[i,a]),A.useEffect(()=>()=>{clearTimeout(c.current)},[]),A.useMemo(()=>a?{reference:{onPointerDown(d){FJe(d.nativeEvent)||(f.current=!1)},onMouseLeave(){l.current=!1},onFocus(d){if(l.current)return;const h=mE(d.nativeEvent);if(u&&Xi(h))try{if(jJe()&&BJe())throw Error();if(!h.matches(":focus-visible"))return}catch{if(!f.current&&!qJe(h))return}r(!0,d.nativeEvent,"focus")},onBlur(d){l.current=!1;const h=d.relatedTarget,p=Xi(h)&&h.hasAttribute(DX("focus-guard"))&&h.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var m;const g=qce(o?o.ownerDocument:document);!h&&g===o||mk((m=s.current.floatingContext)==null?void 0:m.refs.floating.current,g)||mk(o,g)||p||r(!1,d.nativeEvent,"focus")})}}}:{},[a,u,s,o,r])}const sfe="active",ofe="selected";function b9(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[sfe]:o,[ofe]:a,...u}=e;s=u}return{...n==="floating"&&{tabIndex:-1},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(u=>{let[l,c]=u;if(!(i&&[sfe,ofe].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof c=="function"){var f;(f=r.get(l))==null||f.push(c),o[l]=function(){for(var d,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(d=r.get(l))==null?void 0:d.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[l]=c}),o),{})}}function JZe(e){e===void 0&&(e=[]);const t=e,n=A.useCallback(s=>b9(s,e,"reference"),t),r=A.useCallback(s=>b9(s,e,"floating"),t),i=A.useCallback(s=>b9(s,e,"item"),e.map(s=>s==null?void 0:s.item));return A.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}const ZZe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function eet(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=ZZe.get(o))!=null?n:o,u=YCe(),c=PX()!=null;return A.useMemo(()=>{if(!s)return{};const f={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?{reference:{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:u},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...a==="menu"&&{"aria-labelledby":u}},item(d){let{active:h,selected:p}=d;const m={role:"option",...h&&{id:i+"-option"}};switch(o){case"select":return{...m,"aria-selected":h&&p};case"combobox":return{...m,...h&&{"aria-selected":!0}}}return{}}}},[s,o,a,r,i,u,c])}function QCe(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function afe(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function ufe(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const tet={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function net({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:Pe(t),height:Pe(t),transform:"rotate(45deg)",position:"absolute",[tet[u]]:Pe(r)},f=Pe(-t/2);return u==="left"?{...c,...afe(l,o,n,i),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent"}:u==="right"?{...c,...afe(l,o,n,i),left:f,borderRightColor:"transparent",borderTopColor:"transparent"}:u==="top"?{...c,...ufe(l,s,n,i,a),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent"}:u==="bottom"?{...c,...ufe(l,s,n,i,a),top:f,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const MX=A.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:u,...l},c)=>{const{dir:f}=Lp();return s?_.jsx("div",{...l,ref:c,style:{...u,...net({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:f,arrowX:o,arrowY:a})}}):null});MX.displayName="@mantine/core/FloatingArrow";const[ret,JCe]=qo("Popover component was not found in the tree");function H4({children:e,active:t=!0,refProp:n="ref"}){const r=zXe(t),i=Us(r,e==null?void 0:e.ref);return Dv(e)?A.cloneElement(e,{[n]:i}):e}function ZCe(e){return _.jsx(wX,{tabIndex:-1,"data-autofocus":!0,...e})}H4.displayName="@mantine/core/FocusTrap";ZCe.displayName="@mantine/core/FocusTrapInitialFocus";H4.InitialFocus=ZCe;function iet(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const set={},e2e=A.forwardRef((e,t)=>{const{children:n,target:r,...i}=Ie("Portal",set,e),[s,o]=A.useState(!1),a=A.useRef(null);return z_(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:iet(i),fX(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:U_.createPortal(_.jsx(_.Fragment,{children:n}),a.current)});e2e.displayName="@mantine/core/Portal";function ST({withinPortal:e=!0,children:t,...n}){return e?_.jsx(e2e,{...n,children:t}):_.jsx(_.Fragment,{children:t})}ST.displayName="@mantine/core/OptionalPortal";const s2=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Pe(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),wO={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Pe(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Pe(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Pe(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Pe(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Pe(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Pe(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Pe(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Pe(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...s2("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...s2("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...s2("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...s2("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...s2("top"),common:{transformOrigin:"top right"}}},lfe={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function oet({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in wO?{transitionProperty:wO[e].transitionProperty,...i,...wO[e].common,...wO[e][lfe[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[lfe[t]]}}function aet({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=zs(),l=F4(),c=u.respectReducedMotion?l:!1,[f,d]=A.useState(c?0:e),[h,p]=A.useState(r?"entered":"exited"),m=A.useRef(-1),g=A.useRef(-1),y=v=>{const b=v?i:s,w=v?o:a;window.clearTimeout(m.current);const E=c?0:v?e:t;d(E),E===0?(typeof b=="function"&&b(),typeof w=="function"&&w(),p(v?"entered":"exited")):g.current=requestAnimationFrame(()=>{VE.flushSync(()=>{p(v?"pre-entering":"pre-exiting")}),g.current=requestAnimationFrame(()=>{typeof b=="function"&&b(),p(v?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof w=="function"&&w(),p(v?"entered":"exited")},E)})})};return yp(()=>{y(r)},[r]),A.useEffect(()=>()=>{window.clearTimeout(m.current),cancelAnimationFrame(g.current)},[]),{transitionDuration:f,transitionStatus:h,transitionTimingFunction:n||"ease"}}function qg({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:u,onEnter:l,onExited:c}){const{transitionDuration:f,transitionStatus:d,transitionTimingFunction:h}=aet({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:u,onEnter:l,onExited:c});return f===0?i?_.jsx(_.Fragment,{children:s({})}):e?s({display:"none"}):null:d==="exited"?e?s({display:"none"}):null:_.jsx(_.Fragment,{children:s(oet({transition:t,duration:f,state:d,timingFunction:h}))})}qg.displayName="@mantine/core/Transition";var t2e={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const uet={},LX=je((e,t)=>{var g,y,v,b;const n=Ie("PopoverDropdown",uet,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:u,classNames:l,styles:c,...f}=n,d=JCe(),h=rCe({opened:d.opened,shouldReturnFocus:d.returnFocus}),p=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=Us(t,d.floating);return d.disabled?null:_.jsx(ST,{...d.portalProps,withinPortal:d.withinPortal,children:_.jsx(qg,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=d.transitionProps)==null?void 0:y.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((v=d.transitionProps)==null?void 0:v.exitDuration)=="number"?d.transitionProps.exitDuration:(b=d.transitionProps)==null?void 0:b.duration,children:w=>_.jsx(H4,{active:d.trapFocus,children:_.jsxs(Ee,{...p,...f,variant:u,ref:m,onKeyDownCapture:kXe(d.onClose,{active:d.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":d.placement,...d.getStyles("dropdown",{className:r,props:n,classNames:l,styles:c,style:[{...w,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:Pe(d.width)},i]}),children:[o,_.jsx(MX,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:l,styles:c})})]})})})})});LX.classes=t2e;LX.displayName="@mantine/core/PopoverDropdown";const cet={refProp:"ref",popupType:"dialog"},n2e=je((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=Ie("PopoverTarget",cet,e);if(!Dv(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=JCe(),u=Us(a.reference,n.ref,t),l=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return A.cloneElement(n,{...o,...l,...a.targetProps,className:ws(a.targetProps.className,o.className,n.props.className),[r]:u,...a.controlled?null:{onClick:a.onToggle}})});n2e.displayName="@mantine/core/PopoverTarget";function r2e({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=A.useState(0);A.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return TZe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),yp(()=>{t.update()},r),yp(()=>{s(o=>o+1)},[e])}function fet(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function det(e,t){const n=fet(e.middlewares),r=[qCe(e.offset)];return n.shift&&r.push(NX(typeof n.shift=="boolean"?{limiter:Zce(),padding:5}:{limiter:Zce(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?tH():tH(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?nH():nH(n.inline)),r.push(WCe({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push($Ze({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o}){var l;const u=((l=t().refs.floating.current)==null?void 0:l.style)??{};n.size&&Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`}),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function het(e){const[t,n]=eo({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;t&&((o=e.onClose)==null||o.call(e),n(!1))},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=$X({strategy:e.strategy,placement:e.position,middleware:det(e,()=>s)});return r2e({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),yp(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),yp(()=>{var o,a;e.opened?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const pet={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Mc("popover"),__staticSelector:"Popover",width:"max-content"},met=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:ci(t),"--popover-shadow":lX(n)}});function pa(e){var we,Ae,ze,et,Ot,Oe;const t=Ie("Popover",pet,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:u,width:l,middlewares:c,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,unstyled:g,classNames:y,styles:v,closeOnClickOutside:b,withinPortal:w,portalProps:E,closeOnEscape:x,clickOutsideEvents:S,trapFocus:C,onClose:I,onOpen:k,onChange:R,zIndex:D,radius:P,shadow:$,id:L,defaultOpened:M,__staticSelector:B,withRoles:z,disabled:H,returnFocus:O,variant:U,keepMounted:q,vars:F,floatingStrategy:V,...G}=t,Z=Et({name:B,props:t,classes:t2e,classNames:y,styles:v,unstyled:g,rootSelector:"dropdown",vars:F,varsResolver:met}),ae=A.useRef(null),[re,ue]=A.useState(null),[pe,xe]=A.useState(null),{dir:ve}=Lp(),We=iu(L),Be=het({middlewares:c,width:l,position:QCe(ve,r),offset:typeof i=="number"?i+(f?d/2:0):i,arrowRef:ae,arrowOffset:h,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:M,onChange:R,onOpen:k,onClose:I,strategy:V});PXe(()=>b&&Be.onClose(),S,[re,pe]);const ht=A.useCallback(fe=>{ue(fe),Be.floating.refs.setReference(fe)},[Be.floating.refs.setReference]),Je=A.useCallback(fe=>{xe(fe),Be.floating.refs.setFloating(fe)},[Be.floating.refs.setFloating]);return _.jsx(ret,{value:{returnFocus:O,disabled:H,controlled:Be.controlled,reference:ht,floating:Je,x:Be.floating.x,y:Be.floating.y,arrowX:(ze=(Ae=(we=Be.floating)==null?void 0:we.middlewareData)==null?void 0:Ae.arrow)==null?void 0:ze.x,arrowY:(Oe=(Ot=(et=Be.floating)==null?void 0:et.middlewareData)==null?void 0:Ot.arrow)==null?void 0:Oe.y,opened:Be.opened,arrowRef:ae,transitionProps:u,width:l,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,placement:Be.floating.placement,trapFocus:C,withinPortal:w,portalProps:E,zIndex:D,radius:P,shadow:$,closeOnEscape:x,onClose:Be.onClose,onToggle:Be.onToggle,getTargetId:()=>`${We}-target`,getDropdownId:()=>`${We}-dropdown`,withRoles:z,targetProps:G,__staticSelector:B,classNames:y,styles:v,unstyled:g,variant:U,keepMounted:q,getStyles:Z},children:n})}pa.Target=n2e;pa.Dropdown=LX;pa.displayName="@mantine/core/Popover";pa.extend=e=>e;var _d={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const get=A.forwardRef(({className:e,...t},n)=>_.jsxs(Ee,{component:"span",className:ws(_d.barsLoader,e),...t,ref:n,children:[_.jsx("span",{className:_d.bar}),_.jsx("span",{className:_d.bar}),_.jsx("span",{className:_d.bar})]})),yet=A.forwardRef(({className:e,...t},n)=>_.jsxs(Ee,{component:"span",className:ws(_d.dotsLoader,e),...t,ref:n,children:[_.jsx("span",{className:_d.dot}),_.jsx("span",{className:_d.dot}),_.jsx("span",{className:_d.dot})]})),vet=A.forwardRef(({className:e,...t},n)=>_.jsx(Ee,{component:"span",className:ws(_d.ovalLoader,e),...t,ref:n})),i2e={bars:get,oval:vet,dots:yet},bet={loaders:i2e,type:"oval"},_et=(e,{size:t,color:n})=>({root:{"--loader-size":mn(t,"loader-size"),"--loader-color":n?ri(n,e):void 0}}),Fp=je((e,t)=>{const n=Ie("Loader",bet,e),{size:r,color:i,type:s,vars:o,className:a,style:u,classNames:l,styles:c,unstyled:f,loaders:d,variant:h,children:p,...m}=n,g=Et({name:"Loader",props:n,classes:_d,className:a,style:u,classNames:l,styles:c,unstyled:f,vars:o,varsResolver:_et});return p?_.jsx(Ee,{...g("root"),ref:t,...m,children:p}):_.jsx(Ee,{...g("root"),ref:t,component:d[s],variant:h,size:r,...m})});Fp.defaultLoaders=i2e;Fp.classes=_d;Fp.displayName="@mantine/core/Loader";var q4={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const cfe={orientation:"horizontal"},wet=(e,{borderWidth:t})=>({group:{"--ai-border-width":Pe(t)}}),FX=je((e,t)=>{const n=Ie("ActionIconGroup",cfe,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=Ie("ActionIconGroup",cfe,e),p=Et({name:"ActionIconGroup",props:n,classes:q4,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:wet,rootSelector:"group"});return _.jsx(Ee,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});FX.classes=q4;FX.displayName="@mantine/core/ActionIconGroup";const Eet={},xet=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":mn(t,"ai-size"),"--ai-radius":n===void 0?void 0:ci(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},W_=_o((e,t)=>{const n=Ie("ActionIcon",Eet,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:u,loading:l,loaderProps:c,size:f,color:d,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":b,autoContrast:w,mod:E,...x}=n,S=Et({name:["ActionIcon",p],props:n,className:r,style:u,classes:q4,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:xet});return _.jsxs(Zs,{...S("root",{active:!v&&!l&&!b}),...x,unstyled:i,variant:s,size:f,disabled:v||l,ref:t,mod:[{loading:l,disabled:v||b},E],children:[_.jsx(qg,{mounted:!!l,transition:"slide-down",duration:150,children:C=>_.jsx(Ee,{component:"span",...S("loader",{style:C}),"aria-hidden":!0,children:_.jsx(Fp,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),_.jsx(Ee,{component:"span",mod:{loading:l},...S("icon"),children:y})]})});W_.classes=q4;W_.displayName="@mantine/core/ActionIcon";W_.Group=FX;const s2e=A.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>_.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:_.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));s2e.displayName="@mantine/core/CloseIcon";var o2e={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Tet={variant:"subtle"},Cet=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":mn(t,"cb-size"),"--cb-radius":n===void 0?void 0:ci(n),"--cb-icon-size":Pe(r)}}),Wg=_o((e,t)=>{const n=Ie("CloseButton",Tet,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:u,style:l,styles:c,unstyled:f,"data-disabled":d,disabled:h,variant:p,icon:m,mod:g,...y}=n,v=Et({name:"CloseButton",props:n,className:a,style:l,classes:o2e,classNames:u,styles:c,unstyled:f,vars:s,varsResolver:Cet});return _.jsxs(Zs,{ref:t,...y,unstyled:f,variant:p,disabled:h,mod:[{disabled:h||d},g],...v("root",{variant:p,active:!h&&!d}),children:[m||_.jsx(s2e,{}),i]})});Wg.classes=o2e;Wg.displayName="@mantine/core/CloseButton";function Aet(e){return A.Children.toArray(e).filter(Boolean)}var a2e={root:"m_4081bf90"};const Iet={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},ket=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Os(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),to=je((e,t)=>{const n=Ie("Group",Iet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:u,gap:l,align:c,justify:f,wrap:d,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...b}=n,w=Aet(u),E=w.length,x=Os(l??"md"),C={childWidth:`calc(${100/E}% - (${x} - ${x} / ${E}))`},I=Et({name:"Group",props:n,stylesCtx:C,className:i,style:s,classes:a2e,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:ket});return _.jsx(Ee,{...I("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...b,children:w})});to.classes=a2e;to.displayName="@mantine/core/Group";var u2e={root:"m_9814e45f"};const Ret={zIndex:Mc("modal")},Net=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&_h(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Pe(i)})`:void 0,"--overlay-radius":s===void 0?void 0:ci(s),"--overlay-z-index":o==null?void 0:o.toString()}}),gk=_o((e,t)=>{const n=Ie("Overlay",Ret,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,fixed:l,center:c,children:f,radius:d,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...b}=n,w=Et({name:"Overlay",props:n,classes:u2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Net});return _.jsx(Ee,{ref:t,...w("root"),mod:[{center:c,fixed:l},v],...b,children:f})});gk.classes=u2e;gk.displayName="@mantine/core/Overlay";const[Pet,Gg]=qo("ModalBase component was not found in tree");function Oet({opened:e,transitionDuration:t}){const[n,r]=A.useState(e),i=A.useRef(),o=F4()?0:t;return A.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function Det({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=iu(e),[u,l]=A.useState(!1),[c,f]=A.useState(!1),d=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=Oet({opened:n,transitionDuration:d});return aCe("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),rCe({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:u,bodyMounted:c,shouldLockScroll:h,setTitleMounted:l,setBodyMounted:f}}const l2e=A.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,trapFocus:s,closeOnEscape:o,returnFocus:a,closeOnClickOutside:u,withinPortal:l,portalProps:c,lockScroll:f,children:d,zIndex:h,shadow:p,padding:m,__vars:g,unstyled:y,removeScrollProps:v,...b},w)=>{const{_id:E,titleMounted:x,bodyMounted:S,shouldLockScroll:C,setTitleMounted:I,setBodyMounted:k}=Det({id:r,transitionProps:i,opened:t,trapFocus:s,closeOnEscape:o,onClose:n,returnFocus:a});return _.jsx(ST,{...c,withinPortal:l,children:_.jsx(Pet,{value:{opened:t,onClose:n,closeOnClickOutside:u,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${E}-title`,getBodyId:()=>`${E}-body`,titleMounted:x,bodyMounted:S,setTitleMounted:I,setBodyMounted:k,trapFocus:s,closeOnEscape:o,zIndex:h,unstyled:y},children:_.jsx(M4,{enabled:C&&f,...v,children:_.jsx(Ee,{ref:w,...b,__vars:{...g,"--mb-z-index":(h||Mc("modal")).toString(),"--mb-shadow":lX(p),"--mb-padding":Os(m)},children:d})})})})});function $et(){const e=Gg();return A.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var rS={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const jX=A.forwardRef(({className:e,...t},n)=>{const r=$et(),i=Gg();return _.jsx(Ee,{ref:n,...t,id:r,className:ws({[rS.body]:!i.unstyled},e)})});jX.displayName="@mantine/core/ModalBaseBody";const BX=A.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Gg();return _.jsx(Wg,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:ws({[rS.close]:!i.unstyled},e),unstyled:i.unstyled})});BX.displayName="@mantine/core/ModalBaseCloseButton";const c2e=A.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=Gg();return _.jsx(qg,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:u=>_.jsx("div",{...n,className:ws({[rS.inner]:!a.unstyled},n.className),children:_.jsx(H4,{active:a.opened&&a.trapFocus,children:_.jsx(wT,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,ref:o,style:[i,u],className:ws({[rS.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})}),UX=A.forwardRef(({className:e,...t},n)=>{const r=Gg();return _.jsx(Ee,{component:"header",ref:n,className:ws({[rS.header]:!r.unstyled},e),...t})});UX.displayName="@mantine/core/ModalBaseHeader";const Met={duration:200,timingFunction:"ease",transition:"fade"};function Let(e){const t=Gg();return{...Met,...t.transitionProps,...e}}const zX=A.forwardRef(({onClick:e,transitionProps:t,style:n,...r},i)=>{const s=Gg(),o=Let(t);return _.jsx(qg,{mounted:s.opened,...o,transition:"fade",children:a=>_.jsx(gk,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e==null||e(u),s.closeOnClickOutside&&s.onClose()},...r})})});zX.displayName="@mantine/core/ModalBaseOverlay";function Fet(){const e=Gg();return A.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const VX=A.forwardRef(({className:e,...t},n)=>{const r=Fet(),i=Gg();return _.jsx(Ee,{component:"h2",ref:n,className:ws({[rS.title]:!i.unstyled},e),...t,id:r})});VX.displayName="@mantine/core/ModalBaseTitle";function f2e({children:e}){return _.jsx(_.Fragment,{children:e})}const[jet,TT]=bT({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Of={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const ffe={},Bet=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${zo(t)} - ${Pe(2)})`}}),W4=je((e,t)=>{const n=Ie("InputDescription",ffe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=Ie("InputDescription",ffe,n),p=TT(),m=Et({name:["InputWrapper",c],props:n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:u,varsResolver:Bet}),g=f&&(p==null?void 0:p.getStyles)||m;return _.jsx(Ee,{component:"p",ref:t,variant:d,size:l,...g("description",p!=null&&p.getStyles?{className:i,style:s}:void 0),...h})});W4.classes=Of;W4.displayName="@mantine/core/InputDescription";const Uet={},zet=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${zo(t)} - ${Pe(2)})`}}),G4=je((e,t)=>{const n=Ie("InputError",Uet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=n,p=Et({name:["InputWrapper",c],props:n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:u,varsResolver:zet}),m=TT(),g=f&&(m==null?void 0:m.getStyles)||p;return _.jsx(Ee,{component:"p",ref:t,variant:d,size:l,...g("error",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});G4.classes=Of;G4.displayName="@mantine/core/InputError";const dfe={labelElement:"label"},Vet=(e,{size:t})=>({label:{"--input-label-size":zo(t),"--input-asterisk-color":void 0}}),Y4=je((e,t)=>{const n=Ie("InputLabel",dfe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,labelElement:l,size:c,required:f,htmlFor:d,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=Ie("InputLabel",dfe,n),b=Et({name:["InputWrapper",m],props:n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:u,varsResolver:Vet}),w=TT(),E=(w==null?void 0:w.getStyles)||b;return _.jsxs(Ee,{...E("label",w!=null&&w.getStyles?{className:i,style:s}:void 0),component:l,variant:g,size:c,ref:t,htmlFor:l==="label"?d:void 0,mod:[{required:f},y],onMouseDown:x=>{h==null||h(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},...v,children:[p,f&&_.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});Y4.classes=Of;Y4.displayName="@mantine/core/InputLabel";const hfe={},HX=je((e,t)=>{const n=Ie("InputPlaceholder",hfe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,__staticSelector:l,variant:c,error:f,mod:d,...h}=Ie("InputPlaceholder",hfe,n),p=Et({name:["InputPlaceholder",l],props:n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return _.jsx(Ee,{...p("placeholder"),mod:[{error:!!f},d],component:"span",variant:c,ref:t,...h})});HX.classes=Of;HX.displayName="@mantine/core/InputPlaceholder";function Het(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const qet={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Wet=(e,{size:t})=>({label:{"--input-label-size":zo(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${zo(t)} - ${Pe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${zo(t)} - ${Pe(2)})`}}),qX=je((e,t)=>{const n=Ie("InputWrapper",qet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,variant:c,__staticSelector:f,inputContainer:d,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:b,labelElement:w,children:E,withAsterisk:x,id:S,required:C,__stylesApiProps:I,mod:k,...R}=n,D=Et({name:["InputWrapper",f],props:I||n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Wet}),P={size:l,variant:c,__staticSelector:f},$=iu(S),L=typeof x=="boolean"?x:C,M=(b==null?void 0:b.id)||`${$}-error`,B=(v==null?void 0:v.id)||`${$}-description`,z=$,H=!!m&&typeof m!="boolean",O=!!g,U=`${H?M:""} ${O?B:""}`,q=U.trim().length>0?U.trim():void 0,F=(y==null?void 0:y.id)||`${$}-label`,V=p&&_.jsx(Y4,{labelElement:w,id:F,htmlFor:z,required:L,...P,...y,children:p},"label"),G=O&&_.jsx(W4,{...v,...P,size:(v==null?void 0:v.size)||P.size,id:(v==null?void 0:v.id)||B,children:g},"description"),Z=_.jsx(A.Fragment,{children:d(E)},"input"),ae=H&&A.createElement(G4,{...b,...P,size:(b==null?void 0:b.size)||P.size,key:"error",id:(b==null?void 0:b.id)||M},m),re=h.map(ue=>{switch(ue){case"label":return V;case"input":return Z;case"description":return G;case"error":return ae;default:return null}});return _.jsx(jet,{value:{getStyles:D,describedBy:q,inputId:z,labelId:F,...Het(h,{hasDescription:O,hasError:H})},children:_.jsx(Ee,{ref:t,variant:c,size:l,mod:[{error:!!m},k],...D("root"),...R,children:re})})});qX.classes=Of;qX.displayName="@mantine/core/InputWrapper";const Get={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Yet=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":mn(t.size,"input-height"),"--input-fz":zo(t.size),"--input-radius":t.radius===void 0?void 0:ci(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Pe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Pe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?mn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),ji=_o((e,t)=>{const n=Ie("Input",Get,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:u,__staticSelector:l,__stylesApiProps:c,size:f,wrapperProps:d,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:b,rightSectionWidth:w,rightSectionPointerEvents:E,leftSectionPointerEvents:x,variant:S,vars:C,pointer:I,multiline:k,radius:R,id:D,withAria:P,withErrorStyles:$,mod:L,inputSize:M,...B}=n,{styleProps:z,rest:H}=H_(B),O=TT(),U={offsetBottom:O==null?void 0:O.offsetBottom,offsetTop:O==null?void 0:O.offsetTop},q=Et({name:["Input",l],props:c||n,classes:Of,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:U,rootSelector:"wrapper",vars:C,varsResolver:Yet}),F=P?{required:u,disabled:p,"aria-invalid":!!h,"aria-describedby":O==null?void 0:O.describedBy,id:(O==null?void 0:O.inputId)||D}:{};return _.jsxs(Ee,{...q("wrapper"),...z,...d,mod:[{error:!!h&&$,pointer:I,disabled:p,multiline:k,"data-with-right-section":!!v,"data-with-left-section":!!m},L],variant:S,size:f,children:[m&&_.jsx("div",{...g,"data-position":"left",...q("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),_.jsx(Ee,{component:"input",...H,...F,ref:t,required:u,mod:{disabled:p,error:!!h&&$},variant:S,__size:M,...q("input")}),v&&_.jsx("div",{...b,"data-position":"right",...q("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:v})]})});ji.classes=Of;ji.Wrapper=qX;ji.Label=Y4;ji.Error=G4;ji.Description=W4;ji.Placeholder=HX;ji.displayName="@mantine/core/Input";function d2e(e,t,n){const r=Ie(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:b,style:w,inputContainer:E,inputWrapperOrder:x,withAsterisk:S,variant:C,vars:I,mod:k,...R}=r,{styleProps:D,rest:P}=H_(R),$={label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:f,styles:l,size:b,style:w,inputContainer:E,inputWrapperOrder:x,withAsterisk:S,variant:C,id:v,mod:k,...y};return{...P,classNames:u,styles:l,unstyled:f,wrapperProps:{...$,...D},inputProps:{required:a,classNames:u,styles:l,unstyled:f,size:b,__staticSelector:d,__stylesApiProps:h||r,error:o,variant:C,id:v}}}const Ket={__staticSelector:"InputBase",withAria:!0},Df=_o((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=d2e("InputBase",Ket,e);return _.jsx(ji.Wrapper,{...r,children:_.jsx(ji,{...n,...i,ref:t})})});Df.classes={...ji.classes,...ji.Wrapper.classes};Df.displayName="@mantine/core/InputBase";const Xet={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var h2e={root:"m_8bffd616"};const Qet={},Ht=_o((e,t)=>{const n=Ie("Flex",Qet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m,...g}=n,y=Et({name:"Flex",classes:h2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u}),v=zs(),b=GR(),w=yCe({styleProps:{gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m},theme:v,data:Xet});return _.jsxs(_.Fragment,{children:[w.hasResponsiveStyles&&_.jsx(V_,{selector:`.${b}`,styles:w.styles,media:w.media}),_.jsx(Ee,{ref:t,...y("root",{className:b,style:Ov(w.inlineStyles)}),...g})]})});Ht.classes=h2e;Ht.displayName="@mantine/core/Flex";function Jet(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function Zet({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=A.useRef(),[s,o]=A.useState(!1),[a,u]=A.useState(typeof r=="boolean"?r:!1),l=()=>{if(!e||!t)return;const h=e.getBoundingClientRect(),p=t.getBoundingClientRect(),m={top:h.top-p.top,left:h.left-p.left,width:h.width,height:h.height};n.current&&(n.current.style.transform=`translateY(${m.top}px) translateX(${m.left}px)`,n.current.style.width=`${m.width}px`,n.current.style.height=`${m.height}px`)},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),l(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},f=A.useRef(),d=A.useRef();return A.useEffect(()=>{if(l(),e)return f.current=new ResizeObserver(c),f.current.observe(e),t&&(d.current=new ResizeObserver(c),d.current.observe(t)),()=>{var h,p;(h=f.current)==null||h.disconnect(),(p=d.current)==null||p.disconnect()}},[t,e]),A.useEffect(()=>{if(t){const h=p=>{Jet(p.target,t)&&(c(),u(!1))};return document.addEventListener("transitionend",h),()=>{document.removeEventListener("transitionend",h)}}},[t]),ZXe(()=>{cCe()!=="test"&&o(!0)},20,{autoInvoke:!0}),eQe(h=>{h.forEach(p=>{p.type==="attributes"&&p.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var p2e={root:"m_96b553a6"};const ett={},ttt=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),WX=je((e,t)=>{const n=Ie("FloatingIndicator",ett,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,target:l,parent:c,transitionDuration:f,mod:d,displayAfterTransitionEnd:h,...p}=n,m=Et({name:"FloatingIndicator",classes:p2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ttt}),g=A.useRef(null),{initialized:y,hidden:v}=Zet({target:l,parent:c,ref:g,displayAfterTransitionEnd:h}),b=Us(t,g);return!l||!c?null:_.jsx(Ee,{ref:b,mod:[{initialized:y,hidden:v},d],...m("root"),...p})});WX.displayName="@mantine/core/FloatingIndicator";WX.classes=p2e;const[ntt,GX]=qo("Accordion component was not found in the tree");function iS({style:e,size:t=16,...n}){return _.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Pe(t),height:Pe(t),display:"block"},...n,children:_.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}iS.displayName="@mantine/core/AccordionChevron";const[rtt,m2e]=qo("Accordion.Item component was not found in the tree");var KR={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const itt={},YX=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:u,onClick:l,onKeyDown:c,children:f,disabled:d,mod:h,...p}=Ie("AccordionControl",itt,e),{value:m}=m2e(),g=GX(),y=g.isItemActive(m),v=typeof g.order=="number",b=`h${g.order}`,w=_.jsxs(Zs,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:d},h],ref:t,onClick:E=>{l==null||l(E),g.onChange(m)},type:"button",disabled:d,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:uX({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[_.jsx(Ee,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),_.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:f}),u&&_.jsx(Ee,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:u})]});return v?_.jsx(b,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:w}):w});YX.displayName="@mantine/core/AccordionControl";YX.classes=KR;const stt={},KX=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:u,...l}=Ie("AccordionItem",stt,e),c=GX();return _.jsx(rtt,{value:{value:a},children:_.jsx(Ee,{ref:t,mod:[{active:c.isItemActive(a)},u],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...l})})});KX.displayName="@mantine/core/AccordionItem";KX.classes=KR;const ott={},XX=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...u}=Ie("AccordionPanel",ott,e),{value:l}=m2e(),c=GX();return _.jsx(U4,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...u,in:c.isItemActive(l),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(l),"aria-labelledby":c.getControlId(l),children:_.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});XX.displayName="@mantine/core/AccordionPanel";XX.classes=KR;const att={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:_.jsx(iS,{})},utt=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Pe(n),"--accordion-radius":r===void 0?void 0:ci(r)}});function rl(e){const t=Ie("Accordion",att,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:u,multiple:l,value:c,defaultValue:f,onChange:d,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:b,chevron:w,variant:E,radius:x,...S}=t,C=iu(h),[I,k]=eo({value:c,defaultValue:f,finalValue:l?[]:null,onChange:d}),R=$=>Array.isArray(I)?I.includes($):$===I,D=$=>{const L=Array.isArray(I)?I.includes($)?I.filter(M=>M!==$):[...I,$]:$===I?null:$;k(L)},P=Et({name:"Accordion",classes:KR,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:utt});return _.jsx(ntt,{value:{isItemActive:R,onChange:D,getControlId:WM(`${C}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:WM(`${C}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:b,chevron:w,loop:p,getStyles:P,variant:E,unstyled:o},children:_.jsx(Ee,{...P("root"),id:C,...S,variant:E,"data-accordion":!0,children:u})})}const ltt=e=>e;rl.extend=ltt;rl.classes=KR;rl.displayName="@mantine/core/Accordion";rl.Item=KX;rl.Panel=XX;rl.Control=YX;rl.Chevron=iS;var g2e={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const ctt={},ftt=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:ci(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},CT=je((e,t)=>{const n=Ie("Alert",ctt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,radius:l,color:c,title:f,children:d,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:b,...w}=n,E=Et({name:"Alert",classes:g2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ftt}),x=iu(h),S=f&&`${x}-title`||void 0,C=`${x}-body`;return _.jsx(Ee,{id:x,...E("root",{variant:v}),variant:v,ref:t,...w,role:"alert","aria-describedby":C,"aria-labelledby":S,children:_.jsxs("div",{...E("wrapper"),children:[p&&_.jsx("div",{...E("icon"),children:p}),_.jsxs("div",{...E("body"),children:[f&&_.jsx("div",{...E("title"),"data-with-close-button":m||void 0,children:_.jsx("span",{id:S,...E("label"),children:f})}),d&&_.jsx("div",{id:C,...E("message"),"data-variant":v,children:d})]}),m&&_.jsx(Wg,{...E("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});CT.classes=g2e;CT.displayName="@mantine/core/Alert";var y2e={root:"m_b6d8b162"};function dtt(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const htt={inherit:!1},ptt=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":zo(i),"--text-lh":nCe(i),"--text-gradient":t==="gradient"?YV(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?ri(s,e):void 0}}),lt=_o((e,t)=>{const n=Ie("Text",htt,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:u,__staticSelector:l,vars:c,className:f,style:d,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...b}=n,w=Et({name:["Text",l],props:n,classes:y2e,className:f,style:d,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:ptt});return _.jsx(Ee,{...w("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:g,mod:[{"data-truncate":dtt(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},y],size:v,...b})});lt.classes=y2e;lt.displayName="@mantine/core/Text";var v2e={root:"m_849cf0da"};const mtt={underline:"hover"},AT=_o((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=Ie("Anchor",mtt,e);return _.jsx(lt,{component:"a",ref:t,className:ws({[v2e.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});AT.classes=v2e;AT.displayName="@mantine/core/Anchor";const[gtt,IT]=qo("AppShell was not found in tree");var Lv={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const ytt={},QX=je((e,t)=>{const n=Ie("AppShellAside",ytt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=IT();return h.disabled?null:_.jsx(Ee,{component:"aside",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});QX.classes=Lv;QX.displayName="@mantine/core/AppShellAside";const vtt={},JX=je((e,t)=>{var p;const n=Ie("AppShellFooter",vtt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=IT();return h.disabled?null:_.jsx(Ee,{component:"footer",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("footer",{className:ws({[M4.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});JX.classes=Lv;JX.displayName="@mantine/core/AppShellFooter";const btt={},ZX=je((e,t)=>{var p;const n=Ie("AppShellHeader",btt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=IT();return h.disabled?null:_.jsx(Ee,{component:"header",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("header",{className:ws({[M4.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});ZX.classes=Lv;ZX.displayName="@mantine/core/AppShellHeader";const _tt={},eQ=je((e,t)=>{const n=Ie("AppShellMain",_tt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=IT();return _.jsx(Ee,{component:"main",ref:t,...l.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...u})});eQ.classes=Lv;eQ.displayName="@mantine/core/AppShellMain";function XR(e){return typeof e=="object"?e.base:e}function QR(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function JR(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function wtt({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var u,l,c;const s=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),QR(s)){const f=Pe(XR(s));e["--app-shell-aside-width"]=f,e["--app-shell-aside-offset"]=f}if(JR(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=Pe(s.base),e["--app-shell-aside-offset"]=Pe(s.base)),yi(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-aside-width"]=Pe(s[f]),t[f]["--app-shell-aside-offset"]=Pe(s[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-aside-transform"]=o,t[f]["--app-shell-aside-transform-rtl"]=a,t[f]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=cX(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-aside-width"]="100%",n[f]["--app-shell-aside-offset"]="0px",n[f]["--app-shell-aside-transform"]=o,n[f]["--app-shell-aside-transform-rtl"]=a}}function Ett({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(QR(r)){const o=Pe(XR(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}JR(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Pe(r.base),s&&(e["--app-shell-footer-offset"]=Pe(r.base))),yi(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=Pe(r[o]),s&&(t[o]["--app-shell-footer-offset"]=Pe(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function xtt({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(QR(r)){const o=Pe(XR(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}JR(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Pe(r.base),s&&(e["--app-shell-header-offset"]=Pe(r.base))),yi(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=Pe(r[o]),s&&(t[o]["--app-shell-header-offset"]=Pe(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function Stt({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var u,l,c;const s=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),QR(s)){const f=Pe(XR(s));e["--app-shell-navbar-width"]=f,e["--app-shell-navbar-offset"]=f}if(JR(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=Pe(s.base),e["--app-shell-navbar-offset"]=Pe(s.base)),yi(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-navbar-width"]=Pe(s[f]),t[f]["--app-shell-navbar-offset"]=Pe(s[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-navbar-transform"]=o,t[f]["--app-shell-navbar-transform-rtl"]=a,t[f]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=cX(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-navbar-width"]="100%",n[f]["--app-shell-navbar-offset"]="0px",n[f]["--app-shell-navbar-transform"]=o,n[f]["--app-shell-navbar-transform-rtl"]=a}}function _9(e){return Number(e)===0?"0px":Os(e)}function Ttt({padding:e,baseStyles:t,minMediaStyles:n}){QR(e)&&(t["--app-shell-padding"]=_9(XR(e))),JR(e)&&(e.base&&(t["--app-shell-padding"]=_9(e.base)),yi(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=_9(e[r]))}))}function Ctt({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},u={};Stt({baseStyles:u,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),wtt({baseStyles:u,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),xtt({baseStyles:u,minMediaStyles:o,header:t}),Ett({baseStyles:u,minMediaStyles:o,footer:n}),Ttt({baseStyles:u,minMediaStyles:o,padding:i});const l=hk(yi(o),s).map(d=>({query:`(min-width: ${qM(d.px)})`,styles:o[d.value]})),c=hk(yi(a),s).map(d=>({query:`(max-width: ${qM(d.px)})`,styles:a[d.value]})),f=[...l,...c];return{baseStyles:u,media:f}}function Att({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=zs(),o=$v(),{media:a,baseStyles:u}=Ctt({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return _.jsx(V_,{media:a,styles:u,selector:o.cssVariablesSelector})}const Itt={},tQ=je((e,t)=>{const n=Ie("AppShellNavbar",Itt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=IT();return h.disabled?null:_.jsx(Ee,{component:"nav",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});tQ.classes=Lv;tQ.displayName="@mantine/core/AppShellNavbar";const ktt={},nQ=_o((e,t)=>{const n=Ie("AppShellSection",ktt,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:u,mod:l,...c}=n,f=IT();return _.jsx(Ee,{ref:t,mod:[{grow:u},l],...f.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});nQ.classes=Lv;nQ.displayName="@mantine/core/AppShellSection";function Rtt({transitionDuration:e,disabled:t}){const[n,r]=A.useState(!0),i=A.useRef(),s=A.useRef();return aCe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>r(!1),200)}),z_(()=>{A.startTransition(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const Ntt={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Mc("app")},Ptt=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Fi=je((e,t)=>{const n=Ie("AppShell",Ntt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,navbar:l,withBorder:c,padding:f,transitionDuration:d,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:b,offsetScrollbars:w,mod:E,...x}=n,S=Et({name:"AppShell",classes:Lv,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Ptt}),C=Rtt({disabled:y,transitionDuration:d});return _.jsxs(gtt,{value:{getStyles:S,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:w},children:[_.jsx(Att,{navbar:l,header:p,aside:v,footer:b,padding:f}),_.jsx(Ee,{ref:t,...S("root"),mod:[{resizing:C,layout:g,disabled:y},E],...x})]})});Fi.classes=Lv;Fi.displayName="@mantine/core/AppShell";Fi.Navbar=tQ;Fi.Header=ZX;Fi.Main=eQ;Fi.Aside=QX;Fi.Footer=JX;Fi.Section=nQ;function b2e(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>b2e(t))}:e}function _2e(e){return e?e.map(t=>b2e(t)):[]}function rQ(e){return e.reduce((t,n)=>"group"in n?{...t,...rQ(n.items)}:(t[n.value]=n,t),{})}var Pl={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Ott={error:null},Dtt=(e,{size:t})=>({chevron:{"--combobox-chevron-size":mn(t,"combobox-chevron-size")}}),iQ=je((e,t)=>{const n=Ie("ComboboxChevron",Ott,e),{size:r,error:i,style:s,className:o,classNames:a,styles:u,unstyled:l,vars:c,mod:f,...d}=n,h=Et({name:"ComboboxChevron",classes:Pl,props:n,style:s,className:o,classNames:a,styles:u,unstyled:l,vars:c,varsResolver:Dtt,rootSelector:"chevron"});return _.jsx(Ee,{component:"svg",...d,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},f],ref:t,children:_.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});iQ.classes=Pl;iQ.displayName="@mantine/core/ComboboxChevron";const[$tt,$f]=qo("Combobox component was not found in tree"),w2e=A.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>_.jsx(Wg,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));w2e.displayName="@mantine/core/ComboboxClearButton";const Mtt={},sQ=je((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=Ie("ComboboxDropdown",Mtt,e),u=$f();return _.jsx(pa.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...u.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});sQ.classes=Pl;sQ.displayName="@mantine/core/ComboboxDropdown";const Ltt={refProp:"ref"},E2e=je((e,t)=>{const{children:n,refProp:r}=Ie("ComboboxDropdownTarget",Ltt,e);if($f(),!Dv(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return _.jsx(pa.Target,{ref:t,refProp:r,children:n})});E2e.displayName="@mantine/core/ComboboxDropdownTarget";const Ftt={},oQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("ComboboxEmpty",Ftt,e),u=$f();return _.jsx(Ee,{ref:t,...u.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});oQ.classes=Pl;oQ.displayName="@mantine/core/ComboboxEmpty";function aQ({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=$f(),[a,u]=A.useState(null),l=f=>{if(e==null||e(f),!o.readOnly&&t){if(f.nativeEvent.isComposing)return;if(f.nativeEvent.code==="ArrowDown"&&(f.preventDefault(),o.store.dropdownOpened?u(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),u(o.store.selectActiveOption()))),f.nativeEvent.code==="ArrowUp"&&(f.preventDefault(),o.store.dropdownOpened?u(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),u(o.store.selectActiveOption()))),f.nativeEvent.code==="Enter"||f.nativeEvent.code==="NumpadEnter"){if(f.nativeEvent.keyCode===229)return;const d=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&d!==-1?(f.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(f.preventDefault(),o.store.openDropdown("keyboard"))}f.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),f.nativeEvent.code==="Space"&&i==="button"&&(f.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const jtt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},x2e=je((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:u,...l}=Ie("ComboboxEventsTarget",jtt,e);if(!Dv(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=$f(),f=aQ({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:u});return A.cloneElement(n,{...f,...l,[r]:Us(t,c.store.targetRef,n==null?void 0:n.ref)})});x2e.displayName="@mantine/core/ComboboxEventsTarget";const Btt={},uQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("ComboboxFooter",Btt,e),u=$f();return _.jsx(Ee,{ref:t,...u.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a})});uQ.classes=Pl;uQ.displayName="@mantine/core/ComboboxFooter";const Utt={},lQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:u,...l}=Ie("ComboboxGroup",Utt,e),c=$f();return _.jsxs(Ee,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...l,children:[u&&_.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:u}),a]})});lQ.classes=Pl;lQ.displayName="@mantine/core/ComboboxGroup";const ztt={},cQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("ComboboxHeader",ztt,e),u=$f();return _.jsx(Ee,{ref:t,...u.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a})});cQ.classes=Pl;cQ.displayName="@mantine/core/ComboboxHeader";function S2e({value:e,valuesDivider:t=",",...n}){return _.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}S2e.displayName="@mantine/core/ComboboxHiddenInput";const Vtt={},fQ=je((e,t)=>{const n=Ie("ComboboxOption",Vtt,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:u,id:l,active:c,onMouseDown:f,onMouseOver:d,disabled:h,selected:p,mod:m,...g}=n,y=$f(),v=A.useId(),b=l||v;return _.jsx(Ee,{...y.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:b,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:w=>{var E;h?w.preventDefault():((E=y.onOptionSubmit)==null||E.call(y,n.value,n),u==null||u(w))},onMouseDown:w=>{w.preventDefault(),f==null||f(w)},onMouseOver:w=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),d==null||d(w)}})});fQ.classes=Pl;fQ.displayName="@mantine/core/ComboboxOption";const Htt={},dQ=je((e,t)=>{const n=Ie("ComboboxOptions",Htt,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:u,labelledBy:l,...c}=n,f=$f(),d=iu(a);return A.useEffect(()=>{f.store.setListId(d)},[d]),_.jsx(Ee,{ref:t,...f.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:d,role:"listbox","aria-labelledby":l,onMouseDown:h=>{h.preventDefault(),u==null||u(h)}})});dQ.classes=Pl;dQ.displayName="@mantine/core/ComboboxOptions";const qtt={withAriaAttributes:!0,withKeyboardNavigation:!0},hQ=je((e,t)=>{const n=Ie("ComboboxSearch",qtt,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:u,withKeyboardNavigation:l,size:c,...f}=n,d=$f(),h=d.getStyles("search"),p=aQ({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return _.jsx(ji,{ref:Us(t,d.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||d.size,...p,...f,__staticSelector:"Combobox"})});hQ.classes=Pl;hQ.displayName="@mantine/core/ComboboxSearch";const Wtt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},T2e=je((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:u,...l}=Ie("ComboboxTarget",Wtt,e);if(!Dv(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=$f(),f=aQ({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:u}),d=A.cloneElement(n,{...f,...l});return _.jsx(pa.Target,{ref:Us(t,c.store.targetRef),children:d})});T2e.displayName="@mantine/core/ComboboxTarget";function Gtt(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ytt(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ktt(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function pQ({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,u]=eo({value:t,defaultValue:e,finalValue:!1,onChange:n}),l=A.useRef(null),c=A.useRef(-1),f=A.useRef(null),d=A.useRef(null),h=A.useRef(-1),p=A.useRef(-1),m=A.useRef(-1),g=A.useCallback((M="unknown")=>{a||(u(!0),i==null||i(M))},[u,i,a]),y=A.useCallback((M="unknown")=>{a&&(u(!1),r==null||r(M))},[u,r,a]),v=A.useCallback((M="unknown")=>{a?y(M):g(M)},[y,g,a]),b=A.useCallback(()=>{const M=document.querySelector(`#${l.current} [data-combobox-selected]`);M==null||M.removeAttribute("data-combobox-selected"),M==null||M.removeAttribute("aria-selected")},[]),w=A.useCallback(M=>{const B=document.getElementById(l.current),z=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!z)return null;const H=M>=z.length?0:M<0?z.length-1:M;return c.current=H,z!=null&&z[H]&&!z[H].hasAttribute("data-combobox-disabled")?(b(),z[H].setAttribute("data-combobox-selected","true"),z[H].setAttribute("aria-selected","true"),z[H].scrollIntoView({block:"nearest",behavior:o}),z[H].id):null},[o,b]),E=A.useCallback(()=>{const M=document.querySelector(`#${l.current} [data-combobox-active]`);if(M){const B=document.querySelectorAll(`#${l.current} [data-combobox-option]`),z=Array.from(B).findIndex(H=>H===M);return w(z)}return w(0)},[w]),x=A.useCallback(()=>w(Ytt(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),s)),[w,s]),S=A.useCallback(()=>w(Gtt(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),s)),[w,s]),C=A.useCallback(()=>w(Ktt(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[w]),I=A.useCallback((M="selected",B)=>{m.current=window.setTimeout(()=>{var O;const z=document.querySelectorAll(`#${l.current} [data-combobox-option]`),H=Array.from(z).findIndex(U=>U.hasAttribute(`data-combobox-${M}`));c.current=H,B!=null&&B.scrollIntoView&&((O=z[H])==null||O.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),k=A.useCallback(()=>{c.current=-1,b()},[b]),R=A.useCallback(()=>{const M=document.querySelectorAll(`#${l.current} [data-combobox-option]`),B=M==null?void 0:M[c.current];B==null||B.click()},[]),D=A.useCallback(M=>{l.current=M},[]),P=A.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),$=A.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),L=A.useCallback(()=>c.current,[]);return A.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:L,selectOption:w,selectFirstOption:C,selectActiveOption:E,selectNextOption:x,selectPreviousOption:S,resetSelectedOption:k,updateSelectedOptionIndex:I,listId:l.current,setListId:D,clickSelectedOption:R,searchRef:f,focusSearchInput:P,targetRef:d,focusTarget:$}}const Xtt={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Qtt=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":zo(t),"--combobox-option-padding":mn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Pe(n),"--combobox-option-fz":zo(t),"--combobox-option-padding":mn(t,"combobox-option-padding")}});function mr(e){const t=Ie("Combobox",Xtt,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:u,onClose:l,size:c,dropdownPadding:f,resetSelectionOnOptionHover:d,__staticSelector:h,readOnly:p,...m}=t,g=pQ(),y=o||g,v=Et({name:h||"Combobox",classes:Pl,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:Qtt}),b=()=>{l==null||l(),y.closeDropdown()};return _.jsx($tt,{value:{getStyles:v,store:y,onOptionSubmit:u,size:c,resetSelectionOnOptionHover:d,readOnly:p},children:_.jsx(pa,{opened:y.dropdownOpened,...m,onClose:b,withRoles:!1,unstyled:i,children:s})})}const Jtt=e=>e;mr.extend=Jtt;mr.classes=Pl;mr.displayName="@mantine/core/Combobox";mr.Target=T2e;mr.Dropdown=sQ;mr.Options=dQ;mr.Option=fQ;mr.Search=hQ;mr.Empty=oQ;mr.Chevron=iQ;mr.Footer=uQ;mr.Header=cQ;mr.EventsTarget=x2e;mr.DropdownTarget=E2e;mr.Group=lQ;mr.ClearButton=w2e;mr.HiddenInput=S2e;var C2e={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const A2e=C2e,K4=A.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:u,id:l,disabled:c,error:f,size:d,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:b,...w},E)=>{const x=Et({name:e,props:t,className:n,style:y,classes:C2e,classNames:r,styles:i,unstyled:s});return _.jsx(Ee,{...x("root"),ref:E,__vars:{"--label-fz":zo(d),"--label-lh":mn(d,"label-lh")},mod:[{"label-position":h},b],variant:g,size:d,...w,children:_.jsxs(Ee,{component:p,htmlFor:p==="label"?l:void 0,...x("body"),children:[o,_.jsxs("div",{...x("labelWrapper"),"data-disabled":c||void 0,children:[a&&_.jsx(Ee,{component:m,htmlFor:m==="label"?l:void 0,...x("label"),"data-disabled":c||void 0,children:a}),u&&_.jsx(ji.Description,{size:d,__inheritStyles:!1,...x("description"),children:u}),f&&typeof f!="boolean"&&_.jsx(ji.Error,{size:d,__inheritStyles:!1,...x("error"),children:f})]})]})})});K4.displayName="@mantine/core/InlineInput";const I2e=A.createContext(null),Ztt=I2e.Provider,k2e=()=>A.useContext(I2e),[ent,tnt]=bT();var R2e={card:"m_26775b0a"};const nnt={withBorder:!0},rnt=(e,{radius:t})=>({card:{"--card-radius":ci(t)}}),mQ=je((e,t)=>{const n=Ie("CheckboxCard",nnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,...p}=n,m=Et({name:"CheckboxCard",classes:R2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:rnt,rootSelector:"card"}),g=k2e(),y=typeof l=="boolean"?l:(g==null?void 0:g.value.includes(d||""))||!1;return _.jsx(ent,{value:{checked:y},children:_.jsx(Zs,{ref:t,mod:[{"with-border":f,checked:y},c],...m("card"),...p,role:"checkbox","aria-checked":y,onClick:v=>{h==null||h(v),g==null||g.onChange(d||"")}})})});mQ.displayName="@mantine/core/CheckboxCard";mQ.classes=R2e;function gQ({children:e,role:t}){const n=TT();return n?_.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):_.jsx(_.Fragment,{children:e})}const int={},yQ=je((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:u,...l}=Ie("CheckboxGroup",int,e),[c,f]=eo({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return _.jsx(Ztt,{value:{value:c,onChange:d,size:s},children:_.jsx(ji.Wrapper,{size:s,ref:t,...o,...l,labelElement:"div",__staticSelector:"CheckboxGroup",children:_.jsx(gQ,{role:"group",children:a})})})});yQ.classes=ji.Wrapper.classes;yQ.displayName="@mantine/core/CheckboxGroup";function N2e({size:e,style:t,...n}){const r=e!==void 0?{width:Pe(e),height:Pe(e),...t}:t;return _.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:_.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function P2e({indeterminate:e,...t}){return e?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:_.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):_.jsx(N2e,{...t})}var O2e={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const snt={icon:P2e},ont=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Mp({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:ci(t),"--checkbox-color":s==="outline"?u:ri(n,e),"--checkbox-icon-color":i?ri(i,e):_T(o,e)?Mv({color:n,theme:e,autoContrast:o}):void 0}}},vQ=je((e,t)=>{const n=Ie("CheckboxIndicator",snt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,icon:l,indeterminate:c,radius:f,color:d,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...b}=n,w=l,E=Et({name:"CheckboxIndicator",classes:O2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:ont,rootSelector:"indicator"}),x=tnt(),S=typeof m=="boolean"||typeof c=="boolean"?m||c:(x==null?void 0:x.checked)||!1;return _.jsx(Ee,{ref:t,...E("indicator",{variant:y}),variant:y,mod:[{checked:S,disabled:v},g],...b,children:_.jsx(w,{indeterminate:c,...E("icon")})})});vQ.displayName="@mantine/core/CheckboxIndicator";vQ.classes=O2e;var D2e={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const ant={labelPosition:"right",icon:P2e},unt=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Mp({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:ci(t),"--checkbox-color":s==="outline"?u:ri(n,e),"--checkbox-icon-color":i?ri(i,e):_T(o,e)?Mv({color:n,theme:e,autoContrast:o}):void 0}}},uc=je((e,t)=>{const n=Ie("Checkbox",ant,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,label:c,id:f,size:d,radius:h,wrapperProps:p,children:m,checked:g,labelPosition:y,description:v,error:b,disabled:w,variant:E,indeterminate:x,icon:S,rootRef:C,iconColor:I,onChange:k,autoContrast:R,mod:D,...P}=n,$=k2e(),L=d||($==null?void 0:$.size),M=S,B=Et({name:"Checkbox",props:n,classes:D2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:unt}),{styleProps:z,rest:H}=H_(P),O=iu(f),U=$?{checked:$.value.includes(H.value),onChange:q=>{$.onChange(q),k==null||k(q)}}:{};return _.jsx(K4,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:O,size:L,labelPosition:y,label:c,description:v,error:b,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":U.checked||g||void 0,variant:E,ref:C,mod:D,...z,...p,children:_.jsxs(Ee,{...B("inner"),mod:{"data-label-position":y},children:[_.jsx(Ee,{component:"input",id:O,ref:t,checked:g,disabled:w,mod:{error:!!b,indeterminate:x},...B("input",{focusable:!0,variant:E}),onChange:k,...H,...U,type:"checkbox"}),_.jsx(M,{indeterminate:x,...B("icon")})]})})});uc.classes={...D2e,...A2e};uc.displayName="@mantine/core/Checkbox";uc.Group=yQ;uc.Indicator=vQ;uc.Card=mQ;function sS(e){return"group"in e}function $2e({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;sS(o)&&i.push({group:o.group,items:$2e({options:o.items,search:t,limit:n-i.length})}),sS(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function lnt(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function M2e(e,t=new Set){if(Array.isArray(e))for(const n of e)if(sS(n))M2e(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function cnt(e,t){return Array.isArray(e)?e.includes(t):e===t}function L2e({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!sS(e)){const a=cnt(n,e.value),u=t&&a&&_.jsx(N2e,{className:Pl.optionsDropdownCheckIcon}),l=_.jsxs(_.Fragment,{children:[r==="left"&&u,_.jsx("span",{children:e.label}),r==="right"&&u]});return _.jsx(mr.Option,{value:e.value,disabled:e.disabled,className:ws({[Pl.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):l})}const o=e.items.map(a=>_.jsx(L2e,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return _.jsx(mr.Group,{label:e.group,children:o})}function F2e({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:u=!0,withCheckIcon:l=!1,value:c,checkIconPosition:f,nothingFoundMessage:d,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){M2e(e);const b=typeof i=="string"?(r||$2e)({options:e,search:u?i:"",limit:s??1/0}):e,w=lnt(b),E=b.map(x=>_.jsx(L2e,{data:x,withCheckIcon:l,value:c,checkIconPosition:f,unstyled:h,renderOption:m},sS(x)?x.group:x.value));return _.jsx(mr.Dropdown,{hidden:t||n&&w,children:_.jsxs(mr.Options,{labelledBy:p,"aria-label":y,children:[a?_.jsx(mg.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:E}):E,w&&d&&_.jsx(mr.Empty,{children:d})]})})}var j2e={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const fnt={},dnt=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":mn(s,"badge-height"),"--badge-padding-x":mn(s,"badge-padding-x"),"--badge-fz":mn(s,"badge-fz"),"--badge-radius":t===void 0?void 0:ci(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?ri(n,e):void 0}}},xy=_o((e,t)=>{const n=Ie("Badge",fnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,radius:l,color:c,gradient:f,leftSection:d,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:b,...w}=n,E=Et({name:"Badge",props:n,classes:j2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:dnt});return _.jsxs(Ee,{variant:m,mod:[{block:g,circle:v},b],...E("root",{variant:m}),ref:t,...w,children:[d&&_.jsx("span",{...E("section"),"data-position":"left",children:d}),_.jsx("span",{...E("label"),children:p}),h&&_.jsx("span",{...E("section"),"data-position":"right",children:h})]})});xy.classes=j2e;xy.displayName="@mantine/core/Badge";var B2e={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const hnt={},pnt=(e,{color:t,size:n,transitionDuration:r,transitionTimingFunction:i})=>({root:{"--burger-color":t?ri(t,e):void 0,"--burger-size":mn(n,"burger-size"),"--burger-transition-duration":r===void 0?void 0:`${r}ms`,"--burger-transition-timing-function":i}}),bQ=je((e,t)=>{const n=Ie("Burger",hnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,opened:l,children:c,transitionDuration:f,transitionTimingFunction:d,...h}=n,p=Et({name:"Burger",classes:B2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:pnt});return _.jsxs(Zs,{...p("root"),ref:t,...h,children:[_.jsx(Ee,{mod:["reduce-motion",{opened:l}],...p("burger")}),c]})});bQ.classes=B2e;bQ.displayName="@mantine/core/Burger";var X4={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const pfe={orientation:"horizontal"},mnt=(e,{borderWidth:t})=>({group:{"--button-border-width":Pe(t)}}),_Q=je((e,t)=>{const n=Ie("ButtonGroup",pfe,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=Ie("ButtonGroup",pfe,e),p=Et({name:"ButtonGroup",props:n,classes:X4,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:mnt,rootSelector:"group"});return _.jsx(Ee,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});_Q.classes=X4;_Q.displayName="@mantine/core/ButtonGroup";const gnt={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Pe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},ynt={},vnt=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":mn(s,"button-height"),"--button-padding-x":mn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?zo(s.replace("compact-","")):zo(s),"--button-radius":t===void 0?void 0:ci(t),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},Rn=_o((e,t)=>{const n=Ie("Button",ynt,e),{style:r,vars:i,className:s,color:o,disabled:a,children:u,leftSection:l,rightSection:c,fullWidth:f,variant:d,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:b,"data-disabled":w,autoContrast:E,mod:x,...S}=n,C=Et({name:"Button",props:n,classes:X4,className:s,style:r,classNames:y,styles:v,unstyled:b,vars:i,varsResolver:vnt}),I=!!l,k=!!c;return _.jsxs(Zs,{ref:t,...C("root",{active:!a&&!p&&!w}),unstyled:b,variant:d,disabled:a||p,mod:[{disabled:a||w,loading:p,block:f,"with-left-section":I,"with-right-section":k},x],...S,children:[_.jsx(qg,{mounted:!!p,transition:gnt,duration:150,children:R=>_.jsx(Ee,{component:"span",...C("loader",{style:R}),"aria-hidden":!0,children:_.jsx(Fp,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),_.jsxs("span",{...C("inner"),children:[l&&_.jsx(Ee,{component:"span",...C("section"),mod:{position:"left"},children:l}),_.jsx(Ee,{component:"span",mod:{loading:p},...C("label"),children:u}),c&&_.jsx(Ee,{component:"span",...C("section"),mod:{position:"right"},children:c})]})]})});Rn.classes=X4;Rn.displayName="@mantine/core/Button";Rn.Group=_Q;const[bnt,_nt]=qo("Card component was not found in tree");var wQ={root:"m_e615b15f",section:"m_599a2148"};const wnt={},Q4=_o((e,t)=>{const n=Ie("CardSection",wnt,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:u,inheritPadding:l,mod:c,...f}=n,d=_nt();return _.jsx(Ee,{ref:t,mod:[{"with-border":u,"inherit-padding":l},c],...d.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...f})});Q4.classes=wQ;Q4.displayName="@mantine/core/CardSection";const Ent={},xnt=(e,{padding:t})=>({root:{"--card-padding":Os(t)}}),G_=_o((e,t)=>{const n=Ie("Card",Ent,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,padding:c,...f}=n,d=Et({name:"Card",props:n,classes:wQ,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:xnt}),h=A.Children.toArray(l),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===Q4?A.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return _.jsx(bnt,{value:{getStyles:d},children:_.jsx(wT,{ref:t,unstyled:a,...d("root"),...f,children:p})})});G_.classes=wQ;G_.displayName="@mantine/core/Card";G_.Section=Q4;var U2e={root:"m_4451eb3a"};const Snt={},vg=_o((e,t)=>{const n=Ie("Center",Snt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,inline:l,mod:c,...f}=n,d=Et({name:"Center",props:n,classes:U2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u});return _.jsx(Ee,{ref:t,mod:[{inline:l},c],...d("root"),...f})});vg.classes=U2e;vg.displayName="@mantine/core/Center";var z2e={root:"m_b183c0a2"};const Tnt={},Cnt=(e,{color:t})=>({root:{"--code-bg":t?ri(t,e):void 0}}),tI=je((e,t)=>{const n=Ie("Code",Tnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,block:c,variant:f,mod:d,...h}=n,p=Et({name:"Code",props:n,classes:z2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Cnt});return _.jsx(Ee,{component:c?"pre":"code",variant:f,ref:t,mod:[{block:c},d],...p("root"),...h,dir:"ltr"})});tI.classes=z2e;tI.displayName="@mantine/core/Code";var V2e={root:"m_7485cace"};const Ant={},Int=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:mn(t,"container-size")}}),Ef=je((e,t)=>{const n=Ie("Container",Ant,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,fluid:l,mod:c,...f}=n,d=Et({name:"Container",classes:V2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Int});return _.jsx(Ee,{ref:t,mod:[{fluid:l},c],...d("root"),...f})});Ef.classes=V2e;Ef.displayName="@mantine/core/Container";var H2e={root:"m_3eebeb36",label:"m_9e365f20"};const knt={orientation:"horizontal"},Rnt=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ri(t,e):void 0,"--divider-border-style":n,"--divider-size":mn(r,"divider-size")}}),oS=je((e,t)=>{const n=Ie("Divider",knt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,orientation:c,label:f,labelPosition:d,mod:h,...p}=n,m=Et({name:"Divider",classes:H2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Rnt});return _.jsx(Ee,{ref:t,mod:[{orientation:c,"with-label":!!f},h],...m("root"),...p,role:"separator",children:f&&_.jsx(Ee,{component:"span",mod:{position:d},...m("label"),children:f})})});oS.classes=H2e;oS.displayName="@mantine/core/Divider";const[Nnt,kT]=qo("Drawer component was not found in tree");var Yg={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const Pnt={},J4=je((e,t)=>{const n=Ie("DrawerBody",Pnt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=kT();return _.jsx(jX,{ref:t,...l.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...u})});J4.classes=Yg;J4.displayName="@mantine/core/DrawerBody";const Ont={},Z4=je((e,t)=>{const n=Ie("DrawerCloseButton",Ont,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=kT();return _.jsx(BX,{ref:t,...l.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...u})});Z4.classes=Yg;Z4.displayName="@mantine/core/DrawerCloseButton";const Dnt={},eF=je((e,t)=>{const n=Ie("DrawerContent",Dnt,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:u,radius:l,...c}=n,f=kT(),d=f.scrollAreaComponent||f2e;return _.jsx(c2e,{...f.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:f.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),ref:t,...c,radius:l||f.radius||0,children:_.jsx(d,{style:{height:"100vh"},children:u})})});eF.classes=Yg;eF.displayName="@mantine/core/DrawerContent";const $nt={},tF=je((e,t)=>{const n=Ie("DrawerHeader",$nt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=kT();return _.jsx(UX,{ref:t,...l.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...u})});tF.classes=Yg;tF.displayName="@mantine/core/DrawerHeader";const Mnt={},nF=je((e,t)=>{const n=Ie("DrawerOverlay",Mnt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=kT();return _.jsx(zX,{ref:t,...l.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...u})});nF.classes=Yg;nF.displayName="@mantine/core/DrawerOverlay";function Lnt(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function Fnt(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const jnt={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},Bnt={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},Unt={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Mc("modal"),position:"left"},znt=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":mn(n,"drawer-size"),"--drawer-flex":Fnt(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":Lnt(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Pe(r)}}),rF=je((e,t)=>{const n=Ie("DrawerRoot",Unt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,scrollAreaComponent:l,position:c,transitionProps:f,radius:d,...h}=n,{dir:p}=Lp(),m=Et({name:"Drawer",classes:Yg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:znt}),g=(p==="rtl"?Bnt:jnt)[c];return _.jsx(Nnt,{value:{scrollAreaComponent:l,getStyles:m,radius:d},children:_.jsx(l2e,{ref:t,...m("root"),transitionProps:{transition:g,...f},unstyled:a,...h})})});rF.classes=Yg;rF.displayName="@mantine/core/DrawerRoot";const Vnt={},iF=je((e,t)=>{const n=Ie("DrawerTitle",Vnt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=kT();return _.jsx(VX,{ref:t,...l.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...u})});iF.classes=Yg;iF.displayName="@mantine/core/DrawerTitle";const Hnt={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Mc("modal"),withOverlay:!0,withCloseButton:!0},jp=je((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,...u}=Ie("Drawer",Hnt,e),l=!!n||s;return _.jsxs(rF,{ref:t,...u,children:[r&&_.jsx(nF,{...i}),_.jsxs(eF,{children:[l&&_.jsxs(tF,{children:[n&&_.jsx(iF,{children:n}),s&&_.jsx(Z4,{...o})]}),_.jsx(J4,{children:a})]})]})});jp.classes=Yg;jp.displayName="@mantine/core/Drawer";jp.Root=rF;jp.Overlay=nF;jp.Content=eF;jp.Body=J4;jp.Header=tF;jp.Title=iF;jp.CloseButton=Z4;function qnt({open:e,close:t,openDelay:n,closeDelay:r}){const i=A.useRef(-1),s=A.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return A.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}const[Wnt,q2e]=qo("Grid component was not found in tree"),iH=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,mfe=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":iH(e,t),gfe=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},yfe=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function Gnt({span:e,order:t,offset:n,selector:r}){var d;const i=zs(),s=q2e(),a=bd(e)===void 0?12:bd(e),u=Ov({"--col-order":(d=bd(t))==null?void 0:d.toString(),"--col-flex-grow":gfe(a,s.grow),"--col-flex-basis":iH(a,s.columns),"--col-width":a==="content"?"auto":void 0,"--col-max-width":mfe(a,s.columns,s.grow),"--col-offset":yfe(bd(n),s.columns)}),l=yi(i.breakpoints).reduce((h,p)=>{var m;return h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=(m=t[p])==null?void 0:m.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=gfe(e[p],s.grow),h[p]["--col-flex-basis"]=iH(e[p],s.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=mfe(e[p],s.columns,s.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=yfe(n[p],s.columns)),h},{}),f=hk(yi(l),i).filter(h=>yi(l[h.value]).length>0).map(h=>({query:`(min-width: ${i.breakpoints[h.value]})`,styles:l[h.value]}));return _.jsx(V_,{styles:u,media:f,selector:r})}var EQ={root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const Ynt={span:12},xQ=je((e,t)=>{const n=Ie("GridCol",Ynt,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:u,order:l,offset:c,...f}=n,d=q2e(),h=GR();return _.jsxs(_.Fragment,{children:[_.jsx(Gnt,{selector:`.${h}`,span:u,order:l,offset:c}),_.jsx(Ee,{ref:t,...d.getStyles("col",{className:ws(i,h),style:s,classNames:r,styles:o}),...f})]})});xQ.classes=EQ;xQ.displayName="@mantine/core/GridCol";function Knt({gutter:e,selector:t}){const n=zs(),r=Ov({"--grid-gutter":Os(bd(e))}),i=yi(n.breakpoints).reduce((a,u)=>(a[u]||(a[u]={}),typeof e=="object"&&e[u]!==void 0&&(a[u]["--grid-gutter"]=Os(e[u])),a),{}),o=hk(yi(i),n).filter(a=>yi(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return _.jsx(V_,{styles:r,media:o,selector:t})}const Xnt={gutter:"md",grow:!1,columns:12},Qnt=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Eu=je((e,t)=>{const n=Ie("Grid",Xnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,grow:l,gutter:c,columns:f,align:d,justify:h,children:p,...m}=n,g=Et({name:"Grid",classes:EQ,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Qnt}),y=GR();return _.jsxs(Wnt,{value:{getStyles:g,grow:l,columns:f},children:[_.jsx(Knt,{selector:`.${y}`,...n}),_.jsx(Ee,{ref:t,...g("root",{className:y}),...m,children:_.jsx("div",{...g("inner"),children:p})})]})});Eu.classes=EQ;Eu.displayName="@mantine/core/Grid";Eu.Col=xQ;var W2e={root:"m_9e117634"};const Jnt={},Znt=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:ci(t),"--image-object-fit":n}}),Fv=_o((e,t)=>{const n=Ie("Image",Jnt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,onError:l,src:c,radius:f,fit:d,fallbackSrc:h,mod:p,...m}=n,[g,y]=A.useState(!c);A.useEffect(()=>y(!c),[c]);const v=Et({name:"Image",classes:W2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Znt});return g&&h?_.jsx(Ee,{component:"img",ref:t,src:h,...v("root"),onError:l,mod:["fallback",p],...m}):_.jsx(Ee,{component:"img",ref:t,...v("root"),src:c,onError:b=>{l==null||l(b),y(!0)},mod:p,...m})});Fv.classes=W2e;Fv.displayName="@mantine/core/Image";function sH(){return sH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sH.apply(null,arguments)}function ert(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var trt=A.useLayoutEffect,nrt=function(t){var n=A.useRef(t);return trt(function(){n.current=t}),n},vfe=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},rrt=function(t,n){var r=A.useRef();return A.useCallback(function(i){t.current=i,r.current&&vfe(r.current,null),r.current=n,n&&vfe(n,i)},[n])},bfe={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},irt=function(t){Object.keys(bfe).forEach(function(n){t.style.setProperty(n,bfe[n],"important")})},_fe=irt,uu=null,wfe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function srt(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),uu||(uu=document.createElement("textarea"),uu.setAttribute("tabindex","-1"),uu.setAttribute("aria-hidden","true"),_fe(uu)),uu.parentNode===null&&document.body.appendChild(uu);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;uu.style[h]=o[h]}),_fe(uu),uu.value=t;var u=wfe(uu,e);uu.value=t,u=wfe(uu,e),uu.value="x";var l=uu.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var Efe=function(){},ort=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},art=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],urt=!!document.documentElement.currentStyle,lrt=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=ort(art,n),i=r.boxSizing;if(i==="")return null;urt&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},crt=lrt;function G2e(e,t,n){var r=nrt(n);A.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var frt=function(t){G2e(window,"resize",t)},drt=function(t){G2e(document.fonts,"loadingdone",t)},hrt=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],prt=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?Efe:o,u=t.onHeightChange,l=u===void 0?Efe:u,c=ert(t,hrt),f=c.value!==void 0,d=A.useRef(null),h=rrt(d,n),p=A.useRef(0),m=A.useRef(),g=function(){var b=d.current,w=r&&m.current?m.current:crt(b);if(w){m.current=w;var E=srt(w,b.value||b.placeholder||"x",s,i),x=E[0],S=E[1];p.current!==x&&(p.current=x,b.style.setProperty("height",x+"px","important"),l(x,{rowHeight:S}))}},y=function(b){f||g(),a(b)};return A.useLayoutEffect(g),frt(g),drt(g),A.createElement("textarea",sH({},c,{onChange:y,ref:h}))},mrt=A.forwardRef(prt);const grt={},SQ=je((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=Ie("Textarea",grt,e),u=n&&cCe()!=="test",l=u?{maxRows:r,minRows:i}:{};return _.jsx(Df,{component:u?mrt:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...l})});SQ.classes=Df.classes;SQ.displayName="@mantine/core/Textarea";const[yrt,vrt]=qo("List component was not found in tree");var TQ={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const brt={},CQ=je((e,t)=>{const n=Ie("ListItem",brt,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:u,children:l,mod:c,...f}=n,d=vrt(),h=u||d.icon,p={classNames:r,styles:o};return _.jsx(Ee,{...d.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:d.center},c],ref:t,...f,children:_.jsxs("div",{...d.getStyles("itemWrapper",p),children:[h&&_.jsx("span",{...d.getStyles("itemIcon",p),children:h}),_.jsx("span",{...d.getStyles("itemLabel",p),children:l})]})})});CQ.classes=TQ;CQ.displayName="@mantine/core/ListItem";const _rt={type:"unordered"},wrt=(e,{size:t,spacing:n})=>({root:{"--list-fz":zo(t),"--list-lh":nCe(t),"--list-spacing":Os(n)}}),kd=je((e,t)=>{const n=Ie("List",_rt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,type:c,withPadding:f,icon:d,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=Et({name:"List",classes:TQ,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:wrt});return _.jsx(yrt,{value:{center:p,icon:d,getStyles:v},children:_.jsx(Ee,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":f},g],ref:t,...y,children:l})})});kd.classes=TQ;kd.displayName="@mantine/core/List";kd.Item=CQ;var Y2e={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const xfe={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Mc("overlay")},Ert=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Ec=je((e,t)=>{const n=Ie("LoadingOverlay",xfe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,transitionProps:l,loaderProps:c,overlayProps:f,visible:d,zIndex:h,...p}=n,m=zs(),g=Et({name:"LoadingOverlay",classes:Y2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Ert}),y={...xfe.overlayProps,...f};return _.jsx(qg,{transition:"fade",...l,mounted:!!d,children:v=>_.jsxs(Ee,{...g("root",{style:v}),ref:t,...p,children:[_.jsx(Fp,{...g("loader"),unstyled:a,...c}),_.jsx(gk,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.white}),_.jsx(gk,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.colors.dark[5]})]})})});Ec.classes=Y2e;Ec.displayName="@mantine/core/LoadingOverlay";const[xrt,ZR]=qo("Menu component was not found in the tree");var RT={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Srt={},AQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("MenuDivider",Srt,e),u=ZR();return _.jsx(Ee,{ref:t,...u.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});AQ.classes=RT;AQ.displayName="@mantine/core/MenuDivider";const Trt={},IQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:u,children:l,...c}=Ie("MenuDropdown",Trt,e),f=A.useRef(null),d=ZR(),h=g=>{var y,v;(g.key==="ArrowUp"||g.key==="ArrowDown")&&(g.preventDefault(),(v=(y=f.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||v.focus())},p=jm(a,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.openDropdown()),m=jm(u,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.closeDropdown());return _.jsxs(pa.Dropdown,{...c,onMouseEnter:p,onMouseLeave:m,role:"menu","aria-orientation":"vertical",ref:Us(t,f),...d.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[_.jsx("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),l]})});IQ.classes=RT;IQ.displayName="@mantine/core/MenuDropdown";const Crt={},kQ=_o((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:u,leftSection:l,rightSection:c,children:f,disabled:d,...h}=Ie("MenuItem",Crt,e),p=ZR(),m=zs(),{dir:g}=Lp(),y=A.useRef(),v=p.getItemIndex(y.current),b=h,w=jm(b.onMouseLeave,()=>p.setHovered(-1)),E=jm(b.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),x=jm(b.onClick,()=>{typeof u=="boolean"?u&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),S=jm(b.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),C=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,I=a?Mp({color:a,theme:m}):null;return _.jsxs(Zs,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:S,...p.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:Us(y,t),role:"menuitem",disabled:d,"data-menu-item":!0,"data-disabled":d||void 0,"data-hovered":p.hovered===v?!0:void 0,onMouseEnter:E,onMouseLeave:w,onClick:x,onKeyDown:uX({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:g,orientation:"vertical",onKeyDown:b.onKeydown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[l&&_.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:l}),f&&_.jsx("div",{...p.getStyles("itemLabel",{styles:s,classNames:n}),children:f}),c&&_.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});kQ.classes=RT;kQ.displayName="@mantine/core/MenuItem";const Art={},RQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("MenuLabel",Art,e),u=ZR();return _.jsx(Ee,{ref:t,...u.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});RQ.classes=RT;RQ.displayName="@mantine/core/MenuLabel";const Irt={refProp:"ref"},K2e=A.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Ie("MenuTarget",Irt,e);if(!Dv(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=ZR(),o=jm(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=jm(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=jm(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return _.jsx(pa.Target,{refProp:r,popupType:"menu",ref:t,...i,children:A.cloneElement(n,{onClick:o,onMouseEnter:a,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});K2e.displayName="@mantine/core/MenuTarget";const krt={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function ul(e){const t=Ie("Menu",krt,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:u,closeOnItemClick:l,loop:c,closeOnEscape:f,trigger:d,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:b,menuItemTabIndex:w,keepMounted:E,...x}=t,S=Et({name:"Menu",classes:RT,props:t,classNames:m,styles:g,unstyled:y}),[C,{setHovered:I,resetHovered:k}]=NXe(),[R,D]=eo({value:s,defaultValue:o,finalValue:!1,onChange:u}),[P,$]=A.useState(!1),L=()=>{D(!1),$(!1),R&&(i==null||i())},M=()=>{D(!0),!R&&(r==null||r())},B=()=>{R?L():M()},{openDropdown:z,closeDropdown:H}=qnt({open:M,close:L,closeDelay:p,openDelay:h}),O=F=>RXe("[data-menu-item]","[data-menu-dropdown]",F),{resolvedClassNames:U,resolvedStyles:q}=Vg({classNames:m,styles:g,props:t});return yp(()=>{k()},[R]),_.jsx(xrt,{value:{getStyles:S,opened:R,toggleDropdown:B,getItemIndex:O,hovered:C,setHovered:I,openedViaClick:P,setOpenedViaClick:$,closeOnItemClick:l,closeDropdown:d==="click"?L:H,openDropdown:d==="click"?M:z,closeDropdownImmediately:L,loop:c,trigger:d,unstyled:y,menuItemTabIndex:w},children:_.jsx(pa,{...x,opened:R,onChange:B,defaultOpened:o,trapFocus:E?!1:a,closeOnEscape:f,__staticSelector:"Menu",classNames:U,styles:q,unstyled:y,variant:v,keepMounted:E,children:n})})}ul.extend=e=>e;ul.classes=RT;ul.displayName="@mantine/core/Menu";ul.Item=kQ;ul.Label=RQ;ul.Dropdown=IQ;ul.Target=K2e;ul.Divider=AQ;const[Rrt,NT]=qo("Modal component was not found in tree");var Kg={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Nrt={},sF=je((e,t)=>{const n=Ie("ModalBody",Nrt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=NT();return _.jsx(jX,{ref:t,...l.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...u})});sF.classes=Kg;sF.displayName="@mantine/core/ModalBody";const Prt={},oF=je((e,t)=>{const n=Ie("ModalCloseButton",Prt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=NT();return _.jsx(BX,{ref:t,...l.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...u})});oF.classes=Kg;oF.displayName="@mantine/core/ModalCloseButton";const Ort={},aF=je((e,t)=>{const n=Ie("ModalContent",Ort,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:u,...l}=n,c=NT(),f=c.scrollAreaComponent||f2e;return _.jsx(c2e,{...c.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":c.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:_.jsx(f,{style:{maxHeight:c.fullScreen?"100dvh":`calc(100dvh - (${Pe(c.yOffset)} * 2))`},children:u})})});aF.classes=Kg;aF.displayName="@mantine/core/ModalContent";const Drt={},uF=je((e,t)=>{const n=Ie("ModalHeader",Drt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=NT();return _.jsx(UX,{ref:t,...l.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...u})});uF.classes=Kg;uF.displayName="@mantine/core/ModalHeader";const $rt={},lF=je((e,t)=>{const n=Ie("ModalOverlay",$rt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=NT();return _.jsx(zX,{ref:t,...l.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...u})});lF.classes=Kg;lF.displayName="@mantine/core/ModalOverlay";const Mrt={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Mc("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},Lrt=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:ci(t),"--modal-size":mn(n,"modal-size"),"--modal-y-offset":Pe(r),"--modal-x-offset":Pe(i)}}),cF=je((e,t)=>{const n=Ie("ModalRoot",Mrt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,yOffset:l,scrollAreaComponent:c,radius:f,fullScreen:d,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=Et({name:m,classes:Kg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Lrt});return _.jsx(Rrt,{value:{yOffset:l,scrollAreaComponent:c,getStyles:y,fullScreen:d},children:_.jsx(l2e,{ref:t,...y("root"),"data-full-screen":d||void 0,"data-centered":h||void 0,unstyled:a,...g})})});cF.classes=Kg;cF.displayName="@mantine/core/ModalRoot";const Frt={},fF=je((e,t)=>{const n=Ie("ModalTitle",Frt,e),{classNames:r,className:i,style:s,styles:o,vars:a,...u}=n,l=NT();return _.jsx(VX,{ref:t,...l.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...u})});fF.classes=Kg;fF.displayName="@mantine/core/ModalTitle";const jrt={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Mc("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},bs=je((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:u,...l}=Ie("Modal",jrt,e),c=!!n||s;return _.jsxs(cF,{ref:t,radius:u,...l,children:[r&&_.jsx(lF,{...i}),_.jsxs(aF,{radius:u,children:[c&&_.jsxs(uF,{children:[n&&_.jsx(fF,{children:n}),s&&_.jsx(oF,{...o})]}),_.jsx(sF,{children:a})]})]})});bs.classes=Kg;bs.displayName="@mantine/core/Modal";bs.Root=cF;bs.Overlay=lF;bs.Content=aF;bs.Body=sF;bs.Header=uF;bs.Title=fF;bs.CloseButton=oF;const[Brt,NQ]=bT(),[Urt,zrt]=bT();var dF={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Vrt={},Hrt=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?mn(t):mn(n,"pg-gap")}}),PQ=je((e,t)=>{const n=Ie("PillGroup",Vrt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,disabled:c,...f}=n,d=NQ(),h=(d==null?void 0:d.size)||l||void 0,p=Et({name:"PillGroup",classes:dF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Hrt,stylesCtx:{size:h},rootSelector:"group"});return _.jsx(Urt,{value:{size:h,disabled:c},children:_.jsx(Ee,{ref:t,size:h,...p("group"),...f})})});PQ.classes=dF;PQ.displayName="@mantine/core/PillGroup";const qrt={variant:"default"},Wrt=(e,{radius:t},{size:n})=>({root:{"--pill-fz":mn(n,"pill-fz"),"--pill-height":mn(n,"pill-height"),"--pill-radius":t===void 0?void 0:ci(t)}}),yk=je((e,t)=>{const n=Ie("Pill",qrt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,variant:l,children:c,withRemoveButton:f,onRemove:d,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,b=zrt(),w=NQ(),E=m||(b==null?void 0:b.size)||void 0,x=(w==null?void 0:w.variant)==="filled"?"contrast":l||"default",S=Et({name:"Pill",classes:dF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Wrt,stylesCtx:{size:E}});return _.jsxs(Ee,{component:"span",ref:t,variant:x,size:E,...S("root",{variant:x}),mod:[{"with-remove":f&&!g,disabled:g||(b==null?void 0:b.disabled)},y],...v,children:[_.jsx("span",{...S("label"),children:c}),f&&_.jsx(Wg,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...S("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:C=>{var I;C.preventDefault(),C.stopPropagation(),(I=h==null?void 0:h.onMouseDown)==null||I.call(h,C)},onClick:C=>{var I;C.stopPropagation(),d==null||d(),(I=h==null?void 0:h.onClick)==null||I.call(h,C)}})]})});yk.classes=dF;yk.displayName="@mantine/core/Pill";yk.Group=PQ;var X2e={field:"m_45c4369d"};const Grt={type:"visible"},OQ=je((e,t)=>{const n=Ie("PillsInputField",Grt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,type:l,disabled:c,id:f,pointer:d,mod:h,...p}=n,m=NQ(),g=TT(),y=Et({name:"PillsInputField",classes:X2e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return _.jsx(Ee,{component:"input",ref:Us(t,m==null?void 0:m.fieldRef),"data-type":l,disabled:v,mod:[{disabled:v,pointer:d},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||f,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:b=>!d&&b.stopPropagation()})});OQ.classes=X2e;OQ.displayName="@mantine/core/PillsInputField";const Yrt={},ZM=je((e,t)=>{const n=Ie("PillsInput",Yrt,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:u,error:l,variant:c,...f}=n,d=A.useRef();return _.jsx(Brt,{value:{fieldRef:d,size:o,disabled:a,hasError:!!l,variant:c},children:_.jsx(Df,{size:o,error:l,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=d.current)==null||p.focus()},onClick:h=>{var p;h.preventDefault(),s==null||s(h),(p=d.current)==null||p.focus()},...f,multiline:!0,disabled:a,__staticSelector:u||"PillsInput",withAria:!1,children:r})})});ZM.displayName="@mantine/core/PillsInput";ZM.Field=OQ;function Krt({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(sS(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const Xrt={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},DQ=je((e,t)=>{const n=Ie("MultiSelect",Xrt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,size:l,value:c,defaultValue:f,onChange:d,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:b,selectFirstOptionOnChange:w,onOptionSubmit:E,comboboxProps:x,filter:S,limit:C,withScrollArea:I,maxDropdownHeight:k,searchValue:R,defaultSearchValue:D,onSearchChange:P,readOnly:$,disabled:L,onFocus:M,onBlur:B,onPaste:z,radius:H,rightSection:O,rightSectionWidth:U,rightSectionPointerEvents:q,rightSectionProps:F,leftSection:V,leftSectionWidth:G,leftSectionPointerEvents:Z,leftSectionProps:ae,inputContainer:re,inputWrapperOrder:ue,withAsterisk:pe,labelProps:xe,descriptionProps:ve,errorProps:We,wrapperProps:Be,description:ht,label:Je,error:we,maxValues:Ae,searchable:ze,nothingFoundMessage:et,withCheckIcon:Ot,checkIconPosition:Oe,hidePickedOptions:fe,withErrorStyles:Xe,name:nt,form:ge,id:ke,clearable:Ve,clearButtonProps:Ye,hiddenInputProps:pt,placeholder:xn,hiddenInputValuesDivider:nr,required:mt,mod:Lt,renderOption:vt,onRemove:rn,onClear:Sn,scrollAreaProps:sn,...Hs}=n,Ui=iu(ke),Tn=_2e(m),Nr=rQ(Tn),Ur=pQ({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{b==null||b(),Ur.resetSelectedOption()}}),{styleProps:ki,rest:{type:Hu,autoComplete:au,...jc}}=H_(Hs),[Bn,bi]=eo({value:c,defaultValue:f,finalValue:[],onChange:d}),[xr,Yo]=eo({value:R,defaultValue:D,finalValue:"",onChange:P}),xo=Et({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:qs,resolvedStyles:ce}=Vg({props:n,styles:o,classNames:r}),ne=ct=>{h==null||h(ct),ct.key===" "&&!ze&&(ct.preventDefault(),Ur.toggleDropdown()),ct.key==="Backspace"&&xr.length===0&&Bn.length>0&&(rn==null||rn(Bn[Bn.length-1]),bi(Bn.slice(0,Bn.length-1)))},he=Bn.map((ct,Dt)=>{var Qt,Dn;return _.jsx(yk,{withRemoveButton:!$&&!((Qt=Nr[ct])!=null&&Qt.disabled),onRemove:()=>{bi(Bn.filter(Yn=>ct!==Yn)),rn==null||rn(ct)},unstyled:a,disabled:L,...xo("pill"),children:((Dn=Nr[ct])==null?void 0:Dn.label)||ct},`${ct}-${Dt}`)});A.useEffect(()=>{w&&Ur.selectFirstOption()},[w,Bn]);const Ne=Ve&&Bn.length>0&&!L&&!$&&_.jsx(mr.ClearButton,{size:l,...Ye,onClear:()=>{Sn==null||Sn(),bi([]),Yo("")}}),Re=Krt({data:Tn,value:Bn});return _.jsxs(_.Fragment,{children:[_.jsxs(mr,{store:Ur,classNames:qs,styles:ce,unstyled:a,size:l,readOnly:$,__staticSelector:"MultiSelect",onOptionSubmit:ct=>{E==null||E(ct),Yo(""),Ur.updateSelectedOptionIndex("selected"),Bn.includes(Nr[ct].value)?(bi(Bn.filter(Dt=>Dt!==Nr[ct].value)),rn==null||rn(Nr[ct].value)):Bn.length<Ae&&bi([...Bn,Nr[ct].value])},...x,children:[_.jsx(mr.DropdownTarget,{children:_.jsx(ZM,{...ki,__staticSelector:"MultiSelect",classNames:qs,styles:ce,unstyled:a,size:l,className:i,style:s,variant:p,disabled:L,radius:H,rightSection:O||Ne||_.jsx(mr.Chevron,{size:l,error:we,unstyled:a}),rightSectionPointerEvents:q||(Ne?"all":"none"),rightSectionWidth:U,rightSectionProps:F,leftSection:V,leftSectionWidth:G,leftSectionPointerEvents:Z,leftSectionProps:ae,inputContainer:re,inputWrapperOrder:ue,withAsterisk:pe,labelProps:xe,descriptionProps:ve,errorProps:We,wrapperProps:Be,description:ht,label:Je,error:we,multiline:!0,withErrorStyles:Xe,__stylesApiProps:{...n,rightSectionPointerEvents:q||(Ne?"all":"none"),multiline:!0},pointer:!ze,onClick:()=>ze?Ur.openDropdown():Ur.toggleDropdown(),"data-expanded":Ur.dropdownOpened||void 0,id:Ui,required:mt,mod:Lt,children:_.jsxs(yk.Group,{disabled:L,unstyled:a,...xo("pillsList"),children:[he,_.jsx(mr.EventsTarget,{autoComplete:au,children:_.jsx(ZM.Field,{...jc,ref:t,id:Ui,placeholder:xn,type:!ze&&!xn?"hidden":"visible",...xo("inputField"),unstyled:a,onFocus:ct=>{M==null||M(ct),ze&&Ur.openDropdown()},onBlur:ct=>{B==null||B(ct),Ur.closeDropdown(),Yo("")},onKeyDown:ne,value:xr,onChange:ct=>{Yo(ct.currentTarget.value),ze&&Ur.openDropdown(),w&&Ur.selectFirstOption()},disabled:L,readOnly:$||!ze,pointer:!ze})})]})})}),_.jsx(F2e,{data:fe?Re:Tn,hidden:$||L,filter:S,search:xr,limit:C,hiddenWhenEmpty:!ze||!et||fe&&Re.length===0&&xr.trim().length===0,withScrollArea:I,maxDropdownHeight:k,filterOptions:ze,value:Bn,checkIconPosition:Oe,withCheckIcon:Ot,nothingFoundMessage:et,unstyled:a,labelId:Je?`${Ui}-label`:void 0,"aria-label":Je?void 0:Hs["aria-label"],renderOption:vt,scrollAreaProps:sn})]}),_.jsx(mr.HiddenInput,{name:nt,valuesDivider:nr,value:Bn,form:ge,disabled:L,...pt})]})});DQ.classes={...Df.classes,...mr.classes};DQ.displayName="@mantine/core/MultiSelect";var Q2e={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const Qrt={},Jrt=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?s.background:void 0,"--nl-hover":n||t?s.hover:void 0,"--nl-color":n||t?s.color:void 0},children:{"--nl-offset":Os(r)}}},hF=_o((e,t)=>{const n=Ie("NavLink",Qrt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,opened:l,defaultOpened:c,onChange:f,children:d,onClick:h,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:b,disableRightSectionRotation:w,noWrap:E,childrenOffset:x,onKeyDown:S,autoContrast:C,mod:I,...k}=n,R=Et({name:"NavLink",props:n,classes:Q2e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Jrt}),[D,P]=eo({value:l,defaultValue:c,finalValue:!1,onChange:f}),$=!!d,L=M=>{h==null||h(M),$&&(M.preventDefault(),P(!D))};return _.jsxs(_.Fragment,{children:[_.jsxs(Zs,{...R("root"),component:"a",ref:t,onClick:L,onKeyDown:M=>{S==null||S(M),M.nativeEvent.code==="Space"&&$&&(M.preventDefault(),P(!D))},unstyled:a,mod:[{disabled:m,active:p,expanded:D},I],...k,children:[g&&_.jsx(Ee,{component:"span",...R("section"),mod:{position:"left"},children:g}),_.jsxs(Ee,{...R("body"),mod:{"no-wrap":E},children:[_.jsx(Ee,{component:"span",...R("label"),children:v}),_.jsx(Ee,{component:"span",mod:{active:p},...R("description"),children:b})]}),($||y)&&_.jsx(Ee,{...R("section"),component:"span",mod:{rotate:D&&!w,position:"right"},children:$?y||_.jsx(iS,{...R("chevron")}):y})]}),_.jsx(U4,{in:D,...R("collapse"),children:_.jsx("div",{...R("children"),children:d})})]})});hF.classes=Q2e;hF.displayName="@mantine/core/NavLink";var J2e={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Zrt={withCloseButton:!0},eit=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:ci(t),"--notification-color":n?ri(n,e):void 0}}),$Q=je((e,t)=>{const n=Ie("Notification",Zrt,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:u,title:l,icon:c,children:f,onClose:d,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:b,mod:w,...E}=n,x=Et({name:"Notification",classes:J2e,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:b,varsResolver:eit});return _.jsxs(Ee,{...x("root"),mod:[{"data-with-icon":!!c||o,"data-with-border":u},w],ref:t,variant:v,...E,role:"alert",children:[c&&!o&&_.jsx("div",{...x("icon"),children:c}),o&&_.jsx(Fp,{size:28,color:i,...x("loader")}),_.jsxs("div",{...x("body"),children:[l&&_.jsx("div",{...x("title"),children:l}),_.jsx(Ee,{...x("description"),mod:{"data-with-title":!!l},children:f})]}),a&&_.jsx(Wg,{iconSize:16,color:"gray",...h,unstyled:y,onClick:d,...x("closeButton")})]})});$Q.classes=J2e;$Q.displayName="@mantine/core/Notification";function Z2e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var vk;(function(e){e.event="event",e.props="prop"})(vk||(vk={}));function q0(){}function tit(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function bk(e){return!!(e||"").match(/\d/)}function mx(e){return e==null}function nit(e){return typeof e=="number"&&isNaN(e)}function eAe(e){return mx(e)||nit(e)||typeof e=="number"&&!isFinite(e)}function tAe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function rit(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function iit(e,t,n){var r=rit(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function sit(e){var t=A.useRef(e);t.current=e;var n=A.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function MQ(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function oit(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function nAe(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function Sfe(e,t){return Array(t+1).join(e)}function rAe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+Sfe("0",Math.abs(o))+i:o>=a?i=i+Sfe("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function Tfe(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=MQ(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,u=parseFloat("0."+(o||"0")),l=o.length<=t?"0."+o:u.toFixed(t),c=l.split("."),f=s;s&&Number(c[0])&&(f=s.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var d=nAe(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+f+p+d}function G1(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var iAe=tit(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),ait=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function uit(e,t,n){return Math.min(Math.max(e,t),n)}function w9(e){return Math.max(e.selectionStart,e.selectionEnd)}function lit(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function cit(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function fit(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function dit(e,t,n,r,i,s,o){o===void 0&&(o=fit);var a=i.findIndex(function(w){return w}),u=e.slice(0,a);!t&&!n.startsWith(u)&&(t=u,n=u+n,r=r+u.length);for(var l=n.length,c=e.length,f={},d=new Array(l),h=0;h<l;h++){d[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&f[p]!==!0){d[h]=p,f[p]=!0;break}}}for(var y=r;y<l&&(d[y]===-1||!s(n[y]));)y++;var v=y===l||d[y]===-1?c:d[y];for(y=r-1;y>0&&d[y]===-1;)y--;var b=y===-1||d[y]===-1?0:d[y]+1;return b>v?v:r-b<v-r?b:v}function Cfe(e,t,n,r){var i=e.length;if(t=uit(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function hit(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(bk(e[n])||bk(e[n-1]));return t}function sAe(e,t,n,r,i,s){s===void 0&&(s=q0);var o=sit(function(p,m){var g,y;return eAe(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?rAe(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=A.useState(function(){return o(mx(e)?t:e,n)}),u=a[0],l=a[1],c=function(p,m){p.formattedValue!==u.formattedValue&&l({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},f=e,d=n;mx(e)&&(f=u.numAsString,d=!0);var h=o(f,d);return A.useMemo(function(){l(h)},[h.formattedValue]),[u,c]}function pit(e){return e.replace(/[^0-9]/g,"")}function mit(e){return e}function git(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=mit);var a=e.removeFormatting;a===void 0&&(a=pit);var u=e.defaultValue,l=e.valueIsNumericString,c=e.onValueChange,f=e.isAllowed,d=e.onChange;d===void 0&&(d=q0);var h=e.onKeyDown;h===void 0&&(h=q0);var p=e.onMouseUp;p===void 0&&(p=q0);var m=e.onFocus;m===void 0&&(m=q0);var g=e.onBlur;g===void 0&&(g=q0);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=hit);var b=e.isValidInputCharacter;b===void 0&&(b=bk);var w=e.isCharacterSame,E=Z2e(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),x=sAe(y,u,!!l,o,a,c),S=x[0],C=S.formattedValue,I=S.numAsString,k=x[1],R=A.useRef(),D=A.useRef({formattedValue:C,numAsString:I}),P=function(we,Ae){D.current={formattedValue:we.formattedValue,numAsString:we.value},k(we,Ae)},$=A.useState(!1),L=$[0],M=$[1],B=A.useRef(null),z=A.useRef({setCaretTimeout:null,focusTimeout:null});A.useEffect(function(){return M(!0),function(){clearTimeout(z.current.setCaretTimeout),clearTimeout(z.current.focusTimeout)}},[]);var H=o,O=function(we,Ae){var ze=parseFloat(Ae);return{formattedValue:we,value:Ae,floatValue:isNaN(ze)?void 0:ze}},U=function(we,Ae,ze){we.selectionStart===0&&we.selectionEnd===we.value.length||(G1(we,Ae),z.current.setCaretTimeout=setTimeout(function(){we.value===ze&&we.selectionStart!==Ae&&G1(we,Ae)},0))},q=function(we,Ae,ze){return Cfe(we,Ae,v(we),ze)},F=function(we,Ae,ze){var et=v(Ae),Ot=dit(Ae,C,we,ze,et,b,w);return Ot=Cfe(Ae,Ot,et),Ot},V=function(we){var Ae=we.formattedValue;Ae===void 0&&(Ae="");var ze=we.input,et=we.source,Ot=we.event,Oe=we.numAsString,fe;if(ze){var Xe=we.inputValue||ze.value,nt=w9(ze);ze.value=Ae,fe=F(Xe,Ae,nt),fe!==void 0&&U(ze,fe,Ae)}Ae!==C&&P(O(Ae,Oe),{event:Ot,source:et})};A.useEffect(function(){var we=D.current,Ae=we.formattedValue,ze=we.numAsString;(C!==Ae||I!==ze)&&P(O(C,I),{event:void 0,source:vk.props})},[C,I]);var G=B.current?w9(B.current):void 0,Z=typeof window<"u"?A.useLayoutEffect:A.useEffect;Z(function(){var we=B.current;if(C!==D.current.formattedValue&&we){var Ae=F(D.current.formattedValue,C,G);we.value=C,U(we,Ae,C)}},[C]);var ae=function(we,Ae,ze){var et=Ae.target,Ot=R.current?ait(R.current,et.selectionEnd):iAe(C,we),Oe=Object.assign(Object.assign({},Ot),{lastValue:C}),fe=a(we,Oe),Xe=H(fe);if(fe=a(Xe,void 0),f&&!f(O(Xe,fe))){var nt=Ae.target,ge=w9(nt),ke=F(we,C,ge);return nt.value=C,U(nt,ke,C),!1}return V({formattedValue:Xe,numAsString:fe,inputValue:we,event:Ae,source:ze,input:Ae.target}),!0},re=function(we,Ae){Ae===void 0&&(Ae=0);var ze=we.selectionStart,et=we.selectionEnd;R.current={selectionStart:ze,selectionEnd:et+Ae}},ue=function(we){var Ae=we.target,ze=Ae.value,et=ae(ze,we,vk.event);et&&d(we),R.current=void 0},pe=function(we){var Ae=we.target,ze=we.key,et=Ae.selectionStart,Ot=Ae.selectionEnd,Oe=Ae.value;Oe===void 0&&(Oe="");var fe;ze==="ArrowLeft"||ze==="Backspace"?fe=Math.max(et-1,0):ze==="ArrowRight"?fe=Math.min(et+1,Oe.length):ze==="Delete"&&(fe=et);var Xe=0;ze==="Delete"&&et===Ot&&(Xe=1);var nt=ze==="ArrowLeft"||ze==="ArrowRight";if(fe===void 0||et!==Ot&&!nt){h(we),re(Ae,Xe);return}var ge=fe;if(nt){var ke=ze==="ArrowLeft"?"left":"right";ge=q(Oe,fe,ke),ge!==fe&&we.preventDefault()}else ze==="Delete"&&!b(Oe[fe])?ge=q(Oe,fe,"right"):ze==="Backspace"&&!b(Oe[fe])&&(ge=q(Oe,fe,"left"));ge!==fe&&U(Ae,ge,Oe),h(we),re(Ae,Xe)},xe=function(we){var Ae=we.target,ze=function(){var et=Ae.selectionStart,Ot=Ae.selectionEnd,Oe=Ae.value;if(Oe===void 0&&(Oe=""),et===Ot){var fe=q(Oe,et);fe!==et&&U(Ae,fe,Oe)}};ze(),requestAnimationFrame(function(){ze()}),p(we),re(Ae)},ve=function(we){we.persist&&we.persist();var Ae=we.target,ze=we.currentTarget;B.current=Ae,z.current.focusTimeout=setTimeout(function(){var et=Ae.selectionStart,Ot=Ae.selectionEnd,Oe=Ae.value;Oe===void 0&&(Oe="");var fe=q(Oe,et);fe!==et&&!(et===0&&Ot===Oe.length)&&U(Ae,fe,Oe),m(Object.assign(Object.assign({},we),{currentTarget:ze}))},0)},We=function(we){B.current=null,clearTimeout(z.current.focusTimeout),clearTimeout(z.current.setCaretTimeout),g(we)},Be=L&&lit()?"numeric":void 0,ht=Object.assign({inputMode:Be},E,{type:t,value:C,onChange:ue,onKeyDown:pe,onMouseUp:xe,onFocus:ve,onBlur:We});if(n==="text")return i?de.createElement(de.Fragment,null,i(C,E)||null):de.createElement("span",Object.assign({},E,{ref:s}),C);if(r){var Je=r;return de.createElement(Je,Object.assign({},ht,{ref:s}))}return de.createElement("input",Object.assign({},ht,{ref:s}))}function Afe(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var u=pF(t),l=u.thousandSeparator,c=u.decimalSeparator,f=n!==0&&e.indexOf(".")!==-1||n&&r,d=MQ(e,o),h=d.beforeDecimal,p=d.afterDecimal,m=d.addNegation;return n!==void 0&&(p=nAe(p,n,!!r)),l&&(h=iit(h,l,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(f&&c||"")+p,e}function pF(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function yit(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function vit(e,t){return new RegExp("(^-)|[0-9]|"+tAe(e),"g")}function bit(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function _it(e,t,n){var r;t===void 0&&(t=cit(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,u=t.from,l=t.to,c=l.start,f=l.end,d=pF(n),h=d.allowedDecimalSeparators,p=d.decimalSeparator,m=e[f]===p;if(bk(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(f-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(B,z,H){var O=!1,U=!1;s.startsWith("-")?O=!1:B.startsWith("--")?(O=!1,U=!0):o.startsWith("-")&&B.length===o.length?O=!1:B[0]==="-"&&(O=!0);var q=O?1:0;return U&&(q=2),q&&(B=B.substring(q),z-=q,H-=q),{value:B,start:z,end:H,hasNegation:O}},v=y(e,c,f),b=v.hasNegation;r=v,e=r.value,c=r.start,f=r.end;var w=y(t.lastValue,u.start,u.end),E=w.start,x=w.end,S=w.value,C=e.substring(c,f);e.length&&S.length&&(E>S.length-o.length||x<s.length)&&!(C&&o.startsWith(C))&&(e=S);var I=0;e.startsWith(s)?I+=s.length:c<s.length&&(I=c),e=e.substring(I),f-=I;var k=e.length,R=e.length-o.length;e.endsWith(o)?k=R:(f>R||f>e.length-o.length)&&(k=f),e=e.substring(0,k),e=yit(b?"-"+e:e,i),e=(e.match(vit(p))||[]).join("");var D=e.indexOf(p);e=e.replace(new RegExp(tAe(p),"g"),function(B,z){return z===D?".":""});var P=MQ(e,i),$=P.beforeDecimal,L=P.afterDecimal,M=P.addNegation;return l.end-l.start<u.end-u.start&&$===""&&m&&!parseFloat(L)&&(e=M?"-":""),e}function wit(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function Eit(e){var t=pF(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function xit(e){e=Eit(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=q0);var s=e.onBlur;s===void 0&&(s=q0);var o=e.thousandSeparator,a=e.decimalScale,u=e.fixedDecimalScale,l=e.prefix;l===void 0&&(l="");var c=e.defaultValue,f=e.value,d=e.valueIsNumericString,h=e.onValueChange,p=Z2e(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=pF(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(M){return Afe(M,e)},b=function(M,B){return _it(M,B,e)},w=mx(f)?c:f,E=d??bit(w,l,t);mx(f)?mx(c)||(E=E||typeof c=="number"):E=E||typeof f=="number";var x=function(M){return eAe(M)?M:(typeof M=="number"&&(M=rAe(M)),E&&typeof a=="number"?Tfe(M,a,!!u):M)},S=sAe(x(f),x(c),!!E,v,b,h),C=S[0],I=C.numAsString,k=C.formattedValue,R=S[1],D=function(M){var B=M.target,z=M.key,H=B.selectionStart,O=B.selectionEnd,U=B.value;if(U===void 0&&(U=""),(z==="Backspace"||z==="Delete")&&O<l.length){M.preventDefault();return}if(H!==O){i(M);return}z==="Backspace"&&U[0]==="-"&&H===l.length+1&&n&&G1(B,1),a&&u&&(z==="Backspace"&&U[H-1]===g?(G1(B,H-1),M.preventDefault()):z==="Delete"&&U[H]===g&&M.preventDefault()),y!=null&&y.includes(z)&&U[H]===g&&G1(B,H+1);var q=o===!0?",":o;z==="Backspace"&&U[H-1]===q&&G1(B,H-1),z==="Delete"&&U[H]===q&&G1(B,H+1),i(M)},P=function(M){var B=I;if(B.match(/\d/g)||(B=""),r||(B=oit(B)),u&&a&&(B=Tfe(B,a,u)),B!==I){var z=Afe(B,e);R({formattedValue:z,value:B,floatValue:parseFloat(B)},{event:M,source:vk.event})}s(M)},$=function(M){return M===g?!0:bk(M)},L=function(M){var B=M.currentValue,z=M.lastValue,H=M.formattedValue,O=M.currentValueIndex,U=M.formattedValueIndex,q=B[O],F=H[U],V=iAe(z,B),G=V.to;return O>=G.start&&O<G.end&&y&&y.includes(q)&&F===g?!0:q===F};return Object.assign(Object.assign({},p),{value:k,valueIsNumericString:!1,isValidInputCharacter:$,isCharacterSame:L,onValueChange:R,format:v,removeFormatting:b,getCaretBoundary:function(M){return wit(M,e)},onKeyDown:D,onBlur:P})}function Sit(e){var t=xit(e);return de.createElement(git,Object.assign({},t))}function Ife({direction:e,style:t,...n}){return _.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:_.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var oH={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Tit=/^(0\.0*|-0(\.0*)?)$/,Cit=/^-?0\d+(\.\d+)?\.?$/;function Ait(e){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function kfe(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const Iit={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},kit=(e,{size:t})=>({controls:{"--ni-chevron-size":mn(t,"ni-chevron-size")}}),LQ=je((e,t)=>{const n=Ie("NumberInput",Iit,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:u,onValueChange:l,value:c,defaultValue:f,max:d,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:b,allowDecimal:w,decimalScale:E,onKeyDown:x,onKeyDownCapture:S,handlersRef:C,startValue:I,disabled:k,rightSectionPointerEvents:R,allowNegative:D,readOnly:P,size:$,rightSectionWidth:L,stepHoldInterval:M,stepHoldDelay:B,allowLeadingZeros:z,withKeyboardEvents:H,trimLeadingZeroesOnBlur:O,...U}=n,q=Et({name:"NumberInput",classes:oH,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:kit}),{resolvedClassNames:F,resolvedStyles:V}=Vg({classNames:i,styles:s,props:n}),[G,Z]=eo({value:c,defaultValue:f,onChange:u}),ae=B!==void 0&&M!==void 0,re=A.useRef(null),ue=A.useRef(null),pe=A.useRef(0),xe=(fe,Xe)=>{Xe.source==="event"&&Z(Ait(fe.floatValue)&&!Tit.test(fe.value)&&!(z&&Cit.test(fe.value))?fe.floatValue:fe.value),l==null||l(fe,Xe)},ve=fe=>{const Xe=String(fe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Xe?Math.max(0,(Xe[1]?Xe[1].length:0)-(Xe[2]?+Xe[2]:0)):0},We=fe=>{re.current&&typeof fe<"u"&&re.current.setSelectionRange(fe,fe)},Be=A.useRef();Be.current=()=>{let fe;const Xe=ve(G),nt=ve(p),ge=Math.max(Xe,nt),ke=10**ge;if(typeof G!="number"||Number.isNaN(G))fe=Wh(I,h,d);else if(d!==void 0){const Ye=(Math.round(G*ke)+Math.round(p*ke))/ke;fe=Ye<=d?Ye:d}else fe=(Math.round(G*ke)+Math.round(p*ke))/ke;const Ve=fe.toFixed(ge);Z(parseFloat(Ve)),l==null||l({floatValue:parseFloat(Ve),formattedValue:Ve,value:Ve},{source:"increment"}),setTimeout(()=>{var Ye;return We((Ye=re.current)==null?void 0:Ye.value.length)},0)};const ht=A.useRef();ht.current=()=>{let fe;const Xe=h!==void 0?h:D?Number.MIN_SAFE_INTEGER:0,nt=ve(G),ge=ve(p),ke=Math.max(nt,ge),Ve=10**ke;if(typeof G!="number"||Number.isNaN(G))fe=Wh(I,Xe,d);else{const pt=(Math.round(G*Ve)-Math.round(p*Ve))/Ve;fe=Xe!==void 0&&pt<Xe?Xe:pt}const Ye=fe.toFixed(ke);Z(parseFloat(Ye)),l==null||l({floatValue:parseFloat(Ye),formattedValue:Ye,value:Ye},{source:"decrement"}),setTimeout(()=>{var pt;return We((pt=re.current)==null?void 0:pt.value.length)},0)};const Je=fe=>{x==null||x(fe),!(P||!H)&&(fe.key==="ArrowUp"&&(fe.preventDefault(),Be.current()),fe.key==="ArrowDown"&&(fe.preventDefault(),ht.current()))},we=fe=>{if(S==null||S(fe),fe.key==="Backspace"){const Xe=re.current;Xe.selectionStart===0&&Xe.selectionStart===Xe.selectionEnd&&(fe.preventDefault(),window.setTimeout(()=>We(0),0))}};fX(C,{increment:Be.current,decrement:ht.current});const Ae=fe=>{fe?Be.current():ht.current(),pe.current+=1},ze=fe=>{if(Ae(fe),ae){const Xe=typeof M=="number"?M:M(pe.current);ue.current=window.setTimeout(()=>ze(fe),Xe)}},et=(fe,Xe)=>{var nt;fe.preventDefault(),(nt=re.current)==null||nt.focus(),Ae(Xe),ae&&(ue.current=window.setTimeout(()=>ze(Xe),B))},Ot=()=>{ue.current&&window.clearTimeout(ue.current),ue.current=null,pe.current=0},Oe=_.jsxs("div",{...q("controls"),children:[_.jsx(Zs,{...q("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof G=="number"&&d!==void 0&&G>=d,mod:{direction:"up"},onMouseDown:fe=>fe.preventDefault(),onPointerDown:fe=>{et(fe,!0)},onPointerUp:Ot,onPointerLeave:Ot,children:_.jsx(Ife,{direction:"up"})}),_.jsx(Zs,{...q("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof G=="number"&&h!==void 0&&G<=h,mod:{direction:"down"},onMouseDown:fe=>fe.preventDefault(),onPointerDown:fe=>{et(fe,!1)},onPointerUp:Ot,onPointerLeave:Ot,children:_.jsx(Ife,{direction:"down"})})]});return _.jsx(Df,{component:Sit,allowNegative:D,className:ws(oH.root,r),size:$,...U,readOnly:P,disabled:k,value:G,getInputRef:Us(t,re),onValueChange:xe,rightSection:m||P?g:g||Oe,classNames:F,styles:V,unstyled:o,__staticSelector:"NumberInput",decimalScale:w?E:0,onKeyDown:Je,onKeyDownCapture:we,rightSectionPointerEvents:R??(k?"none":void 0),rightSectionWidth:L??`var(--ni-right-section-width-${$||"sm"})`,allowLeadingZeros:z,onBlur:fe=>{if(b==null||b(fe),v==="blur"&&typeof G=="number"&&Wh(G,h,d)!==G&&Z(Wh(G,h,d)),O&&typeof G=="string"){const Xe=G.replace(/^0+/,""),nt=parseFloat(Xe);Z(Number.isNaN(nt)?Xe:nt)}},isAllowed:fe=>v==="strict"?y?y(fe)&&kfe(fe.floatValue,h,d):kfe(fe.floatValue,h,d):y?y(fe):!0})});LQ.classes={...Df.classes,...oH};LQ.displayName="@mantine/core/NumberInput";const[Rit,oAe]=qo("Progress.Root component was not found in tree");var eN={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const Nit={},FQ=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ie("ProgressLabel",Nit,e),u=oAe();return _.jsx(Ee,{ref:t,...u.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});FQ.classes=eN;FQ.displayName="@mantine/core/ProgressLabel";const Pit={},Oit=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":mn(t,"progress-size"),"--progress-radius":n===void 0?void 0:ci(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),mF=je((e,t)=>{const n=Ie("ProgressRoot",Pit,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,autoContrast:l,transitionDuration:c,...f}=n,d=Et({name:"Progress",classes:eN,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Oit});return _.jsx(Rit,{value:{getStyles:d,autoContrast:l},children:_.jsx(Ee,{ref:t,...d("root"),...f})})});mF.classes=eN;mF.displayName="@mantine/core/ProgressRoot";const Dit={withAria:!0},gF=je((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:u,color:l,striped:c,animated:f,mod:d,...h}=Ie("ProgressSection",Dit,e),p=oAe(),m=zs(),g=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return _.jsx(Ee,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||f,animated:f},d],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":ri(l,m),"--progress-label-color":_T(p.autoContrast,m)?Mv({color:l,theme:m,autoContrast:p.autoContrast}):void 0}})});gF.classes=eN;gF.displayName="@mantine/core/ProgressSection";const $it={},PT=je((e,t)=>{const n=Ie("Progress",$it,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:u,animated:l,"aria-label":c,...f}=n,{resolvedClassNames:d,resolvedStyles:h}=Vg({classNames:i,styles:s,props:n});return _.jsx(mF,{ref:t,classNames:d,styles:h,vars:o,...f,children:_.jsx(gF,{value:r,color:a,striped:u,animated:l,"aria-label":c})})});PT.classes=eN;PT.displayName="@mantine/core/Progress";PT.Section=gF;PT.Root=mF;PT.Label=FQ;const[Mit,aAe]=bT(),[Lit,Fit]=bT();var uAe={card:"m_9dc8ae12"};const jit={withBorder:!0},Bit=(e,{radius:t})=>({card:{"--card-radius":ci(t)}}),jQ=je((e,t)=>{const n=Ie("RadioCard",jit,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,name:p,onKeyDown:m,...g}=n,y=Et({name:"RadioCard",classes:uAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Bit,rootSelector:"card"}),{dir:v}=Lp(),b=aAe(),w=typeof l=="boolean"?l:(b==null?void 0:b.value)===d||!1,E=p||(b==null?void 0:b.name),x=S=>{if(m==null||m(S),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(S.nativeEvent.code)){S.preventDefault();const C=Array.from(document.querySelectorAll(`[role="radio"][name="${E||"__mantine"}"]`)),I=C.findIndex(D=>D===S.target),k=I+1>=C.length?0:I+1,R=I-1<0?C.length-1:I-1;S.nativeEvent.code==="ArrowDown"&&(C[k].focus(),C[k].click()),S.nativeEvent.code==="ArrowUp"&&(C[R].focus(),C[R].click()),S.nativeEvent.code==="ArrowLeft"&&(C[v==="ltr"?R:k].focus(),C[v==="ltr"?R:k].click()),S.nativeEvent.code==="ArrowRight"&&(C[v==="ltr"?k:R].focus(),C[v==="ltr"?k:R].click())}};return _.jsx(Lit,{value:{checked:w},children:_.jsx(Zs,{ref:t,mod:[{"with-border":f,checked:w},c],...y("card"),...g,role:"radio","aria-checked":w,name:E,onClick:S=>{h==null||h(S),b==null||b.onChange(d||"")},onKeyDown:x})})});jQ.displayName="@mantine/core/RadioCard";jQ.classes=uAe;const Uit={},BQ=je((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:u,readOnly:l,...c}=Ie("RadioGroup",Uit,e),f=iu(u),[d,h]=eo({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!l&&h(typeof m=="string"?m:m.currentTarget.value);return _.jsx(Mit,{value:{value:d,onChange:p,size:s,name:f},children:_.jsx(ji.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:_.jsx(gQ,{role:"radiogroup",children:a})})})});BQ.classes=ji.Wrapper.classes;BQ.displayName="@mantine/core/RadioGroup";function lAe({size:e,style:t,...n}){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Pe(e),height:Pe(e),...t},"aria-hidden":!0,...n,children:_.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var cAe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const zit={icon:lAe},Vit=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Mp({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":mn(r,"radio-size"),"--radio-radius":t===void 0?void 0:ci(t),"--radio-color":s==="outline"?u:ri(n,e),"--radio-icon-size":mn(r,"radio-icon-size"),"--radio-icon-color":i?ri(i,e):_T(o,e)?Mv({color:n,theme:e,autoContrast:o}):void 0}}},UQ=je((e,t)=>{const n=Ie("RadioIndicator",zit,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,icon:l,radius:c,color:f,iconColor:d,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,b=l,w=Et({name:"RadioIndicator",classes:cAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Vit,rootSelector:"indicator"}),E=Fit(),x=typeof p=="boolean"?p:(E==null?void 0:E.checked)||!1;return _.jsx(Ee,{ref:t,...w("indicator",{variant:g}),variant:g,mod:[{checked:x,disabled:y},m],...v,children:_.jsx(b,{...w("icon")})})});UQ.displayName="@mantine/core/RadioIndicator";UQ.classes=cAe;var fAe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const Hit={labelPosition:"right"},qit=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Mp({color:r||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":mn(t,"radio-size"),"--radio-radius":n===void 0?void 0:ci(n),"--radio-color":s==="outline"?u:ri(r,e),"--radio-icon-color":i?ri(i,e):_T(o,e)?Mv({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":mn(t,"radio-icon-size")}}},Qb=je((e,t)=>{const n=Ie("Radio",Hit,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,id:l,size:c,label:f,labelPosition:d,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:b,icon:w=lAe,rootRef:E,iconColor:x,onChange:S,mod:C,...I}=n,k=Et({name:"Radio",classes:fAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:qit}),R=aAe(),D=(R==null?void 0:R.size)??c,P=n.size?c:D,{styleProps:$,rest:L}=H_(I),M=iu(l),B=R?{checked:R.value===L.value,name:L.name??R.name,onChange:z=>{R.onChange(z),S==null||S(z)}}:{};return _.jsx(K4,{...k("root"),__staticSelector:"Radio",__stylesApiProps:n,id:M,size:P,labelPosition:d,label:f,description:h,error:p,disabled:v,classNames:r,styles:o,unstyled:a,"data-checked":B.checked||void 0,variant:y,ref:E,mod:C,...$,...b,children:_.jsxs(Ee,{...k("inner"),mod:{"label-position":d},children:[_.jsx(Ee,{...k("radio",{focusable:!0,variant:y}),onChange:S,...L,...B,component:"input",mod:{error:!!p},ref:t,id:M,disabled:v,type:"radio"}),_.jsx(w,{...k("icon"),"aria-hidden":!0})]})})});Qb.classes=fAe;Qb.displayName="@mantine/core/Radio";Qb.Group=BQ;Qb.Card=jQ;Qb.Indicator=UQ;const Wit={duration:100,transition:"fade"};function Git(e,t){return{...Wit,...t,...e}}function Yit({offset:e,position:t}){const[n,r]=A.useState(!1),i=A.useRef(),{x:s,y:o,elements:a,refs:u,update:l,placement:c}=$X({placement:t,middleware:[NX({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=c.includes("right")?e:t.includes("left")?e*-1:0,d=c.includes("bottom")?e:t.includes("top")?e*-1:0,h=A.useCallback(({clientX:p,clientY:m})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:m,left:p+f,top:m+d,right:p,bottom:m}}})},[a.reference]);return A.useEffect(()=>{if(u.floating.current){const p=i.current;p.addEventListener("mousemove",h);const m=Jm(u.floating.current);return m.forEach(g=>{g.addEventListener("scroll",l)}),()=>{p.removeEventListener("mousemove",h),m.forEach(g=>{g.removeEventListener("scroll",l)})}}},[a.reference,u.floating.current,l,h,n]),{handleMouseMove:h,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u.setFloating}}var yF={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Kit={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Mc("popover")},Xit=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ci(t),"--tooltip-bg":n?ri(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),zQ=je((e,t)=>{const n=Ie("TooltipFloating",Kit,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,variant:b,vars:w,portalProps:E,...x}=n,S=zs(),C=Et({name:"TooltipFloating",props:n,classes:yF,className:a,style:o,classNames:u,styles:l,unstyled:c,rootSelector:"tooltip",vars:w,varsResolver:Xit}),{handleMouseMove:I,x:k,y:R,opened:D,boundaryRef:P,floating:$,setOpened:L}=Yit({offset:p,position:m});if(!Dv(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const M=Us(P,r.ref,t),B=H=>{var O,U;(U=(O=r.props).onMouseEnter)==null||U.call(O,H),I(H),L(!0)},z=H=>{var O,U;(U=(O=r.props).onMouseLeave)==null||U.call(O,H),L(!1)};return _.jsxs(_.Fragment,{children:[_.jsx(ST,{...E,withinPortal:s,children:_.jsx(Ee,{...x,...C("tooltip",{style:{...yX(o,S),zIndex:y,display:!v&&D?"block":"none",top:(R&&Math.round(R))??"",left:(k&&Math.round(k))??""}}),variant:b,ref:$,mod:{multiline:g},children:h})}),A.cloneElement(r,{...r.props,[i]:M,onMouseEnter:B,onMouseLeave:z})]})});zQ.classes=yF;zQ.displayName="@mantine/core/TooltipFloating";const dAe=A.createContext(!1),Qit=dAe.Provider,Jit=()=>A.useContext(dAe),Zit={openDelay:0,closeDelay:0};function hAe(e){const{openDelay:t,closeDelay:n,children:r}=Ie("TooltipGroup",Zit,e);return _.jsx(Qit,{value:!0,children:_.jsx(qZe,{delay:{open:t,close:n},children:r})})}hAe.displayName="@mantine/core/TooltipGroup";function est(e){var x,S,C;const[t,n]=A.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=Jit(),o=iu(),{delay:a,currentId:u,setCurrentId:l}=XCe(),c=A.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,context:h,refs:p,update:m,placement:g,middlewareData:{arrow:{x:y,y:v}={}}}=$X({strategy:e.strategy,placement:e.position,open:i,onOpenChange:c,middleware:[qCe(e.offset),NX({padding:8}),tH(),WCe({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[nH()]:[]]}),{getReferenceProps:b,getFloatingProps:w}=JZe([HZe(h,{enabled:(x=e.events)==null?void 0:x.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((S=e.events)!=null&&S.touch)}),QZe(h,{enabled:(C=e.events)==null?void 0:C.focus,visibleOnly:!0}),eet(h,{role:"tooltip"}),KZe(h,{enabled:typeof e.opened>"u"}),WZe(h,{id:o})]);r2e({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:p,update:m}}),yp(()=>{var I;(I=e.onPositionChange)==null||I.call(e,g)},[g]);const E=i&&u&&u!==o;return{x:f,y:d,arrowX:y,arrowY:v,reference:p.setReference,floating:p.setFloating,getFloatingProps:w,getReferenceProps:b,isGroupPhase:E,opened:i,placement:g}}const Rfe={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Mc("popover"),positionDependencies:[]},tst=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ci(t),"--tooltip-bg":n?ri(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Qi=je((e,t)=>{const n=Ie("Tooltip",Rfe,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:u,onPositionChange:l,opened:c,withinPortal:f,radius:d,color:h,classNames:p,styles:m,unstyled:g,style:y,className:v,withArrow:b,arrowSize:w,arrowOffset:E,arrowRadius:x,arrowPosition:S,offset:C,transitionProps:I,multiline:k,events:R,zIndex:D,disabled:P,positionDependencies:$,onClick:L,onMouseEnter:M,onMouseLeave:B,inline:z,variant:H,keepMounted:O,vars:U,portalProps:q,mod:F,floatingStrategy:V,...G}=Ie("Tooltip",Rfe,n),{dir:Z}=Lp(),ae=A.useRef(null),re=est({position:QCe(Z,i),closeDelay:u,openDelay:a,onPositionChange:l,opened:c,events:R,arrowRef:ae,arrowOffset:E,offset:typeof C=="number"?C+(b?w/2:0):C,positionDependencies:[...$,r],inline:z,strategy:V}),ue=Et({name:"Tooltip",props:n,classes:yF,className:v,style:y,classNames:p,styles:m,unstyled:g,rootSelector:"tooltip",vars:U,varsResolver:tst});if(!Dv(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const pe=Us(re.reference,r.ref,t),xe=Git(I,{duration:100,transition:"fade"});return _.jsxs(_.Fragment,{children:[_.jsx(ST,{...q,withinPortal:f,children:_.jsx(qg,{...xe,keepMounted:O,mounted:!P&&!!re.opened,duration:re.isGroupPhase?10:xe.duration,children:ve=>_.jsxs(Ee,{...G,variant:H,mod:[{multiline:k},F],...re.getFloatingProps({ref:re.floating,className:ue("tooltip").className,style:{...ue("tooltip").style,...ve,zIndex:D,top:re.y??0,left:re.x??0}}),children:[o,_.jsx(MX,{ref:ae,arrowX:re.arrowX,arrowY:re.arrowY,visible:b,position:re.placement,arrowSize:w,arrowOffset:E,arrowRadius:x,arrowPosition:S,...ue("arrow")})]})})}),A.cloneElement(r,re.getReferenceProps({onClick:L,onMouseEnter:M,onMouseLeave:B,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:pe,className:ws(v,r.props.className),...r.props}))]})});Qi.classes=yF;Qi.displayName="@mantine/core/Tooltip";Qi.Floating=zQ;Qi.Group=hAe;var pAe={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const nst={withItemsBorders:!0},rst=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:ci(t),"--sc-color":n?ri(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":mn(i,"sc-padding"),"--sc-font-size":zo(i)}}),VQ=je((e,t)=>{var Z,ae;const n=Ie("SegmentedControl",nst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,data:l,value:c,defaultValue:f,onChange:d,size:h,name:p,disabled:m,readOnly:g,fullWidth:y,orientation:v,radius:b,color:w,transitionDuration:E,transitionTimingFunction:x,variant:S,autoContrast:C,withItemsBorders:I,mod:k,...R}=n,D=Et({name:"SegmentedControl",props:n,classes:pAe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:rst}),P=zs(),$=l.map(re=>typeof re=="string"?{label:re,value:re}:re),L=tQe(),[M,B]=A.useState(null),[z,H]=A.useState({}),O=(re,ue)=>{z[ue]=re,H(z)},[U,q]=eo({value:c,defaultValue:f,finalValue:Array.isArray(l)?((Z=$.find(re=>!re.disabled))==null?void 0:Z.value)??((ae=l[0])==null?void 0:ae.value)??null:null,onChange:d}),F=iu(p),V=$.map(re=>A.createElement(Ee,{...D("control"),mod:{active:U===re.value,orientation:v},key:re.value},A.createElement("input",{...D("input"),disabled:m||re.disabled,type:"radio",name:F,value:re.value,id:`${F}-${re.value}`,checked:U===re.value,onChange:()=>!g&&q(re.value),"data-focus-ring":P.focusRing,key:`${re.value}-input`}),A.createElement(Ee,{component:"label",...D("label"),mod:{active:U===re.value&&!(m||re.disabled),disabled:m||re.disabled,"read-only":g},htmlFor:`${F}-${re.value}`,ref:ue=>O(ue,re.value),__vars:{"--sc-label-color":w!==void 0?Mv({color:w,theme:P,autoContrast:C}):void 0},key:`${re.value}-label`},_.jsx("span",{...D("innerLabel"),children:re.label})))),G=Us(t,re=>B(re));return l.length===0?null:_.jsxs(Ee,{...D("root"),variant:S,size:h,ref:G,mod:[{"full-width":y,orientation:v,initialized:L,"with-items-borders":I},k],...R,role:"radiogroup",children:[typeof U=="string"&&_.jsx(WX,{target:z[U],parent:M,component:"span",transitionDuration:"var(--sc-transition-duration)",...D("indicator")}),V]})});VQ.classes=pAe;VQ.displayName="@mantine/core/SegmentedControl";const ist={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},tN=je((e,t)=>{const n=Ie("Select",ist,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:u,onDropdownClose:l,onDropdownOpen:c,onFocus:f,onBlur:d,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:b,comboboxProps:w,readOnly:E,disabled:x,filter:S,limit:C,withScrollArea:I,maxDropdownHeight:k,size:R,searchable:D,rightSection:P,checkIconPosition:$,withCheckIcon:L,nothingFoundMessage:M,name:B,form:z,searchValue:H,defaultSearchValue:O,onSearchChange:U,allowDeselect:q,error:F,rightSectionPointerEvents:V,id:G,clearable:Z,clearButtonProps:ae,hiddenInputProps:re,renderOption:ue,onClear:pe,autoComplete:xe,scrollAreaProps:ve,...We}=n,Be=A.useMemo(()=>_2e(m),[m]),ht=A.useMemo(()=>rQ(Be),[Be]),Je=iu(G),[we,Ae,ze]=eo({value:g,defaultValue:y,finalValue:null,onChange:p}),et=typeof we=="string"?ht[we]:void 0,[Ot,Oe]=eo({value:H,defaultValue:O,finalValue:et?et.label:"",onChange:U}),fe=pQ({opened:a,defaultOpened:u,onDropdownOpen:()=>{c==null||c(),fe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),fe.resetSelectedOption()}}),{resolvedClassNames:Xe,resolvedStyles:nt}=Vg({props:n,styles:i,classNames:r});A.useEffect(()=>{v&&fe.selectFirstOption()},[v,we]),A.useEffect(()=>{g===null&&Oe(""),typeof g=="string"&&et&&Oe(et.label)},[g,et]);const ge=Z&&!!we&&!x&&!E&&_.jsx(mr.ClearButton,{size:R,...ae,onClear:()=>{Ae(null,null),Oe(""),pe==null||pe()}});return _.jsxs(_.Fragment,{children:[_.jsxs(mr,{store:fe,__staticSelector:"Select",classNames:Xe,styles:nt,unstyled:s,readOnly:E,onOptionSubmit:ke=>{b==null||b(ke);const Ve=q&&ht[ke].value===we?null:ht[ke],Ye=Ve?Ve.value:null;Ae(Ye,Ve),!ze&&Oe(typeof Ye=="string"&&(Ve==null?void 0:Ve.label)||""),fe.closeDropdown()},size:R,...w,children:[_.jsx(mr.Target,{targetType:D?"input":"button",autoComplete:xe,children:_.jsx(Df,{id:Je,ref:t,rightSection:P||ge||_.jsx(mr.Chevron,{size:R,error:F,unstyled:s}),rightSectionPointerEvents:V||(ge?"all":"none"),...We,size:R,__staticSelector:"Select",disabled:x,readOnly:E||!D,value:Ot,onChange:ke=>{Oe(ke.currentTarget.value),fe.openDropdown(),v&&fe.selectFirstOption()},onFocus:ke=>{D&&fe.openDropdown(),f==null||f(ke)},onBlur:ke=>{var Ve;D&&fe.closeDropdown(),Oe(we!=null&&((Ve=ht[we])==null?void 0:Ve.label)||""),d==null||d(ke)},onClick:ke=>{D?fe.openDropdown():fe.toggleDropdown(),h==null||h(ke)},classNames:Xe,styles:nt,unstyled:s,pointer:!D,error:F})}),_.jsx(F2e,{data:Be,hidden:E||x,filter:S,search:Ot,limit:C,hiddenWhenEmpty:!D||!M,withScrollArea:I,maxDropdownHeight:k,filterOptions:D&&(et==null?void 0:et.label)!==Ot,value:we,checkIconPosition:$,withCheckIcon:L,nothingFoundMessage:M,unstyled:s,labelId:We.label?`${Je}-label`:void 0,"aria-label":We.label?void 0:We["aria-label"],renderOption:ue,scrollAreaProps:ve})]}),_.jsx(mr.HiddenInput,{value:we,name:B,form:z,disabled:x,...re})]})});tN.classes={...Df.classes,...mr.classes};tN.displayName="@mantine/core/Select";function sst({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=zs(),s=t===void 0?e:t,o=Ov({"--sg-spacing-x":Os(bd(e)),"--sg-spacing-y":Os(bd(s)),"--sg-cols":(c=bd(n))==null?void 0:c.toString()}),a=yi(i.breakpoints).reduce((f,d)=>(f[d]||(f[d]={}),typeof e=="object"&&e[d]!==void 0&&(f[d]["--sg-spacing-x"]=Os(e[d])),typeof s=="object"&&s[d]!==void 0&&(f[d]["--sg-spacing-y"]=Os(s[d])),typeof n=="object"&&n[d]!==void 0&&(f[d]["--sg-cols"]=n[d]),f),{}),l=hk(yi(a),i).filter(f=>yi(a[f.value]).length>0).map(f=>({query:`(min-width: ${i.breakpoints[f.value]})`,styles:a[f.value]}));return _.jsx(V_,{styles:o,media:l,selector:r})}function E9(e){return typeof e=="object"&&e!==null?yi(e):[]}function ost(e){return e.sort((t,n)=>dk(t)-dk(n))}function ast({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...E9(e),...E9(t),...E9(n)]));return ost(r)}function ust({spacing:e,verticalSpacing:t,cols:n,selector:r}){var l;const i=t===void 0?e:t,s=Ov({"--sg-spacing-x":Os(bd(e)),"--sg-spacing-y":Os(bd(i)),"--sg-cols":(l=bd(n))==null?void 0:l.toString()}),o=ast({spacing:e,verticalSpacing:t,cols:n}),a=o.reduce((c,f)=>(c[f]||(c[f]={}),typeof e=="object"&&e[f]!==void 0&&(c[f]["--sg-spacing-x"]=Os(e[f])),typeof i=="object"&&i[f]!==void 0&&(c[f]["--sg-spacing-y"]=Os(i[f])),typeof n=="object"&&n[f]!==void 0&&(c[f]["--sg-cols"]=n[f]),c),{}),u=o.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return _.jsx(V_,{styles:s,container:u,selector:r})}var mAe={container:"m_925c2d2c",root:"m_2415a157"};const lst={cols:1,spacing:"md",type:"media"},HQ=je((e,t)=>{const n=Ie("SimpleGrid",lst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,cols:l,verticalSpacing:c,spacing:f,type:d,...h}=n,p=Et({name:"SimpleGrid",classes:mAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u}),m=GR();return d==="container"?_.jsxs(_.Fragment,{children:[_.jsx(ust,{...n,selector:`.${m}`}),_.jsx("div",{...p("container"),children:_.jsx(Ee,{ref:t,...p("root",{className:m}),...h})})]}):_.jsxs(_.Fragment,{children:[_.jsx(sst,{...n,selector:`.${m}`}),_.jsx(Ee,{ref:t,...p("root",{className:m}),...h})]})});HQ.classes=mAe;HQ.displayName="@mantine/core/SimpleGrid";const[gAe,vF]=qo("SliderProvider was not found in tree"),qQ=A.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:u}=vF();return _.jsx(Ee,{tabIndex:-1,variant:n,size:e,ref:a,...u("root"),...o})});qQ.displayName="@mantine/core/SliderRoot";const e3=A.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:u,labelAlwaysOn:l,thumbLabel:c,onFocus:f,onBlur:d,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=vF(),[b,w]=A.useState(!1),E=l||s||b||h&&p;return _.jsxs(Ee,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:()=>{w(!0),typeof f=="function"&&f()},onBlur:()=>{w(!1),typeof d=="function"&&d()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:x=>x.stopPropagation(),children:[m,_.jsx(qg,{mounted:i!=null&&!!E,transition:"fade",duration:0,...u,children:x=>_.jsx("div",{...v("label",{style:x}),children:i})})]})});e3.displayName="@mantine/core/SliderThumb";function t3({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function cst({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function yAe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=vF();if(!e)return null;const u=e.map((l,c)=>A.createElement(Ee,{...a("markWrapper"),__vars:{"--mark-offset":`${t3({value:l.value,min:t,max:n})}%`},key:c},_.jsx(Ee,{...a("mark"),mod:{filled:cst({mark:l,value:i,offset:s,inverted:o}),disabled:r}}),l.label&&_.jsx("div",{...a("markLabel"),children:l.label})));return _.jsx("div",{children:u})}yAe.displayName="@mantine/core/SliderMarks";function WQ({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:u}=vF();return _.jsx(_.Fragment,{children:_.jsx(Ee,{...u("trackContainer"),mod:{disabled:r},...o,children:_.jsxs(Ee,{...u("track"),mod:{inverted:s,disabled:r},children:[_.jsx(Ee,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...u("bar")}),t,_.jsx(yAe,{...a,offset:i,disabled:r,inverted:s})]})})})}WQ.displayName="@mantine/core/SliderTrack";function aH({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}function Xc(e,t){return parseFloat(e.toFixed(t))}function vAe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var bF={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const fst={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},dst=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":mn(t,"slider-size"),"--slider-color":n?ri(n,e):void 0,"--slider-radius":i===void 0?void 0:ci(i),"--slider-thumb-size":r!==void 0?Pe(r):"calc(var(--slider-size) * 2)"}}),_F=je((e,t)=>{const n=Ie("Slider",fst,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:u,min:l,max:c,step:f,precision:d,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:w,thumbChildren:E,disabled:x,unstyled:S,scale:C,inverted:I,className:k,style:R,vars:D,hiddenInputProps:P,...$}=n,L=Et({name:"Slider",props:n,classes:bF,classNames:r,className:k,styles:i,style:R,vars:D,varsResolver:dst,unstyled:S}),{dir:M}=Lp(),[B,z]=A.useState(!1),[H,O]=eo({value:typeof s=="number"?Wh(s,l,c):s,defaultValue:typeof h=="number"?Wh(h,l,c):h,finalValue:Wh(0,l,c),onChange:o}),U=A.useRef(H),q=A.useRef(),F=A.useRef(),V=t3({value:H,min:l,max:c}),G=C(H),Z=typeof g=="function"?g(G):g,ae=d??vAe(f),re=A.useCallback(({x:ve})=>{if(!x){const We=aH({value:ve,min:l,max:c,step:f,precision:ae});O(We),U.current=We}},[x,l,c,f,ae,O]),{ref:ue,active:pe}=lCe(re,{onScrubEnd:()=>a==null?void 0:a(U.current)},M),xe=ve=>{var We,Be,ht,Je,we,Ae;if(!x)switch(ve.key){case"ArrowUp":{ve.preventDefault(),(We=F.current)==null||We.focus();const ze=Xc(Math.min(Math.max(H+f,l),c),ae);O(ze),a==null||a(ze);break}case"ArrowRight":{ve.preventDefault(),(Be=F.current)==null||Be.focus();const ze=Xc(Math.min(Math.max(M==="rtl"?H-f:H+f,l),c),ae);O(ze),a==null||a(ze);break}case"ArrowDown":{ve.preventDefault(),(ht=F.current)==null||ht.focus();const ze=Xc(Math.min(Math.max(H-f,l),c),ae);O(ze),a==null||a(ze);break}case"ArrowLeft":{ve.preventDefault(),(Je=F.current)==null||Je.focus();const ze=Xc(Math.min(Math.max(M==="rtl"?H+f:H-f,l),c),ae);O(ze),a==null||a(ze);break}case"Home":{ve.preventDefault(),(we=F.current)==null||we.focus(),O(l),a==null||a(l);break}case"End":{ve.preventDefault(),(Ae=F.current)==null||Ae.focus(),O(c),a==null||a(c);break}}};return _.jsx(gAe,{value:{getStyles:L},children:_.jsxs(qQ,{...$,ref:Us(t,q),onKeyDownCapture:xe,onMouseDownCapture:()=>{var ve;return(ve=q.current)==null?void 0:ve.focus()},size:u,disabled:x,children:[_.jsx(WQ,{inverted:I,offset:0,filled:V,marks:m,min:l,max:c,value:G,disabled:x,containerProps:{ref:ue,onMouseEnter:w?()=>z(!0):void 0,onMouseLeave:w?()=>z(!1):void 0},children:_.jsx(e3,{max:c,min:l,value:G,position:V,dragging:pe,label:Z,ref:F,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:w,isHovered:B,disabled:x,children:E})}),_.jsx("input",{type:"hidden",name:p,value:G,...P})]})})});_F.classes=bF;_F.displayName="@mantine/core/Slider";function hst(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const pst=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":mn(t,"slider-size"),"--slider-color":n?ri(n,e):void 0,"--slider-radius":i===void 0?void 0:ci(i),"--slider-thumb-size":r!==void 0?Pe(r):"calc(var(--slider-size) * 2)"}}),mst={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},n3=je((e,t)=>{const n=Ie("RangeSlider",mst,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:u,min:l,max:c,minRange:f,maxRange:d,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransitionProps:b,labelAlwaysOn:w,thumbFromLabel:E,thumbToLabel:x,showLabelOnHover:S,thumbChildren:C,disabled:I,unstyled:k,scale:R,inverted:D,className:P,style:$,vars:L,hiddenInputProps:M,...B}=n,z=Et({name:"Slider",props:n,classes:bF,classNames:r,className:P,styles:i,style:$,vars:L,varsResolver:pst,unstyled:k}),{dir:H}=Lp(),[O,U]=A.useState(-1),[q,F]=A.useState(!1),[V,G]=eo({value:s,defaultValue:m,finalValue:[l,c],onChange:o}),Z=A.useRef(V),ae=A.useRef([]),re=A.useRef(void 0),ue=[t3({value:V[0],min:l,max:c}),t3({value:V[1],min:l,max:c})],pe=p??vAe(h),xe=Oe=>{G(Oe),Z.current=Oe};A.useEffect(()=>{Array.isArray(s)&&(Z.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const ve=(Oe,fe,Xe)=>{const nt=[...Z.current];nt[fe]=Oe,fe===0&&(Oe>nt[1]-(f-1e-9)&&(nt[1]=Math.min(Oe+f,c)),Oe>(c-(f-1e-9)||l)&&(nt[fe]=Z.current[fe]),nt[1]-Oe>d&&(nt[1]=Oe+d)),fe===1&&(Oe<nt[0]+f&&(nt[0]=Math.max(Oe-f,l)),Oe<nt[0]+f&&(nt[fe]=Z.current[fe]),Oe-nt[0]>d&&(nt[0]=Oe-d)),nt[0]=Xc(nt[0],pe),nt[1]=Xc(nt[1],pe),xe(nt),Xe&&(a==null||a(Z.current))},We=Oe=>{if(!I){const fe=aH({value:Oe,min:l,max:c,step:h,precision:pe});ve(fe,re.current,!1)}},{ref:Be,active:ht}=lCe(({x:Oe})=>We(Oe),{onScrubEnd:()=>a==null?void 0:a(Z.current)},H);function Je(Oe){re.current=Oe}const we=Oe=>{Be.current.focus();const fe=Be.current.getBoundingClientRect(),Xe=hst(Oe.nativeEvent),nt=aH({value:Xe-fe.left,max:c,min:l,step:h,containerWidth:fe.width}),ge=Math.abs(V[0]-nt)>Math.abs(V[1]-nt)?1:0,ke=H==="ltr"?ge:ge===1?0:1;re.current=ke},Ae=()=>O!==1&&O!==0?(U(0),0):O,ze=Oe=>{if(!I)switch(Oe.key){case"ArrowUp":{Oe.preventDefault();const fe=Ae();ae.current[fe].focus(),ve(Xc(Math.min(Math.max(Z.current[fe]+h,l),c),pe),fe,!0);break}case"ArrowRight":{Oe.preventDefault();const fe=Ae();ae.current[fe].focus(),ve(Xc(Math.min(Math.max(H==="rtl"?Z.current[fe]-h:Z.current[fe]+h,l),c),pe),fe,!0);break}case"ArrowDown":{Oe.preventDefault();const fe=Ae();ae.current[fe].focus(),ve(Xc(Math.min(Math.max(Z.current[fe]-h,l),c),pe),fe,!0);break}case"ArrowLeft":{Oe.preventDefault();const fe=Ae();ae.current[fe].focus(),ve(Xc(Math.min(Math.max(H==="rtl"?Z.current[fe]+h:Z.current[fe]-h,l),c),pe),fe,!0);break}}},et={max:c,min:l,size:u,labelTransitionProps:b,labelAlwaysOn:w,onBlur:()=>U(-1)},Ot=Array.isArray(C);return _.jsx(gAe,{value:{getStyles:z},children:_.jsxs(qQ,{...B,size:u,ref:t,disabled:I,children:[_.jsxs(WQ,{offset:ue[0],marksOffset:V[0],filled:ue[1]-ue[0],marks:y,inverted:D,min:l,max:c,value:V[1],disabled:I,containerProps:{ref:Be,onMouseEnter:S?()=>F(!0):void 0,onMouseLeave:S?()=>F(!1):void 0,onTouchStartCapture:we,onTouchEndCapture:()=>{re.current=-1},onMouseDownCapture:we,onMouseUpCapture:()=>{re.current=-1},onKeyDownCapture:ze},children:[_.jsx(e3,{...et,value:R(V[0]),position:ue[0],dragging:ht,label:typeof v=="function"?v(Xc(R(V[0]),pe)):v,ref:Oe=>{ae.current[0]=Oe},thumbLabel:E,onMouseDown:()=>Je(0),onFocus:()=>U(0),showLabelOnHover:S,isHovered:q,disabled:I,children:Ot?C[0]:C}),_.jsx(e3,{...et,thumbLabel:x,value:R(V[1]),position:ue[1],dragging:ht,label:typeof v=="function"?v(Xc(R(V[1]),pe)):v,ref:Oe=>{ae.current[1]=Oe},onMouseDown:()=>Je(1),onFocus:()=>U(1),showLabelOnHover:S,isHovered:q,disabled:I,children:Ot?C[1]:C})]}),_.jsx("input",{type:"hidden",name:`${g}_from`,value:V[0],...M}),_.jsx("input",{type:"hidden",name:`${g}_to`,value:V[1],...M})]})})});n3.classes=bF;n3.displayName="@mantine/core/RangeSlider";const gst={},mc=je((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=Ie("Space",gst,e);return _.jsx(Ee,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});mc.displayName="@mantine/core/Space";var bAe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const yst={maxHeight:100,initialState:!1},vst=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),GQ=je((e,t)=>{const n=Ie("Spoiler",yst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,initialState:l,maxHeight:c,hideLabel:f,showLabel:d,children:h,controlRef:p,transitionDuration:m,id:g,...y}=n,v=Et({name:"Spoiler",classes:bAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:vst}),b=iu(g),w=`${b}-region`,[E,x]=A.useState(l),{ref:S,height:C}=YXe(),I=E?f:d,k=I!==null&&c<C;return _.jsxs(Ee,{...v("root"),id:b,ref:t,"data-has-spoiler":k||void 0,...y,children:[k&&_.jsx(AT,{component:"button",type:"button",ref:p,onClick:()=>x(R=>!R),"aria-expanded":E,"aria-controls":w,...v("control"),children:I}),_.jsx("div",{...v("content",{style:{maxHeight:E?C?Pe(C):void 0:Pe(c)}}),"data-reduce-motion":!0,role:"region",id:w,children:_.jsx("div",{ref:S,children:h})})]})});GQ.classes=bAe;GQ.displayName="@mantine/core/Spoiler";var _Ae={root:"m_6d731127"};const bst={gap:"md",align:"stretch",justify:"flex-start"},_st=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Os(t),"--stack-align":n,"--stack-justify":r}}),Gh=je((e,t)=>{const n=Ie("Stack",bst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,align:l,justify:c,gap:f,variant:d,...h}=n,p=Et({name:"Stack",props:n,classes:_Ae,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:_st});return _.jsx(Ee,{ref:t,...p("root"),variant:d,...h})});Gh.classes=_Ae;Gh.displayName="@mantine/core/Stack";const wAe=A.createContext(null),wst=wAe.Provider,Est=()=>A.useContext(wAe),xst={},YQ=je((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:u,...l}=Ie("SwitchGroup",xst,e),[c,f]=eo({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return _.jsx(wst,{value:{value:c,onChange:d,size:s},children:_.jsx(ji.Wrapper,{size:s,ref:t,...o,...l,labelElement:"div",__staticSelector:"SwitchGroup",children:_.jsx(gQ,{role:"group",children:a})})})});YQ.classes=ji.Wrapper.classes;YQ.displayName="@mantine/core/SwitchGroup";var EAe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Sst={labelPosition:"right"},Tst=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:ci(t),"--switch-height":mn(r,"switch-height"),"--switch-width":mn(r,"switch-width"),"--switch-thumb-size":mn(r,"switch-thumb-size"),"--switch-label-font-size":mn(r,"switch-label-font-size"),"--switch-track-label-padding":mn(r,"switch-track-label-padding"),"--switch-color":n?ri(n,e):void 0}}),gx=je((e,t)=>{const n=Ie("Switch",Sst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,color:l,label:c,offLabel:f,onLabel:d,id:h,size:p,radius:m,wrapperProps:g,children:y,thumbIcon:v,checked:b,defaultChecked:w,onChange:E,labelPosition:x,description:S,error:C,disabled:I,variant:k,rootRef:R,mod:D,...P}=n,$=Est(),L=p||($==null?void 0:$.size),M=Et({name:"Switch",props:n,classes:EAe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Tst}),{styleProps:B,rest:z}=H_(P),H=iu(h),O=$?{checked:$.value.includes(z.value),onChange:$.onChange}:{},[U,q]=eo({value:O.checked??b,defaultValue:w,finalValue:!1});return _.jsxs(K4,{...M("root"),__staticSelector:"Switch",__stylesApiProps:n,id:H,size:L,labelPosition:x,label:c,description:S,error:C,disabled:I,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":O.checked||void 0,variant:k,ref:R,mod:D,...B,...g,children:[_.jsx("input",{...z,disabled:I,checked:U,onChange:F=>{var V;$?(V=O.onChange)==null||V.call(O,F):E==null||E(F),q(F.currentTarget.checked)},id:H,ref:t,type:"checkbox",role:"switch",...M("input")}),_.jsxs(Ee,{"aria-hidden":"true",mod:{error:C,"label-position":x},...M("track"),children:[_.jsx(Ee,{component:"span",mod:"reduce-motion",...M("thumb"),children:v}),_.jsx("span",{...M("trackLabel"),children:U?d:f})]})]})});gx.classes={...EAe,...A2e};gx.displayName="@mantine/core/Switch";gx.Group=YQ;const[Cst,Ast]=qo("Table component was not found in the tree");var nN={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Ist(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Y_(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=je((i,s)=>{const o=Ie(n,{},i),{classNames:a,className:u,style:l,styles:c,...f}=o,d=Ast();return _.jsx(Ee,{component:e,ref:s,...Ist(d,t),...d.getStyles(e,{className:u,classNames:a,style:l,styles:c,props:o}),...f})});return r.displayName=`@mantine/core/${n}`,r.classes=nN,r}const uH=Y_("th",{columnBorder:!0}),xAe=Y_("td",{columnBorder:!0}),p$=Y_("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),SAe=Y_("thead",{stickyHeader:!0}),TAe=Y_("tbody"),CAe=Y_("tfoot"),AAe=Y_("caption",{captionSide:!0});function KQ({data:e}){return _.jsxs(_.Fragment,{children:[e.caption&&_.jsx(AAe,{children:e.caption}),e.head&&_.jsx(SAe,{children:_.jsx(p$,{children:e.head.map((t,n)=>_.jsx(uH,{children:t},n))})}),e.body&&_.jsx(TAe,{children:e.body.map((t,n)=>_.jsx(p$,{children:t.map((r,i)=>_.jsx(xAe,{children:r},i))},n))}),e.foot&&_.jsx(CAe,{children:_.jsx(p$,{children:e.foot.map((t,n)=>_.jsx(uH,{children:t},n))})})]})}KQ.displayName="@mantine/core/TableDataRenderer";const kst={type:"scrollarea"},Rst=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":Pe(t),"--table-overflow":n==="native"?"auto":void 0}}),XQ=je((e,t)=>{const n=Ie("TableScrollContainer",kst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,children:l,minWidth:c,type:f,...d}=n,h=Et({name:"TableScrollContainer",classes:nN,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:Rst,rootSelector:"scrollContainer"});return _.jsx(Ee,{component:f==="scrollarea"?mg:"div",...f==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...d,children:_.jsx("div",{...h("scrollContainerInner"),children:l})})});XQ.classes=nN;XQ.displayName="@mantine/core/TableScrollContainer";const Nst={withRowBorders:!0,verticalSpacing:7},Pst=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:u,highlightOnHover:l,stickyHeaderOffset:c,stickyHeader:f})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Os(r),"--table-vertical-spacing":Os(i),"--table-border-color":s?ri(s,e):void 0,"--table-striped-color":u&&o?ri(o,e):void 0,"--table-highlight-on-hover-color":l&&a?ri(a,e):void 0,"--table-sticky-header-offset":f?Pe(c):void 0}}),nn=je((e,t)=>{const n=Ie("Table",Nst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,horizontalSpacing:l,verticalSpacing:c,captionSide:f,stripedColor:d,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:b,layout:w,variant:E,data:x,children:S,stickyHeader:C,stickyHeaderOffset:I,mod:k,...R}=n,D=Et({name:"Table",props:n,className:i,style:s,classes:nN,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:u,varsResolver:Pst});return _.jsx(Cst,{value:{getStyles:D,stickyHeader:C,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:f||"bottom"},children:_.jsx(Ee,{component:"table",variant:E,ref:t,mod:[{"data-with-table-border":v},k],...D("table"),...R,children:S||!!x&&_.jsx(KQ,{data:x})})})});nn.classes=nN;nn.displayName="@mantine/core/Table";nn.Td=xAe;nn.Th=uH;nn.Tr=p$;nn.Thead=SAe;nn.Tbody=TAe;nn.Tfoot=CAe;nn.Caption=AAe;nn.ScrollContainer=XQ;nn.DataRenderer=KQ;const[Ost,QQ]=qo("Tabs component was not found in the tree");var rN={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Dst={},JQ=je((e,t)=>{const n=Ie("TabsList",Dst,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:u,style:l,mod:c,...f}=n,d=QQ();return _.jsx(Ee,{...f,...d.getStyles("list",{className:i,style:l,classNames:a,styles:u,props:n,variant:d.variant}),ref:t,role:"tablist",variant:d.variant,mod:[{grow:s,orientation:d.orientation,placement:d.orientation==="vertical"&&d.placement,inverted:d.inverted},c],"aria-orientation":d.orientation,__vars:{"--tabs-justify":o},children:r})});JQ.classes=rN;JQ.displayName="@mantine/core/TabsList";const $st={},ZQ=je((e,t)=>{const n=Ie("TabsPanel",$st,e),{children:r,className:i,value:s,classNames:o,styles:a,style:u,mod:l,...c}=n,f=QQ(),d=f.value===s,h=f.keepMounted||n.keepMounted||d?r:null;return _.jsx(Ee,{...c,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[u,d?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},l],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:h})});ZQ.classes=rN;ZQ.displayName="@mantine/core/TabsPanel";const Mst={},eJ=je((e,t)=>{const n=Ie("TabsTab",Mst,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:u,onKeyDown:l,disabled:c,color:f,style:d,classNames:h,styles:p,vars:m,mod:g,...y}=n,v=zs(),{dir:b}=Lp(),w=QQ(),E=a===w.value,x=C=>{w.onChange(w.allowTabDeactivation&&a===w.value?null:a),u==null||u(C)},S={classNames:h,styles:p,props:n};return _.jsxs(Zs,{...y,...w.getStyles("tab",{className:r,style:d,variant:w.variant,...S}),disabled:c,unstyled:w.unstyled,variant:w.variant,mod:[{active:E,disabled:c,orientation:w.orientation,inverted:w.inverted,placement:w.orientation==="vertical"&&w.placement},g],ref:t,role:"tab",id:w.getTabId(a),"aria-selected":E,tabIndex:E||w.value===null?0:-1,"aria-controls":w.getPanelId(a),onClick:x,__vars:{"--tabs-color":f?ri(f,v):void 0},onKeyDown:uX({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:b,onKeyDown:l}),children:[o&&_.jsx("span",{...w.getStyles("tabSection",S),"data-position":"left",children:o}),i&&_.jsx("span",{...w.getStyles("tabLabel",S),children:i}),s&&_.jsx("span",{...w.getStyles("tabSection",S),"data-position":"right",children:s})]})});eJ.classes=rN;eJ.displayName="@mantine/core/TabsTab";const Nfe="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Lst={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Fst=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":ci(t),"--tabs-color":ri(n,e),"--tabs-text-color":_T(r,e)?Mv({color:n,theme:e,autoContrast:r}):void 0}}),ks=je((e,t)=>{const n=Ie("Tabs",Lst,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:u,id:l,activateTabWithKeyboard:c,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:b,unstyled:w,className:E,style:x,vars:S,autoContrast:C,mod:I,...k}=n,R=iu(l),[D,P]=eo({value:i,defaultValue:r,finalValue:null,onChange:s}),$=Et({name:"Tabs",props:n,classes:rN,className:E,style:x,classNames:v,styles:b,unstyled:w,vars:S,varsResolver:Fst});return _.jsx(Ost,{value:{placement:g,value:D,orientation:o,id:R,loop:u,activateTabWithKeyboard:c,getTabId:WM(`${R}-tab`,Nfe),getPanelId:WM(`${R}-panel`,Nfe),onChange:P,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,keepMounted:y,unstyled:w,getStyles:$},children:_.jsx(Ee,{ref:t,id:R,variant:d,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},I],...$("root"),...k,children:a})})});ks.classes=rN;ks.displayName="@mantine/core/Tabs";ks.Tab=eJ;ks.Panel=ZQ;ks.List=JQ;const jst={},ey=je((e,t)=>{const n=Ie("TextInput",jst,e);return _.jsx(Df,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});ey.classes=Df.classes;ey.displayName="@mantine/core/TextInput";const Bst=["h1","h2","h3","h4","h5","h6"];function Ust(e,t){const n=t!==void 0?t:`h${e}`;return Bst.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:Pe(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var IAe={root:"m_8a5d1357"};const zst={order:1},Vst=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=Ust(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Ji=je((e,t)=>{const n=Ie("Title",zst,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:u,vars:l,size:c,variant:f,lineClamp:d,textWrap:h,mod:p,...m}=n,g=Et({name:"Title",props:n,classes:IAe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Vst});return[1,2,3,4,5,6].includes(u)?_.jsx(Ee,{...g("root"),component:`h${u}`,variant:f,ref:t,mod:[{order:u,"data-line-clamp":typeof d=="number"},p],size:c,...m}):null});Ji.classes=IAe;Ji.displayName="@mantine/core/Title";function Hst(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function qst(e){return A.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function Wst(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const Gst=()=>Hst({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),K_=Gst(),Yst=(e=K_)=>qst(e);function OT(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=Wst(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Kst(e,t=K_){const n=e.id||hx();return OT(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function kAe(e,t=K_){return OT(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function Xst(e,t=K_){return OT(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function Qst(e=K_){OT(e,()=>[])}function Jst(e=K_){OT(e,t=>t.slice(0,e.getState().limit))}const X_={show:Kst,hide:kAe,update:Xst,clean:Qst,cleanQueue:Jst,updateState:OT};function lH(){return lH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lH.apply(null,arguments)}function RAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function cH(e,t){return cH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cH(e,t)}function NAe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cH(e,t)}var PAe={exports:{}},Zst="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eot=Zst,tot=eot;function OAe(){}function DAe(){}DAe.resetWarningCache=OAe;var not=function(){function e(r,i,s,o,a,u){if(u!==tot){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DAe,resetWarningCache:OAe};return n.PropTypes=n,n};PAe.exports=not();var $Ae=PAe.exports;const be=On($Ae),Pfe={disabled:!1},r3=de.createContext(null);var rot=function(t){return t.scrollTop},rA="unmounted",R1="exited",N1="entering",gE="entered",fH="exiting",Xg=function(e){NAe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=R1,s.appearStatus=N1):u=gE:r.unmountOnExit||r.mountOnEnter?u=rA:u=R1,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===rA?{status:R1}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==N1&&o!==gE&&(s=N1):(o===N1||o===gE)&&(s=fH)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===N1){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:VE.findDOMNode(this);o&&rot(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===R1&&this.setState({status:rA})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[VE.findDOMNode(this),a],l=u[0],c=u[1],f=this.getTimeouts(),d=a?f.appear:f.enter;if(!i&&!o||Pfe.disabled){this.safeSetState({status:gE},function(){s.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:N1},function(){s.props.onEntering(l,c),s.onTransitionEnd(d,function(){s.safeSetState({status:gE},function(){s.props.onEntered(l,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:VE.findDOMNode(this);if(!s||Pfe.disabled){this.safeSetState({status:R1},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:fH},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:R1},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:VE.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rA)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=RAe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return de.createElement(r3.Provider,{value:null},typeof o=="function"?o(i,a):de.cloneElement(de.Children.only(o),a))},t}(de.Component);Xg.contextType=r3;Xg.propTypes={};function zw(){}Xg.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zw,onEntering:zw,onEntered:zw,onExit:zw,onExiting:zw,onExited:zw};Xg.UNMOUNTED=rA;Xg.EXITED=R1;Xg.ENTERING=N1;Xg.ENTERED=gE;Xg.EXITING=fH;function iot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tJ(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function sot(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var l=r[u][o];a[r[u][o]]=n(l)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function db(e,t,n){return n[t]!=null?n[t]:e.props[t]}function oot(e,t){return tJ(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:db(n,"appear",e),enter:db(n,"enter",e),exit:db(n,"exit",e)})})}function aot(e,t,n){var r=tJ(e.children),i=sot(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in t,u=s in r,l=t[s],c=A.isValidElement(l)&&!l.props.in;u&&(!a||c)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:db(o,"exit",e),enter:db(o,"enter",e)}):!u&&a&&!c?i[s]=A.cloneElement(o,{in:!1}):u&&a&&A.isValidElement(l)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:l.props.in,exit:db(o,"exit",e),enter:db(o,"enter",e)}))}}),i}var uot=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},lot={component:"div",childFactory:function(t){return t}},D0=function(e){NAe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(iot(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?oot(i,a):aot(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=tJ(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=lH({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=RAe(i,["component","childFactory"]),u=this.state.contextValue,l=uot(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?de.createElement(r3.Provider,{value:u},l):de.createElement(r3.Provider,{value:u},de.createElement(s,a,l))},t}(de.Component);D0.propTypes={};D0.defaultProps=lot;const MAe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function cot(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),MAe.reduce((n,r)=>(n[r]=[],n),{}))}const Ofe={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},fot={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function dot({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:Ofe[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:fot[o]},l={opacity:0,maxHeight:0,transform:Ofe[o]};return{...a,...{entering:u,entered:u,exiting:l,exited:l}[e]}}function hot(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const LAe=A.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,u=hot(n,e.autoClose),l=A.useRef(),c=()=>window.clearTimeout(l.current),f=()=>{t(e.id),c()},d=()=>{typeof u=="number"&&(l.current=window.setTimeout(f,u))};return A.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),A.useEffect(()=>(d(),c),[u]),_.jsx($Q,{...r,...a,onClose:f,ref:i,onMouseEnter:c,onMouseLeave:d,children:o})});LAe.displayName="@mantine/notifications/NotificationContainer";var FAe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const pot=Xg,mot={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Mc("overlay"),store:K_,withinPortal:!0},got=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":Pe(n)}}),Qg=je((e,t)=>{const n=Ie("Notifications",mot,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,position:l,autoClose:c,transitionDuration:f,containerWidth:d,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...b}=n,w=zs(),E=Yst(g),x=HXe(),S=F4(),C=A.useRef({}),I=A.useRef(0),R=(w.respectReducedMotion?S:!1)?1:f,D=Et({name:"Notifications",classes:FAe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:got});A.useEffect(()=>{g==null||g.updateState(L=>({...L,limit:p||5,defaultPosition:l}))},[p,l]),yp(()=>{E.notifications.length>I.current&&setTimeout(()=>x(),0),I.current=E.notifications.length},[E.notifications]);const P=cot(E.notifications,l),$=MAe.reduce((L,M)=>(L[M]=P[M].map(({style:B,...z})=>_.jsx(pot,{timeout:R,onEnter:()=>C.current[z.id].offsetHeight,nodeRef:{current:C.current[z.id]},children:H=>_.jsx(LAe,{ref:O=>{C.current[z.id]=O},data:z,onHide:O=>kAe(O,g),autoClose:c,...D("notification",{style:{...dot({state:H,position:M,transitionDuration:R,maxHeight:h}),...B}})})},z.id)),L),{});return _.jsxs(ST,{withinPortal:v,...y,children:[_.jsx(Ee,{...D("root"),"data-position":"top-center",ref:t,...b,children:_.jsx(D0,{children:$["top-center"]})}),_.jsx(Ee,{...D("root"),"data-position":"top-left",...b,children:_.jsx(D0,{children:$["top-left"]})}),_.jsx(Ee,{...D("root"),"data-position":"top-right",...b,children:_.jsx(D0,{children:$["top-right"]})}),_.jsx(Ee,{...D("root"),"data-position":"bottom-right",...b,children:_.jsx(D0,{children:$["bottom-right"]})}),_.jsx(Ee,{...D("root"),"data-position":"bottom-left",...b,children:_.jsx(D0,{children:$["bottom-left"]})}),_.jsx(Ee,{...D("root"),"data-position":"bottom-center",...b,children:_.jsx(D0,{children:$["bottom-center"]})})]})});Qg.classes=FAe;Qg.displayName="@mantine/notifications/Notifications";Qg.show=X_.show;Qg.hide=X_.hide;Qg.update=X_.update;Qg.clean=X_.clean;Qg.cleanQueue=X_.cleanQueue;Qg.updateState=X_.updateState;const jAe=A.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),ro=()=>A.useContext(jAe);function yot({children:e}){const[t,n]=de.useState(void 0),r=de.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return _.jsx(jAe.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_k.apply(this,arguments)}var ty;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ty||(ty={}));const Dfe="popstate";function vot(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return dH("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:UAe(i)}return _ot(t,n,null,e)}function Ls(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BAe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bot(){return Math.random().toString(36).substr(2,8)}function $fe(e,t){return{usr:e.state,key:e.key,idx:t}}function dH(e,t,n,r){return n===void 0&&(n=null),_k({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?DT(t):t,{state:n,key:t&&t.key||r||bot()})}function UAe(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function DT(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _ot(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ty.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(_k({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=ty.Pop;let g=c(),y=g==null?null:g-l;l=g,u&&u({action:a,location:m.location,delta:y})}function d(g,y){a=ty.Push;let v=dH(m.location,g,y);l=c()+1;let b=$fe(v,l),w=m.createHref(v);try{o.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&u&&u({action:a,location:m.location,delta:1})}function h(g,y){a=ty.Replace;let v=dH(m.location,g,y);l=c();let b=$fe(v,l),w=m.createHref(v);o.replaceState(b,"",w),s&&u&&u({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:UAe(g);return v=v.replace(/ $/,"%20"),Ls(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Dfe,f),u=g,()=>{i.removeEventListener(Dfe,f),u=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(g){return o.go(g)}};return m}var Mfe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mfe||(Mfe={}));function wot(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?DT(t):t,i=HAe(r.pathname||"/",n);if(i==null)return null;let s=zAe(e);Eot(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=Dot(i);o=Not(s[a],u)}return o}function zAe(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ls(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Sy([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ls(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),zAe(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:kot(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of VAe(s.path))i(s,o,u)}),t}function VAe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VAe(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Eot(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rot(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xot=/^:[\w-]+$/,Sot=3,Tot=2,Cot=1,Aot=10,Iot=-2,Lfe=e=>e==="*";function kot(e,t){let n=e.split("/"),r=n.length;return n.some(Lfe)&&(r+=Iot),t&&(r+=Tot),n.filter(i=>!Lfe(i)).reduce((i,s)=>i+(xot.test(s)?Sot:s===""?Cot:Aot),r)}function Rot(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Not(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Pot({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Sy([i,c.pathname]),pathnameBase:Fot(Sy([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Sy([i,c.pathnameBase]))}return s}function Pot(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Oot(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Oot(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BAe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Dot(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BAe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HAe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $ot(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?DT(e):e;return{pathname:n?n.startsWith("/")?n:Mot(n,t):t,search:jot(r),hash:Bot(i)}}function Mot(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x9(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lot(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nJ(e,t){let n=Lot(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rJ(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=DT(e):(i=_k({},e),Ls(!i.pathname||!i.pathname.includes("?"),x9("?","pathname","search",i)),Ls(!i.pathname||!i.pathname.includes("#"),x9("#","pathname","hash",i)),Ls(!i.search||!i.search.includes("#"),x9("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=$ot(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Sy=e=>e.join("/").replace(/\/\/+/g,"/"),Fot=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jot=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bot=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uot(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qAe=["post","put","patch","delete"];new Set(qAe);const zot=["get",...qAe];new Set(zot);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wk.apply(this,arguments)}const iJ=A.createContext(null),Vot=A.createContext(null),Q_=A.createContext(null),wF=A.createContext(null),Bp=A.createContext({outlet:null,matches:[],isDataRoute:!1}),WAe=A.createContext(null);function GAe(e,t){let{relative:n}={};$T()||Ls(!1);let{basename:r,navigator:i}=A.useContext(Q_),{hash:s,pathname:o,search:a}=Got(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Sy([r,o])),i.createHref({pathname:u,search:a,hash:s})}function $T(){return A.useContext(wF)!=null}function jv(){return $T()||Ls(!1),A.useContext(wF).location}function YAe(e){A.useContext(Q_).static||A.useLayoutEffect(e)}function Jg(){let{isDataRoute:e}=A.useContext(Bp);return e?iat():Hot()}function Hot(){$T()||Ls(!1);let e=A.useContext(iJ),{basename:t,future:n,navigator:r}=A.useContext(Q_),{matches:i}=A.useContext(Bp),{pathname:s}=jv(),o=JSON.stringify(nJ(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return YAe(()=>{a.current=!0}),A.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=rJ(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Sy([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const qot=A.createContext(null);function Wot(e){let t=A.useContext(Bp).outlet;return t&&A.createElement(qot.Provider,{value:e},t)}function bg(){let{matches:e}=A.useContext(Bp),t=e[e.length-1];return t?t.params:{}}function Got(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(Q_),{matches:i}=A.useContext(Bp),{pathname:s}=jv(),o=JSON.stringify(nJ(i,r.v7_relativeSplatPath));return A.useMemo(()=>rJ(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function KAe(e,t){return Yot(e,t)}function Yot(e,t,n,r){$T()||Ls(!1);let{navigator:i}=A.useContext(Q_),{matches:s}=A.useContext(Bp),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=jv(),c;if(t){var f;let g=typeof t=="string"?DT(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||Ls(!1),c=g}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let g=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=wot(e,{pathname:h}),m=Zot(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Sy([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Sy([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return t&&m?A.createElement(wF.Provider,{value:{location:wk({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ty.Pop}},m):m}function Kot(){let e=rat(),t=Uot(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const Xot=A.createElement(Kot,null);class Qot extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(Bp.Provider,{value:this.props.routeContext},A.createElement(WAe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jot(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(iJ);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Bp.Provider,{value:t},r)}function Zot(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Ls(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,m=null,g=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||Xot,u&&(l<0&&d===0?(p=!0,g=null):l===d&&(p=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,d+1)),v=()=>{let b;return h?b=m:p?b=g:f.route.Component?b=A.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,A.createElement(Jot,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?A.createElement(Qot,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var XAe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XAe||{}),i3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(i3||{});function eat(e){let t=A.useContext(iJ);return t||Ls(!1),t}function tat(e){let t=A.useContext(Vot);return t||Ls(!1),t}function nat(e){let t=A.useContext(Bp);return t||Ls(!1),t}function QAe(e){let t=nat(),n=t.matches[t.matches.length-1];return n.route.id||Ls(!1),n.route.id}function rat(){var e;let t=A.useContext(WAe),n=tat(i3.UseRouteError),r=QAe(i3.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function iat(){let{router:e}=eat(XAe.UseNavigateStable),t=QAe(i3.UseNavigateStable),n=A.useRef(!1);return YAe(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,wk({fromRouteId:t},s)))},[e,t])}function sJ(e){let{to:t,replace:n,state:r,relative:i}=e;$T()||Ls(!1);let{future:s,static:o}=A.useContext(Q_),{matches:a}=A.useContext(Bp),{pathname:u}=jv(),l=Jg(),c=rJ(t,nJ(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return A.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function sat(e){return Wot(e.context)}function vm(e){Ls(!1)}function oat(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ty.Pop,navigator:s,static:o=!1,future:a}=e;$T()&&Ls(!1);let u=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:u,navigator:s,static:o,future:wk({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=DT(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=A.useMemo(()=>{let g=HAe(c,u);return g==null?null:{location:{pathname:g,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:A.createElement(Q_.Provider,{value:l},A.createElement(wF.Provider,{children:n,value:m}))}function aat(e){let{children:t,location:n}=e;return KAe(hH(t),n)}new Promise(()=>{});function hH(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,hH(r.props.children,s));return}r.type!==vm&&Ls(!1),!r.props.index||!r.props.children||Ls(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hH(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pH(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function uat(e,t){let n=pH(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const lat="6";try{window.__reactRouterVersion=lat}catch{}const cat="startTransition",Ffe=YI[cat];function fat(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=vot({window:i,v5Compat:!0}));let o=s.current,[a,u]=A.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=A.useCallback(f=>{l&&Ffe?Ffe(()=>u(f)):u(f)},[u,l]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement(oat,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var jfe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jfe||(jfe={}));var Bfe;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bfe||(Bfe={}));function oJ(e){let t=A.useRef(pH(e)),n=A.useRef(!1),r=jv(),i=A.useMemo(()=>uat(r.search,n.current?null:t.current),[r.search]),s=Jg(),o=A.useCallback((a,u)=>{const l=pH(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}const aJ=A.createContext(null);aJ.displayName="@mantine/modals/ModalsContext";function dat(){const e=A.useContext(aJ);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function hat({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:u,children:l}){const{cancel:c,confirm:f}=r,d=dat(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),s&&d.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof u=="function"&&u(),i&&d.closeModal(e)};return _.jsxs(_.Fragment,{children:[l&&_.jsx(Ee,{mb:"md",children:l}),_.jsxs(to,{justify:"flex-end",...o,children:[_.jsx(Rn,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),_.jsx(Rn,{...n,onClick:p,children:(n==null?void 0:n.children)||f})]})]})}const[pat,EF]=rQe("mantine-modals");EF("openModal");EF("closeModal");EF("closeAllModals");const mH=EF("openConfirmModal");function Ufe(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function mat(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;Ufe(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{Ufe(n,t.canceled)}),{current:e.current,modals:[]}):e;default:return e}}function gat(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:u,groupProps:l,labels:c,...f}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:u,groupProps:l,labels:c},modalProps:{id:t,...f}}}function yat({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=A.useReducer(mat,{modals:[],current:null}),o=A.useRef(i);o.current=i;const a=A.useCallback(g=>{s({type:"CLOSE_ALL",canceled:g})},[o,s]),u=A.useCallback(({modalId:g,...y})=>{const v=g||hx();return s({type:"OPEN",modal:{id:v,type:"content",props:y}}),v},[s]),l=A.useCallback(({modalId:g,...y})=>{const v=g||hx();return s({type:"OPEN",modal:{id:v,type:"confirm",props:y}}),v},[s]),c=A.useCallback((g,{modalId:y,...v})=>{const b=y||hx();return s({type:"OPEN",modal:{id:b,type:"context",props:v,ctx:g}}),b},[s]),f=A.useCallback((g,y)=>{s({type:"CLOSE",modalId:g,canceled:y})},[o,s]);pat({openModal:u,openConfirmModal:l,openContextModal:({modal:g,...y})=>c(g,y),closeModal:f,closeContextModal:f,closeAllModals:a});const d={modals:i.modals,openModal:u,openConfirmModal:l,openContextModal:c,closeModal:f,closeContextModal:f,closeAll:a},h=()=>{const g=o.current.current;switch(g==null?void 0:g.type){case"context":{const{innerProps:y,...v}=g.props,b=r[g.ctx];return{modalProps:v,content:_.jsx(b,{innerProps:y,context:d,id:g.id})}}case"confirm":{const{modalProps:y,confirmProps:v}=gat(g.props);return{modalProps:y,content:_.jsx(hat,{...v,id:g.id,labels:g.props.labels||n})}}case"content":{const{children:y,...v}=g.props;return{modalProps:v,content:_.jsx(_.Fragment,{children:y})}}default:return{modalProps:{},content:null}}},{modalProps:p,content:m}=h();return _.jsxs(aJ.Provider,{value:d,children:[_.jsx(bs,{zIndex:Mc("modal")+1,...t,...p,opened:i.modals.length>0,onClose:()=>{var g;return f((g=i.current)==null?void 0:g.id)},children:m}),e]})}/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vat={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=(e,t,n,r)=>{const i=A.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,className:u,children:l,...c},f)=>A.createElement("svg",{ref:f,...vat[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...c},[...r.map(([d,h])=>A.createElement(d,h)),...Array.isArray(l)?l:[l]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bat=Wn("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _at=Wn("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zfe=Wn("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wat=Wn("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eat=Wn("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xat=Wn("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sat=Wn("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tat=Wn("outline","chart-bar","IconChartBar",[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cat=Wn("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aat=Wn("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JAe=Wn("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iat=Wn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vfe=Wn("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kat=Wn("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rat=Wn("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nat=Wn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pat=Wn("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oat=Wn("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dat=Wn("outline","file-lambda","IconFileLambda",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M10 17l2 -3",key:"svg-2"}],["path",{d:"M15 17c-2.5 0 -2.5 -6 -5 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $at=Wn("outline","html","IconHtml",[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZAe=Wn("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mat=Wn("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lat=Wn("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fat=Wn("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jat=Wn("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bat=Wn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eIe=Wn("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uat=Wn("outline","radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zat=Wn("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vat=Wn("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hat=Wn("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qat=Wn("outline","select","IconSelect",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tIe=Wn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wat=Wn("outline","squares","IconSquares",[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nIe=Wn("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gat=Wn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rIe=Wn("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uJ=Wn("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lJ=Wn("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yat=Wn("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);function iIe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Cl="/revisit_test/";function Hfe(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function sIe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kat=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xat=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qat={};function qfe(e,t){return(Qat.jsx?Xat:Kat).test(e)}const Jat=/[ \t\n\f\r]/g;function Zat(e){return typeof e=="object"?e.type==="text"?Wfe(e.value):!1:Wfe(e)}function Wfe(e){return e.replace(Jat,"")===""}let iN=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};iN.prototype.property={};iN.prototype.normal={};iN.prototype.space=null;function oIe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new iN(n,r,t)}function Ek(e){return e.toLowerCase()}let Mf=class{constructor(t,n){this.property=t,this.attribute=n}};Mf.prototype.space=null;Mf.prototype.boolean=!1;Mf.prototype.booleanish=!1;Mf.prototype.overloadedBoolean=!1;Mf.prototype.number=!1;Mf.prototype.commaSeparated=!1;Mf.prototype.spaceSeparated=!1;Mf.prototype.commaOrSpaceSeparated=!1;Mf.prototype.mustUseProperty=!1;Mf.prototype.defined=!1;let eut=0;const Mn=J_(),Ys=J_(),aIe=J_(),ft=J_(),xi=J_(),yx=J_(),Kl=J_();function J_(){return 2**++eut}const gH=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mn,booleanish:Ys,commaOrSpaceSeparated:Kl,commaSeparated:yx,number:ft,overloadedBoolean:aIe,spaceSeparated:xi},Symbol.toStringTag,{value:"Module"})),S9=Object.keys(gH);class cJ extends Mf{constructor(t,n,r,i){let s=-1;if(super(t,n),Gfe(this,"space",i),typeof r=="number")for(;++s<S9.length;){const o=S9[s];Gfe(this,S9[s],(r&gH[o])===gH[o])}}}cJ.prototype.defined=!0;function Gfe(e,t,n){n&&(e[t]=n)}const tut={}.hasOwnProperty;function MT(e){const t={},n={};let r;for(r in e.properties)if(tut.call(e.properties,r)){const i=e.properties[r],s=new cJ(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ek(r)]=r,n[Ek(s.attribute)]=r}return new iN(t,n,e.space)}const uIe=MT({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lIe=MT({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cIe(e,t){return t in e?e[t]:t}function fIe(e,t){return cIe(e,t.toLowerCase())}const dIe=MT({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:fIe,properties:{xmlns:null,xmlnsXLink:null}}),hIe=MT({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ys,ariaAutoComplete:null,ariaBusy:Ys,ariaChecked:Ys,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:xi,ariaCurrent:null,ariaDescribedBy:xi,ariaDetails:null,ariaDisabled:Ys,ariaDropEffect:xi,ariaErrorMessage:null,ariaExpanded:Ys,ariaFlowTo:xi,ariaGrabbed:Ys,ariaHasPopup:null,ariaHidden:Ys,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xi,ariaLevel:ft,ariaLive:null,ariaModal:Ys,ariaMultiLine:Ys,ariaMultiSelectable:Ys,ariaOrientation:null,ariaOwns:xi,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:Ys,ariaReadOnly:Ys,ariaRelevant:null,ariaRequired:Ys,ariaRoleDescription:xi,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:Ys,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null}}),nut=MT({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:fIe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yx,acceptCharset:xi,accessKey:xi,action:null,allow:null,allowFullScreen:Mn,allowPaymentRequest:Mn,allowUserMedia:Mn,alt:null,as:null,async:Mn,autoCapitalize:null,autoComplete:xi,autoFocus:Mn,autoPlay:Mn,blocking:xi,capture:null,charSet:null,checked:Mn,cite:null,className:xi,cols:ft,colSpan:null,content:null,contentEditable:Ys,controls:Mn,controlsList:xi,coords:ft|yx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mn,defer:Mn,dir:null,dirName:null,disabled:Mn,download:aIe,draggable:Ys,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mn,formTarget:null,headers:xi,height:ft,hidden:Mn,high:ft,href:null,hrefLang:null,htmlFor:xi,httpEquiv:xi,id:null,imageSizes:null,imageSrcSet:null,inert:Mn,inputMode:null,integrity:null,is:null,isMap:Mn,itemId:null,itemProp:xi,itemRef:xi,itemScope:Mn,itemType:xi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mn,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:Mn,muted:Mn,name:null,nonce:null,noModule:Mn,noValidate:Mn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mn,optimum:ft,pattern:null,ping:xi,placeholder:null,playsInline:Mn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mn,referrerPolicy:null,rel:xi,required:Mn,reversed:Mn,rows:ft,rowSpan:ft,sandbox:xi,scope:null,scoped:Mn,seamless:Mn,selected:Mn,shadowRootClonable:Mn,shadowRootDelegatesFocus:Mn,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:Ys,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:Mn,useMap:null,value:Ys,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xi,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mn,declare:Mn,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:Mn,noHref:Mn,noShade:Mn,noWrap:Mn,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:Ys,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mn,disableRemotePlayback:Mn,prefix:null,property:null,results:ft,security:null,unselectable:null}}),rut=MT({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cIe,properties:{about:Kl,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:xi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:Mn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yx,g2:yx,glyphName:yx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:Kl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kl,rev:Kl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kl,requiredFeatures:Kl,requiredFonts:Kl,requiredFormats:Kl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:Kl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kl,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),iut=/^data[-\w.:]+$/i,Yfe=/-[a-z]/g,sut=/[A-Z]/g;function xF(e,t){const n=Ek(t);let r=t,i=Mf;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&iut.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Yfe,aut);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Yfe.test(s)){let o=s.replace(sut,out);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=cJ}return new i(r,t)}function out(e){return"-"+e.toLowerCase()}function aut(e){return e.charAt(1).toUpperCase()}const uut={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sN=oIe([lIe,uIe,dIe,hIe,nut],"html"),Bv=oIe([lIe,uIe,dIe,hIe,rut],"svg");function Kfe(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function pIe(e){return e.join(" ").trim()}var mIe={},Xfe=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lut=/\n/g,cut=/^\s*/,fut=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dut=/^:\s*/,hut=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,put=/^[;\s]*/,mut=/^\s+|\s+$/g,gut=`
`,Qfe="/",Jfe="*",Y1="",yut="comment",vut="declaration",but=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(lut);m&&(n+=m.length);var g=p.lastIndexOf(gut);r=~g?p.length-g:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function l(){u(cut)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(Qfe!=e.charAt(0)||Jfe!=e.charAt(1))){for(var m=2;Y1!=e.charAt(m)&&(Jfe!=e.charAt(m)||Qfe!=e.charAt(m+1));)++m;if(m+=2,Y1===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:yut,comment:g})}}function d(){var p=s(),m=u(fut);if(m){if(f(),!u(dut))return a("property missing ':'");var g=u(hut),y=p({type:vut,property:Zfe(m[0].replace(Xfe,Y1)),value:g?Zfe(g[0].replace(Xfe,Y1)):Y1});return u(put),y}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function Zfe(e){return e?e.replace(mut,Y1):Y1}var _ut=vs&&vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mIe,"__esModule",{value:!0});var wut=_ut(but);function Eut(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,wut.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var ede=mIe.default=Eut;const xut=ede.default||ede,SF=gIe("end"),Up=gIe("start");function gIe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Sut(e){const t=Up(e),n=SF(e);if(t&&n)return{start:t,end:n}}function nI(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tde(e.position):"start"in e||"end"in e?tde(e):"line"in e||"column"in e?yH(e):""}function yH(e){return nde(e&&e.line)+":"+nde(e&&e.column)}function tde(e){return yH(e&&e.start)+"-"+yH(e&&e.end)}function nde(e){return e&&typeof e=="number"?e:1}class su extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=nI(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}su.prototype.file="";su.prototype.name="";su.prototype.reason="";su.prototype.message="";su.prototype.stack="";su.prototype.column=void 0;su.prototype.line=void 0;su.prototype.ancestors=void 0;su.prototype.cause=void 0;su.prototype.fatal=void 0;su.prototype.place=void 0;su.prototype.ruleId=void 0;su.prototype.source=void 0;const fJ={}.hasOwnProperty,Tut=new Map,Cut=/[A-Z]/g,Aut=/-([a-z])/g,Iut=new Set(["table","tbody","thead","tfoot","tr"]),kut=new Set(["td","th"]),yIe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Rut(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Fut(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Lut(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Bv:sN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=vIe(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function vIe(e,t,n){if(t.type==="element")return Nut(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Put(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Dut(e,t,n);if(t.type==="mdxjsEsm")return Out(e,t);if(t.type==="root")return $ut(e,t,n);if(t.type==="text")return Mut(e,t)}function Nut(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Bv,e.schema=i),e.ancestors.push(t);const s=_Ie(e,t.tagName,!1),o=jut(e,t);let a=hJ(e,t);return Iut.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!Zat(u):!0})),bIe(e,o,s,t),dJ(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Put(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}xk(e,t.position)}function Out(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xk(e,t.position)}function Dut(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Bv,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:_Ie(e,t.name,!0),o=But(e,t),a=hJ(e,t);return bIe(e,o,s,t),dJ(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function $ut(e,t,n){const r={};return dJ(r,hJ(e,t)),e.create(t,e.Fragment,r,n)}function Mut(e,t){return t.value}function bIe(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function dJ(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Lut(e,t,n){return r;function r(i,s,o,a){const l=Array.isArray(o.children)?n:t;return a?l(s,o,a):l(s,o)}}function Fut(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=Up(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function jut(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&fJ.call(t.properties,i)){const s=Uut(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&kut.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function But(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else xk(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else xk(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function hJ(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Tut;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;o=u+"-"+l,i.set(u,l+1)}}const a=vIe(e,s,o);a!==void 0&&n.push(a)}return n}function Uut(e,t,n){const r=xF(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sIe(n):pIe(n)),r.property==="style"){let i=typeof n=="object"?n:zut(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Vut(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?uut[r.property]||r.property:r.attribute,n]}}function zut(e,t){const n={};try{xut(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new su("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=yIe+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Aut,qut)),n[o]=s}}function _Ie(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=qfe(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=qfe(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return fJ.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);xk(e)}function xk(e,t){const n=new su("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=yIe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Vut(e){const t={};let n;for(n in e)fJ.call(e,n)&&(t[Hut(n)]=e[n]);return t}function Hut(e){let t=e.replace(Cut,Wut);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qut(e,t){return t.toUpperCase()}function Wut(e){return"-"+e.toLowerCase()}const T9={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Gut={};function Yut(e,t){const n=Gut,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wIe(e,r,i)}function wIe(e,t,n){if(Kut(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rde(e.children,t,n)}return Array.isArray(e)?rde(e,t,n):""}function rde(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=wIe(e[i],t,n);return r.join("")}function Kut(e){return!!(e&&typeof e=="object")}const ide=document.createElement("i");function pJ(e){const t="&"+e+";";ide.innerHTML=t;const n=ide.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function _g(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function rf(e,t){return e.length>0?(_g(e,e.length,0,t),e):t}const sde={}.hasOwnProperty;function Xut(e){const t={};let n=-1;for(;++n<e.length;)Qut(t,e[n]);return t}function Qut(e,t){let n;for(n in t){const i=(sde.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){sde.call(i,o)||(i[o]=[]);const a=s[o];Jut(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Jut(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);_g(e,0,0,r)}function EIe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vx(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nh=Uv(/[A-Za-z]/),lc=Uv(/[\dA-Za-z]/),Zut=Uv(/[#-'*+\--9=?A-Z^-~]/);function vH(e){return e!==null&&(e<32||e===127)}const bH=Uv(/\d/),elt=Uv(/[\dA-Fa-f]/),tlt=Uv(/[!-/:-@[-`{-~]/);function pn(e){return e!==null&&e<-2}function Al(e){return e!==null&&(e<0||e===32)}function Hr(e){return e===-2||e===-1||e===32}const nlt=Uv(new RegExp("\\p{P}|\\p{S}","u")),rlt=Uv(/\s/);function Uv(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function LT(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&lc(e.charCodeAt(n+1))&&lc(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ti(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Hr(u)?(e.enter(n),a(u)):t(u)}function a(u){return Hr(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const ilt={tokenize:slt};function slt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ti(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pn(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const olt={tokenize:alt},ode={tokenize:ult};function alt(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const w=t.events.length;let E=w,x;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){x=t.events[E][1].end;break}y(r);let S=w;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},x),S++;return _g(t.events,E+1,0,t.events.slice(w)),t.events.length=S,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ode,c,f)(b)}function c(b){return i&&v(),y(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(ode,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(b)}function m(b){if(b===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return pn(b)?(e.consume(b),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function g(b,w){const E=t.sliceStream(b);if(w&&E.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(E),t.parser.lazy[b.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<o&&(!i.events[x][1].end||i.events[x][1].end.offset>o))return;const S=t.events.length;let C=S,I,k;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(I){k=t.events[C][1].end;break}I=!0}for(y(r),x=S;x<t.events.length;)t.events[x][1].end=Object.assign({},k),x++;_g(t.events,C+1,0,t.events.slice(S)),t.events.length=x}}function y(b){let w=n.length;for(;w-- >b;){const E=n[w];t.containerState=E[1],E[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ult(e,t,n){return Ti(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ade(e){if(e===null||Al(e)||rlt(e))return 1;if(nlt(e))return 2}function mJ(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const _H={name:"attention",tokenize:clt,resolveAll:llt};function llt(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);ude(f,-u),ude(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=rf(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=rf(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=rf(l,mJ(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=rf(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=rf(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,_g(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function clt(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ade(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=ade(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function ude(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const flt={name:"autolink",tokenize:dlt};function dlt(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Nh(h)?(e.consume(h),o):h===64?n(h):l(h)}function o(h){return h===43||h===45||h===46||lc(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||lc(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||vH(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):Zut(h)?(e.consume(h),l):n(h)}function c(h){return lc(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||lc(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const TF={tokenize:hlt,partial:!0};function hlt(e,t,n){return r;function r(s){return Hr(s)?Ti(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||pn(s)?t(s):n(s)}}const xIe={name:"blockQuote",tokenize:plt,continuation:{tokenize:mlt},exit:glt};function plt(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Hr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function mlt(e,t,n){const r=this;return i;function i(o){return Hr(o)?Ti(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(xIe,t,n)(o)}}function glt(e){e.exit("blockQuote")}const SIe={name:"characterEscape",tokenize:ylt};function ylt(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return tlt(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const TIe={name:"characterReference",tokenize:vlt};function vlt(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=lc,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=elt,c):(e.enter("characterReferenceValue"),s=7,o=bH,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===lc&&!pJ(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const lde={tokenize:_lt,partial:!0},cde={name:"codeFenced",tokenize:blt,concrete:!0};function blt(e,t,n){const r=this,i={tokenize:E,partial:!0};let s=0,o=0,a;return u;function u(x){return l(x)}function l(x){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(x)}function c(x){return x===a?(o++,e.consume(x),c):o<3?n(x):(e.exit("codeFencedFenceSequence"),Hr(x)?Ti(e,f,"whitespace")(x):f(x))}function f(x){return x===null||pn(x)?(e.exit("codeFencedFence"),r.interrupt?t(x):e.check(lde,m,w)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(x))}function d(x){return x===null||pn(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(x)):Hr(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ti(e,h,"whitespace")(x)):x===96&&x===a?n(x):(e.consume(x),d)}function h(x){return x===null||pn(x)?f(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||pn(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(x)):x===96&&x===a?n(x):(e.consume(x),p)}function m(x){return e.attempt(i,w,g)(x)}function g(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),y}function y(x){return s>0&&Hr(x)?Ti(e,v,"linePrefix",s+1)(x):v(x)}function v(x){return x===null||pn(x)?e.check(lde,m,w)(x):(e.enter("codeFlowValue"),b(x))}function b(x){return x===null||pn(x)?(e.exit("codeFlowValue"),v(x)):(e.consume(x),b)}function w(x){return e.exit("codeFenced"),t(x)}function E(x,S,C){let I=0;return k;function k(L){return x.enter("lineEnding"),x.consume(L),x.exit("lineEnding"),R}function R(L){return x.enter("codeFencedFence"),Hr(L)?Ti(x,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):D(L)}function D(L){return L===a?(x.enter("codeFencedFenceSequence"),P(L)):C(L)}function P(L){return L===a?(I++,x.consume(L),P):I>=o?(x.exit("codeFencedFenceSequence"),Hr(L)?Ti(x,$,"whitespace")(L):$(L)):C(L)}function $(L){return L===null||pn(L)?(x.exit("codeFencedFence"),S(L)):C(L)}}}function _lt(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const C9={name:"codeIndented",tokenize:Elt},wlt={tokenize:xlt,partial:!0};function Elt(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Ti(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):pn(l)?e.attempt(wlt,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||pn(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function xlt(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):pn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ti(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):pn(o)?i(o):n(o)}}const Slt={name:"codeText",tokenize:Alt,resolve:Tlt,previous:Clt};function Tlt(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Clt(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Alt(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):pn(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||pn(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}class Ilt{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&o2(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),o2(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),o2(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);o2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);o2(this.left,n.reverse())}}}function o2(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function CIe(e){const t={};let n=-1,r,i,s,o,a,u,l;const c=new Ilt(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,klt(c,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return _g(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function klt(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const y=a.slice(g[d],g[d+1]),v=s.pop();u.push([v,v+y.length-1]),e.splice(v,2,y)}for(u.reverse(),d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const Rlt={tokenize:Olt,resolve:Plt},Nlt={tokenize:Dlt,partial:!0};function Plt(e){return CIe(e),e}function Olt(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):pn(a)?e.check(Nlt,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Dlt(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ti(e,s,"linePrefix")}function s(o){if(o===null||pn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function AIe(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),d):y===null||y===32||y===41||vH(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function d(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),d(y)):y===null||y===60||pn(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||Al(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<l&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||vH(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function IIe(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):pn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||pn(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!Hr(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function kIe(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):pn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ti(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||pn(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function rI(e,t){let n;return r;function r(i){return pn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Hr(i)?Ti(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const $lt={name:"definition",tokenize:Llt},Mlt={tokenize:Flt,partial:!0};function Llt(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return IIe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=vx(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return Al(h)?rI(e,l)(h):l(h)}function l(h){return AIe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(Mlt,f,f)(h)}function f(h){return Hr(h)?Ti(e,d,"whitespace")(h):d(h)}function d(h){return h===null||pn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Flt(e,t,n){return r;function r(a){return Al(a)?rI(e,i)(a):n(a)}function i(a){return kIe(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Hr(a)?Ti(e,o,"whitespace")(a):o(a)}function o(a){return a===null||pn(a)?t(a):n(a)}}const jlt={name:"hardBreakEscape",tokenize:Blt};function Blt(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return pn(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Ult={name:"headingAtx",tokenize:Vlt,resolve:zlt};function zlt(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},_g(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Vlt(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Al(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||pn(c)?(e.exit("atxHeading"),t(c)):Hr(c)?Ti(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Al(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const Hlt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fde=["pre","script","style","textarea"],qlt={name:"htmlFlow",tokenize:Klt,resolveTo:Ylt,concrete:!0},Wlt={tokenize:Qlt,partial:!0},Glt={tokenize:Xlt,partial:!0};function Ylt(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Klt(e,t,n){const r=this;let i,s,o,a,u;return l;function l(F){return c(F)}function c(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),f}function f(F){return F===33?(e.consume(F),d):F===47?(e.consume(F),s=!0,m):F===63?(e.consume(F),i=3,r.interrupt?t:O):Nh(F)?(e.consume(F),o=String.fromCharCode(F),g):n(F)}function d(F){return F===45?(e.consume(F),i=2,h):F===91?(e.consume(F),i=5,a=0,p):Nh(F)?(e.consume(F),i=4,r.interrupt?t:O):n(F)}function h(F){return F===45?(e.consume(F),r.interrupt?t:O):n(F)}function p(F){const V="CDATA[";return F===V.charCodeAt(a++)?(e.consume(F),a===V.length?r.interrupt?t:D:p):n(F)}function m(F){return Nh(F)?(e.consume(F),o=String.fromCharCode(F),g):n(F)}function g(F){if(F===null||F===47||F===62||Al(F)){const V=F===47,G=o.toLowerCase();return!V&&!s&&fde.includes(G)?(i=1,r.interrupt?t(F):D(F)):Hlt.includes(o.toLowerCase())?(i=6,V?(e.consume(F),y):r.interrupt?t(F):D(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):s?v(F):b(F))}return F===45||lc(F)?(e.consume(F),o+=String.fromCharCode(F),g):n(F)}function y(F){return F===62?(e.consume(F),r.interrupt?t:D):n(F)}function v(F){return Hr(F)?(e.consume(F),v):k(F)}function b(F){return F===47?(e.consume(F),k):F===58||F===95||Nh(F)?(e.consume(F),w):Hr(F)?(e.consume(F),b):k(F)}function w(F){return F===45||F===46||F===58||F===95||lc(F)?(e.consume(F),w):E(F)}function E(F){return F===61?(e.consume(F),x):Hr(F)?(e.consume(F),E):b(F)}function x(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),u=F,S):Hr(F)?(e.consume(F),x):C(F)}function S(F){return F===u?(e.consume(F),u=null,I):F===null||pn(F)?n(F):(e.consume(F),S)}function C(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Al(F)?E(F):(e.consume(F),C)}function I(F){return F===47||F===62||Hr(F)?b(F):n(F)}function k(F){return F===62?(e.consume(F),R):n(F)}function R(F){return F===null||pn(F)?D(F):Hr(F)?(e.consume(F),R):n(F)}function D(F){return F===45&&i===2?(e.consume(F),M):F===60&&i===1?(e.consume(F),B):F===62&&i===4?(e.consume(F),U):F===63&&i===3?(e.consume(F),O):F===93&&i===5?(e.consume(F),H):pn(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Wlt,q,P)(F)):F===null||pn(F)?(e.exit("htmlFlowData"),P(F)):(e.consume(F),D)}function P(F){return e.check(Glt,$,q)(F)}function $(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),L}function L(F){return F===null||pn(F)?P(F):(e.enter("htmlFlowData"),D(F))}function M(F){return F===45?(e.consume(F),O):D(F)}function B(F){return F===47?(e.consume(F),o="",z):D(F)}function z(F){if(F===62){const V=o.toLowerCase();return fde.includes(V)?(e.consume(F),U):D(F)}return Nh(F)&&o.length<8?(e.consume(F),o+=String.fromCharCode(F),z):D(F)}function H(F){return F===93?(e.consume(F),O):D(F)}function O(F){return F===62?(e.consume(F),U):F===45&&i===2?(e.consume(F),O):D(F)}function U(F){return F===null||pn(F)?(e.exit("htmlFlowData"),q(F)):(e.consume(F),U)}function q(F){return e.exit("htmlFlow"),t(F)}}function Xlt(e,t,n){const r=this;return i;function i(o){return pn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Qlt(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(TF,t,n)}}const Jlt={name:"htmlText",tokenize:Zlt};function Zlt(e,t,n){const r=this;let i,s,o;return a;function a(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),u}function u(O){return O===33?(e.consume(O),l):O===47?(e.consume(O),E):O===63?(e.consume(O),b):Nh(O)?(e.consume(O),C):n(O)}function l(O){return O===45?(e.consume(O),c):O===91?(e.consume(O),s=0,p):Nh(O)?(e.consume(O),v):n(O)}function c(O){return O===45?(e.consume(O),h):n(O)}function f(O){return O===null?n(O):O===45?(e.consume(O),d):pn(O)?(o=f,B(O)):(e.consume(O),f)}function d(O){return O===45?(e.consume(O),h):f(O)}function h(O){return O===62?M(O):O===45?d(O):f(O)}function p(O){const U="CDATA[";return O===U.charCodeAt(s++)?(e.consume(O),s===U.length?m:p):n(O)}function m(O){return O===null?n(O):O===93?(e.consume(O),g):pn(O)?(o=m,B(O)):(e.consume(O),m)}function g(O){return O===93?(e.consume(O),y):m(O)}function y(O){return O===62?M(O):O===93?(e.consume(O),y):m(O)}function v(O){return O===null||O===62?M(O):pn(O)?(o=v,B(O)):(e.consume(O),v)}function b(O){return O===null?n(O):O===63?(e.consume(O),w):pn(O)?(o=b,B(O)):(e.consume(O),b)}function w(O){return O===62?M(O):b(O)}function E(O){return Nh(O)?(e.consume(O),x):n(O)}function x(O){return O===45||lc(O)?(e.consume(O),x):S(O)}function S(O){return pn(O)?(o=S,B(O)):Hr(O)?(e.consume(O),S):M(O)}function C(O){return O===45||lc(O)?(e.consume(O),C):O===47||O===62||Al(O)?I(O):n(O)}function I(O){return O===47?(e.consume(O),M):O===58||O===95||Nh(O)?(e.consume(O),k):pn(O)?(o=I,B(O)):Hr(O)?(e.consume(O),I):M(O)}function k(O){return O===45||O===46||O===58||O===95||lc(O)?(e.consume(O),k):R(O)}function R(O){return O===61?(e.consume(O),D):pn(O)?(o=R,B(O)):Hr(O)?(e.consume(O),R):I(O)}function D(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),i=O,P):pn(O)?(o=D,B(O)):Hr(O)?(e.consume(O),D):(e.consume(O),$)}function P(O){return O===i?(e.consume(O),i=void 0,L):O===null?n(O):pn(O)?(o=P,B(O)):(e.consume(O),P)}function $(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||Al(O)?I(O):(e.consume(O),$)}function L(O){return O===47||O===62||Al(O)?I(O):n(O)}function M(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):n(O)}function B(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),z}function z(O){return Hr(O)?Ti(e,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):H(O)}function H(O){return e.enter("htmlTextData"),o(O)}}const gJ={name:"labelEnd",tokenize:sct,resolveTo:ict,resolveAll:rct},ect={tokenize:oct},tct={tokenize:act},nct={tokenize:uct};function rct(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function ict(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=rf(a,e.slice(s+1,s+r+3)),a=rf(a,[["enter",c,t]]),a=rf(a,mJ(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=rf(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=rf(a,e.slice(o+1)),a=rf(a,[["exit",u,t]]),_g(e,s,e.length,a),e}function sct(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(vx(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(ect,c,o?c:f)(d):d===91?e.attempt(tct,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(nct,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function oct(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Al(f)?rI(e,s)(f):s(f)}function s(f){return f===41?c(f):AIe(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Al(f)?rI(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?kIe(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return Al(f)?rI(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function act(e,t,n){const r=this;return i;function i(a){return IIe.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(vx(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function uct(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const lct={name:"labelStartImage",tokenize:cct,resolveAll:gJ.resolveAll};function cct(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const fct={name:"labelStartLink",tokenize:dct,resolveAll:gJ.resolveAll};function dct(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const A9={name:"lineEnding",tokenize:hct};function hct(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ti(e,t,"linePrefix")}}const m$={name:"thematicBreak",tokenize:pct};function pct(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||pn(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Hr(l)?Ti(e,a,"whitespace")(l):a(l))}}const Ju={name:"list",tokenize:yct,continuation:{tokenize:vct},exit:_ct},mct={tokenize:wct,partial:!0},gct={tokenize:bct,partial:!0};function yct(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:bH(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(m$,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return bH(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(TF,r.interrupt?n:c,e.attempt(mct,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Hr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function vct(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(TF,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ti(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Hr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(gct,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ti(e,e.attempt(Ju,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function bct(e,t,n){const r=this;return Ti(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function _ct(e){e.exit(this.containerState.type)}function wct(e,t,n){const r=this;return Ti(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Hr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const dde={name:"setextUnderline",tokenize:xct,resolveTo:Ect};function Ect(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function xct(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),Hr(l)?Ti(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||pn(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const Sct={tokenize:Tct};function Tct(e){const t=this,n=e.attempt(TF,r,e.attempt(this.parser.constructs.flowInitial,i,Ti(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Rlt,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Cct={resolveAll:NIe()},Act=RIe("string"),Ict=RIe("text");function RIe(e){return{tokenize:t,resolveAll:NIe(e==="text"?kct:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function NIe(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function kct(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function Rct(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:b,exit:w,attempt:S(E),check:S(x),interrupt:S(x,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(R){return o=rf(o,R),g(),o[o.length-1]!==null?[]:(C(t,0),l.events=mJ(s,l.events,l),l.events)}function d(R,D){return Pct(h(R),D)}function h(R){return Nct(o,R)}function p(){const{line:R,column:D,offset:P,_index:$,_bufferIndex:L}=r;return{line:R,column:D,offset:P,_index:$,_bufferIndex:L}}function m(R){i[R.line]=R.column,k()}function g(){let R;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<D.length;)y(D.charCodeAt(r._bufferIndex));else y(D)}}function y(R){c=c(R)}function v(R){pn(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,k()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=R}function b(R,D){const P=D||{};return P.type=R,P.start=p(),l.events.push(["enter",P,l]),a.push(P),P}function w(R){const D=a.pop();return D.end=p(),l.events.push(["exit",D,l]),D}function E(R,D){C(R,D.from)}function x(R,D){D.restore()}function S(R,D){return P;function P($,L,M){let B,z,H,O;return Array.isArray($)?q($):"tokenize"in $?q([$]):U($);function U(Z){return ae;function ae(re){const ue=re!==null&&Z[re],pe=re!==null&&Z.null,xe=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(pe)?pe:pe?[pe]:[]];return q(xe)(re)}}function q(Z){return B=Z,z=0,Z.length===0?M:F(Z[z])}function F(Z){return ae;function ae(re){return O=I(),H=Z,Z.partial||(l.currentConstruct=Z),Z.name&&l.parser.constructs.disable.null.includes(Z.name)?G():Z.tokenize.call(D?Object.assign(Object.create(l),D):l,u,V,G)(re)}}function V(Z){return R(H,O),L}function G(Z){return O.restore(),++z<B.length?F(B[z]):M}}}function C(R,D){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&_g(l.events,D,l.events.length-D,R.resolve(l.events.slice(D),l)),R.resolveTo&&(l.events=R.resolveTo(l.events,l))}function I(){const R=p(),D=l.previous,P=l.currentConstruct,$=l.events.length,L=Array.from(a);return{restore:M,from:$};function M(){r=R,l.previous=D,l.currentConstruct=P,l.events.length=$,a=L,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Nct(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function Pct(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Oct={42:Ju,43:Ju,45:Ju,48:Ju,49:Ju,50:Ju,51:Ju,52:Ju,53:Ju,54:Ju,55:Ju,56:Ju,57:Ju,62:xIe},Dct={91:$lt},$ct={[-2]:C9,[-1]:C9,32:C9},Mct={35:Ult,42:m$,45:[dde,m$],60:qlt,61:dde,95:m$,96:cde,126:cde},Lct={38:TIe,92:SIe},Fct={[-5]:A9,[-4]:A9,[-3]:A9,33:lct,38:TIe,42:_H,60:[flt,Jlt],91:fct,92:[jlt,SIe],93:gJ,95:_H,96:Slt},jct={null:[_H,Cct]},Bct={null:[42,95]},Uct={null:[]},zct=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Bct,contentInitial:Dct,disable:Uct,document:Oct,flow:Mct,flowInitial:$ct,insideSpan:jct,string:Lct,text:Fct},Symbol.toStringTag,{value:"Module"}));function Vct(e){const n=Xut([zct,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(ilt),document:i(olt),flow:i(Sct),string:i(Act),text:i(Ict)};return r;function i(s){return o;function o(a){return Rct(r,s,a)}}}function Hct(e){for(;!CIe(e););return e}const hde=/[\0\t\n\r]/g;function qct(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(hde.lastIndex=f,l=hde.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const Wct=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gct(e){return e.replace(Wct,Yct)}function Yct(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return EIe(n.slice(s?2:1),s?16:10)}return pJ(n)||e}const PIe={}.hasOwnProperty;function Kct(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Xct(n)(Hct(Vct(n).document().write(qct()(e,t,!0))))}function Xct(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ze),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(ht),blockQuote:s(pe),characterEscape:I,characterReference:I,codeFenced:s(xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xe,o),codeText:s(ve,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(We),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Be),hardBreakEscape:s(Je),hardBreakTrailing:s(Je),htmlFlow:s(we,o),htmlFlowData:I,htmlText:s(we,o),htmlTextData:I,image:s(Ae),label:o,link:s(ze),listItem:s(Ot),listItemValue:d,listOrdered:s(et,f),listUnordered:s(et),paragraph:s(Oe),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(ht),strong:s(fe),thematicBreak:s(nt)},exit:{atxHeading:u(),atxHeadingSequence:E,autolink:u(),autolinkEmail:ue,autolinkProtocol:re,blockQuote:u(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:Z,characterReference:ae,codeFenced:u(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:u(y),codeText:u(L),codeTextData:k,data:k,definition:u(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:b,emphasis:u(),hardBreakEscape:u(D),hardBreakTrailing:u(D),htmlFlow:u(P),htmlFlowData:k,htmlText:u($),htmlTextData:k,image:u(B),label:H,labelText:z,lineEnding:R,link:u(M),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:V,resourceDestinationString:O,resourceTitleString:U,resource:q,setextHeading:u(C),setextHeadingLineSequence:S,setextHeadingText:x,strong:u(),thematicBreak:u()}};OIe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let ke={type:"root",children:[]};const Ve={stack:[ke],tokenStack:[],config:t,enter:a,exit:l,buffer:o,resume:c,data:n},Ye=[];let pt=-1;for(;++pt<ge.length;)if(ge[pt][1].type==="listOrdered"||ge[pt][1].type==="listUnordered")if(ge[pt][0]==="enter")Ye.push(pt);else{const xn=Ye.pop();pt=i(ge,xn,pt)}for(pt=-1;++pt<ge.length;){const xn=t[ge[pt][0]];PIe.call(xn,ge[pt][1].type)&&xn[ge[pt][1].type].call(Object.assign({sliceSerialize:ge[pt][2].sliceSerialize},Ve),ge[pt][1])}if(Ve.tokenStack.length>0){const xn=Ve.tokenStack[Ve.tokenStack.length-1];(xn[1]||pde).call(Ve,void 0,xn[0])}for(ke.position={start:b0(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:b0(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<t.transforms.length;)ke=t.transforms[pt](ke)||ke;return ke}function i(ge,ke,Ve){let Ye=ke-1,pt=-1,xn=!1,nr,mt,Lt,vt;for(;++Ye<=Ve;){const rn=ge[Ye];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?pt++:pt--,vt=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(nr&&!vt&&!pt&&!Lt&&(Lt=Ye),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!pt&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||pt===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(nr){let Sn=Ye;for(mt=void 0;Sn--;){const sn=ge[Sn];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;mt&&(ge[mt][1].type="lineEndingBlank",xn=!0),sn[1].type="lineEnding",mt=Sn}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}Lt&&(!mt||Lt<mt)&&(nr._spread=!0),nr.end=Object.assign({},mt?ge[mt][1].start:rn[1].end),ge.splice(mt||Ye,0,["exit",nr,rn[2]]),Ye++,Ve++}if(rn[1].type==="listItemPrefix"){const Sn={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};nr=Sn,ge.splice(Ye,0,["enter",Sn,rn[2]]),Ye++,Ve++,Lt=void 0,vt=!0}}}return ge[ke][1]._spread=xn,Ve}function s(ge,ke){return Ve;function Ve(Ye){a.call(this,ge(Ye),Ye),ke&&ke.call(this,Ye)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ge,ke,Ve){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([ke,Ve]),ge.position={start:b0(ke.start),end:void 0}}function u(ge){return ke;function ke(Ve){ge&&ge.call(this,Ve),l.call(this,Ve)}}function l(ge,ke){const Ve=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ge.type&&(ke?ke.call(this,ge,Ye[0]):(Ye[1]||pde).call(this,ge,Ye[0]));else throw new Error("Cannot close `"+ge.type+"` ("+nI({start:ge.start,end:ge.end})+"): its not open");Ve.position.end=b0(ge.end)}function c(){return Yut(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(ge){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ge}function p(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ge}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ge.replace(/(\r?\n|\r)$/g,"")}function v(ge){const ke=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=ke,Ve.identifier=vx(this.sliceSerialize(ge)).toLowerCase()}function b(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ge}function w(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ge}function E(ge){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Ve=this.sliceSerialize(ge).length;ke.depth=Ve}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function S(ge){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ge){const Ve=this.stack[this.stack.length-1].children;let Ye=Ve[Ve.length-1];(!Ye||Ye.type!=="text")&&(Ye=Xe(),Ye.position={start:b0(ge.start),end:void 0},Ve.push(Ye)),this.stack.push(Ye)}function k(ge){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ge),ke.position.end=b0(ge.end)}function R(ge){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=ke.children[ke.children.length-1];Ve.position.end=b0(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ke.type)&&(I.call(this,ge),k.call(this,ge))}function D(){this.data.atHardBreak=!0}function P(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ge}function $(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ge}function L(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ge}function M(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=ke,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function B(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=ke,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function z(ge){const ke=this.sliceSerialize(ge),Ve=this.stack[this.stack.length-2];Ve.label=Gct(ke),Ve.identifier=vx(ke).toLowerCase()}function H(){const ge=this.stack[this.stack.length-1],ke=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const Ye=ge.children;Ve.children=Ye}else Ve.alt=ke}function O(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ge}function U(){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ge}function q(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function V(ge){const ke=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=ke,Ve.identifier=vx(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function G(ge){this.data.characterReferenceType=ge.type}function Z(ge){const ke=this.sliceSerialize(ge),Ve=this.data.characterReferenceType;let Ye;Ve?(Ye=EIe(ke,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=pJ(ke);const pt=this.stack[this.stack.length-1];pt.value+=Ye}function ae(ge){const ke=this.stack.pop();ke.position.end=b0(ge.end)}function re(ge){k.call(this,ge);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ge)}function ue(ge){k.call(this,ge);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ge)}function pe(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function ht(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function we(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function et(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Ot(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function fe(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function nt(){return{type:"thematicBreak"}}}function b0(e){return{line:e.line,column:e.column,offset:e.offset}}function OIe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OIe(e,r):Qct(e,r)}}function Qct(e,t){let n;for(n in t)if(PIe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function pde(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nI({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nI({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nI({start:t.start,end:t.end})+") is still open")}function Jct(e){const t=this;t.parser=n;function n(r){return Kct(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Zct(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function eft(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function tft(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function nft(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rft(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ift(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=LT(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function sft(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oft(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function DIe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function aft(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DIe(e,t);const i={src:LT(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function uft(e,t){const n={src:LT(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lft(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function cft(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DIe(e,t);const i={href:LT(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function fft(e,t){const n={href:LT(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dft(e,t,n){const r=e.all(t),i=n?hft(n):$Ie(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function hft(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=$Ie(n[r])}return t}function $Ie(e){const t=e.spread;return t??e.children.length>1}function pft(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function mft(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gft(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function yft(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vft(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Up(t.children[1]),u=SF(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function bft(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function _ft(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const mde=9,gde=32;function wft(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(yde(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(yde(t.slice(i),i>0,!1)),s.join("")}function yde(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===mde||s===gde;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===mde||s===gde;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Eft(e,t){const n={type:"text",value:wft(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function xft(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Sft={blockquote:Zct,break:eft,code:tft,delete:nft,emphasis:rft,footnoteReference:ift,heading:sft,html:oft,imageReference:aft,image:uft,inlineCode:lft,linkReference:cft,link:fft,listItem:dft,list:pft,paragraph:mft,root:gft,strong:yft,table:vft,tableCell:_ft,tableRow:bft,text:Eft,thematicBreak:xft,toml:EO,yaml:EO,definition:EO,footnoteDefinition:EO};function EO(){}const MIe=-1,CF=0,s3=1,o3=2,yJ=3,vJ=4,bJ=5,_J=6,LIe=7,FIe=8,vde=typeof self=="object"?self:globalThis,Tft=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case CF:case MIe:return n(o,i);case s3:{const a=n([],i);for(const u of o)a.push(r(u));return a}case o3:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case yJ:return n(new Date(o),i);case vJ:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case bJ:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case _J:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case LIe:{const{name:a,message:u}=o;return n(new vde[a](u),i)}case FIe:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new vde[s](o),i)};return r},bde=e=>Tft(new Map,e)(0),Vw="",{toString:Cft}={},{keys:Aft}=Object,a2=e=>{const t=typeof e;if(t!=="object"||!e)return[CF,t];const n=Cft.call(e).slice(8,-1);switch(n){case"Array":return[s3,Vw];case"Object":return[o3,Vw];case"Date":return[yJ,Vw];case"RegExp":return[vJ,Vw];case"Map":return[bJ,Vw];case"Set":return[_J,Vw]}return n.includes("Array")?[s3,n]:n.includes("Error")?[LIe,n]:[o3,n]},xO=([e,t])=>e===CF&&(t==="function"||t==="symbol"),Ift=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=a2(o);switch(a){case CF:{let c=o;switch(u){case"bigint":a=FIe,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([MIe],o)}return i([a,c],o)}case s3:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case o3:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of Aft(o))(e||!xO(a2(o[d])))&&c.push([s(d),s(o[d])]);return f}case yJ:return i([a,o.toISOString()],o);case vJ:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case bJ:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(xO(a2(d))||xO(a2(h))))&&c.push([s(d),s(h)]);return f}case _J:{const c=[],f=i([a,c],o);for(const d of o)(e||!xO(a2(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},_de=(e,{json:t,lossy:n}={})=>{const r=[];return Ift(!(t||n),!!t,new Map,r)(e),r},aS=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?bde(_de(e,t)):structuredClone(e):(e,t)=>bde(_de(e,t));function kft(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Rft(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Nft(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||kft,r=e.options.footnoteBackLabel||Rft,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),f=String(l.identifier).toUpperCase(),d=LT(f.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(u,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(l,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...aS(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const jIe=function(e){if(e==null)return $ft;if(typeof e=="function")return AF(e);if(typeof e=="object")return Array.isArray(e)?Pft(e):Oft(e);if(typeof e=="string")return Dft(e);throw new Error("Expected function, string, or object as test")};function Pft(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jIe(e[n]);return AF(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Oft(e){const t=e;return AF(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Dft(e){return AF(t);function t(n){return n&&n.type===e}}function AF(e){return t;function t(n,r,i){return!!(Mft(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function $ft(){return!0}function Mft(e){return e!==null&&typeof e=="object"&&"type"in e}const BIe=[],Lft=!0,wde=!1,Fft="skip";function jft(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=jIe(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=BIe,p,m,g;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=Bft(n(u,c)),h[0]===wde))return h;if("children"in u&&u.children){const y=u;if(y.children&&h[0]!==Fft)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===wde)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function Bft(e){return Array.isArray(e)?e:typeof e=="number"?[Lft,e]:e==null?BIe:[e]}function wJ(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),jft(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const wH={}.hasOwnProperty,Uft={};function zft(e,t){const n=t||Uft,r=new Map,i=new Map,s=new Map,o={...Sft,...n.handlers},a={all:l,applyData:Hft,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Vft,wrap:Wft};return wJ(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),a;function u(c,f){const d=c.type,h=a.handlers[d];if(wH.call(a.handlers,d)&&h)return h(a,c,f);if(a.options.passThrough&&a.options.passThrough.includes(d)){if("children"in c){const{children:m,...g}=c,y=aS(g);return y.children=a.all(c),y}return aS(c)}return(a.options.unknownHandler||qft)(a,c,f)}function l(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=a.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Ede(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Ede(m.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Vft(e,t){e.position&&(t.position=Sut(e))}function Hft(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,aS(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function qft(e,t){const n=t.data||{},r="value"in t&&!(wH.call(n,"hProperties")||wH.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wft(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ede(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function xde(e,t){const n=zft(e,t),r=n.one(e,void 0),i=Nft(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Gft(e,t){return e&&"run"in e?async function(n,r){const i=xde(n,{file:r,...t});await e.run(i,r)}:function(n,r){return xde(n,{file:r,...t||e})}}function Sde(e){if(e)throw e}var g$=Object.prototype.hasOwnProperty,UIe=Object.prototype.toString,Tde=Object.defineProperty,Cde=Object.getOwnPropertyDescriptor,Ade=function(t){return typeof Array.isArray=="function"?Array.isArray(t):UIe.call(t)==="[object Array]"},Ide=function(t){if(!t||UIe.call(t)!=="[object Object]")return!1;var n=g$.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&g$.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||g$.call(t,i)},kde=function(t,n){Tde&&n.name==="__proto__"?Tde(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Rde=function(t,n){if(n==="__proto__")if(g$.call(t,n)){if(Cde)return Cde(t,n).value}else return;return t[n]},Yft=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=Rde(a,n),i=Rde(t,n),a!==i&&(c&&i&&(Ide(i)||(s=Ade(i)))?(s?(s=!1,o=r&&Ade(r)?r:[]):o=r&&Ide(r)?r:{},kde(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&kde(a,{name:n,newValue:i}));return a};const I9=On(Yft);function EH(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kft(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?Xft(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Xft(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const wh={basename:Qft,dirname:Jft,extname:Zft,join:edt,sep:"/"};function Qft(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');oN(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Jft(e){if(oN(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Zft(e){oN(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function edt(...e){let t=-1,n;for(;++t<e.length;)oN(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":tdt(n)}function tdt(e){oN(e);const t=e.codePointAt(0)===47;let n=ndt(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ndt(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function oN(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rdt={cwd:idt};function idt(){return"/"}function xH(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function sdt(e){if(typeof e=="string")e=new URL(e);else if(!xH(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return odt(e)}function odt(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const k9=["history","path","basename","stem","extname","dirname"];class zIe{constructor(t){let n;t?xH(t)?n={path:t}:typeof t=="string"||adt(t)?n={value:t}:n=t:n={},this.cwd=rdt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<k9.length;){const s=k9[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)k9.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?wh.basename(this.path):void 0}set basename(t){N9(t,"basename"),R9(t,"basename"),this.path=wh.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?wh.dirname(this.path):void 0}set dirname(t){Nde(this.basename,"dirname"),this.path=wh.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?wh.extname(this.path):void 0}set extname(t){if(R9(t,"extname"),Nde(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wh.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xH(t)&&(t=sdt(t)),N9(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?wh.basename(this.path,this.extname):void 0}set stem(t){N9(t,"stem"),R9(t,"stem"),this.path=wh.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new su(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function R9(e,t){if(e&&e.includes(wh.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wh.sep+"`")}function N9(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Nde(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function adt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const udt=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const a of o){const u=Object.getOwnPropertyDescriptor(i,a);u&&Object.defineProperty(s,a,u)}return s},ldt={}.hasOwnProperty;class EJ extends udt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kft()}copy(){const t=new EJ;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(I9(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(D9("data",this.frozen),this.namespace[t]=n,this):ldt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(D9("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=SO(t),r=this.parser||this.Parser;return P9("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),P9("process",this.parser||this.Parser),O9("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=SO(t),u=r.parse(a);r.run(u,a,function(c,f,d){if(c||!f||!d)return l(c);const h=f,p=r.stringify(h,d);ddt(p)?d.value=p:d.result=p,l(c,d)});function l(c,f){c||!f?o(c):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),P9("processSync",this.parser||this.Parser),O9("processSync",this.compiler||this.Compiler),this.process(t,i),Ode("processSync","process",n),r;function i(s,o){n=!0,Sde(s),r=o}}run(t,n,r){Pde(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=SO(n);i.run(t,u,l);function l(c,f,d){const h=f||t;c?a(c):o?o(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Ode("runSync","run",r),i;function s(o,a){Sde(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=SO(n),i=this.compiler||this.Compiler;return O9("stringify",i),Pde(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(D9("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...f]=l;u(c,f)}else o(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function o(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(l.plugins),l.settings&&(i.settings=I9(!0,i.settings,l.settings))}function a(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const f=l[c];s(f)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===l){d=f;break}if(d===-1)r.push([l,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];EH(m)&&EH(h)&&(h=I9(!0,m,h)),r[d]=[l,h,...p]}}}}const cdt=new EJ().freeze();function P9(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function O9(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function D9(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Pde(e){if(!EH(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ode(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function SO(e){return fdt(e)?e:new zIe(e)}function fdt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ddt(e){return typeof e=="string"||hdt(e)}function hdt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pdt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Dde=[],$de={allowDangerousHtml:!0},mdt=/^(https?|ircs?|mailto|xmpp)$/i,gdt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ydt(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||Dde,u=e.remarkPlugins||Dde,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$de}:$de,c=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||vdt,h=cdt().use(Jct).use(u).use(Gft,l).use(a),p=new zIe;typeof r=="string"&&(p.value=r);for(const v of gdt)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+pdt+v.id,void 0);const m=h.parse(p);let g=h.runSync(m,p);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),wJ(g,y),Rut(g,{Fragment:_.Fragment,components:s,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function y(v,b,w){if(v.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let E;for(E in T9)if(Object.hasOwn(T9,E)&&Object.hasOwn(v.properties,E)){const x=v.properties[E],S=T9[E];(S===null||S.includes(v.tagName))&&(v.properties[E]=d(String(x||""),E,v))}}if(v.type==="element"){let E=t?!t.includes(v.tagName):o?o.includes(v.tagName):!1;if(!E&&n&&typeof b=="number"&&(E=!n(v,b,w)),E&&w&&typeof b=="number")return f&&v.children?w.children.splice(b,1,...v.children):w.children.splice(b,1),b}}}function vdt(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||mdt.test(e.slice(0,t))?e:""}const Mde=/[#.]/g;function bdt(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){Mde.lastIndex=i;const a=Mde.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const _dt=new Set(["button","menu","reset","submit"]),SH={}.hasOwnProperty;function VIe(e,t,n){const r=n&&Sdt(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=bdt(s,t),l.tagName=l.tagName.toLowerCase(),r&&SH.call(r,l.tagName)&&(l.tagName=r[l.tagName]),wdt(o,l.tagName)){let c;for(c in o)SH.call(o,c)&&Edt(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)TH(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function wdt(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?_dt.has(e.type.toLowerCase()):!("value"in e)}function Edt(e,t,n,r){const i=xF(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Kfe(r):i.commaSeparated?o=Hfe(r):i.commaOrSpaceSeparated?o=Kfe(Hfe(r).join(" ")):o=Lde(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?xdt(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=Lde(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function TH(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)TH(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?TH(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Lde(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ek(n)===Ek(t)))return!0}return n}function xdt(e){const t=[];let n;for(n in e)SH.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Sdt(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Tdt=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Cdt=VIe(sN,"div"),Adt=VIe(Bv,"g",Tdt),$9=/\r?\n|\r/g;function Idt(e){const t=String(e),n=[];for($9.lastIndex=0;$9.test(t);)n.push($9.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const hb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},HIe={}.hasOwnProperty,kdt=Object.prototype;function Rdt(e,t){const n=t||{};return xJ({file:n.file||void 0,location:!1,schema:n.space==="svg"?Bv:sN,verbose:n.verbose||!1},e)}function xJ(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},y$(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:qIe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Idt(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},y$(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},y$(e,r,n),n}default:return n=Ndt(e,t),n}}function qIe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=xJ(e,t[n]);r.push(i)}return r}function Ndt(e,t){const n=e.schema;e.schema=t.namespaceURI===hb.svg?Bv:sN;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;HIe.call(kdt,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?Adt:Cdt)(t.tagName,i,qIe(e,t.childNodes));if(y$(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&HE(u.startTag),c=u&&u.endTag&&HE(u.endTag),f=xJ(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function y$(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Pdt(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Pdt(e,t,n){const r=HE(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)HIe.call(n.attrs,o)&&(s[xF(e.schema,o).property]=HE(n.attrs[o]));n.startTag;const a=HE(n.startTag),u=n.endTag?HE(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function HE(e){const t=Fde({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Fde({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Fde(e){return e.line&&e.column?e:void 0}const jde={}.hasOwnProperty;function WIe(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&jde.call(i,e)){const u=String(i[e]);o=jde.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Odt={},Ddt={}.hasOwnProperty,GIe=WIe("type",{handlers:{root:Mdt,element:Udt,text:jdt,comment:Bdt,doctype:Fdt}});function $dt(e,t){const r=(t||Odt).space;return GIe(e,r==="svg"?Bv:sN)}function Mdt(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=SJ(e.children,n,t),FT(e,n),n}function Ldt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=SJ(e.children,n,t),FT(e,n),n}function Fdt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return FT(e,t),t}function jdt(e){const t={nodeName:"#text",value:e.value,parentNode:null};return FT(e,t),t}function Bdt(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return FT(e,t),t}function Udt(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Bv);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Ddt.call(e.properties,s)){const u=zdt(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:hb[o],childNodes:[],parentNode:null};return a.childNodes=SJ(e.children,a,r),FT(e,a),e.tagName==="template"&&e.content&&(a.content=Ldt(e.content,r)),a}function zdt(e,t,n){const r=xF(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?sIe(n):pIe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=hb[r.space]}return i}function SJ(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=GIe(e[r],n);s.parentNode=t,i.push(s)}return i}function FT(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Vdt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Hdt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Hi="";var Q;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(Q=Q||(Q={}));const Yu={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function YIe(e){return e>=55296&&e<=57343}function qdt(e){return e>=56320&&e<=57343}function Wdt(e,t){return(e-55296)*1024+9216+t}function KIe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function XIe(e){return e>=64976&&e<=65007||Hdt.has(e)}var De;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(De=De||(De={}));const Gdt=65536;class Ydt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Gdt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(qdt(n))return this.pos++,this._addGap(),Wdt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Q.EOF;return this._err(De.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Q.EOF;const r=this.html.charCodeAt(n);return r===Q.CARRIAGE_RETURN?Q.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Q.EOF;let t=this.html.charCodeAt(this.pos);return t===Q.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Q.LINE_FEED):t===Q.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,YIe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===Q.LINE_FEED||t===Q.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){KIe(t)?this._err(De.controlCharacterInInputStream):XIe(t)&&this._err(De.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Xn=Xn||(Xn={}));function QIe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const C0=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Kdt=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var M9;const Xdt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Qdt=(M9=String.fromCodePoint)!==null&&M9!==void 0?M9:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Jdt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Xdt.get(e))!==null&&t!==void 0?t:e}var Do;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Do||(Do={}));const Zdt=32;var Yh;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Yh||(Yh={}));function CH(e){return e>=Do.ZERO&&e<=Do.NINE}function eht(e){return e>=Do.UPPER_A&&e<=Do.UPPER_F||e>=Do.LOWER_A&&e<=Do.LOWER_F}function tht(e){return e>=Do.UPPER_A&&e<=Do.UPPER_Z||e>=Do.LOWER_A&&e<=Do.LOWER_Z||CH(e)}function nht(e){return e===Do.EQUALS||tht(e)}var Ao;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ao||(Ao={}));var K1;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(K1||(K1={}));class rht{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ao.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=K1.Strict}startEntity(t){this.decodeMode=t,this.state=Ao.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ao.EntityStart:return t.charCodeAt(n)===Do.NUM?(this.state=Ao.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ao.NamedEntity,this.stateNamedEntity(t,n));case Ao.NumericStart:return this.stateNumericStart(t,n);case Ao.NumericDecimal:return this.stateNumericDecimal(t,n);case Ao.NumericHex:return this.stateNumericHex(t,n);case Ao.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Zdt)===Do.LOWER_X?(this.state=Ao.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ao.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(CH(i)||eht(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(CH(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Do.SEMI)this.consumed+=1;else if(this.decodeMode===K1.Strict)return 0;return this.emitCodePoint(Jdt(this.result),this.consumed),this.errors&&(t!==Do.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Yh.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=ZIe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===K1.Attribute&&(s===0||nht(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Yh.VALUE_LENGTH)>>14,s!==0){if(o===Do.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==K1.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Yh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Yh.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ao.NamedEntity:return this.result!==0&&(this.decodeMode!==K1.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ao.NumericDecimal:return this.emitNumericEntity(0,2);case Ao.NumericHex:return this.emitNumericEntity(0,3);case Ao.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ao.EntityStart:return 0}}}function JIe(e){let t="";const n=new rht(e,r=>t+=Qdt(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function ZIe(e,t,n,r){const i=(t&Yh.BRANCH_LENGTH)>>7,s=t&Yh.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}JIe(C0);JIe(Kdt);var He;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(He=He||(He={}));var Ty;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ty=Ty||(Ty={}));var ec;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ec=ec||(ec={}));var Ce;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ce=Ce||(Ce={}));var N;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(N=N||(N={}));const iht=new Map([[Ce.A,N.A],[Ce.ADDRESS,N.ADDRESS],[Ce.ANNOTATION_XML,N.ANNOTATION_XML],[Ce.APPLET,N.APPLET],[Ce.AREA,N.AREA],[Ce.ARTICLE,N.ARTICLE],[Ce.ASIDE,N.ASIDE],[Ce.B,N.B],[Ce.BASE,N.BASE],[Ce.BASEFONT,N.BASEFONT],[Ce.BGSOUND,N.BGSOUND],[Ce.BIG,N.BIG],[Ce.BLOCKQUOTE,N.BLOCKQUOTE],[Ce.BODY,N.BODY],[Ce.BR,N.BR],[Ce.BUTTON,N.BUTTON],[Ce.CAPTION,N.CAPTION],[Ce.CENTER,N.CENTER],[Ce.CODE,N.CODE],[Ce.COL,N.COL],[Ce.COLGROUP,N.COLGROUP],[Ce.DD,N.DD],[Ce.DESC,N.DESC],[Ce.DETAILS,N.DETAILS],[Ce.DIALOG,N.DIALOG],[Ce.DIR,N.DIR],[Ce.DIV,N.DIV],[Ce.DL,N.DL],[Ce.DT,N.DT],[Ce.EM,N.EM],[Ce.EMBED,N.EMBED],[Ce.FIELDSET,N.FIELDSET],[Ce.FIGCAPTION,N.FIGCAPTION],[Ce.FIGURE,N.FIGURE],[Ce.FONT,N.FONT],[Ce.FOOTER,N.FOOTER],[Ce.FOREIGN_OBJECT,N.FOREIGN_OBJECT],[Ce.FORM,N.FORM],[Ce.FRAME,N.FRAME],[Ce.FRAMESET,N.FRAMESET],[Ce.H1,N.H1],[Ce.H2,N.H2],[Ce.H3,N.H3],[Ce.H4,N.H4],[Ce.H5,N.H5],[Ce.H6,N.H6],[Ce.HEAD,N.HEAD],[Ce.HEADER,N.HEADER],[Ce.HGROUP,N.HGROUP],[Ce.HR,N.HR],[Ce.HTML,N.HTML],[Ce.I,N.I],[Ce.IMG,N.IMG],[Ce.IMAGE,N.IMAGE],[Ce.INPUT,N.INPUT],[Ce.IFRAME,N.IFRAME],[Ce.KEYGEN,N.KEYGEN],[Ce.LABEL,N.LABEL],[Ce.LI,N.LI],[Ce.LINK,N.LINK],[Ce.LISTING,N.LISTING],[Ce.MAIN,N.MAIN],[Ce.MALIGNMARK,N.MALIGNMARK],[Ce.MARQUEE,N.MARQUEE],[Ce.MATH,N.MATH],[Ce.MENU,N.MENU],[Ce.META,N.META],[Ce.MGLYPH,N.MGLYPH],[Ce.MI,N.MI],[Ce.MO,N.MO],[Ce.MN,N.MN],[Ce.MS,N.MS],[Ce.MTEXT,N.MTEXT],[Ce.NAV,N.NAV],[Ce.NOBR,N.NOBR],[Ce.NOFRAMES,N.NOFRAMES],[Ce.NOEMBED,N.NOEMBED],[Ce.NOSCRIPT,N.NOSCRIPT],[Ce.OBJECT,N.OBJECT],[Ce.OL,N.OL],[Ce.OPTGROUP,N.OPTGROUP],[Ce.OPTION,N.OPTION],[Ce.P,N.P],[Ce.PARAM,N.PARAM],[Ce.PLAINTEXT,N.PLAINTEXT],[Ce.PRE,N.PRE],[Ce.RB,N.RB],[Ce.RP,N.RP],[Ce.RT,N.RT],[Ce.RTC,N.RTC],[Ce.RUBY,N.RUBY],[Ce.S,N.S],[Ce.SCRIPT,N.SCRIPT],[Ce.SECTION,N.SECTION],[Ce.SELECT,N.SELECT],[Ce.SOURCE,N.SOURCE],[Ce.SMALL,N.SMALL],[Ce.SPAN,N.SPAN],[Ce.STRIKE,N.STRIKE],[Ce.STRONG,N.STRONG],[Ce.STYLE,N.STYLE],[Ce.SUB,N.SUB],[Ce.SUMMARY,N.SUMMARY],[Ce.SUP,N.SUP],[Ce.TABLE,N.TABLE],[Ce.TBODY,N.TBODY],[Ce.TEMPLATE,N.TEMPLATE],[Ce.TEXTAREA,N.TEXTAREA],[Ce.TFOOT,N.TFOOT],[Ce.TD,N.TD],[Ce.TH,N.TH],[Ce.THEAD,N.THEAD],[Ce.TITLE,N.TITLE],[Ce.TR,N.TR],[Ce.TRACK,N.TRACK],[Ce.TT,N.TT],[Ce.U,N.U],[Ce.UL,N.UL],[Ce.SVG,N.SVG],[Ce.VAR,N.VAR],[Ce.WBR,N.WBR],[Ce.XMP,N.XMP]]);function jT(e){var t;return(t=iht.get(e))!==null&&t!==void 0?t:N.UNKNOWN}const it=N,sht={[He.HTML]:new Set([it.ADDRESS,it.APPLET,it.AREA,it.ARTICLE,it.ASIDE,it.BASE,it.BASEFONT,it.BGSOUND,it.BLOCKQUOTE,it.BODY,it.BR,it.BUTTON,it.CAPTION,it.CENTER,it.COL,it.COLGROUP,it.DD,it.DETAILS,it.DIR,it.DIV,it.DL,it.DT,it.EMBED,it.FIELDSET,it.FIGCAPTION,it.FIGURE,it.FOOTER,it.FORM,it.FRAME,it.FRAMESET,it.H1,it.H2,it.H3,it.H4,it.H5,it.H6,it.HEAD,it.HEADER,it.HGROUP,it.HR,it.HTML,it.IFRAME,it.IMG,it.INPUT,it.LI,it.LINK,it.LISTING,it.MAIN,it.MARQUEE,it.MENU,it.META,it.NAV,it.NOEMBED,it.NOFRAMES,it.NOSCRIPT,it.OBJECT,it.OL,it.P,it.PARAM,it.PLAINTEXT,it.PRE,it.SCRIPT,it.SECTION,it.SELECT,it.SOURCE,it.STYLE,it.SUMMARY,it.TABLE,it.TBODY,it.TD,it.TEMPLATE,it.TEXTAREA,it.TFOOT,it.TH,it.THEAD,it.TITLE,it.TR,it.TRACK,it.UL,it.WBR,it.XMP]),[He.MATHML]:new Set([it.MI,it.MO,it.MN,it.MS,it.MTEXT,it.ANNOTATION_XML]),[He.SVG]:new Set([it.TITLE,it.FOREIGN_OBJECT,it.DESC]),[He.XLINK]:new Set,[He.XML]:new Set,[He.XMLNS]:new Set};function eke(e){return e===it.H1||e===it.H2||e===it.H3||e===it.H4||e===it.H5||e===it.H6}Ce.STYLE,Ce.SCRIPT,Ce.XMP,Ce.IFRAME,Ce.NOEMBED,Ce.NOFRAMES,Ce.PLAINTEXT;const oht=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var te;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(te||(te={}));const Ps={DATA:te.DATA,RCDATA:te.RCDATA,RAWTEXT:te.RAWTEXT,SCRIPT_DATA:te.SCRIPT_DATA,PLAINTEXT:te.PLAINTEXT,CDATA_SECTION:te.CDATA_SECTION};function iI(e){return e>=Q.DIGIT_0&&e<=Q.DIGIT_9}function iA(e){return e>=Q.LATIN_CAPITAL_A&&e<=Q.LATIN_CAPITAL_Z}function aht(e){return e>=Q.LATIN_SMALL_A&&e<=Q.LATIN_SMALL_Z}function A0(e){return aht(e)||iA(e)}function AH(e){return A0(e)||iI(e)}function tke(e){return e>=Q.LATIN_CAPITAL_A&&e<=Q.LATIN_CAPITAL_F}function nke(e){return e>=Q.LATIN_SMALL_A&&e<=Q.LATIN_SMALL_F}function uht(e){return iI(e)||tke(e)||nke(e)}function TO(e){return e+32}function rke(e){return e===Q.SPACE||e===Q.LINE_FEED||e===Q.TABULATION||e===Q.FORM_FEED}function lht(e){return e===Q.EQUALS_SIGN||AH(e)}function Bde(e){return rke(e)||e===Q.SOLIDUS||e===Q.GREATER_THAN_SIGN}class cht{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=te.DATA,this.returnState=te.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Ydt(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xn.START_TAG,tagName:"",tagID:N.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xn.END_TAG,tagName:"",tagID:N.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Xn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Xn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(QIe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(De.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=jT(t.tagName),t.type===Xn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(De.endTagWithAttributes),t.selfClosing&&this._err(De.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Xn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Xn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=rke(t)?Xn.WHITESPACE_CHARACTER:t===Q.NULL?Xn.NULL_CHARACTER:Xn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Xn.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=C0[0];s>=0&&(s=ZIe(C0,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=C0[s];const a=o&Yh.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==Q.SEMICOLON&&this._isCharacterReferenceInAttribute()&&lht(this.preprocessor.peek(1))?(n=[Q.AMPERSAND],s+=u):(n=u===0?[C0[s]&~Yh.VALUE_LENGTH]:u===1?[C0[++s]]:[C0[++s],C0[++s]],r=0,i=t!==Q.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(De.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===te.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===te.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===te.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case te.DATA:{this._stateData(t);break}case te.RCDATA:{this._stateRcdata(t);break}case te.RAWTEXT:{this._stateRawtext(t);break}case te.SCRIPT_DATA:{this._stateScriptData(t);break}case te.PLAINTEXT:{this._statePlaintext(t);break}case te.TAG_OPEN:{this._stateTagOpen(t);break}case te.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case te.TAG_NAME:{this._stateTagName(t);break}case te.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case te.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case te.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case te.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case te.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case te.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case te.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case te.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case te.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case te.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case te.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case te.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case te.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case te.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case te.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case te.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case te.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case te.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case te.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case te.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case te.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case te.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case te.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case te.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case te.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case te.BOGUS_COMMENT:{this._stateBogusComment(t);break}case te.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case te.COMMENT_START:{this._stateCommentStart(t);break}case te.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case te.COMMENT:{this._stateComment(t);break}case te.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case te.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case te.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case te.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case te.COMMENT_END:{this._stateCommentEnd(t);break}case te.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case te.DOCTYPE:{this._stateDoctype(t);break}case te.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case te.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case te.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case te.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case te.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case te.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case te.CDATA_SECTION:{this._stateCdataSection(t);break}case te.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case te.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case te.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case te.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case te.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case te.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case te.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case te.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case te.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case te.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=te.TAG_OPEN;break}case Q.AMPERSAND:{this.returnState=te.DATA,this.state=te.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitCodePoint(t);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case Q.AMPERSAND:{this.returnState=te.RCDATA,this.state=te.CHARACTER_REFERENCE;break}case Q.LESS_THAN_SIGN:{this.state=te.RCDATA_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=te.RAWTEXT_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(A0(t))this._createStartTagToken(),this.state=te.TAG_NAME,this._stateTagName(t);else switch(t){case Q.EXCLAMATION_MARK:{this.state=te.MARKUP_DECLARATION_OPEN;break}case Q.SOLIDUS:{this.state=te.END_TAG_OPEN;break}case Q.QUESTION_MARK:{this._err(De.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=te.BOGUS_COMMENT,this._stateBogusComment(t);break}case Q.EOF:{this._err(De.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(De.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=te.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(A0(t))this._createEndTagToken(),this.state=te.TAG_NAME,this._stateTagName(t);else switch(t){case Q.GREATER_THAN_SIGN:{this._err(De.missingEndTagName),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(De.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=te.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.BEFORE_ATTRIBUTE_NAME;break}case Q.SOLIDUS:{this.state=te.SELF_CLOSING_START_TAG;break}case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentTagToken();break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.tagName+=Hi;break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(iA(t)?TO(t):t)}}_stateRcdataLessThanSign(t){t===Q.SOLIDUS?this.state=te.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=te.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){A0(t)?(this.state=te.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=te.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=te.BEFORE_ATTRIBUTE_NAME,!1;case Q.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=te.SELF_CLOSING_START_TAG,!1;case Q.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=te.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=te.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===Q.SOLIDUS?this.state=te.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=te.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){A0(t)?(this.state=te.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=te.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=te.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case Q.SOLIDUS:{this.state=te.SCRIPT_DATA_END_TAG_OPEN;break}case Q.EXCLAMATION_MARK:{this.state=te.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=te.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){A0(t)?(this.state=te.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=te.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=te.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===Q.HYPHEN_MINUS?(this.state=te.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=te.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===Q.HYPHEN_MINUS?(this.state=te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=te.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case Q.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case Q.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_ESCAPED,this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case Q.HYPHEN_MINUS:{this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.GREATER_THAN_SIGN:{this.state=te.SCRIPT_DATA,this._emitChars(">");break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_ESCAPED,this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===Q.SOLIDUS?this.state=te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:A0(t)?(this._emitChars("<"),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){A0(t)?(this.state=te.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Yu.SCRIPT,!1)&&Bde(this.preprocessor.peek(Yu.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Yu.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case Q.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case Q.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case Q.HYPHEN_MINUS:{this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.GREATER_THAN_SIGN:{this.state=te.SCRIPT_DATA,this._emitChars(">");break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Hi);break}case Q.EOF:{this._err(De.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===Q.SOLIDUS?(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Yu.SCRIPT,!1)&&Bde(this.preprocessor.peek(Yu.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Yu.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=te.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.SOLIDUS:case Q.GREATER_THAN_SIGN:case Q.EOF:{this.state=te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case Q.EQUALS_SIGN:{this._err(De.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=te.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=te.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:case Q.SOLIDUS:case Q.GREATER_THAN_SIGN:case Q.EOF:{this._leaveAttrName(),this.state=te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case Q.EQUALS_SIGN:{this._leaveAttrName(),this.state=te.BEFORE_ATTRIBUTE_VALUE;break}case Q.QUOTATION_MARK:case Q.APOSTROPHE:case Q.LESS_THAN_SIGN:{this._err(De.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.currentAttr.name+=Hi;break}default:this.currentAttr.name+=String.fromCodePoint(iA(t)?TO(t):t)}}_stateAfterAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.SOLIDUS:{this.state=te.SELF_CLOSING_START_TAG;break}case Q.EQUALS_SIGN:{this.state=te.BEFORE_ATTRIBUTE_VALUE;break}case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=te.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{this.state=te.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this.state=te.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingAttributeValue),this.state=te.DATA,this.emitCurrentTagToken();break}default:this.state=te.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case Q.QUOTATION_MARK:{this.state=te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Q.AMPERSAND:{this.returnState=te.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=te.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.currentAttr.value+=Hi;break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case Q.APOSTROPHE:{this.state=te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Q.AMPERSAND:{this.returnState=te.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=te.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.currentAttr.value+=Hi;break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this._leaveAttrValue(),this.state=te.BEFORE_ATTRIBUTE_NAME;break}case Q.AMPERSAND:{this.returnState=te.ATTRIBUTE_VALUE_UNQUOTED,this.state=te.CHARACTER_REFERENCE;break}case Q.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=te.DATA,this.emitCurrentTagToken();break}case Q.NULL:{this._err(De.unexpectedNullCharacter),this.currentAttr.value+=Hi;break}case Q.QUOTATION_MARK:case Q.APOSTROPHE:case Q.LESS_THAN_SIGN:case Q.EQUALS_SIGN:case Q.GRAVE_ACCENT:{this._err(De.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this._leaveAttrValue(),this.state=te.BEFORE_ATTRIBUTE_NAME;break}case Q.SOLIDUS:{this._leaveAttrValue(),this.state=te.SELF_CLOSING_START_TAG;break}case Q.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=te.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this._err(De.missingWhitespaceBetweenAttributes),this.state=te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case Q.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=te.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(De.eofInTag),this._emitEOFToken();break}default:this._err(De.unexpectedSolidusInTag),this.state=te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.data+=Hi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Yu.DASH_DASH,!0)?(this._createCommentToken(Yu.DASH_DASH.length+1),this.state=te.COMMENT_START):this._consumeSequenceIfMatch(Yu.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Yu.DOCTYPE.length+1),this.state=te.DOCTYPE):this._consumeSequenceIfMatch(Yu.CDATA_START,!0)?this.inForeignNode?this.state=te.CDATA_SECTION:(this._err(De.cdataInHtmlContent),this._createCommentToken(Yu.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=te.BOGUS_COMMENT):this._ensureHibernation()||(this._err(De.incorrectlyOpenedComment),this._createCommentToken(2),this.state=te.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case Q.HYPHEN_MINUS:{this.state=te.COMMENT_START_DASH;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptClosingOfEmptyComment),this.state=te.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=te.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=te.COMMENT_END;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptClosingOfEmptyComment),this.state=te.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this._err(De.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=te.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=te.COMMENT_END_DASH;break}case Q.LESS_THAN_SIGN:{n.data+="<",this.state=te.COMMENT_LESS_THAN_SIGN;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.data+=Hi;break}case Q.EOF:{this._err(De.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case Q.EXCLAMATION_MARK:{n.data+="!",this.state=te.COMMENT_LESS_THAN_SIGN_BANG;break}case Q.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=te.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===Q.HYPHEN_MINUS?this.state=te.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=te.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===Q.HYPHEN_MINUS?this.state=te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=te.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==Q.GREATER_THAN_SIGN&&t!==Q.EOF&&this._err(De.nestedComment),this.state=te.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=te.COMMENT_END;break}case Q.EOF:{this._err(De.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=te.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentComment(n);break}case Q.EXCLAMATION_MARK:{this.state=te.COMMENT_END_BANG;break}case Q.HYPHEN_MINUS:{n.data+="-";break}case Q.EOF:{this._err(De.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=te.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{n.data+="--!",this.state=te.COMMENT_END_DASH;break}case Q.GREATER_THAN_SIGN:{this._err(De.incorrectlyClosedComment),this.state=te.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this._err(De.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=te.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this.state=te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case Q.EOF:{this._err(De.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingWhitespaceBeforeDoctypeName),this.state=te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(iA(t))this._createDoctypeToken(String.fromCharCode(TO(t))),this.state=te.DOCTYPE_NAME;else switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.NULL:{this._err(De.unexpectedNullCharacter),this._createDoctypeToken(Hi),this.state=te.DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=te.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.AFTER_DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.name+=Hi;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(iA(t)?TO(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Yu.PUBLIC,!1)?this.state=te.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Yu.SYSTEM,!1)?this.state=te.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(De.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.QUOTATION_MARK:{this._err(De.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(De.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case Q.QUOTATION_MARK:{this.state=te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.publicId+=Hi;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case Q.APOSTROPHE:{this.state=te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.publicId+=Hi;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Q.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.QUOTATION_MARK:{this._err(De.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(De.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.QUOTATION_MARK:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.QUOTATION_MARK:{this._err(De.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(De.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(De.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case Q.QUOTATION_MARK:{this.state=te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.systemId+=Hi;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case Q.APOSTROPHE:{this.state=te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.NULL:{this._err(De.unexpectedNullCharacter),n.systemId+=Hi;break}case Q.GREATER_THAN_SIGN:{this._err(De.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.EOF:{this._err(De.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(De.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case Q.NULL:{this._err(De.unexpectedNullCharacter);break}case Q.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case Q.RIGHT_SQUARE_BRACKET:{this.state=te.CDATA_SECTION_BRACKET;break}case Q.EOF:{this._err(De.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===Q.RIGHT_SQUARE_BRACKET?this.state=te.CDATA_SECTION_END:(this._emitChars("]"),this.state=te.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case Q.GREATER_THAN_SIGN:{this.state=te.DATA;break}case Q.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=te.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===Q.NUMBER_SIGN?this.state=te.NUMERIC_CHARACTER_REFERENCE:AH(t)?(this.state=te.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this.state=te.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){AH(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===Q.SEMICOLON&&this._err(De.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===Q.LATIN_SMALL_X||t===Q.LATIN_CAPITAL_X?this.state=te.HEXADEMICAL_CHARACTER_REFERENCE_START:iI(t)?(this.state=te.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(De.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Q.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){uht(t)?(this.state=te.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(De.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Q.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){tke(t)?this.charRefCode=this.charRefCode*16+t-55:nke(t)?this.charRefCode=this.charRefCode*16+t-87:iI(t)?this.charRefCode=this.charRefCode*16+t-48:t===Q.SEMICOLON?this.state=te.NUMERIC_CHARACTER_REFERENCE_END:(this._err(De.missingSemicolonAfterCharacterReference),this.state=te.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){iI(t)?this.charRefCode=this.charRefCode*10+t-48:t===Q.SEMICOLON?this.state=te.NUMERIC_CHARACTER_REFERENCE_END:(this._err(De.missingSemicolonAfterCharacterReference),this.state=te.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===Q.NULL)this._err(De.nullCharacterReference),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(De.characterReferenceOutsideUnicodeRange),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(YIe(this.charRefCode))this._err(De.surrogateCharacterReference),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(XIe(this.charRefCode))this._err(De.noncharacterCharacterReference);else if(KIe(this.charRefCode)||this.charRefCode===Q.CARRIAGE_RETURN){this._err(De.controlCharacterReference);const n=oht.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const ike=new Set([N.DD,N.DT,N.LI,N.OPTGROUP,N.OPTION,N.P,N.RB,N.RP,N.RT,N.RTC]),Ude=new Set([...ike,N.CAPTION,N.COLGROUP,N.TBODY,N.TD,N.TFOOT,N.TH,N.THEAD,N.TR]),CO=new Map([[N.APPLET,He.HTML],[N.CAPTION,He.HTML],[N.HTML,He.HTML],[N.MARQUEE,He.HTML],[N.OBJECT,He.HTML],[N.TABLE,He.HTML],[N.TD,He.HTML],[N.TEMPLATE,He.HTML],[N.TH,He.HTML],[N.ANNOTATION_XML,He.MATHML],[N.MI,He.MATHML],[N.MN,He.MATHML],[N.MO,He.MATHML],[N.MS,He.MATHML],[N.MTEXT,He.MATHML],[N.DESC,He.SVG],[N.FOREIGN_OBJECT,He.SVG],[N.TITLE,He.SVG]]),fht=[N.H1,N.H2,N.H3,N.H4,N.H5,N.H6],dht=[N.TR,N.TEMPLATE,N.HTML],hht=[N.TBODY,N.TFOOT,N.THEAD,N.TEMPLATE,N.HTML],pht=[N.TABLE,N.TEMPLATE,N.HTML],mht=[N.TD,N.TH];class ght{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=N.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===N.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===He.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==He.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(fht,He.HTML)}popUntilTableCellPopped(){this.popUntilPopped(mht,He.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(pht,He.HTML)}clearBackToTableBodyContext(){this.clearBackTo(hht,He.HTML)}clearBackToTableRowContext(){this.clearBackTo(dht,He.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===N.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===N.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if(CO.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(eke(n)&&r===He.HTML)return!0;if(CO.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if((r===N.UL||r===N.OL)&&i===He.HTML||CO.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if(r===N.BUTTON&&i===He.HTML||CO.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===He.HTML){if(r===t)return!0;if(r===N.TABLE||r===N.TEMPLATE||r===N.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===He.HTML){if(n===N.TBODY||n===N.THEAD||n===N.TFOOT)return!0;if(n===N.TABLE||n===N.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===He.HTML){if(r===t)return!0;if(r!==N.OPTION&&r!==N.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ike.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Ude.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Ude.has(this.currentTagId);)this.pop()}}const L9=3;var fd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(fd=fd||(fd={}));const zde={type:fd.Marker};class yht{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===fd.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<L9)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<L9)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=L9&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(zde)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:fd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:fd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(zde);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===fd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===fd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===fd.Element&&n.element===t)}}function Vde(e){return{nodeName:"#text",value:e,parentNode:null}}const yE={createDocument(){return{nodeName:"#document",mode:ec.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};yE.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(yE.isTextNode(n)){n.value+=t;return}}yE.appendChild(e,Vde(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&yE.isTextNode(r)?r.value+=t:yE.insertBefore(e,Vde(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},ske="html",vht="about:legacy-compat",bht="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",oke=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_ht=[...oke,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],wht=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ake=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Eht=[...ake,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Hde(e,t){return t.some(n=>e.startsWith(n))}function xht(e){return e.name===ske&&e.publicId===null&&(e.systemId===null||e.systemId===vht)}function Sht(e){if(e.name!==ske)return ec.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===bht)return ec.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),wht.has(n))return ec.QUIRKS;let r=t===null?_ht:oke;if(Hde(n,r))return ec.QUIRKS;if(r=t===null?ake:Eht,Hde(n,r))return ec.LIMITED_QUIRKS}return ec.NO_QUIRKS}const qde={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Tht="definitionurl",Cht="definitionURL",Aht=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Iht=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:He.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:He.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:He.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:He.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:He.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:He.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:He.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:He.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:He.XML}],["xml:space",{prefix:"xml",name:"space",namespace:He.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:He.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:He.XMLNS}]]),kht=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Rht=new Set([N.B,N.BIG,N.BLOCKQUOTE,N.BODY,N.BR,N.CENTER,N.CODE,N.DD,N.DIV,N.DL,N.DT,N.EM,N.EMBED,N.H1,N.H2,N.H3,N.H4,N.H5,N.H6,N.HEAD,N.HR,N.I,N.IMG,N.LI,N.LISTING,N.MENU,N.META,N.NOBR,N.OL,N.P,N.PRE,N.RUBY,N.S,N.SMALL,N.SPAN,N.STRONG,N.STRIKE,N.SUB,N.SUP,N.TABLE,N.TT,N.U,N.UL,N.VAR]);function Nht(e){const t=e.tagID;return t===N.FONT&&e.attrs.some(({name:r})=>r===Ty.COLOR||r===Ty.SIZE||r===Ty.FACE)||Rht.has(t)}function uke(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Tht){e.attrs[t].name=Cht;break}}function lke(e){for(let t=0;t<e.attrs.length;t++){const n=Aht.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function TJ(e){for(let t=0;t<e.attrs.length;t++){const n=Iht.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Pht(e){const t=kht.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=jT(e.tagName))}function Oht(e,t){return t===He.MATHML&&(e===N.MI||e===N.MO||e===N.MN||e===N.MS||e===N.MTEXT)}function Dht(e,t,n){if(t===He.MATHML&&e===N.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ty.ENCODING){const i=n[r].value.toLowerCase();return i===qde.TEXT_HTML||i===qde.APPLICATION_XML}}return t===He.SVG&&(e===N.FOREIGN_OBJECT||e===N.DESC||e===N.TITLE)}function $ht(e,t,n,r){return(!r||r===He.HTML)&&Dht(e,t,n)||(!r||r===He.MATHML)&&Oht(e,t)}const Mht="hidden",Lht=8,Fht=3;var se;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(se||(se={}));const jht={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},cke=new Set([N.TABLE,N.TBODY,N.TFOOT,N.THEAD,N.TR]),Wde={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:yE,onParseError:null};let Gde=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=se.INITIAL,this.originalInsertionMode=se.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Wde,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new cht(this.options,this),this.activeFormattingElements=new yht(this.treeAdapter),this.fragmentContextID=r?jT(this.treeAdapter.getTagName(r)):N.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new ght(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Wde,...n};t??(t=r.treeAdapter.createElement(Ce.TEMPLATE,He.HTML,[]));const i=r.treeAdapter.createElement("documentmock",He.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===N.TEMPLATE&&s.tmplInsertionModeStack.unshift(se.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:jht,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===He.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,He.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=se.TEXT}switchToPlaintextParsing(){this.insertionMode=se.TEXT,this.originalInsertionMode=se.IN_BODY,this.tokenizer.state=Ps.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ce.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==He.HTML))switch(this.fragmentContextID){case N.TITLE:case N.TEXTAREA:{this.tokenizer.state=Ps.RCDATA;break}case N.STYLE:case N.XMP:case N.IFRAME:case N.NOEMBED:case N.NOFRAMES:case N.NOSCRIPT:{this.tokenizer.state=Ps.RAWTEXT;break}case N.SCRIPT:{this.tokenizer.state=Ps.SCRIPT_DATA;break}case N.PLAINTEXT:{this.tokenizer.state=Ps.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,He.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,He.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ce.HTML,He.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,N.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Xn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===N.SVG&&this.treeAdapter.getTagName(n)===Ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===He.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===N.MGLYPH||t.tagID===N.MALIGNMARK)&&!this._isIntegrationPoint(r,n,He.HTML)}_processToken(t){switch(t.type){case Xn.CHARACTER:{this.onCharacter(t);break}case Xn.NULL_CHARACTER:{this.onNullCharacter(t);break}case Xn.COMMENT:{this.onComment(t);break}case Xn.DOCTYPE:{this.onDoctype(t);break}case Xn.START_TAG:{this._processStartTag(t);break}case Xn.END_TAG:{this.onEndTag(t);break}case Xn.EOF:{this.onEof(t);break}case Xn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return $ht(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===fd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=se.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(N.P),this.openElements.popUntilTagNamePopped(N.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case N.TR:{this.insertionMode=se.IN_ROW;return}case N.TBODY:case N.THEAD:case N.TFOOT:{this.insertionMode=se.IN_TABLE_BODY;return}case N.CAPTION:{this.insertionMode=se.IN_CAPTION;return}case N.COLGROUP:{this.insertionMode=se.IN_COLUMN_GROUP;return}case N.TABLE:{this.insertionMode=se.IN_TABLE;return}case N.BODY:{this.insertionMode=se.IN_BODY;return}case N.FRAMESET:{this.insertionMode=se.IN_FRAMESET;return}case N.SELECT:{this._resetInsertionModeForSelect(t);return}case N.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case N.HTML:{this.insertionMode=this.headElement?se.AFTER_HEAD:se.BEFORE_HEAD;return}case N.TD:case N.TH:{if(t>0){this.insertionMode=se.IN_CELL;return}break}case N.HEAD:{if(t>0){this.insertionMode=se.IN_HEAD;return}break}}this.insertionMode=se.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===N.TEMPLATE)break;if(r===N.TABLE){this.insertionMode=se.IN_SELECT_IN_TABLE;return}}this.insertionMode=se.IN_SELECT}_isElementCausesFosterParenting(t){return cke.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case N.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===He.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case N.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return sht[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){mmt(this,t);return}switch(this.insertionMode){case se.INITIAL:{u2(this,t);break}case se.BEFORE_HTML:{sI(this,t);break}case se.BEFORE_HEAD:{oI(this,t);break}case se.IN_HEAD:{aI(this,t);break}case se.IN_HEAD_NO_SCRIPT:{uI(this,t);break}case se.AFTER_HEAD:{lI(this,t);break}case se.IN_BODY:case se.IN_CAPTION:case se.IN_CELL:case se.IN_TEMPLATE:{dke(this,t);break}case se.TEXT:case se.IN_SELECT:case se.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case se.IN_TABLE:case se.IN_TABLE_BODY:case se.IN_ROW:{F9(this,t);break}case se.IN_TABLE_TEXT:{vke(this,t);break}case se.IN_COLUMN_GROUP:{a3(this,t);break}case se.AFTER_BODY:{u3(this,t);break}case se.AFTER_AFTER_BODY:{v$(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pmt(this,t);return}switch(this.insertionMode){case se.INITIAL:{u2(this,t);break}case se.BEFORE_HTML:{sI(this,t);break}case se.BEFORE_HEAD:{oI(this,t);break}case se.IN_HEAD:{aI(this,t);break}case se.IN_HEAD_NO_SCRIPT:{uI(this,t);break}case se.AFTER_HEAD:{lI(this,t);break}case se.TEXT:{this._insertCharacters(t);break}case se.IN_TABLE:case se.IN_TABLE_BODY:case se.IN_ROW:{F9(this,t);break}case se.IN_COLUMN_GROUP:{a3(this,t);break}case se.AFTER_BODY:{u3(this,t);break}case se.AFTER_AFTER_BODY:{v$(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){IH(this,t);return}switch(this.insertionMode){case se.INITIAL:case se.BEFORE_HTML:case se.BEFORE_HEAD:case se.IN_HEAD:case se.IN_HEAD_NO_SCRIPT:case se.AFTER_HEAD:case se.IN_BODY:case se.IN_TABLE:case se.IN_CAPTION:case se.IN_COLUMN_GROUP:case se.IN_TABLE_BODY:case se.IN_ROW:case se.IN_CELL:case se.IN_SELECT:case se.IN_SELECT_IN_TABLE:case se.IN_TEMPLATE:case se.IN_FRAMESET:case se.AFTER_FRAMESET:{IH(this,t);break}case se.IN_TABLE_TEXT:{l2(this,t);break}case se.AFTER_BODY:{Wht(this,t);break}case se.AFTER_AFTER_BODY:case se.AFTER_AFTER_FRAMESET:{Ght(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case se.INITIAL:{Yht(this,t);break}case se.BEFORE_HEAD:case se.IN_HEAD:case se.IN_HEAD_NO_SCRIPT:case se.AFTER_HEAD:{this._err(t,De.misplacedDoctype);break}case se.IN_TABLE_TEXT:{l2(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,De.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?gmt(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case se.INITIAL:{u2(this,t);break}case se.BEFORE_HTML:{Kht(this,t);break}case se.BEFORE_HEAD:{Qht(this,t);break}case se.IN_HEAD:{Gd(this,t);break}case se.IN_HEAD_NO_SCRIPT:{ept(this,t);break}case se.AFTER_HEAD:{npt(this,t);break}case se.IN_BODY:{ou(this,t);break}case se.IN_TABLE:{uS(this,t);break}case se.IN_TABLE_TEXT:{l2(this,t);break}case se.IN_CAPTION:{Jpt(this,t);break}case se.IN_COLUMN_GROUP:{IJ(this,t);break}case se.IN_TABLE_BODY:{RF(this,t);break}case se.IN_ROW:{NF(this,t);break}case se.IN_CELL:{tmt(this,t);break}case se.IN_SELECT:{wke(this,t);break}case se.IN_SELECT_IN_TABLE:{rmt(this,t);break}case se.IN_TEMPLATE:{smt(this,t);break}case se.AFTER_BODY:{amt(this,t);break}case se.IN_FRAMESET:{umt(this,t);break}case se.AFTER_FRAMESET:{cmt(this,t);break}case se.AFTER_AFTER_BODY:{dmt(this,t);break}case se.AFTER_AFTER_FRAMESET:{hmt(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?ymt(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case se.INITIAL:{u2(this,t);break}case se.BEFORE_HTML:{Xht(this,t);break}case se.BEFORE_HEAD:{Jht(this,t);break}case se.IN_HEAD:{Zht(this,t);break}case se.IN_HEAD_NO_SCRIPT:{tpt(this,t);break}case se.AFTER_HEAD:{rpt(this,t);break}case se.IN_BODY:{kF(this,t);break}case se.TEXT:{zpt(this,t);break}case se.IN_TABLE:{Sk(this,t);break}case se.IN_TABLE_TEXT:{l2(this,t);break}case se.IN_CAPTION:{Zpt(this,t);break}case se.IN_COLUMN_GROUP:{emt(this,t);break}case se.IN_TABLE_BODY:{kH(this,t);break}case se.IN_ROW:{_ke(this,t);break}case se.IN_CELL:{nmt(this,t);break}case se.IN_SELECT:{Eke(this,t);break}case se.IN_SELECT_IN_TABLE:{imt(this,t);break}case se.IN_TEMPLATE:{omt(this,t);break}case se.AFTER_BODY:{Ske(this,t);break}case se.IN_FRAMESET:{lmt(this,t);break}case se.AFTER_FRAMESET:{fmt(this,t);break}case se.AFTER_AFTER_BODY:{v$(this,t);break}}}onEof(t){switch(this.insertionMode){case se.INITIAL:{u2(this,t);break}case se.BEFORE_HTML:{sI(this,t);break}case se.BEFORE_HEAD:{oI(this,t);break}case se.IN_HEAD:{aI(this,t);break}case se.IN_HEAD_NO_SCRIPT:{uI(this,t);break}case se.AFTER_HEAD:{lI(this,t);break}case se.IN_BODY:case se.IN_TABLE:case se.IN_CAPTION:case se.IN_COLUMN_GROUP:case se.IN_TABLE_BODY:case se.IN_ROW:case se.IN_CELL:case se.IN_SELECT:case se.IN_SELECT_IN_TABLE:{gke(this,t);break}case se.TEXT:{Vpt(this,t);break}case se.IN_TABLE_TEXT:{l2(this,t);break}case se.IN_TEMPLATE:{xke(this,t);break}case se.AFTER_BODY:case se.IN_FRAMESET:case se.AFTER_FRAMESET:case se.AFTER_AFTER_BODY:case se.AFTER_AFTER_FRAMESET:{AJ(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===Q.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case se.IN_HEAD:case se.IN_HEAD_NO_SCRIPT:case se.AFTER_HEAD:case se.TEXT:case se.IN_COLUMN_GROUP:case se.IN_SELECT:case se.IN_SELECT_IN_TABLE:case se.IN_FRAMESET:case se.AFTER_FRAMESET:{this._insertCharacters(t);break}case se.IN_BODY:case se.IN_CAPTION:case se.IN_CELL:case se.IN_TEMPLATE:case se.AFTER_BODY:case se.AFTER_AFTER_BODY:case se.AFTER_AFTER_FRAMESET:{fke(this,t);break}case se.IN_TABLE:case se.IN_TABLE_BODY:case se.IN_ROW:{F9(this,t);break}case se.IN_TABLE_TEXT:{yke(this,t);break}}}};function Bht(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):mke(e,t),n}function Uht(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function zht(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=Fht;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=Vht(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function Vht(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Hht(e,t,n){const r=e.treeAdapter.getTagName(t),i=jT(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===N.TEMPLATE&&s===He.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function qht(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function CJ(e,t){for(let n=0;n<Lht;n++){const r=Bht(e,t);if(!r)break;const i=Uht(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=zht(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&Hht(e,o,s),qht(e,i,r)}}function IH(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Wht(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Ght(e,t){e._appendCommentNode(t,e.document)}function AJ(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function Yht(e,t){e._setDocumentType(t);const n=t.forceQuirks?ec.QUIRKS:Sht(t);xht(t)||e._err(t,De.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=se.BEFORE_HTML}function u2(e,t){e._err(t,De.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ec.QUIRKS),e.insertionMode=se.BEFORE_HTML,e._processToken(t)}function Kht(e,t){t.tagID===N.HTML?(e._insertElement(t,He.HTML),e.insertionMode=se.BEFORE_HEAD):sI(e,t)}function Xht(e,t){const n=t.tagID;(n===N.HTML||n===N.HEAD||n===N.BODY||n===N.BR)&&sI(e,t)}function sI(e,t){e._insertFakeRootElement(),e.insertionMode=se.BEFORE_HEAD,e._processToken(t)}function Qht(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.HEAD:{e._insertElement(t,He.HTML),e.headElement=e.openElements.current,e.insertionMode=se.IN_HEAD;break}default:oI(e,t)}}function Jht(e,t){const n=t.tagID;n===N.HEAD||n===N.BODY||n===N.HTML||n===N.BR?oI(e,t):e._err(t,De.endTagWithoutMatchingOpenElement)}function oI(e,t){e._insertFakeElement(Ce.HEAD,N.HEAD),e.headElement=e.openElements.current,e.insertionMode=se.IN_HEAD,e._processToken(t)}function Gd(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.BASE:case N.BASEFONT:case N.BGSOUND:case N.LINK:case N.META:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case N.TITLE:{e._switchToTextParsing(t,Ps.RCDATA);break}case N.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ps.RAWTEXT):(e._insertElement(t,He.HTML),e.insertionMode=se.IN_HEAD_NO_SCRIPT);break}case N.NOFRAMES:case N.STYLE:{e._switchToTextParsing(t,Ps.RAWTEXT);break}case N.SCRIPT:{e._switchToTextParsing(t,Ps.SCRIPT_DATA);break}case N.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=se.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(se.IN_TEMPLATE);break}case N.HEAD:{e._err(t,De.misplacedStartTagForHeadElement);break}default:aI(e,t)}}function Zht(e,t){switch(t.tagID){case N.HEAD:{e.openElements.pop(),e.insertionMode=se.AFTER_HEAD;break}case N.BODY:case N.BR:case N.HTML:{aI(e,t);break}case N.TEMPLATE:{Z_(e,t);break}default:e._err(t,De.endTagWithoutMatchingOpenElement)}}function Z_(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==N.TEMPLATE&&e._err(t,De.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(N.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,De.endTagWithoutMatchingOpenElement)}function aI(e,t){e.openElements.pop(),e.insertionMode=se.AFTER_HEAD,e._processToken(t)}function ept(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.BASEFONT:case N.BGSOUND:case N.HEAD:case N.LINK:case N.META:case N.NOFRAMES:case N.STYLE:{Gd(e,t);break}case N.NOSCRIPT:{e._err(t,De.nestedNoscriptInHead);break}default:uI(e,t)}}function tpt(e,t){switch(t.tagID){case N.NOSCRIPT:{e.openElements.pop(),e.insertionMode=se.IN_HEAD;break}case N.BR:{uI(e,t);break}default:e._err(t,De.endTagWithoutMatchingOpenElement)}}function uI(e,t){const n=t.type===Xn.EOF?De.openElementsLeftAfterEof:De.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=se.IN_HEAD,e._processToken(t)}function npt(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.BODY:{e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=se.IN_BODY;break}case N.FRAMESET:{e._insertElement(t,He.HTML),e.insertionMode=se.IN_FRAMESET;break}case N.BASE:case N.BASEFONT:case N.BGSOUND:case N.LINK:case N.META:case N.NOFRAMES:case N.SCRIPT:case N.STYLE:case N.TEMPLATE:case N.TITLE:{e._err(t,De.abandonedHeadElementChild),e.openElements.push(e.headElement,N.HEAD),Gd(e,t),e.openElements.remove(e.headElement);break}case N.HEAD:{e._err(t,De.misplacedStartTagForHeadElement);break}default:lI(e,t)}}function rpt(e,t){switch(t.tagID){case N.BODY:case N.HTML:case N.BR:{lI(e,t);break}case N.TEMPLATE:{Z_(e,t);break}default:e._err(t,De.endTagWithoutMatchingOpenElement)}}function lI(e,t){e._insertFakeElement(Ce.BODY,N.BODY),e.insertionMode=se.IN_BODY,IF(e,t)}function IF(e,t){switch(t.type){case Xn.CHARACTER:{dke(e,t);break}case Xn.WHITESPACE_CHARACTER:{fke(e,t);break}case Xn.COMMENT:{IH(e,t);break}case Xn.START_TAG:{ou(e,t);break}case Xn.END_TAG:{kF(e,t);break}case Xn.EOF:{gke(e,t);break}}}function fke(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function dke(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ipt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function spt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function opt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_FRAMESET)}function apt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML)}function upt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),eke(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,He.HTML)}function lpt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function cpt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML),n||(e.formElement=e.openElements.current))}function fpt(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===N.LI&&i===N.LI||(n===N.DD||n===N.DT)&&(i===N.DD||i===N.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==N.ADDRESS&&i!==N.DIV&&i!==N.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML)}function dpt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.tokenizer.state=Ps.PLAINTEXT}function hpt(e,t){e.openElements.hasInScope(N.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(N.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.framesetOk=!1}function ppt(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ce.A);n&&(CJ(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mpt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gpt(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(N.NOBR)&&(CJ(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ypt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function vpt(e,t){e.treeAdapter.getDocumentMode(e.document)!==ec.QUIRKS&&e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=se.IN_TABLE}function hke(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,He.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pke(e){const t=QIe(e,Ty.TYPE);return t!=null&&t.toLowerCase()===Mht}function bpt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,He.HTML),pke(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function _pt(e,t){e._appendElement(t,He.HTML),t.ackSelfClosing=!0}function wpt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._appendElement(t,He.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ept(e,t){t.tagName=Ce.IMG,t.tagID=N.IMG,hke(e,t)}function xpt(e,t){e._insertElement(t,He.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ps.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=se.TEXT}function Spt(e,t){e.openElements.hasInButtonScope(N.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ps.RAWTEXT)}function Tpt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ps.RAWTEXT)}function Yde(e,t){e._switchToTextParsing(t,Ps.RAWTEXT)}function Cpt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===se.IN_TABLE||e.insertionMode===se.IN_CAPTION||e.insertionMode===se.IN_TABLE_BODY||e.insertionMode===se.IN_ROW||e.insertionMode===se.IN_CELL?se.IN_SELECT_IN_TABLE:se.IN_SELECT}function Apt(e,t){e.openElements.currentTagId===N.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML)}function Ipt(e,t){e.openElements.hasInScope(N.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,He.HTML)}function kpt(e,t){e.openElements.hasInScope(N.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(N.RTC),e._insertElement(t,He.HTML)}function Rpt(e,t){e._reconstructActiveFormattingElements(),uke(t),TJ(t),t.selfClosing?e._appendElement(t,He.MATHML):e._insertElement(t,He.MATHML),t.ackSelfClosing=!0}function Npt(e,t){e._reconstructActiveFormattingElements(),lke(t),TJ(t),t.selfClosing?e._appendElement(t,He.SVG):e._insertElement(t,He.SVG),t.ackSelfClosing=!0}function Kde(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML)}function ou(e,t){switch(t.tagID){case N.I:case N.S:case N.B:case N.U:case N.EM:case N.TT:case N.BIG:case N.CODE:case N.FONT:case N.SMALL:case N.STRIKE:case N.STRONG:{mpt(e,t);break}case N.A:{ppt(e,t);break}case N.H1:case N.H2:case N.H3:case N.H4:case N.H5:case N.H6:{upt(e,t);break}case N.P:case N.DL:case N.OL:case N.UL:case N.DIV:case N.DIR:case N.NAV:case N.MAIN:case N.MENU:case N.ASIDE:case N.CENTER:case N.FIGURE:case N.FOOTER:case N.HEADER:case N.HGROUP:case N.DIALOG:case N.DETAILS:case N.ADDRESS:case N.ARTICLE:case N.SECTION:case N.SUMMARY:case N.FIELDSET:case N.BLOCKQUOTE:case N.FIGCAPTION:{apt(e,t);break}case N.LI:case N.DD:case N.DT:{fpt(e,t);break}case N.BR:case N.IMG:case N.WBR:case N.AREA:case N.EMBED:case N.KEYGEN:{hke(e,t);break}case N.HR:{wpt(e,t);break}case N.RB:case N.RTC:{Ipt(e,t);break}case N.RT:case N.RP:{kpt(e,t);break}case N.PRE:case N.LISTING:{lpt(e,t);break}case N.XMP:{Spt(e,t);break}case N.SVG:{Npt(e,t);break}case N.HTML:{ipt(e,t);break}case N.BASE:case N.LINK:case N.META:case N.STYLE:case N.TITLE:case N.SCRIPT:case N.BGSOUND:case N.BASEFONT:case N.TEMPLATE:{Gd(e,t);break}case N.BODY:{spt(e,t);break}case N.FORM:{cpt(e,t);break}case N.NOBR:{gpt(e,t);break}case N.MATH:{Rpt(e,t);break}case N.TABLE:{vpt(e,t);break}case N.INPUT:{bpt(e,t);break}case N.PARAM:case N.TRACK:case N.SOURCE:{_pt(e,t);break}case N.IMAGE:{Ept(e,t);break}case N.BUTTON:{hpt(e,t);break}case N.APPLET:case N.OBJECT:case N.MARQUEE:{ypt(e,t);break}case N.IFRAME:{Tpt(e,t);break}case N.SELECT:{Cpt(e,t);break}case N.OPTION:case N.OPTGROUP:{Apt(e,t);break}case N.NOEMBED:{Yde(e,t);break}case N.FRAMESET:{opt(e,t);break}case N.TEXTAREA:{xpt(e,t);break}case N.NOSCRIPT:{e.options.scriptingEnabled?Yde(e,t):Kde(e,t);break}case N.PLAINTEXT:{dpt(e,t);break}case N.COL:case N.TH:case N.TD:case N.TR:case N.HEAD:case N.FRAME:case N.TBODY:case N.TFOOT:case N.THEAD:case N.CAPTION:case N.COLGROUP:break;default:Kde(e,t)}}function Ppt(e,t){if(e.openElements.hasInScope(N.BODY)&&(e.insertionMode=se.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Opt(e,t){e.openElements.hasInScope(N.BODY)&&(e.insertionMode=se.AFTER_BODY,Ske(e,t))}function Dpt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function $pt(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(N.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(N.FORM):n&&e.openElements.remove(n))}function Mpt(e){e.openElements.hasInButtonScope(N.P)||e._insertFakeElement(Ce.P,N.P),e._closePElement()}function Lpt(e){e.openElements.hasInListItemScope(N.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(N.LI),e.openElements.popUntilTagNamePopped(N.LI))}function Fpt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function jpt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Bpt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Upt(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ce.BR,N.BR),e.openElements.pop(),e.framesetOk=!1}function mke(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==N.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function kF(e,t){switch(t.tagID){case N.A:case N.B:case N.I:case N.S:case N.U:case N.EM:case N.TT:case N.BIG:case N.CODE:case N.FONT:case N.NOBR:case N.SMALL:case N.STRIKE:case N.STRONG:{CJ(e,t);break}case N.P:{Mpt(e);break}case N.DL:case N.UL:case N.OL:case N.DIR:case N.DIV:case N.NAV:case N.PRE:case N.MAIN:case N.MENU:case N.ASIDE:case N.BUTTON:case N.CENTER:case N.FIGURE:case N.FOOTER:case N.HEADER:case N.HGROUP:case N.DIALOG:case N.ADDRESS:case N.ARTICLE:case N.DETAILS:case N.SECTION:case N.SUMMARY:case N.LISTING:case N.FIELDSET:case N.BLOCKQUOTE:case N.FIGCAPTION:{Dpt(e,t);break}case N.LI:{Lpt(e);break}case N.DD:case N.DT:{Fpt(e,t);break}case N.H1:case N.H2:case N.H3:case N.H4:case N.H5:case N.H6:{jpt(e);break}case N.BR:{Upt(e);break}case N.BODY:{Ppt(e,t);break}case N.HTML:{Opt(e,t);break}case N.FORM:{$pt(e);break}case N.APPLET:case N.OBJECT:case N.MARQUEE:{Bpt(e,t);break}case N.TEMPLATE:{Z_(e,t);break}default:mke(e,t)}}function gke(e,t){e.tmplInsertionModeStack.length>0?xke(e,t):AJ(e,t)}function zpt(e,t){var n;t.tagID===N.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Vpt(e,t){e._err(t,De.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function F9(e,t){if(cke.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=se.IN_TABLE_TEXT,t.type){case Xn.CHARACTER:{vke(e,t);break}case Xn.WHITESPACE_CHARACTER:{yke(e,t);break}}else aN(e,t)}function Hpt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_CAPTION}function qpt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_COLUMN_GROUP}function Wpt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ce.COLGROUP,N.COLGROUP),e.insertionMode=se.IN_COLUMN_GROUP,IJ(e,t)}function Gpt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_TABLE_BODY}function Ypt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ce.TBODY,N.TBODY),e.insertionMode=se.IN_TABLE_BODY,RF(e,t)}function Kpt(e,t){e.openElements.hasInTableScope(N.TABLE)&&(e.openElements.popUntilTagNamePopped(N.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Xpt(e,t){pke(t)?e._appendElement(t,He.HTML):aN(e,t),t.ackSelfClosing=!0}function Qpt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,He.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function uS(e,t){switch(t.tagID){case N.TD:case N.TH:case N.TR:{Ypt(e,t);break}case N.STYLE:case N.SCRIPT:case N.TEMPLATE:{Gd(e,t);break}case N.COL:{Wpt(e,t);break}case N.FORM:{Qpt(e,t);break}case N.TABLE:{Kpt(e,t);break}case N.TBODY:case N.TFOOT:case N.THEAD:{Gpt(e,t);break}case N.INPUT:{Xpt(e,t);break}case N.CAPTION:{Hpt(e,t);break}case N.COLGROUP:{qpt(e,t);break}default:aN(e,t)}}function Sk(e,t){switch(t.tagID){case N.TABLE:{e.openElements.hasInTableScope(N.TABLE)&&(e.openElements.popUntilTagNamePopped(N.TABLE),e._resetInsertionMode());break}case N.TEMPLATE:{Z_(e,t);break}case N.BODY:case N.CAPTION:case N.COL:case N.COLGROUP:case N.HTML:case N.TBODY:case N.TD:case N.TFOOT:case N.TH:case N.THEAD:case N.TR:break;default:aN(e,t)}}function aN(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,IF(e,t),e.fosterParentingEnabled=n}function yke(e,t){e.pendingCharacterTokens.push(t)}function vke(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function l2(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)aN(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const bke=new Set([N.CAPTION,N.COL,N.COLGROUP,N.TBODY,N.TD,N.TFOOT,N.TH,N.THEAD,N.TR]);function Jpt(e,t){const n=t.tagID;bke.has(n)?e.openElements.hasInTableScope(N.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(N.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=se.IN_TABLE,uS(e,t)):ou(e,t)}function Zpt(e,t){const n=t.tagID;switch(n){case N.CAPTION:case N.TABLE:{e.openElements.hasInTableScope(N.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(N.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=se.IN_TABLE,n===N.TABLE&&Sk(e,t));break}case N.BODY:case N.COL:case N.COLGROUP:case N.HTML:case N.TBODY:case N.TD:case N.TFOOT:case N.TH:case N.THEAD:case N.TR:break;default:kF(e,t)}}function IJ(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.COL:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case N.TEMPLATE:{Gd(e,t);break}default:a3(e,t)}}function emt(e,t){switch(t.tagID){case N.COLGROUP:{e.openElements.currentTagId===N.COLGROUP&&(e.openElements.pop(),e.insertionMode=se.IN_TABLE);break}case N.TEMPLATE:{Z_(e,t);break}case N.COL:break;default:a3(e,t)}}function a3(e,t){e.openElements.currentTagId===N.COLGROUP&&(e.openElements.pop(),e.insertionMode=se.IN_TABLE,e._processToken(t))}function RF(e,t){switch(t.tagID){case N.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_ROW;break}case N.TH:case N.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ce.TR,N.TR),e.insertionMode=se.IN_ROW,NF(e,t);break}case N.CAPTION:case N.COL:case N.COLGROUP:case N.TBODY:case N.TFOOT:case N.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE,uS(e,t));break}default:uS(e,t)}}function kH(e,t){const n=t.tagID;switch(t.tagID){case N.TBODY:case N.TFOOT:case N.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE);break}case N.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE,Sk(e,t));break}case N.BODY:case N.CAPTION:case N.COL:case N.COLGROUP:case N.HTML:case N.TD:case N.TH:case N.TR:break;default:Sk(e,t)}}function NF(e,t){switch(t.tagID){case N.TH:case N.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,He.HTML),e.insertionMode=se.IN_CELL,e.activeFormattingElements.insertMarker();break}case N.CAPTION:case N.COL:case N.COLGROUP:case N.TBODY:case N.TFOOT:case N.THEAD:case N.TR:{e.openElements.hasInTableScope(N.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE_BODY,RF(e,t));break}default:uS(e,t)}}function _ke(e,t){switch(t.tagID){case N.TR:{e.openElements.hasInTableScope(N.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE_BODY);break}case N.TABLE:{e.openElements.hasInTableScope(N.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE_BODY,kH(e,t));break}case N.TBODY:case N.TFOOT:case N.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(N.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=se.IN_TABLE_BODY,kH(e,t));break}case N.BODY:case N.CAPTION:case N.COL:case N.COLGROUP:case N.HTML:case N.TD:case N.TH:break;default:Sk(e,t)}}function tmt(e,t){const n=t.tagID;bke.has(n)?(e.openElements.hasInTableScope(N.TD)||e.openElements.hasInTableScope(N.TH))&&(e._closeTableCell(),NF(e,t)):ou(e,t)}function nmt(e,t){const n=t.tagID;switch(n){case N.TD:case N.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=se.IN_ROW);break}case N.TABLE:case N.TBODY:case N.TFOOT:case N.THEAD:case N.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),_ke(e,t));break}case N.BODY:case N.CAPTION:case N.COL:case N.COLGROUP:case N.HTML:break;default:kF(e,t)}}function wke(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.OPTION:{e.openElements.currentTagId===N.OPTION&&e.openElements.pop(),e._insertElement(t,He.HTML);break}case N.OPTGROUP:{e.openElements.currentTagId===N.OPTION&&e.openElements.pop(),e.openElements.currentTagId===N.OPTGROUP&&e.openElements.pop(),e._insertElement(t,He.HTML);break}case N.INPUT:case N.KEYGEN:case N.TEXTAREA:case N.SELECT:{e.openElements.hasInSelectScope(N.SELECT)&&(e.openElements.popUntilTagNamePopped(N.SELECT),e._resetInsertionMode(),t.tagID!==N.SELECT&&e._processStartTag(t));break}case N.SCRIPT:case N.TEMPLATE:{Gd(e,t);break}}}function Eke(e,t){switch(t.tagID){case N.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===N.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===N.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===N.OPTGROUP&&e.openElements.pop();break}case N.OPTION:{e.openElements.currentTagId===N.OPTION&&e.openElements.pop();break}case N.SELECT:{e.openElements.hasInSelectScope(N.SELECT)&&(e.openElements.popUntilTagNamePopped(N.SELECT),e._resetInsertionMode());break}case N.TEMPLATE:{Z_(e,t);break}}}function rmt(e,t){const n=t.tagID;n===N.CAPTION||n===N.TABLE||n===N.TBODY||n===N.TFOOT||n===N.THEAD||n===N.TR||n===N.TD||n===N.TH?(e.openElements.popUntilTagNamePopped(N.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wke(e,t)}function imt(e,t){const n=t.tagID;n===N.CAPTION||n===N.TABLE||n===N.TBODY||n===N.TFOOT||n===N.THEAD||n===N.TR||n===N.TD||n===N.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(N.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Eke(e,t)}function smt(e,t){switch(t.tagID){case N.BASE:case N.BASEFONT:case N.BGSOUND:case N.LINK:case N.META:case N.NOFRAMES:case N.SCRIPT:case N.STYLE:case N.TEMPLATE:case N.TITLE:{Gd(e,t);break}case N.CAPTION:case N.COLGROUP:case N.TBODY:case N.TFOOT:case N.THEAD:{e.tmplInsertionModeStack[0]=se.IN_TABLE,e.insertionMode=se.IN_TABLE,uS(e,t);break}case N.COL:{e.tmplInsertionModeStack[0]=se.IN_COLUMN_GROUP,e.insertionMode=se.IN_COLUMN_GROUP,IJ(e,t);break}case N.TR:{e.tmplInsertionModeStack[0]=se.IN_TABLE_BODY,e.insertionMode=se.IN_TABLE_BODY,RF(e,t);break}case N.TD:case N.TH:{e.tmplInsertionModeStack[0]=se.IN_ROW,e.insertionMode=se.IN_ROW,NF(e,t);break}default:e.tmplInsertionModeStack[0]=se.IN_BODY,e.insertionMode=se.IN_BODY,ou(e,t)}}function omt(e,t){t.tagID===N.TEMPLATE&&Z_(e,t)}function xke(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(N.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):AJ(e,t)}function amt(e,t){t.tagID===N.HTML?ou(e,t):u3(e,t)}function Ske(e,t){var n;if(t.tagID===N.HTML){if(e.fragmentContext||(e.insertionMode=se.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===N.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else u3(e,t)}function u3(e,t){e.insertionMode=se.IN_BODY,IF(e,t)}function umt(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.FRAMESET:{e._insertElement(t,He.HTML);break}case N.FRAME:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case N.NOFRAMES:{Gd(e,t);break}}}function lmt(e,t){t.tagID===N.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==N.FRAMESET&&(e.insertionMode=se.AFTER_FRAMESET))}function cmt(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.NOFRAMES:{Gd(e,t);break}}}function fmt(e,t){t.tagID===N.HTML&&(e.insertionMode=se.AFTER_AFTER_FRAMESET)}function dmt(e,t){t.tagID===N.HTML?ou(e,t):v$(e,t)}function v$(e,t){e.insertionMode=se.IN_BODY,IF(e,t)}function hmt(e,t){switch(t.tagID){case N.HTML:{ou(e,t);break}case N.NOFRAMES:{Gd(e,t);break}}}function pmt(e,t){t.chars=Hi,e._insertCharacters(t)}function mmt(e,t){e._insertCharacters(t),e.framesetOk=!1}function Tke(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==He.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function gmt(e,t){if(Nht(t))Tke(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===He.MATHML?uke(t):r===He.SVG&&(Pht(t),lke(t)),TJ(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function ymt(e,t){if(t.tagID===N.P||t.tagID===N.BR){Tke(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===He.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ce.AREA,Ce.BASE,Ce.BASEFONT,Ce.BGSOUND,Ce.BR,Ce.COL,Ce.EMBED,Ce.FRAME,Ce.HR,Ce.IMG,Ce.INPUT,Ce.KEYGEN,Ce.LINK,Ce.META,Ce.PARAM,Ce.SOURCE,Ce.TRACK,Ce.WBR;const vmt=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Xde={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Cke(e,t){const n=Imt(e),r=WIe("type",{handlers:{root:bmt,element:_mt,text:wmt,comment:Ike,doctype:Emt,raw:Smt},unknown:Tmt}),i={parser:n?new Gde(Xde):Gde.getFragmentParser(void 0,Xde),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),BT(i,Up());const s=n?i.parser.document:i.parser.getFragment(),o=Rdt(s,{file:i.options.file});return i.stitches&&wJ(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Ake(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function bmt(e,t){Ake(e.children,t)}function _mt(e,t){Cmt(e,t),Ake(e.children,t),Amt(e,t)}function wmt(e,t){const n={type:Xn.CHARACTER,chars:e.value,location:uN(e)};BT(t,Up(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Emt(e,t){const n={type:Xn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:uN(e)};BT(t,Up(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function xmt(e,t){t.stitches=!0;const n=kmt(e);if("children"in e&&"children"in n){const r=Cke({type:"root",children:e.children},t.options);n.children=r.children}Ike({type:"comment",value:{stitch:n}},t)}function Ike(e,t){const n=e.value,r={type:Xn.COMMENT,data:n,location:uN(e)};BT(t,Up(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Smt(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,kke(t,Up(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Tmt(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))xmt(n,t);else{let r="";throw vmt.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function BT(e,t){kke(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ps.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function kke(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Cmt(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Ps.PLAINTEXT)return;BT(t,Up(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:hb.html;i===hb.html&&n==="svg"&&(i=hb.svg);const s=$dt({...e,children:[]},{space:i===hb.svg?"svg":"html"}),o={type:Xn.START_TAG,tagName:n,tagID:jT(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:uN(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Amt(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Vdt.includes(n)||t.parser.tokenizer.state===Ps.PLAINTEXT)return;BT(t,SF(e));const r={type:Xn.END_TAG,tagName:n,tagID:jT(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:uN(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ps.RCDATA||t.parser.tokenizer.state===Ps.RAWTEXT||t.parser.tokenizer.state===Ps.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ps.DATA)}function Imt(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function uN(e){const t=Up(e)||{line:void 0,column:void 0,offset:void 0},n=SF(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function kmt(e){return"children"in e?aS({...e,children:[]}):aS(e)}function Rmt(e){return function(t,n){return Cke(t,{...e,file:n})}}function Ru({text:e,required:t}){const n={img({node:i,width:s,height:o,...a}){return _.jsx(Fv,{...a,h:o,w:s,ref:void 0})},p({node:i,...s}){return _.jsx(lt,{...s,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...s}){return _.jsx(Ji,{...s,order:1,...s,pb:12})},h2({node:i,...s}){return _.jsx(Ji,{...s,order:2,...s,pb:12})},h3({node:i,...s}){return _.jsx(Ji,{...s,order:3,...s,pb:12})},h4({node:i,...s}){return _.jsx(Ji,{...s,order:4,...s,pb:12})},h5({node:i,...s}){return _.jsx(Ji,{...s,order:5,...s,pb:12})},h6({node:i,...s}){return _.jsx(Ji,{...s,order:6,...s,pb:12})},a({node:i,...s}){return _.jsx(AT,{...s,ref:void 0})},ul({node:i,...s}){return _.jsx(kd,{withPadding:!0,...s,pb:8})},ol({node:i,type:s,...o}){return _.jsx(kd,{type:"ordered",withPadding:!0,...o,pb:8})}};return _.jsx(ydt,{components:n,rehypePlugins:[Rmt],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function RH({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have an error at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return _.jsx(Ru,{text:n})}const Nmt="https://github.com/revisit-studies/study/tree/main/public/";function Pmt({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=Jg();return _.jsx(Fi.Main,{children:_.jsxs(Ef,{size:"xs",px:"xs",children:[_.jsx(Fv,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Cl}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),_.jsx(lt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=iIe(i);return _.jsx(Zs,{onClick:a=>{a.preventDefault(),r(`/${o}`)},my:"sm",style:{width:"100%"},children:_.jsxs(G_,{shadow:"sm",radius:"md",withBorder:!0,children:[s.errors.length>0?_.jsxs(_.Fragment,{children:[_.jsx(lt,{fw:"bold",children:i}),_.jsxs(Ht,{align:"center",direction:"row",children:[_.jsx(zfe,{color:"red"}),_.jsx(lt,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),_.jsx(RH,{issues:s.errors,type:"error"})]}):_.jsxs(_.Fragment,{children:[_.jsxs(Ht,{direction:"row",justify:"space-between",children:[_.jsx(lt,{fw:"bold",children:s.studyMetadata.title}),_.jsx(W_,{onClick:a=>{a.stopPropagation()},variant:"transparent",size:20,style:{float:"right"},component:"a",href:`${Cl}${o}`,children:_.jsx(Oat,{style:{paddingTop:4}})})]}),_.jsxs(lt,{c:"dimmed",children:[_.jsx(lt,{span:!0,fw:500,children:"Authors: "}),s.studyMetadata.authors]}),_.jsx(lt,{c:"dimmed",children:s.studyMetadata.description}),_.jsx(lt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:_.jsxs(AT,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${Nmt}${o}`,children:["View source:"," ",o]})})]}),s.warnings.length>0&&_.jsxs(_.Fragment,{children:[_.jsxs(Ht,{align:"center",direction:"row",children:[_.jsx(zfe,{color:"orange"}),_.jsx(lt,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),_.jsx(RH,{issues:s.warnings,type:"warning"})]})]})},i)})]})})}var Rke={exports:{}},Nke={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN=A;function Omt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dmt=typeof Object.is=="function"?Object.is:Omt,$mt=lN.useSyncExternalStore,Mmt=lN.useRef,Lmt=lN.useEffect,Fmt=lN.useMemo,jmt=lN.useDebugValue;Nke.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Mmt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Fmt(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,Dmt(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=$mt(e,s[0],s[1]);return Lmt(function(){o.hasValue=!0,o.value=a},[a]),jmt(a),a};Rke.exports=Nke;var Bmt=Rke.exports,cc="default"in YI?de:YI,Qde=Symbol.for("react-redux-context"),Jde=typeof globalThis<"u"?globalThis:{};function Umt(){if(!cc.createContext)return{};const e=Jde[Qde]??(Jde[Qde]=new Map);let t=e.get(cc.createContext);return t||(t=cc.createContext(null),e.set(cc.createContext,t)),t}var Gy=Umt(),zmt=()=>{throw new Error("uSES not initialized!")};function kJ(e=Gy){return function(){return cc.useContext(e)}}var Pke=kJ(),Oke=zmt,Vmt=e=>{Oke=e},Hmt=(e,t)=>e===t;function qmt(e=Gy){const t=e===Gy?Pke:kJ(e),n=(r,i={})=>{const{equalityFn:s=Hmt,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:l,stabilityCheck:c,identityFunctionCheck:f}=t();cc.useRef(!0);const d=cc.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),h=Oke(u.addNestedSub,a.getState,l||a.getState,d,s);return cc.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var Wmt=qmt();function Gmt(e){e()}function Ymt(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Gmt(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Zde={notify(){},get:()=>[]};function Kmt(e,t){let n,r=Zde,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=e.subscribe(u),r=Ymt())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Zde)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}var Xmt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qmt=typeof navigator<"u"&&navigator.product==="ReactNative",Jmt=Xmt||Qmt?cc.useLayoutEffect:cc.useEffect;function Zmt({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=cc.useMemo(()=>{const l=Kmt(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),a=cc.useMemo(()=>e.getState(),[e]);Jmt(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||Gy;return cc.createElement(u.Provider,{value:o},n)}var egt=Zmt;function Dke(e=Gy){const t=e===Gy?Pke:kJ(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var tgt=Dke();function ngt(e=Gy){const t=e===Gy?tgt:Dke(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var $ke=ngt();Vmt(Bmt.useSyncExternalStoreWithSelector);function ra(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rgt=typeof Symbol=="function"&&Symbol.observable||"@@observable",ehe=rgt,j9=()=>Math.random().toString(36).substring(7).split("").join("."),igt={INIT:`@@redux/INIT${j9()}`,REPLACE:`@@redux/REPLACE${j9()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${j9()}`},l3=igt;function RJ(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Mke(e,t,n){if(typeof e!="function")throw new Error(ra(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ra(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ra(1));return n(Mke)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,u=!1;function l(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function c(){if(u)throw new Error(ra(3));return i}function f(g){if(typeof g!="function")throw new Error(ra(4));if(u)throw new Error(ra(5));let y=!0;l();const v=a++;return o.set(v,g),function(){if(y){if(u)throw new Error(ra(6));y=!1,l(),o.delete(v),s=null}}}function d(g){if(!RJ(g))throw new Error(ra(7));if(typeof g.type>"u")throw new Error(ra(8));if(typeof g.type!="string")throw new Error(ra(17));if(u)throw new Error(ra(9));try{u=!0,i=r(i,g)}finally{u=!1}return(s=o).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(ra(10));r=g,d({type:l3.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ra(11));function v(){const w=y;w.next&&w.next(c())}return v(),{unsubscribe:g(v)}},[ehe](){return this}}}return d({type:l3.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:h,[ehe]:p}}function sgt(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:l3.INIT})>"u")throw new Error(ra(12));if(typeof n(void 0,{type:l3.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ra(13))})}function ogt(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{sgt(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const l={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],h=o[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(ra(14));l[f]=p,u=u||p!==h}return u=u||r.length!==Object.keys(o).length,u?l:o}}function c3(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function agt(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(ra(15))};const o={getState:i.getState,dispatch:(u,...l)=>s(u,...l)},a=e.map(u=>u(o));return s=c3(...a)(i.dispatch),{...i,dispatch:s}}}function ugt(e){return RJ(e)&&"type"in e&&typeof e.type=="string"}var Lke=Symbol.for("immer-nothing"),the=Symbol.for("immer-draftable"),xc=Symbol.for("immer-state");function hd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lS=Object.getPrototypeOf;function Yy(e){return!!e&&!!e[xc]}function wg(e){var t;return e?Fke(e)||Array.isArray(e)||!!e[the]||!!((t=e.constructor)!=null&&t[the])||OF(e)||DF(e):!1}var lgt=Object.prototype.constructor.toString();function Fke(e){if(!e||typeof e!="object")return!1;const t=lS(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lgt}function f3(e,t){PF(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function PF(e){const t=e[xc];return t?t.type_:Array.isArray(e)?1:OF(e)?2:DF(e)?3:0}function NH(e,t){return PF(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jke(e,t,n){const r=PF(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cgt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function OF(e){return e instanceof Map}function DF(e){return e instanceof Set}function P1(e){return e.copy_||e.base_}function PH(e,t){if(OF(e))return new Map(e);if(DF(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Fke(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[xc];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(lS(e),r)}else{const r=lS(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function NJ(e,t=!1){return $F(e)||Yy(e)||!wg(e)||(PF(e)>1&&(e.set=e.add=e.clear=e.delete=fgt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>NJ(r,!0))),e}function fgt(){hd(2)}function $F(e){return Object.isFrozen(e)}var dgt={};function Jb(e){const t=dgt[e];return t||hd(0,e),t}var Tk;function Bke(){return Tk}function hgt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nhe(e,t){t&&(Jb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function OH(e){DH(e),e.drafts_.forEach(pgt),e.drafts_=null}function DH(e){e===Tk&&(Tk=e.parent_)}function rhe(e){return Tk=hgt(Tk,e)}function pgt(e){const t=e[xc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ihe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[xc].modified_&&(OH(t),hd(4)),wg(e)&&(e=d3(t,e),t.parent_||h3(t,e)),t.patches_&&Jb("Patches").generateReplacementPatches_(n[xc].base_,e,t.patches_,t.inversePatches_)):e=d3(t,n,[]),OH(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lke?e:void 0}function d3(e,t,n){if($F(t))return t;const r=t[xc];if(!r)return f3(t,(i,s)=>she(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return h3(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),f3(s,(a,u)=>she(e,r,i,a,u,n,o)),h3(e,i,!1),n&&e.patches_&&Jb("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function she(e,t,n,r,i,s,o){if(Yy(i)){const a=s&&t&&t.type_!==3&&!NH(t.assigned_,r)?s.concat(r):void 0,u=d3(e,i,a);if(jke(n,r,u),Yy(u))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wg(i)&&!$F(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;d3(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&h3(e,i)}}function h3(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&NJ(t,n)}function mgt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Bke(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=PJ;n&&(i=[r],s=Ck);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var PJ={get(e,t){if(t===xc)return e;const n=P1(e);if(!NH(n,t))return ggt(e,n,t);const r=n[t];return e.finalized_||!wg(r)?r:r===B9(e.base_,t)?(U9(e),e.copy_[t]=MH(r,e)):r},has(e,t){return t in P1(e)},ownKeys(e){return Reflect.ownKeys(P1(e))},set(e,t,n){const r=Uke(P1(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=B9(P1(e),t),s=i==null?void 0:i[xc];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(cgt(n,i)&&(n!==void 0||NH(e.base_,t)))return!0;U9(e),$H(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return B9(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,U9(e),$H(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=P1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){hd(11)},getPrototypeOf(e){return lS(e.base_)},setPrototypeOf(){hd(12)}},Ck={};f3(PJ,(e,t)=>{Ck[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ck.deleteProperty=function(e,t){return Ck.set.call(this,e,t,void 0)};Ck.set=function(e,t,n){return PJ.set.call(this,e[0],t,n,e[0])};function B9(e,t){const n=e[xc];return(n?P1(n):e)[t]}function ggt(e,t,n){var i;const r=Uke(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Uke(e,t){if(!(t in e))return;let n=lS(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=lS(n)}}function $H(e){e.modified_||(e.modified_=!0,e.parent_&&$H(e.parent_))}function U9(e){e.copy_||(e.copy_=PH(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ygt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...l){return o.produce(u,c=>n.call(this,c,...l))}}typeof n!="function"&&hd(6),r!==void 0&&typeof r!="function"&&hd(7);let i;if(wg(t)){const s=rhe(this),o=MH(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?OH(s):DH(s)}return nhe(s,r),ihe(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Lke&&(i=void 0),this.autoFreeze_&&NJ(i,!0),r){const s=[],o=[];Jb("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else hd(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wg(e)||hd(8),Yy(e)&&(e=zke(e));const t=rhe(this),n=MH(e,void 0);return n[xc].isManual_=!0,DH(t),n}finishDraft(e,t){const n=e&&e[xc];(!n||!n.isManual_)&&hd(9);const{scope_:r}=n;return nhe(r,t),ihe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Jb("Patches").applyPatches_;return Yy(e)?r(e,t):this.produce(e,i=>r(i,t))}};function MH(e,t){const n=OF(e)?Jb("MapSet").proxyMap_(e,t):DF(e)?Jb("MapSet").proxySet_(e,t):mgt(e,t);return(t?t.scope_:Bke()).drafts_.push(n),n}function zke(e){return Yy(e)||hd(10,e),Vke(e)}function Vke(e){if(!wg(e)||$F(e))return e;const t=e[xc];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=PH(e,t.scope_.immer_.useStrictShallowCopy_)}else n=PH(e,!0);return f3(n,(r,i)=>{jke(n,r,Vke(i))}),t&&(t.finalized_=!1),n}var Sc=new ygt,Hke=Sc.produce;Sc.produceWithPatches.bind(Sc);Sc.setAutoFreeze.bind(Sc);Sc.setUseStrictShallowCopy.bind(Sc);Sc.applyPatches.bind(Sc);Sc.createDraft.bind(Sc);Sc.finishDraft.bind(Sc);function vgt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function bgt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _gt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ohe=e=>Array.isArray(e)?e:[e];function wgt(e){const t=Array.isArray(e[0])?e[0]:e;return _gt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Egt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var xgt=class{constructor(e){this.value=e}deref(){return this.value}},Sgt=typeof WeakRef<"u"?WeakRef:xgt,Tgt=0,ahe=1;function AO(){return{s:Tgt,v:void 0,o:null,p:null}}function OJ(e,t={}){let n=AO();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var f;let a=n;const{length:u}=arguments;for(let d=0,h=u;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=AO(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=AO(),m.set(p,a)):a=g}}const l=a;let c;if(a.s===ahe)c=a.v;else if(c=e.apply(null,arguments),s++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Sgt(c):c}return l.s=ahe,l.v=c,c}return o.clearCache=()=>{n=AO(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function qke(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),vgt(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...n,...u},{memoize:f,memoizeOptions:d=[],argsMemoize:h=OJ,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=ohe(d),y=ohe(p),v=wgt(i),b=f(function(){return s++,l.apply(null,arguments)},...g),w=h(function(){o++;const x=Egt(v,arguments);return a=b.apply(null,x),a},...y);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Cgt=qke(OJ),Agt=Object.assign((e,t=Cgt)=>{bgt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>Agt});function Wke(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Igt=Wke(),kgt=Wke,Rgt=(...e)=>{const t=qke(...e),n=Object.assign((...r)=>{const i=t(...r),s=(o,...a)=>i(Yy(o)?zke(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};Rgt(OJ);var Ngt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?c3:c3.apply(null,arguments)};function cS(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Il(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ugt(r)&&r.type===e,n}var Gke=class sA extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sA.prototype)}static get[Symbol.species](){return sA}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sA(...t[0].concat(this)):new sA(...t.concat(this))}};function uhe(e){return wg(e)?Hke(e,()=>{}):e}function lhe(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Il(10));const r=n.insert(t,e);return e.set(t,r),r}function Pgt(e){return typeof e=="boolean"}var Ogt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new Gke;return n&&(Pgt(n)?o.push(Igt):o.push(kgt(n.extraArgument))),o},Dgt="RTK_autoBatch",Yke=e=>t=>{setTimeout(t,e)},$gt=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yke(10),Mgt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?$gt:e.type==="callback"?e.queueNotification:Yke(e.timeout),l=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[Dgt]),s=!i,s&&(o||(o=!0,u(l))),r.dispatch(c)}finally{i=!0}}})},Lgt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Gke(e);return r&&i.push(Mgt(typeof r=="object"?r:void 0)),i},Fgt=!0;function jgt(e){const t=Ogt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(RJ(n))a=ogt(n);else throw new Error(Il(1));let u;typeof r=="function"?u=r(t):u=t();let l=c3;i&&(l=Ngt({trace:!Fgt,...typeof i=="object"&&i}));const c=agt(...u),f=Lgt(c);let d=typeof o=="function"?o(f):f();const h=l(...d);return Mke(a,s,h)}function Kke(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Il(28));if(a in t)throw new Error(Il(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Bgt(e){return typeof e=="function"}function Ugt(e,t){let[n,r,i]=Kke(t),s;if(Bgt(e))s=()=>uhe(e());else{const a=uhe(e);s=()=>a}function o(a=s(),u){let l=[n[u.type],...r.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,f)=>{if(f)if(Yy(c)){const h=f(c,u);return h===void 0?c:h}else{if(wg(c))return Hke(c,d=>f(d,u));{const d=f(c,u);if(d===void 0){if(c===null)return c;throw new Error(Il(9))}return d}}return c},a)}return o.getInitialState=s,o}var zgt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vgt=(e=21)=>{let t="",n=e;for(;n--;)t+=zgt[Math.random()*64|0];return t},Hgt=Symbol.for("rtk-slice-createasyncthunk");function qgt(e,t){return`${e}/${t}`}function Wgt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Hgt];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Il(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Kgt()):i.reducers)||{},u=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,w){const E=typeof b=="string"?b:b.type;if(!E)throw new Error(Il(12));if(E in l.sliceCaseReducersByType)throw new Error(Il(13));return l.sliceCaseReducersByType[E]=w,c},addMatcher(b,w){return l.sliceMatchers.push({matcher:b,reducer:w}),c},exposeAction(b,w){return l.actionCreators[b]=w,c},exposeCaseReducer(b,w){return l.sliceCaseReducersByName[b]=w,c}};u.forEach(b=>{const w=a[b],E={reducerName:b,type:qgt(s,b),createNotation:typeof i.reducers=="function"};Qgt(w)?Zgt(E,w,c,t):Xgt(E,w,c)});function f(){const[b={},w=[],E=void 0]=typeof i.extraReducers=="function"?Kke(i.extraReducers):[i.extraReducers],x={...b,...l.sliceCaseReducersByType};return Ugt(i.initialState,S=>{for(let C in x)S.addCase(C,x[C]);for(let C of l.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of w)S.addMatcher(C.matcher,C.reducer);E&&S.addDefaultCase(E)})}const d=b=>b,h=new Map;let p;function m(b,w){return p||(p=f()),p(b,w)}function g(){return p||(p=f()),p.getInitialState()}function y(b,w=!1){function E(S){let C=S[b];return typeof C>"u"&&w&&(C=g()),C}function x(S=d){const C=lhe(h,w,{insert:()=>new WeakMap});return lhe(C,S,{insert:()=>{const I={};for(const[k,R]of Object.entries(i.selectors??{}))I[k]=Ggt(R,S,g,w);return I}})}return{reducerPath:b,getSelectors:x,get selectors(){return x(E)},selectSlice:E}}const v={name:s,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(b,{reducerPath:w,...E}={}){const x=w??o;return b.inject({reducerPath:x,reducer:m},E),{...v,...y(x,!0)}}};return v}}function Ggt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Ygt=Wgt();function Kgt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Xgt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Jgt(r))throw new Error(Il(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?cS(e,o):cS(e))}function Qgt(e){return e._reducerDefinitionType==="asyncThunk"}function Jgt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Zgt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Il(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:l,options:c}=n,f=i(e,s,c);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),l&&r.addMatcher(f.settled,l),r.exposeCaseReducer(t,{fulfilled:o||IO,pending:a||IO,rejected:u||IO,settled:l||IO})}function IO(){}var e0t=(e,t)=>{if(typeof e!="function")throw new Error(Il(32))},DJ="listenerMiddleware",t0t=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=cS(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Il(21));return e0t(s),{predicate:i,type:t,effect:s}},n0t=Object.assign(e=>{const{type:t,predicate:n,effect:r}=t0t(e);return{id:Vgt(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Il(22))}}},{withTypes:()=>n0t}),r0t=Object.assign(cS(`${DJ}/add`),{withTypes:()=>r0t});cS(`${DJ}/removeAll`);var i0t=Object.assign(cS(`${DJ}/remove`),{withTypes:()=>i0t});function Il(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Eg(e){return e.components.flatMap(t=>typeof t=="string"?t:Eg(t))}function Xke(e){var t;return[...e.components.flatMap(n=>typeof n=="string"?n:Xke(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function Qke(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Eg(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Eg(e).length-1}];r+=1}else{const o=Qke(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function Jke(e,t){const n=Qke(e,t,0);return typeof n=="number"?null:n}function Zke(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=Zke(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function s0t(e,t){const n=Zke(e,t,0);return n.found?n.distance:-1}function eRe(e,t="root"){const n=[],r={};return e.components.forEach((i,s)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...eRe(i,`${t}-${s}`))}),n}function $J(e,t){return typeof e=="string"?e:{...e,orderPath:t,components:e.components.map((n,r)=>$J(n,`${t}-${r}`))}}async function o0t(e,t,n,r,i){const s=Eg(n),o=Object.fromEntries(s.filter(d=>d!=="end").map((d,h)=>[`${d}_${h}`,{answer:{}}])),a=Object.assign({},...s.map((d,h)=>({[`${d}_${h}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),u=Object.assign({},...s.map((d,h)=>({[`${d}_${h}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),l={studyId:e,answers:Object.keys(i).length>0?i:o,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:i?u:a,iframeAnswers:{},iframeProvenance:null,metadata:r},c=Ygt({name:"storeSlice",initialState:l,reducers:{setConfig(d,h){d.config=h.payload},toggleStudyBrowser:d=>{d.showStudyBrowser=!d.showStudyBrowser},toggleShowHelpText:d=>{d.showHelpText=!d.showHelpText},setAlertModal:(d,h)=>{d.alertModal=h.payload},setIframeAnswers:(d,h)=>{d.iframeAnswers=h.payload},setIframeProvenance:(d,h)=>{d.iframeProvenance=h.payload},updateResponseBlockValidation:(d,{payload:h})=>{d.trialValidation[h.identifier]||(d.trialValidation[h.identifier]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),d.trialValidation[h.identifier][h.location]={valid:h.status,values:h.values},h.provenanceGraph&&(d.trialValidation[h.identifier].provenanceGraph=h.provenanceGraph)},saveTrialAnswer(d,{payload:h}){const{identifier:p,answer:m,startTime:g,endTime:y,provenanceGraph:v,windowEvents:b}=h;d.answers[p]={answer:m,startTime:g,endTime:y,provenanceGraph:v,windowEvents:b}}}});return{store:jgt({reducer:c.reducer,preloadedState:l}),actions:c.actions}}const tRe=A.createContext(null);function zp(){return A.useContext(tRe).actions}const Vp=$ke,Lf=Wmt;function a0t(e){return Lf(t=>{if(e.includes("reviewer-"))return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function MJ(){return Lf(e=>Eg(e.sequence))}function ew(){const{studyId:e}=bg();return`${e}`}function Zg(){const{index:e}=bg(),t=parseInt(e||"0",10);return Number.isNaN(t)?e:t}function zv(){const e=Zg(),t=MJ();return typeof e=="number"?t[e]:e.replace("reviewer-","")}var p3={exports:{}};p3.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",w="[object RegExp]",E="[object Set]",x="[object String]",S="[object Undefined]",C="[object WeakMap]",I="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",P="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,F={};F[R]=F[D]=F[P]=F[$]=F[L]=F[M]=F[B]=F[z]=F[H]=!0,F[a]=F[u]=F[I]=F[c]=F[k]=F[f]=F[d]=F[h]=F[m]=F[g]=F[v]=F[w]=F[E]=F[x]=F[C]=!1;var V=typeof vs=="object"&&vs&&vs.Object===Object&&vs,G=typeof self=="object"&&self&&self.Object===Object&&self,Z=V||G||Function("return this")(),ae=t&&!t.nodeType&&t,re=ae&&!0&&e&&!e.nodeType&&e,ue=re&&re.exports===ae,pe=ue&&V.process,xe=function(){try{var X=re&&re.require&&re.require("util").types;return X||pe&&pe.binding&&pe.binding("util")}catch{}}(),ve=xe&&xe.isTypedArray;function We(X,oe,Se){switch(Se.length){case 0:return X.call(oe);case 1:return X.call(oe,Se[0]);case 2:return X.call(oe,Se[0],Se[1]);case 3:return X.call(oe,Se[0],Se[1],Se[2])}return X.apply(oe,Se)}function Be(X,oe){for(var Se=-1,Nt=Array(X);++Se<X;)Nt[Se]=oe(Se);return Nt}function ht(X){return function(oe){return X(oe)}}function Je(X,oe){return X==null?void 0:X[oe]}function we(X,oe){return function(Se){return X(oe(Se))}}var Ae=Array.prototype,ze=Function.prototype,et=Object.prototype,Ot=Z["__core-js_shared__"],Oe=ze.toString,fe=et.hasOwnProperty,Xe=function(){var X=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),nt=et.toString,ge=Oe.call(Object),ke=RegExp("^"+Oe.call(fe).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=ue?Z.Buffer:void 0,Ye=Z.Symbol,pt=Z.Uint8Array;Ve&&Ve.allocUnsafe;var xn=we(Object.getPrototypeOf,Object),nr=Object.create,mt=et.propertyIsEnumerable,Lt=Ae.splice,vt=Ye?Ye.toStringTag:void 0,rn=function(){try{var X=Ze(Object,"defineProperty");return X({},"",{}),X}catch{}}(),Sn=Ve?Ve.isBuffer:void 0,sn=Math.max,Hs=Date.now,Ui=Ze(Z,"Map"),Tn=Ze(Object,"create"),Nr=function(){function X(){}return function(oe){if(!Uc(oe))return{};if(nr)return nr(oe);X.prototype=oe;var Se=new X;return X.prototype=void 0,Se}}();function Ur(X){var oe=-1,Se=X==null?0:X.length;for(this.clear();++oe<Se;){var Nt=X[oe];this.set(Nt[0],Nt[1])}}function ki(){this.__data__=Tn?Tn(null):{},this.size=0}function Hu(X){var oe=this.has(X)&&delete this.__data__[X];return this.size-=oe?1:0,oe}function au(X){var oe=this.__data__;if(Tn){var Se=oe[X];return Se===r?void 0:Se}return fe.call(oe,X)?oe[X]:void 0}function jc(X){var oe=this.__data__;return Tn?oe[X]!==void 0:fe.call(oe,X)}function Bn(X,oe){var Se=this.__data__;return this.size+=this.has(X)?0:1,Se[X]=Tn&&oe===void 0?r:oe,this}Ur.prototype.clear=ki,Ur.prototype.delete=Hu,Ur.prototype.get=au,Ur.prototype.has=jc,Ur.prototype.set=Bn;function bi(X){var oe=-1,Se=X==null?0:X.length;for(this.clear();++oe<Se;){var Nt=X[oe];this.set(Nt[0],Nt[1])}}function xr(){this.__data__=[],this.size=0}function Yo(X){var oe=this.__data__,Se=Kn(oe,X);if(Se<0)return!1;var Nt=oe.length-1;return Se==Nt?oe.pop():Lt.call(oe,Se,1),--this.size,!0}function xo(X){var oe=this.__data__,Se=Kn(oe,X);return Se<0?void 0:oe[Se][1]}function qs(X){return Kn(this.__data__,X)>-1}function ce(X,oe){var Se=this.__data__,Nt=Kn(Se,X);return Nt<0?(++this.size,Se.push([X,oe])):Se[Nt][1]=oe,this}bi.prototype.clear=xr,bi.prototype.delete=Yo,bi.prototype.get=xo,bi.prototype.has=qs,bi.prototype.set=ce;function ne(X){var oe=-1,Se=X==null?0:X.length;for(this.clear();++oe<Se;){var Nt=X[oe];this.set(Nt[0],Nt[1])}}function he(){this.size=0,this.__data__={hash:new Ur,map:new(Ui||bi),string:new Ur}}function Ne(X){var oe=Ke(this,X).delete(X);return this.size-=oe?1:0,oe}function Re(X){return Ke(this,X).get(X)}function ct(X){return Ke(this,X).has(X)}function Dt(X,oe){var Se=Ke(this,X),Nt=Se.size;return Se.set(X,oe),this.size+=Se.size==Nt?0:1,this}ne.prototype.clear=he,ne.prototype.delete=Ne,ne.prototype.get=Re,ne.prototype.has=ct,ne.prototype.set=Dt;function Qt(X){var oe=this.__data__=new bi(X);this.size=oe.size}function Dn(){this.__data__=new bi,this.size=0}function Yn(X){var oe=this.__data__,Se=oe.delete(X);return this.size=oe.size,Se}function Cn(X){return this.__data__.get(X)}function lr(X){return this.__data__.has(X)}function Sr(X,oe){var Se=this.__data__;if(Se instanceof bi){var Nt=Se.__data__;if(!Ui||Nt.length<n-1)return Nt.push([X,oe]),this.size=++Se.size,this;Se=this.__data__=new ne(Nt)}return Se.set(X,oe),this.size=Se.size,this}Qt.prototype.clear=Dn,Qt.prototype.delete=Yn,Qt.prototype.get=Cn,Qt.prototype.has=lr,Qt.prototype.set=Sr;function Ct(X,oe){var Se=qf(X),Nt=!Se&&Qo(X),$n=!Se&&!Nt&&Wf(X),cr=!Se&&!Nt&&!$n&&Nw(X),fr=Se||Nt||$n||cr,tn=fr?Be(X.length,String):[],Or=tn.length;for(var hi in X)fr&&(hi=="length"||$n&&(hi=="offset"||hi=="parent")||cr&&(hi=="buffer"||hi=="byteLength"||hi=="byteOffset")||Rt(hi,Or))||tn.push(hi);return tn}function Un(X,oe,Se){(Se!==void 0&&!qu(X[oe],Se)||Se===void 0&&!(oe in X))&&_i(X,oe,Se)}function Xr(X,oe,Se){var Nt=X[oe];(!(fe.call(X,oe)&&qu(Nt,Se))||Se===void 0&&!(oe in X))&&_i(X,oe,Se)}function Kn(X,oe){for(var Se=X.length;Se--;)if(qu(X[Se][0],oe))return Se;return-1}function _i(X,oe,Se){oe=="__proto__"&&rn?rn(X,oe,{configurable:!0,enumerable:!0,value:Se,writable:!0}):X[oe]=Se}var Ws=Le();function Yr(X){return X==null?X===void 0?S:y:vt&&vt in Object(X)?Qe(X):To(X)}function si(X){return Sa(X)&&Yr(X)==a}function Qr(X){if(!Uc(X)||Jn(X))return!1;var oe=h1(X)?ke:U;return oe.test(Rw(X))}function zi(X){return Sa(X)&&uh(X.length)&&!!F[Yr(X)]}function So(X){if(!Uc(X))return zr(X);var oe=Pr(X),Se=[];for(var Nt in X)Nt=="constructor"&&(oe||!fe.call(X,Nt))||Se.push(Nt);return Se}function Ko(X,oe,Se,Nt,$n){X!==oe&&Ws(oe,function(cr,fr){if($n||($n=new Qt),Uc(cr))ns(X,oe,fr,Se,Ko,Nt,$n);else{var tn=Nt?Nt(Hf(X,fr),cr,fr+"",X,oe,$n):void 0;tn===void 0&&(tn=cr),Un(X,fr,tn)}},lm)}function ns(X,oe,Se,Nt,$n,cr,fr){var tn=Hf(X,Se),Or=Hf(oe,Se),hi=fr.get(Or);if(hi){Un(X,Se,hi);return}var Co=cr?cr(tn,Or,Se+"",X,oe,fr):void 0,p1=Co===void 0;if(p1){var fm=qf(Or),Pw=!fm&&Wf(Or),Ow=!fm&&!Pw&&Nw(Or);Co=Or,fm||Pw||Ow?qf(tn)?Co=tn:Wu(tn)?Co=ye(tn):Pw?(p1=!1,Co=Y(Or)):Ow?(p1=!1,Co=ee(Or)):Co=[]:GC(Or)||Qo(Or)?(Co=tn,Qo(tn)?Co=um(tn):(!Uc(tn)||h1(tn))&&(Co=ut(Or))):p1=!1}p1&&(fr.set(Or,Co),$n(Co,Or,Nt,cr,fr),fr.delete(Or)),Un(X,Se,Co)}function Ri(X,oe){return d1(Bc(X,oe,At),X+"")}var Xo=rn?function(X,oe){return rn(X,"toString",{configurable:!0,enumerable:!1,value:cm(oe),writable:!0})}:At;function Y(X,oe){return X.slice()}function le(X){var oe=new X.constructor(X.byteLength);return new pt(oe).set(new pt(X)),oe}function ee(X,oe){var Se=le(X.buffer);return new X.constructor(Se,X.byteOffset,X.length)}function ye(X,oe){var Se=-1,Nt=X.length;for(oe||(oe=Array(Nt));++Se<Nt;)oe[Se]=X[Se];return oe}function _e(X,oe,Se,Nt){var $n=!Se;Se||(Se={});for(var cr=-1,fr=oe.length;++cr<fr;){var tn=oe[cr],Or=void 0;Or===void 0&&(Or=X[tn]),$n?_i(Se,tn,Or):Xr(Se,tn,Or)}return Se}function me(X){return Ri(function(oe,Se){var Nt=-1,$n=Se.length,cr=$n>1?Se[$n-1]:void 0,fr=$n>2?Se[2]:void 0;for(cr=X.length>3&&typeof cr=="function"?($n--,cr):void 0,fr&&vn(Se[0],Se[1],fr)&&(cr=$n<3?void 0:cr,$n=1),oe=Object(oe);++Nt<$n;){var tn=Se[Nt];tn&&X(oe,tn,Nt,cr)}return oe})}function Le(X){return function(oe,Se,Nt){for(var $n=-1,cr=Object(oe),fr=Nt(oe),tn=fr.length;tn--;){var Or=fr[++$n];if(Se(cr[Or],Or,cr)===!1)break}return oe}}function Ke(X,oe){var Se=X.__data__;return jt(oe)?Se[typeof oe=="string"?"string":"hash"]:Se.map}function Ze(X,oe){var Se=Je(X,oe);return Qr(Se)?Se:void 0}function Qe(X){var oe=fe.call(X,vt),Se=X[vt];try{X[vt]=void 0;var Nt=!0}catch{}var $n=nt.call(X);return Nt&&(oe?X[vt]=Se:delete X[vt]),$n}function ut(X){return typeof X.constructor=="function"&&!Pr(X)?Nr(xn(X)):{}}function Rt(X,oe){var Se=typeof X;return oe=oe??o,!!oe&&(Se=="number"||Se!="symbol"&&q.test(X))&&X>-1&&X%1==0&&X<oe}function vn(X,oe,Se){if(!Uc(Se))return!1;var Nt=typeof oe;return(Nt=="number"?ah(Se)&&Rt(oe,Se.length):Nt=="string"&&oe in Se)?qu(Se[oe],X):!1}function jt(X){var oe=typeof X;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?X!=="__proto__":X===null}function Jn(X){return!!Xe&&Xe in X}function Pr(X){var oe=X&&X.constructor,Se=typeof oe=="function"&&oe.prototype||et;return X===Se}function zr(X){var oe=[];if(X!=null)for(var Se in Object(X))oe.push(Se);return oe}function To(X){return nt.call(X)}function Bc(X,oe,Se){return oe=sn(oe===void 0?X.length-1:oe,0),function(){for(var Nt=arguments,$n=-1,cr=sn(Nt.length-oe,0),fr=Array(cr);++$n<cr;)fr[$n]=Nt[oe+$n];$n=-1;for(var tn=Array(oe+1);++$n<oe;)tn[$n]=Nt[$n];return tn[oe]=Se(fr),We(X,this,tn)}}function Hf(X,oe){if(!(oe==="constructor"&&typeof X[oe]=="function")&&oe!="__proto__")return X[oe]}var d1=am(Xo);function am(X){var oe=0,Se=0;return function(){var Nt=Hs(),$n=s-(Nt-Se);if(Se=Nt,$n>0){if(++oe>=i)return arguments[0]}else oe=0;return X.apply(void 0,arguments)}}function Rw(X){if(X!=null){try{return Oe.call(X)}catch{}try{return X+""}catch{}}return""}function qu(X,oe){return X===oe||X!==X&&oe!==oe}var Qo=si(function(){return arguments}())?si:function(X){return Sa(X)&&fe.call(X,"callee")&&!mt.call(X,"callee")},qf=Array.isArray;function ah(X){return X!=null&&uh(X.length)&&!h1(X)}function Wu(X){return Sa(X)&&ah(X)}var Wf=Sn||bt;function h1(X){if(!Uc(X))return!1;var oe=Yr(X);return oe==h||oe==p||oe==l||oe==b}function uh(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=o}function Uc(X){var oe=typeof X;return X!=null&&(oe=="object"||oe=="function")}function Sa(X){return X!=null&&typeof X=="object"}function GC(X){if(!Sa(X)||Yr(X)!=v)return!1;var oe=xn(X);if(oe===null)return!0;var Se=fe.call(oe,"constructor")&&oe.constructor;return typeof Se=="function"&&Se instanceof Se&&Oe.call(Se)==ge}var Nw=ve?ht(ve):zi;function um(X){return _e(X,lm(X))}function lm(X){return ah(X)?Ct(X):So(X)}var lh=me(function(X,oe,Se){Ko(X,oe,Se)});function cm(X){return function(){return X}}function At(X){return X}function bt(){return!1}e.exports=lh})(p3,p3.exports);var u0t=p3.exports;const LJ=On(u0t);function Cy(e){return structuredClone(e)}function FJ(){const{answers:e}=Lf(i=>i),t=Zg(),r=`${zv()}_${t}`;return e[r]}const nRe=A.createContext(null);function l0t(){const e=A.useContext(nRe);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Ky(){return Lf(e=>e.config)}function che(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?o.correctAnswer.every(a=>e[a.id]===a.answer):!0}function rRe(){const e=Zg(),t=MJ(),r=`${zv()}_${e}`,{trialValidation:i,sequence:s,answers:o}=Lf(x=>x),a=Vp(),{saveTrialAnswer:u,setIframeAnswers:l}=zp(),{storageEngine:c}=ro(),f=ew(),[d,h]=A.useState(!0);A.useEffect(()=>{(async()=>{if(c){const S=await c.getModes(f);h(S.dataCollectionEnabled)}})()},[c,f]);const p=a0t(r),m=typeof e!="number"||!p,g=FJ(),y=Jg(),v=Ky(),b=A.useMemo(()=>Date.now(),[]),w=l0t(),E=A.useCallback(()=>{if(typeof e!="number")return;const x=Cy(i[r]),S=Object.values(x).reduce((L,M)=>Object.hasOwn(M,"values")?{...L,...M.values}:L,{}),{provenanceGraph:C}=x,I=Date.now(),k=w&&"current"in w&&w.current?w.current.splice(0,w.current.length):[];d&&!g.endTime&&(a(u({identifier:r,answer:S,startTime:b,endTime:I,provenanceGraph:C,windowEvents:k})),c&&c.saveAnswers({...o,[r]:{answer:S,startTime:b,endTime:I,provenanceGraph:C,windowEvents:k}}),a(l({})));let R=e+1;const D=Jke(s,e),P=D!==null&&D.some(L=>Object.hasOwn(L.currentBlock,"skip")&&L.currentBlock.skip!==void 0),$={...o,[r]:{answer:S,startTime:b,endTime:I,provenanceGraph:C,windowEvents:k}};P&&[...D.flatMap(M=>M.currentBlock.skip?M.currentBlock.skip.map(B=>({...B,firstIndex:M.firstIndex,lastIndex:M.lastIndex})):[])].some(M=>{let B=!1;const z=Object.fromEntries(Object.entries($).filter(([O])=>{const U=parseInt(O.slice(O.lastIndexOf("_")+1),10);return U>=M.firstIndex&&U<=e})),H=M.check!=="block"?Object.entries(z).filter(([O])=>O.slice(0,O.lastIndexOf("_"))===M.name):Object.entries(z);if(H.length===0)return!1;if(H.some(([O,U])=>!U))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(M,null,2)}`);if(M.check==="response"||M.check==="responses"){const[O,U]=H[0];M.check==="response"?B=M.comparison==="equal"?M.value===U.answer[M.responseId]:M.value!==U.answer[M.responseId]:B=!che(U.answer,O,v.components[O.slice(0,O.lastIndexOf("_"))],v)}else if(M.check==="block"||M.check==="repeatedComponent"){if(H.length<M.value)return!1;const O=H.map(([F,V])=>che(V.answer,F,v.components[F.slice(0,F.lastIndexOf("_"))],v)),U=O.filter(F=>F).length,q=O.length-U;B=M.condition==="numCorrect"&&U===M.value||M.condition==="numIncorrect"&&q===M.value}if(B){const O=t.indexOf(M.to),U=O===-1?s0t(s,M.to):-1;return R=O===-1?U:O,!0}return!1}),y(`/${f}/${R}${window.location.search}`)},[e,i,r,w,d,g.endTime,s,o,b,y,f,a,u,c,l,v,t]);return{isNextDisabled:m,goToNextStep:E}}function c0t({label:e="Next",disabled:t=!1,onClick:n}){const{isNextDisabled:r,goToNextStep:i}=rRe(),s=A.useCallback(()=>{n&&n(),i()},[i,n]);return _.jsx(Rn,{type:"submit",disabled:t||r,onClick:s,children:e})}function f0t(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const d0t=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Zo(e,t){d0t(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function h0t(e,t){e&&f0t(e),Zo(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Zo(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Zo(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Zo(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Zo(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Zo(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Zo(`mantine-form:${e}:clear-errors`,t.clearErrors),Zo(`mantine-form:${e}:reset`,t.reset),Zo(`mantine-form:${e}:validate`,t.validate),Zo(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Zo(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Zo(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Zo(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Zo(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Zo(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Zo(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Zo(`mantine-form:${e}:reset-touched`,t.resetTouched)}function p0t(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function LH(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function m0t(e){const[t,n]=A.useState(LH(e)),r=A.useRef(t),i=A.useCallback(u=>{n(l=>{const c=LH(typeof u=="function"?u(l):u);return r.current=c,c})},[]),s=A.useCallback(()=>i({}),[]),o=A.useCallback(u=>{r.current[u]!==void 0&&i(l=>{const c={...l};return delete c[u],c})},[t]),a=A.useCallback((u,l)=>{l==null||l===!1?o(u):r.current[u]!==l&&i(c=>({...c,[u]:l}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function iRe(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function fhe(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function dhe(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=iRe(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=fhe(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=fhe(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function g0t(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r};return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function hhe(e,t,n){typeof n.value=="object"&&(n.value=qE(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function qE(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(qE(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(qE(a),qE(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(qE(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)hhe(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||hhe(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function sRe(e){return typeof e!="string"?[]:e.split(".")}function gl(e,t){const n=sRe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function MF(e,t,n){const r=sRe(e);if(r.length===0)return n;const i=qE(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function y0t(e,{from:t,to:n},r){const i=gl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),MF(e,s,r)}function v0t(e,t,n,r){const i=gl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),MF(e,s,r)}function b0t(e,t,n){const r=gl(e,n);return Array.isArray(r)?MF(e,r.filter((i,s)=>s!==t),n):n}function _0t({$values:e,$errors:t,$status:n}){const r=A.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(u=>g0t(o,a,u)),e.setValues({values:y0t(o,a,e.refValues.current),updateState:!0})},[]),i=A.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(u=>dhe(o,a,u,-1)),e.setValues({values:b0t(o,a,e.refValues.current),updateState:!0})},[]),s=A.useCallback((o,a,u)=>{n.clearFieldDirty(o),t.setErrors(l=>dhe(o,u,l,1)),e.setValues({values:v0t(o,a,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s}}var jJ=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const b$=On(jJ);function kO(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function w0t({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=A.useState(t),[o,a]=A.useState(e),u=A.useRef(t),l=A.useRef(e),c=A.useCallback(E=>{const x=typeof E=="function"?E(u.current):E;u.current=x,n==="controlled"&&s(x)},[]),f=A.useCallback(E=>{const x=typeof E=="function"?E(l.current):E;l.current=x,n==="controlled"&&a(x)},[]),d=A.useCallback(()=>c({}),[]),h=E=>{const x=E?{...E,...r.refValues.current}:r.refValues.current;r.setValuesSnapshot(x),f({})},p=A.useCallback((E,x)=>{c(S=>kO(S,E)===x?S:{...S,[E]:x})},[]),m=A.useCallback((E,x)=>{f(S=>kO(S,E)===x?S:{...S,[E]:x})},[]),g=A.useCallback(E=>kO(u.current,E),[]),y=A.useCallback(E=>f(x=>{if(typeof E!="string")return x;const S=iRe(E,x);return delete S[E],b$(S,x)?x:S}),[]),v=A.useCallback(E=>{if(E){const S=gl(E,l.current);if(typeof S=="boolean")return S;const C=gl(E,r.refValues.current),I=gl(E,r.valuesSnapshot.current);return!b$(C,I)}return Object.keys(l.current).length>0?kO(l.current):!b$(r.refValues.current,r.valuesSnapshot.current)},[]),b=A.useCallback(()=>l.current,[]),w=A.useCallback(()=>u.current,[]);return{touchedState:i,dirtyState:o,touchedRef:u,dirtyRef:l,setTouched:c,setDirty:f,resetDirty:h,resetTouched:d,isTouched:g,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:y,isDirty:v,getDirty:b,getTouched:w}}function E0t({initialValues:e,onValuesChange:t,mode:n}){const r=A.useRef(!1),[i,s]=A.useState(e||{}),o=A.useRef(i),a=A.useRef(i),u=A.useCallback(({values:p,subscribers:m,updateState:g=!0,mergeWithPreviousValues:y=!0})=>{const v=o.current,b=p instanceof Function?p(o.current):p,w=y?{...v,...b}:b;o.current=w,g&&s(w),t==null||t(w,v),m==null||m.filter(Boolean).forEach(E=>E({updatedValues:w,previousValues:v}))},[t]),l=A.useCallback(p=>{var y;const m=gl(p.path,o.current),g=p.value instanceof Function?p.value(m):p.value;if(m!==g){const v=o.current,b=MF(p.path,g,o.current);u({values:b,updateState:p.updateState}),(y=p.subscribers)==null||y.filter(Boolean).forEach(w=>w({path:p.path,updatedValues:b,previousValues:v}))}},[]),c=A.useCallback(p=>{a.current=p},[]),f=A.useCallback((p,m)=>{r.current||(r.current=!0,u({values:p,updateState:n==="controlled"}),c(p),m())},[]),d=A.useCallback(()=>{u({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[]),h=A.useCallback(()=>o.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:u,setFieldValue:l,resetValues:d,setValuesSnapshot:c,initialize:f,getValues:h}}function x0t({$status:e}){const t=A.useRef({}),n=A.useCallback((i,s)=>{A.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=A.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:gl(i,o.previousValues),value:gl(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function phe(e,t){return e?`${e}-${t.toString()}`:t.toString()}function mhe(e){const t=LH(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function FH(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=gl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>FH(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||FH(o,t,a,i)),i},r)}function jH(e,t){return mhe(typeof e=="function"?e(t):FH(e,t))}function RO(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=jH(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const S0t="__MANTINE_FORM_INDEX__";function ghe(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${S0t}`)):!1:!1}function oRe({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:u=!1,onValuesChange:l,transformValues:c=h=>h,enhanceGetInputProps:f,validate:d}={}){const h=m0t(r),p=E0t({initialValues:n,onValuesChange:l,mode:t}),m=w0t({initialDirty:i,initialTouched:s,$values:p,mode:t}),g=_0t({$values:p,$errors:h,$status:m}),y=x0t({$status:m}),[v,b]=A.useState(0),[w,E]=A.useState({}),x=A.useCallback(()=>{p.resetValues(),h.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&b(O=>O+1)},[]),S=A.useCallback(O=>{p.initialize(O,()=>t==="uncontrolled"&&b(U=>U+1))},[]),C=A.useCallback((O,U,q)=>{const F=ghe(O,a);m.clearFieldDirty(O),m.setFieldTouched(O,!0),!F&&o&&h.clearFieldError(O),p.setFieldValue({path:O,value:U,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(O),F?V=>{const G=RO(O,d,V.updatedValues);G.hasError?h.setFieldError(O,G.error):h.clearFieldError(O)}:null,(q==null?void 0:q.forceUpdate)!==!1&&t!=="controlled"?()=>E(V=>({...V,[O]:(V[O]||0)+1})):null]})},[l,d]),I=A.useCallback(O=>{const U=p.refValues.current;p.setValues({values:O,updateState:t==="controlled"}),o&&h.clearErrors(),t==="uncontrolled"&&b(q=>q+1),Object.keys(y.subscribers.current).forEach(q=>{const F=gl(q,p.refValues.current),V=gl(q,U);F!==V&&y.getFieldSubscribers(q).forEach(G=>G({previousValues:U,updatedValues:p.refValues.current}))})},[l,o]),k=A.useCallback(()=>{const O=jH(d,p.refValues.current);return h.setErrors(O.errors),O},[d]),R=A.useCallback(O=>{const U=RO(O,d,p.refValues.current);return U.hasError?h.setFieldError(O,U.error):h.clearFieldError(O),U},[d]),D=(O,{type:U="input",withError:q=!0,withFocus:F=!0,...V}={})=>{const Z={onChange:p0t(ae=>C(O,ae,{forceUpdate:!1})),"data-path":phe(e,O)};return q&&(Z.error=h.errorsState[O]),U==="checkbox"?Z[t==="controlled"?"checked":"defaultChecked"]=gl(O,p.refValues.current):Z[t==="controlled"?"value":"defaultValue"]=gl(O,p.refValues.current),F&&(Z.onFocus=()=>m.setFieldTouched(O,!0),Z.onBlur=()=>{if(ghe(O,u)){const ae=RO(O,d,p.refValues.current);ae.hasError?h.setFieldError(O,ae.error):h.clearFieldError(O)}}),Object.assign(Z,f==null?void 0:f({inputProps:Z,field:O,options:{type:U,withError:q,withFocus:F,...V},form:H}))},P=(O,U)=>q=>{q==null||q.preventDefault();const F=k();F.hasErrors?U==null||U(F.errors,p.refValues.current,q):O==null||O(c(p.refValues.current),q)},$=O=>c(O||p.refValues.current),L=A.useCallback(O=>{O.preventDefault(),x()},[]),M=A.useCallback(O=>O?!RO(O,d,p.refValues.current).hasError:!jH(d,p.refValues.current).hasErrors,[d]),B=O=>`${v}-${O}-${w[O]||0}`,z=A.useCallback(O=>document.querySelector(`[data-path="${phe(e,O)}"]`),[]),H={watch:y.watch,initialized:p.initialized.current,values:p.stateValues,getValues:p.getValues,setInitialValues:p.setValuesSnapshot,initialize:S,setValues:I,setFieldValue:C,errors:h.errorsState,setErrors:h.setErrors,setFieldError:h.setFieldError,clearFieldError:h.clearFieldError,clearErrors:h.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:x,validate:k,validateField:R,getInputProps:D,onSubmit:P,onReset:L,isValid:M,getTransformedValues:$,key:B,getInputNode:z};return h0t(e,H),H}function T0t(e,t){const n=t||!0;return r=>typeof r!="string"?n:e.test(r)?null:n}function C0t(e){return T0t(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function aRe(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const A0t=new URLSearchParams(window.location.search),I0t=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?A0t.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},k0t=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return n.type==="checkbox"?aRe(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function R0t(e,t,n){const[r,i]=A.useState(null),s=oRe({initialValues:I0t(e,n),validate:k0t(e)});return A.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function tw(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?s=aRe(e,t.checked):s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function N0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:u}=e;return _.jsx(uc.Group,{label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:s,required:o})})]}),description:u,...n,error:tw(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:_.jsx(to,{mt:"xs",children:a.map(l=>_.jsx(uc,{disabled:t,value:l.value,label:l.label},l.value))})})}function P0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:u,secondaryText:l}=e;return _.jsx(tN,{disabled:t,label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:o,required:a})})]}),description:l,placeholder:s,data:u,radius:"md",size:"md",...n,error:tw(e,n,u)})}function O0t({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o}=e;return _.jsx(ji.Wrapper,{label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[r&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${n}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:i,required:s})})]}),description:o,size:"md",children:_.jsx(kd,{children:Array.isArray(t.value)?t.value.map(a=>_.jsx(kd.Item,{children:a},a)):_.jsx(kd.Item,{children:t.value})})})}function uRe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,leftLabel:u,rightLabel:l,secondaryText:c}=e;return _.jsx(Qb.Group,{name:`radioInput${e.id}`,label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:s,required:o})})]}),description:c,...n,error:tw(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:_.jsxs(to,{mt:"xs",children:[u?_.jsx(lt,{style:{textAlign:"center"},children:u}):null,a.map(f=>_.jsx(Qb,{disabled:t,value:f.value,label:f.label},f.label)),_.jsx(lt,{children:l})]})},e.id)}function D0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s}=e,o=[];for(let u=1;u<=+s;u+=1)o.push({label:`${u}`,value:`${u}`});const a={...e,type:"radio",options:o};return _.jsx(uRe,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i})}function $0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,min:a,max:u,placeholder:l,secondaryText:c}=e;return _.jsx(LQ,{disabled:t,placeholder:l,label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:s,required:o})})]}),description:c,radius:"md",size:"md",min:a,max:u,...n,error:tw(e,n)})}function M0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:u}=e,l=tw(e,n);return _.jsx(ji.Wrapper,{label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:s,required:o})})]}),description:u,error:l,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:_.jsx(_F,{disabled:t,marks:a,...n,h:40})})}function L0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:u}=e;return _.jsx(ey,{disabled:t,placeholder:s,label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:o,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:tw(e,n)})}function F0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:u}=e;return _.jsx(SQ,{disabled:t,placeholder:s,label:_.jsxs(Ht,{direction:"row",wrap:"nowrap",gap:4,children:[i&&_.jsx(Ee,{style:{minWidth:"fit-content"},children:`${r}. `}),_.jsx(Ee,{style:{display:"block"},className:"no-last-child-bottom-padding",children:_.jsx(Ru,{text:o,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:tw(e,n)})}function j0t({response:e,answer:t,storedAnswer:n,index:r}){const i=(n?{value:n}:t)||{value:void 0},s=!!n,[o]=oJ(),u=Ky().uiConfig.enumerateQuestions??!1,l=A.useMemo(()=>{if(e.paramCapture){const c=o.get(e.paramCapture);return s||!!c}return s},[s,e.paramCapture,o]);return _.jsxs(Ee,{mb:"md",children:[e.type==="numerical"&&_.jsx($0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="shortText"&&_.jsx(L0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="longText"&&_.jsx(F0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="likert"&&_.jsx(D0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="dropdown"&&_.jsx(P0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="slider"&&_.jsx(M0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="radio"&&_.jsx(uRe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="checkbox"&&_.jsx(N0t,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="iframe"&&_.jsx(O0t,{response:e,answer:i,index:r,enumerateQuestions:u})]})}function m3({config:e,location:t,status:n,style:r}){var R;const i=Vp(),{updateResponseBlockValidation:s}=zp(),o=Zg(),a=zv(),u=n==null?void 0:n.answer,l=e,c=A.useMemo(()=>{var D;return((D=l==null?void 0:l.response)==null?void 0:D.filter(P=>P.location?P.location===t:t==="belowStimulus"))||[]},[l==null?void 0:l.response,t]),f=R0t(c,o,u||{}),[d,h]=A.useState(void 0),{iframeAnswers:p,iframeProvenance:m}=Lf(D=>D),g=(l==null?void 0:l.provideFeedback)&&(((R=l==null?void 0:l.correctAnswer)==null?void 0:R.length)||0)>0,y=(l==null?void 0:l.allowFailedTraining)===void 0?!0:l.allowFailedTraining,[v,b]=A.useState(0),w=(l==null?void 0:l.trainingAttempts)||2,[E,x]=A.useState(!1),S=t===((l==null?void 0:l.nextButtonLocation)||"belowStimulus");A.useEffect(()=>{const D=c.find(P=>P.type==="iframe");if(p&&D){const P=D.id;f.setValues({...f.values,[P]:p[P]})}},[p]),A.useEffect(()=>{m&&h(m)},[m]),A.useEffect(()=>{i(s({location:t,identifier:`${a}_${o}`,status:f.isValid(),values:Cy(f.values),provenanceGraph:d}))},[f.values,a,o,t,i,s,d]);const[C,I]=A.useState({visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}),k=()=>{const D=v+1;b(D);const P=c.every($=>{var B,z;const L=(z=(B=l.correctAnswer)==null?void 0:B.find(H=>H.id===$.id))==null?void 0:z.answer,M=f.getInputProps($.id,{type:$.type==="checkbox"?"checkbox":"input"}).value;return L===M});if(g)if(P&&!C.message.includes("You've failed to answer this question correctly"))I({visible:!0,title:"Correct Answer",message:"You have answered the question correctly.",color:"green"});else{let $="";D>=w?$=`You've failed to answer this question correctly after ${w} attempts. ${y?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`:w-D===1?$="Please try again. You have 1 attempt left. Please read the help text carefully.":$=`Please try again. You have ${w-D} attempts left.`,I({visible:!0,title:"Incorrect Answer",message:$,color:"red"})}x(y&&D>=w||P&&D<=w)};return _.jsxs("div",{style:r,children:[c.map((D,P)=>{var L,M;const $=(M=(L=l.correctAnswer)==null?void 0:L.find(B=>B.id===D.id))==null?void 0:M.answer;return _.jsx(de.Fragment,{children:D.hidden?"":_.jsxs(_.Fragment,{children:[_.jsx(j0t,{storedAnswer:u?u[D.id]:void 0,answer:{...f.getInputProps(D.id,{type:D.type==="checkbox"?"checkbox":"input"})},response:D,index:P+1}),C.visible&&_.jsxs(CT,{mb:"md",title:C.title,color:C.color,children:[C.message,_.jsx("br",{}),_.jsx("br",{}),v>=w&&$&&` The correct answer was: ${$}.`]})]})},`${D.id}-${o}`)}),_.jsxs(to,{justify:"right",gap:"xs",children:[g&&S&&_.jsx(Rn,{onClick:()=>k(),disabled:!f.isValid(),children:"Check Answer"}),S&&_.jsx(c0t,{disabled:g&&!E||!f.isValid(),label:l.nextButtonText||"Next"})]})]})}const c2="@REVISIT_COMMS",B0t={minHeight:"500px",width:"100%",border:0};function U0t({currentConfig:e}){const{setIframeAnswers:t,setIframeProvenance:n}=zp(),r=Vp(),i=$ke(),s=A.useRef(null),o=A.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=zv(),u=Jg(),l=A.useCallback((c,f)=>{var d,h;(h=(d=s.current)==null?void 0:d.contentWindow)==null||h.postMessage({error:!1,type:`${c2}/${c}`,iframeId:o,message:f},"*")},[s,o]);return A.useEffect(()=>{const c=f=>{const{data:d}=f;if(typeof d=="object"&&o===d.iframeId)switch(d.type){case`${c2}/WINDOW_READY`:e.parameters&&l("STUDY_DATA",e.parameters);break;case`${c2}/READY`:s.current&&(s.current.style.height=`${d.message.documentHeight}px`);break;case`${c2}/ANSWERS`:r(t(d.message));break;case`${c2}/PROVENANCE`:r(n(d.message));break}};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[r,i,o,u,e,l,t,n]),_.jsx("iframe",{ref:s,src:`${Cl}${e.path}?trialid=${a}&id=${o}`,style:B0t})}async function BJ(e){const n=await(await fetch(`${Cl}${e}`)).text();if(!n.includes("<title>reVISit</title>"))return n}function Zb({email:e,path:t}){const n=jv();return _.jsxs(Ef,{fluid:!0,my:50,maw:800,mx:"auto",children:[_.jsx(Ji,{order:2,children:_.jsx(lt,{span:!0,c:"orange",children:"404"})}),_.jsxs(lt,{children:[_.jsx(lt,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),_.jsx(mc,{h:"lg"}),_.jsxs(kd,{children:[_.jsx(kd.Item,{children:_.jsx(lt,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),_.jsx(kd.Item,{children:_.jsxs(lt,{children:["If you're a participant, please contact the study administrator"," ",e&&_.jsxs(_.Fragment,{children:["at"," ",_.jsxs(AT,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const z0t={maxWidth:"100%"};function V0t({currentConfig:e}){const t={...z0t,...e.style},[n,r]=A.useState(!0),[i,s]=A.useState(!1);return A.useEffect(()=>{async function o(){const a=await BJ(e.path);s(!!a),r(!1)}o()},[e]),n||i?_.jsx(Fv,{mx:"auto",src:`${Cl}${e.path}`,style:t}):_.jsx(Zb,{path:e.path})}function Zm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H0t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UT(e){let t,n,r;e.length!==2?(t=Zm,n=(a,u)=>Zm(e(a),u),r=(a,u)=>e(a)-u):(t=e===Zm||e===H0t?e:q0t,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function q0t(){return 0}function lRe(e){return e===null?NaN:+e}function*W0t(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const cRe=UT(Zm),Xy=cRe.right,G0t=cRe.left;UT(lRe).center;function Y0t(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function K0t(e,t){const n=Y0t(e,t);return n&&Math.sqrt(n)}function yhe(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Cu{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class vhe extends Map{constructor(t,n=hRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(BH(this,t))}has(t){return super.has(BH(this,t))}set(t,n){return super.set(fRe(this,t),n)}delete(t){return super.delete(dRe(this,t))}}class g3 extends Set{constructor(t,n=hRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(BH(this,t))}add(t){return super.add(fRe(this,t))}delete(t){return super.delete(dRe(this,t))}}function BH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X0t(e,t){return Array.from(t,n=>e[n])}function Q0t(e=Zm){if(e===Zm)return pRe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function pRe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const J0t=Math.sqrt(50),Z0t=Math.sqrt(10),eyt=Math.sqrt(2);function y3(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=J0t?10:s>=Z0t?5:s>=eyt?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?y3(e,t,n*2):[a,u,l]}function UH(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?y3(t,e,n):y3(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function zH(e,t,n){return t=+t,e=+e,n=+n,y3(e,t,n)[2]}function Qy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zH(t,e,n):zH(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ay(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function VH(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function mRe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?pRe:Q0t(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));mRe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(f2(e,n,t),i(e[r],s)>0&&f2(e,n,r);o<a;){for(f2(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?f2(e,n,a):(++a,f2(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function f2(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function HH(e,t,n){if(e=Float64Array.from(W0t(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return VH(e);if(t>=1)return Ay(e);var r,i=(r-1)*t,s=Math.floor(i),o=Ay(mRe(e,s).subarray(0,s+1)),a=VH(e.subarray(s+1));return o+(a-o)*(i-s)}}function gRe(e,t,n=lRe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function tyt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function yRe(e,t){return HH(e,.5,t)}function*nyt(e){for(const t of e)yield*t}function vRe(e){return Array.from(nyt(e))}function yl(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function bRe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function ryt(e,...t){e=new g3(e),t=t.map(iyt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function iyt(e){return e instanceof g3?e:new g3(e)}function syt(...e){const t=new g3;for(const n of e)for(const r of n)t.add(r);return t}var oyt={value:()=>{}};function LF(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _$(n)}function _$(e){this._=e}function ayt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_$.prototype=LF.prototype={constructor:_$,on:function(e,t){var n=this._,r=ayt(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=uyt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=bhe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=bhe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _$(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function uyt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function bhe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=oyt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qH="http://www.w3.org/1999/xhtml";const _he={svg:"http://www.w3.org/2000/svg",xhtml:qH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function FF(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_he.hasOwnProperty(t)?{space:_he[t],local:e}:e}function lyt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qH&&t.documentElement.namespaceURI===qH?t.createElement(e):t.createElementNS(n,e)}}function cyt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _Re(e){var t=FF(e);return(t.local?cyt:lyt)(t)}function fyt(){}function UJ(e){return e==null?fyt:function(){return this.querySelector(e)}}function dyt(e){typeof e!="function"&&(e=UJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Nu(r,this._parents)}function wRe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hyt(){return[]}function ERe(e){return e==null?hyt:function(){return this.querySelectorAll(e)}}function pyt(e){return function(){return wRe(e.apply(this,arguments))}}function myt(e){typeof e=="function"?e=pyt(e):e=ERe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Nu(r,i)}function xRe(e){return function(){return this.matches(e)}}function SRe(e){return function(t){return t.matches(e)}}var gyt=Array.prototype.find;function yyt(e){return function(){return gyt.call(this.children,e)}}function vyt(){return this.firstElementChild}function byt(e){return this.select(e==null?vyt:yyt(typeof e=="function"?e:SRe(e)))}var _yt=Array.prototype.filter;function wyt(){return Array.from(this.children)}function Eyt(e){return function(){return _yt.call(this.children,e)}}function xyt(e){return this.selectAll(e==null?wyt:Eyt(typeof e=="function"?e:SRe(e)))}function Syt(e){typeof e!="function"&&(e=xRe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Nu(r,this._parents)}function TRe(e){return new Array(e.length)}function Tyt(){return new Nu(this._enter||this._groups.map(TRe),this._parents)}function v3(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}v3.prototype={constructor:v3,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Cyt(e){return function(){return e}}function Ayt(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new v3(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Iyt(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new v3(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function kyt(e){return e.__data__}function Ryt(e,t){if(!arguments.length)return Array.from(this,kyt);var n=t?Iyt:Ayt,r=this._parents,i=this._groups;typeof e!="function"&&(e=Cyt(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=Nyt(e.call(c,c&&c.__data__,l,r)),p=h.length,m=a[l]=new Array(p),g=o[l]=new Array(p),y=u[l]=new Array(d);n(c,f,m,g,y,h,t);for(var v=0,b=0,w,E;v<p;++v)if(w=m[v]){for(v>=b&&(b=v+1);!(E=g[b])&&++b<p;);w._next=E||null}}return o=new Nu(o,r),o._enter=a,o._exit=u,o}function Nyt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pyt(){return new Nu(this._exit||this._groups.map(TRe),this._parents)}function Oyt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Dyt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Nu(a,this._parents)}function $yt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Myt(e){e||(e=Lyt);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Nu(i,this._parents).order()}function Lyt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fyt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jyt(){return Array.from(this)}function Byt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Uyt(){let e=0;for(const t of this)++e;return e}function zyt(){return!this.node()}function Vyt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Hyt(e){return function(){this.removeAttribute(e)}}function qyt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wyt(e,t){return function(){this.setAttribute(e,t)}}function Gyt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Yyt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Kyt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xyt(e,t){var n=FF(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qyt:Hyt:typeof t=="function"?n.local?Kyt:Yyt:n.local?Gyt:Wyt)(n,t))}function CRe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Qyt(e){return function(){this.style.removeProperty(e)}}function Jyt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Zyt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function evt(e,t,n){return arguments.length>1?this.each((t==null?Qyt:typeof t=="function"?Zyt:Jyt)(e,t,n??"")):fS(this.node(),e)}function fS(e,t){return e.style.getPropertyValue(t)||CRe(e).getComputedStyle(e,null).getPropertyValue(t)}function tvt(e){return function(){delete this[e]}}function nvt(e,t){return function(){this[e]=t}}function rvt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ivt(e,t){return arguments.length>1?this.each((t==null?tvt:typeof t=="function"?rvt:nvt)(e,t)):this.node()[e]}function ARe(e){return e.trim().split(/^|\s+/)}function zJ(e){return e.classList||new IRe(e)}function IRe(e){this._node=e,this._names=ARe(e.getAttribute("class")||"")}IRe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kRe(e,t){for(var n=zJ(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function RRe(e,t){for(var n=zJ(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function svt(e){return function(){kRe(this,e)}}function ovt(e){return function(){RRe(this,e)}}function avt(e,t){return function(){(t.apply(this,arguments)?kRe:RRe)(this,e)}}function uvt(e,t){var n=ARe(e+"");if(arguments.length<2){for(var r=zJ(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?avt:t?svt:ovt)(n,t))}function lvt(){this.textContent=""}function cvt(e){return function(){this.textContent=e}}function fvt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function dvt(e){return arguments.length?this.each(e==null?lvt:(typeof e=="function"?fvt:cvt)(e)):this.node().textContent}function hvt(){this.innerHTML=""}function pvt(e){return function(){this.innerHTML=e}}function mvt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gvt(e){return arguments.length?this.each(e==null?hvt:(typeof e=="function"?mvt:pvt)(e)):this.node().innerHTML}function yvt(){this.nextSibling&&this.parentNode.appendChild(this)}function vvt(){return this.each(yvt)}function bvt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _vt(){return this.each(bvt)}function wvt(e){var t=typeof e=="function"?e:_Re(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Evt(){return null}function xvt(e,t){var n=typeof e=="function"?e:_Re(e),r=t==null?Evt:typeof t=="function"?t:UJ(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Svt(){var e=this.parentNode;e&&e.removeChild(this)}function Tvt(){return this.each(Svt)}function Cvt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Avt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ivt(e){return this.select(e?Avt:Cvt)}function kvt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Rvt(e){return function(t){e.call(this,t,this.__data__)}}function Nvt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Pvt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Ovt(e,t,n){return function(){var r=this.__on,i,s=Rvt(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Dvt(e,t,n){var r=Nvt(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?Ovt:Pvt,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function NRe(e,t,n){var r=CRe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $vt(e,t){return function(){return NRe(this,e,t)}}function Mvt(e,t){return function(){return NRe(this,e,t.apply(this,arguments))}}function Lvt(e,t){return this.each((typeof t=="function"?Mvt:$vt)(e,t))}function*Fvt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var VJ=[null];function Nu(e,t){this._groups=e,this._parents=t}function cN(){return new Nu([[document.documentElement]],VJ)}function jvt(){return this}Nu.prototype=cN.prototype={constructor:Nu,select:dyt,selectAll:myt,selectChild:byt,selectChildren:xyt,filter:Syt,data:Ryt,enter:Tyt,exit:Pyt,join:Oyt,merge:Dyt,selection:jvt,order:$yt,sort:Myt,call:Fyt,nodes:jyt,node:Byt,size:Uyt,empty:zyt,each:Vyt,attr:Xyt,style:evt,property:ivt,classed:uvt,text:dvt,html:gvt,raise:vvt,lower:_vt,append:wvt,insert:xvt,remove:Tvt,clone:Ivt,datum:kvt,on:Dvt,dispatch:Lvt,[Symbol.iterator]:Fvt};function Ks(e){return typeof e=="string"?new Nu([[document.querySelector(e)]],[document.documentElement]):new Nu([[e]],VJ)}function Bvt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function WH(e,t){if(e=Bvt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Uvt(e){return typeof e=="string"?new Nu([document.querySelectorAll(e)],[document.documentElement]):new Nu([wRe(e)],VJ)}const GH={capture:!0,passive:!1};function YH(e){e.preventDefault(),e.stopImmediatePropagation()}function zvt(e){var t=e.document.documentElement,n=Ks(e).on("dragstart.drag",YH,GH);"onselectstart"in t?n.on("selectstart.drag",YH,GH):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vvt(e,t){var n=e.document.documentElement,r=Ks(e).on("dragstart.drag",null);t&&(r.on("click.drag",YH,GH),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function zT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vv(){}var e_=.7,dS=1/e_,bx="\\s*([+-]?\\d+)\\s*",Ak="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hvt=/^#([0-9a-f]{3,8})$/,qvt=new RegExp(`^rgb\\(${bx},${bx},${bx}\\)$`),Wvt=new RegExp(`^rgb\\(${rp},${rp},${rp}\\)$`),Gvt=new RegExp(`^rgba\\(${bx},${bx},${bx},${Ak}\\)$`),Yvt=new RegExp(`^rgba\\(${rp},${rp},${rp},${Ak}\\)$`),Kvt=new RegExp(`^hsl\\(${Ak},${rp},${rp}\\)$`),Xvt=new RegExp(`^hsla\\(${Ak},${rp},${rp},${Ak}\\)$`),whe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zT(Vv,t_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ehe,formatHex:Ehe,formatHex8:Qvt,formatHsl:Jvt,formatRgb:xhe,toString:xhe});function Ehe(){return this.rgb().formatHex()}function Qvt(){return this.rgb().formatHex8()}function Jvt(){return PRe(this).formatHsl()}function xhe(){return this.rgb().formatRgb()}function t_(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hvt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?She(t):n===3?new Mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?NO(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?NO(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qvt.exec(e))?new Mo(t[1],t[2],t[3],1):(t=Wvt.exec(e))?new Mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gvt.exec(e))?NO(t[1],t[2],t[3],t[4]):(t=Yvt.exec(e))?NO(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kvt.exec(e))?Ahe(t[1],t[2]/100,t[3]/100,1):(t=Xvt.exec(e))?Ahe(t[1],t[2]/100,t[3]/100,t[4]):whe.hasOwnProperty(e)?She(whe[e]):e==="transparent"?new Mo(NaN,NaN,NaN,0):null}function She(e){return new Mo(e>>16&255,e>>8&255,e&255,1)}function NO(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mo(e,t,n,r)}function HJ(e){return e instanceof Vv||(e=t_(e)),e?(e=e.rgb(),new Mo(e.r,e.g,e.b,e.opacity)):new Mo}function Jy(e,t,n,r){return arguments.length===1?HJ(e):new Mo(e,t,n,r??1)}function Mo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zT(Mo,Jy,fN(Vv,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new Mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?e_:Math.pow(e_,e),new Mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mo(Nb(this.r),Nb(this.g),Nb(this.b),b3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:The,formatHex:The,formatHex8:Zvt,formatRgb:Che,toString:Che}));function The(){return`#${pb(this.r)}${pb(this.g)}${pb(this.b)}`}function Zvt(){return`#${pb(this.r)}${pb(this.g)}${pb(this.b)}${pb((isNaN(this.opacity)?1:this.opacity)*255)}`}function Che(){const e=b3(this.opacity);return`${e===1?"rgb(":"rgba("}${Nb(this.r)}, ${Nb(this.g)}, ${Nb(this.b)}${e===1?")":`, ${e})`}`}function b3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pb(e){return e=Nb(e),(e<16?"0":"")+e.toString(16)}function Ahe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pd(e,t,n,r)}function PRe(e){if(e instanceof pd)return new pd(e.h,e.s,e.l,e.opacity);if(e instanceof Vv||(e=t_(e)),!e)return new pd;if(e instanceof pd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new pd(o,a,u,e.opacity)}function _3(e,t,n,r){return arguments.length===1?PRe(e):new pd(e,t,n,r??1)}function pd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zT(pd,_3,fN(Vv,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new pd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?e_:Math.pow(e_,e),new pd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Mo(z9(e>=240?e-240:e+120,i,r),z9(e,i,r),z9(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pd(Ihe(this.h),PO(this.s),PO(this.l),b3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=b3(this.opacity);return`${e===1?"hsl(":"hsla("}${Ihe(this.h)}, ${PO(this.s)*100}%, ${PO(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ihe(e){return e=(e||0)%360,e<0?e+360:e}function PO(e){return Math.max(0,Math.min(1,e||0))}function z9(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ORe=Math.PI/180,DRe=180/Math.PI,w3=18,$Re=.96422,MRe=1,LRe=.82521,FRe=4/29,_x=6/29,jRe=3*_x*_x,e1t=_x*_x*_x;function BRe(e){if(e instanceof ip)return new ip(e.l,e.a,e.b,e.opacity);if(e instanceof Bm)return URe(e);e instanceof Mo||(e=HJ(e));var t=W9(e.r),n=W9(e.g),r=W9(e.b),i=V9((.2225045*t+.7168786*n+.0606169*r)/MRe),s,o;return t===n&&n===r?s=o=i:(s=V9((.4360747*t+.3850649*n+.1430804*r)/$Re),o=V9((.0139322*t+.0971045*n+.7141733*r)/LRe)),new ip(116*i-16,500*(s-i),200*(i-o),e.opacity)}function E3(e,t,n,r){return arguments.length===1?BRe(e):new ip(e,t,n,r??1)}function ip(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}zT(ip,E3,fN(Vv,{brighter(e){return new ip(this.l+w3*(e??1),this.a,this.b,this.opacity)},darker(e){return new ip(this.l-w3*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=$Re*H9(t),e=MRe*H9(e),n=LRe*H9(n),new Mo(q9(3.1338561*t-1.6168667*e-.4906146*n),q9(-.9787684*t+1.9161415*e+.033454*n),q9(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function V9(e){return e>e1t?Math.pow(e,1/3):e/jRe+FRe}function H9(e){return e>_x?e*e*e:jRe*(e-FRe)}function q9(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function W9(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function t1t(e){if(e instanceof Bm)return new Bm(e.h,e.c,e.l,e.opacity);if(e instanceof ip||(e=BRe(e)),e.a===0&&e.b===0)return new Bm(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*DRe;return new Bm(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x3(e,t,n,r){return arguments.length===1?t1t(e):new Bm(e,t,n,r??1)}function Bm(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function URe(e){if(isNaN(e.h))return new ip(e.l,0,0,e.opacity);var t=e.h*ORe;return new ip(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}zT(Bm,x3,fN(Vv,{brighter(e){return new Bm(this.h,this.c,this.l+w3*(e??1),this.opacity)},darker(e){return new Bm(this.h,this.c,this.l-w3*(e??1),this.opacity)},rgb(){return URe(this).rgb()}}));var zRe=-.14861,qJ=1.78277,WJ=-.29227,jF=-.90649,Ik=1.97294,khe=Ik*jF,Rhe=Ik*qJ,Nhe=qJ*WJ-jF*zRe;function n1t(e){if(e instanceof Pb)return new Pb(e.h,e.s,e.l,e.opacity);e instanceof Mo||(e=HJ(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Nhe*r+khe*t-Rhe*n)/(Nhe+khe-Rhe),s=r-i,o=(Ik*(n-i)-WJ*s)/jF,a=Math.sqrt(o*o+s*s)/(Ik*i*(1-i)),u=a?Math.atan2(o,s)*DRe-120:NaN;return new Pb(u<0?u+360:u,a,i,e.opacity)}function KH(e,t,n,r){return arguments.length===1?n1t(e):new Pb(e,t,n,r??1)}function Pb(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zT(Pb,KH,fN(Vv,{brighter(e){return e=e==null?dS:Math.pow(dS,e),new Pb(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?e_:Math.pow(e_,e),new Pb(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ORe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Mo(255*(t+n*(zRe*r+qJ*i)),255*(t+n*(WJ*r+jF*i)),255*(t+n*(Ik*r)),this.opacity)}}));function VRe(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function HRe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return VRe((n-r/t)*t,o,i,s,a)}}function qRe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return VRe((n-r/t)*t,i,s,o,a)}}const BF=e=>()=>e;function WRe(e,t){return function(n){return e+n*t}}function r1t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function UF(e,t){var n=t-e;return n?WRe(e,n>180||n<-180?n-360*Math.round(n/360):n):BF(isNaN(e)?t:e)}function i1t(e){return(e=+e)==1?Lo:function(t,n){return n-t?r1t(t,n,e):BF(isNaN(t)?n:t)}}function Lo(e,t){var n=t-e;return n?WRe(e,n):BF(isNaN(e)?t:e)}const kk=function e(t){var n=i1t(t);function r(i,s){var o=n((i=Jy(i)).r,(s=Jy(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Lo(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function GRe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=Jy(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=s(u),a+""}}}var s1t=GRe(HRe),o1t=GRe(qRe);function GJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function YRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function a1t(e,t){return(YRe(t)?GJ:KRe)(e,t)}function KRe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=e0(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function XRe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function QRe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=e0(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var XH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G9=new RegExp(XH.source,"g");function u1t(e){return function(){return e}}function l1t(e){return function(t){return e(t)+""}}function YJ(e,t){var n=XH.lastIndex=G9.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=XH.exec(e))&&(i=G9.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:sf(r,i)})),n=G9.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?l1t(u[0].x):u1t(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function e0(e,t){var n=typeof t,r;return t==null||n==="boolean"?BF(t):(n==="number"?sf:n==="string"?(r=t_(t))?(t=r,kk):YJ:t instanceof t_?kk:t instanceof Date?XRe:YRe(t)?GJ:Array.isArray(t)?KRe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QRe:sf)(e,t)}function c1t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function f1t(e,t){var n=UF(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function dN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Phe=180/Math.PI,QH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JRe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Phe,skewX:Math.atan(u)*Phe,scaleX:o,scaleY:a}}var OO;function d1t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?QH:JRe(t.a,t.b,t.c,t.d,t.e,t.f)}function h1t(e){return e==null||(OO||(OO=document.createElementNS("http://www.w3.org/2000/svg","g")),OO.setAttribute("transform",e),!(e=OO.transform.baseVal.consolidate()))?QH:(e=e.matrix,JRe(e.a,e.b,e.c,e.d,e.e,e.f))}function ZRe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:sf(l,f)},{i:m-2,x:sf(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:sf(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:sf(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:sf(l,f)},{i:m-2,x:sf(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)f[(g=d[p]).i]=g.x(h);return f.join("")}}}var eNe=ZRe(d1t,"px, ","px)","deg)"),tNe=ZRe(h1t,", ",")",")"),p1t=1e-12;function Ohe(e){return((e=Math.exp(e))+1/e)/2}function m1t(e){return((e=Math.exp(e))-1/e)/2}function g1t(e){return((e=Math.exp(2*e))-1)/(e+1)}const y1t=function e(t,n,r){function i(s,o){var a=s[0],u=s[1],l=s[2],c=o[0],f=o[1],d=o[2],h=c-a,p=f-u,m=h*h+p*p,g,y;if(m<p1t)y=Math.log(d/l)/t,g=function(S){return[a+S*h,u+S*p,l*Math.exp(t*S*y)]};else{var v=Math.sqrt(m),b=(d*d-l*l+r*m)/(2*l*n*v),w=(d*d-l*l-r*m)/(2*d*n*v),E=Math.log(Math.sqrt(b*b+1)-b),x=Math.log(Math.sqrt(w*w+1)-w);y=(x-E)/t,g=function(S){var C=S*y,I=Ohe(E),k=l/(n*v)*(I*g1t(t*C+E)-m1t(E));return[a+k*h,u+k*p,l*I/Ohe(t*C+E)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return e(o,a,u)},i}(Math.SQRT2,2,4);function nNe(e){return function(t,n){var r=e((t=_3(t)).h,(n=_3(n)).h),i=Lo(t.s,n.s),s=Lo(t.l,n.l),o=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const v1t=nNe(UF);var b1t=nNe(Lo);function _1t(e,t){var n=Lo((e=E3(e)).l,(t=E3(t)).l),r=Lo(e.a,t.a),i=Lo(e.b,t.b),s=Lo(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function rNe(e){return function(t,n){var r=e((t=x3(t)).h,(n=x3(n)).h),i=Lo(t.c,n.c),s=Lo(t.l,n.l),o=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const w1t=rNe(UF);var E1t=rNe(Lo);function iNe(e){return function t(n){n=+n;function r(i,s){var o=e((i=KH(i)).h,(s=KH(s)).h),a=Lo(i.s,s.s),u=Lo(i.l,s.l),l=Lo(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const x1t=iNe(UF);var S1t=iNe(Lo);function KJ(e,t){t===void 0&&(t=e,e=e0);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function T1t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const C1t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:e0,interpolateArray:a1t,interpolateBasis:HRe,interpolateBasisClosed:qRe,interpolateCubehelix:x1t,interpolateCubehelixLong:S1t,interpolateDate:XRe,interpolateDiscrete:c1t,interpolateHcl:w1t,interpolateHclLong:E1t,interpolateHsl:v1t,interpolateHslLong:b1t,interpolateHue:f1t,interpolateLab:_1t,interpolateNumber:sf,interpolateNumberArray:GJ,interpolateObject:QRe,interpolateRgb:kk,interpolateRgbBasis:s1t,interpolateRgbBasisClosed:o1t,interpolateRound:dN,interpolateString:YJ,interpolateTransformCss:eNe,interpolateTransformSvg:tNe,interpolateZoom:y1t,piecewise:KJ,quantize:T1t},Symbol.toStringTag,{value:"Module"}));var hS=0,oA=0,d2=0,sNe=1e3,S3,aA,T3=0,n_=0,zF=0,Rk=typeof performance=="object"&&performance.now?performance:Date,oNe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function VF(){return n_||(oNe(A1t),n_=Rk.now()+zF)}function A1t(){n_=0}function Nk(){this._call=this._time=this._next=null}Nk.prototype=XJ.prototype={constructor:Nk,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?VF():+n)+(t==null?0:+t),!this._next&&aA!==this&&(aA?aA._next=this:S3=this,aA=this),this._call=e,this._time=n,JH()},stop:function(){this._call&&(this._call=null,this._time=1/0,JH())}};function XJ(e,t,n){var r=new Nk;return r.restart(e,t,n),r}function I1t(){VF(),++hS;for(var e=S3,t;e;)(t=n_-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hS}function Dhe(){n_=(T3=Rk.now())+zF,hS=oA=0;try{I1t()}finally{hS=0,R1t(),n_=0}}function k1t(){var e=Rk.now(),t=e-T3;t>sNe&&(zF-=t,T3=e)}function R1t(){for(var e,t=S3,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:S3=n);aA=e,JH(r)}function JH(e){if(!hS){oA&&(oA=clearTimeout(oA));var t=e-n_;t>24?(e<1/0&&(oA=setTimeout(Dhe,e-Rk.now()-zF)),d2&&(d2=clearInterval(d2))):(d2||(T3=Rk.now(),d2=setInterval(k1t,sNe)),hS=1,oNe(Dhe))}}function $he(e,t,n){var r=new Nk;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function N1t(e,t,n){var r=new Nk,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?VF():+a,r._restart(function u(l){l+=i,r._restart(u,i+=o,a),s(l)},o,a)},r.restart(e,t,n),r)}var P1t=LF("start","end","cancel","interrupt"),O1t=[],aNe=0,Mhe=1,ZH=2,w$=3,Lhe=4,eq=5,E$=6;function HF(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;D1t(e,n,{name:t,index:r,group:i,on:P1t,tween:O1t,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aNe})}function QJ(e,t){var n=Yd(e,t);if(n.state>aNe)throw new Error("too late; already scheduled");return n}function Hp(e,t){var n=Yd(e,t);if(n.state>w$)throw new Error("too late; already running");return n}function Yd(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function D1t(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=XJ(s,0,n.time);function s(l){n.state=Mhe,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==Mhe)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===w$)return $he(o);h.state===Lhe?(h.state=E$,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=E$,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if($he(function(){n.state===w$&&(n.state=Lhe,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ZH,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ZH){for(n.state=w$,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=eq,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===eq&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=E$,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function tq(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>ZH&&r.state<eq,r.state=E$,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function $1t(e){return this.each(function(){tq(this,e)})}function M1t(e,t){var n,r;return function(){var i=Hp(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function L1t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Hp(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function F1t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yd(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?M1t:L1t)(n,e,t))}function JJ(e,t,n){var r=e._id;return e.each(function(){var i=Hp(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Yd(i,r).value[t]}}function uNe(e,t){var n;return(typeof t=="number"?sf:t instanceof t_?kk:(n=t_(t))?(t=n,kk):YJ)(e,t)}function j1t(e){return function(){this.removeAttribute(e)}}function B1t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U1t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function z1t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function V1t(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function H1t(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function q1t(e,t){var n=FF(e),r=n==="transform"?tNe:uNe;return this.attrTween(e,typeof t=="function"?(n.local?H1t:V1t)(n,r,JJ(this,"attr."+e,t)):t==null?(n.local?B1t:j1t)(n):(n.local?z1t:U1t)(n,r,t))}function W1t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function G1t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Y1t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&G1t(e,s)),n}return i._value=t,i}function K1t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&W1t(e,s)),n}return i._value=t,i}function X1t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=FF(e);return this.tween(n,(r.local?Y1t:K1t)(r,t))}function Q1t(e,t){return function(){QJ(this,e).delay=+t.apply(this,arguments)}}function J1t(e,t){return t=+t,function(){QJ(this,e).delay=t}}function Z1t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Q1t:J1t)(t,e)):Yd(this.node(),t).delay}function ebt(e,t){return function(){Hp(this,e).duration=+t.apply(this,arguments)}}function tbt(e,t){return t=+t,function(){Hp(this,e).duration=t}}function nbt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ebt:tbt)(t,e)):Yd(this.node(),t).duration}function rbt(e,t){if(typeof t!="function")throw new Error;return function(){Hp(this,e).ease=t}}function ibt(e){var t=this._id;return arguments.length?this.each(rbt(t,e)):Yd(this.node(),t).ease}function sbt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hp(this,e).ease=n}}function obt(e){if(typeof e!="function")throw new Error;return this.each(sbt(this._id,e))}function abt(e){typeof e!="function"&&(e=xRe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new xg(r,this._parents,this._name,this._id)}function ubt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new xg(o,this._parents,this._name,this._id)}function lbt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cbt(e,t,n){var r,i,s=lbt(t)?QJ:Hp;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function fbt(e,t){var n=this._id;return arguments.length<2?Yd(this.node(),n).on.on(e):this.each(cbt(n,e,t))}function dbt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hbt(){return this.on("end.remove",dbt(this._id))}function pbt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=UJ(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,HF(l[d],t,n,d,l,Yd(c,n)));return new xg(s,this._parents,t,n)}function mbt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ERe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=Yd(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&HF(h,t,n,m,d,p);s.push(d),o.push(c)}return new xg(s,o,t,n)}var gbt=cN.prototype.constructor;function ybt(){return new gbt(this._groups,this._parents)}function vbt(e,t){var n,r,i;return function(){var s=fS(this,e),o=(this.style.removeProperty(e),fS(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function lNe(e){return function(){this.style.removeProperty(e)}}function bbt(e,t,n){var r,i=n+"",s;return function(){var o=fS(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function _bt(e,t,n){var r,i,s;return function(){var o=fS(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),fS(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function wbt(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Hp(this,e),l=u.on,c=u.value[s]==null?a||(a=lNe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Ebt(e,t,n){var r=(e+="")=="transform"?eNe:uNe;return t==null?this.styleTween(e,vbt(e,r)).on("end.style."+e,lNe(e)):typeof t=="function"?this.styleTween(e,_bt(e,r,JJ(this,"style."+e,t))).each(wbt(this._id,e)):this.styleTween(e,bbt(e,r,t),n).on("end.style."+e,null)}function xbt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Sbt(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&xbt(e,o,n)),r}return s._value=t,s}function Tbt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Sbt(e,t,n??""))}function Cbt(e){return function(){this.textContent=e}}function Abt(e){return function(){var t=e(this);this.textContent=t??""}}function Ibt(e){return this.tween("text",typeof e=="function"?Abt(JJ(this,"text",e)):Cbt(e==null?"":e+""))}function kbt(e){return function(t){this.textContent=e.call(this,t)}}function Rbt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&kbt(i)),t}return r._value=e,r}function Nbt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Rbt(e))}function Pbt(){for(var e=this._name,t=this._id,n=cNe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=Yd(u,t);HF(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new xg(r,this._parents,e,n)}function Obt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Hp(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var Dbt=0;function xg(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function cNe(){return++Dbt}var dm=cN.prototype;xg.prototype={constructor:xg,select:pbt,selectAll:mbt,selectChild:dm.selectChild,selectChildren:dm.selectChildren,filter:abt,merge:ubt,selection:ybt,transition:Pbt,call:dm.call,nodes:dm.nodes,node:dm.node,size:dm.size,empty:dm.empty,each:dm.each,on:fbt,attr:q1t,attrTween:X1t,style:Ebt,styleTween:Tbt,text:Ibt,textTween:Nbt,remove:hbt,tween:F1t,delay:Z1t,duration:nbt,ease:ibt,easeVarying:obt,end:Obt,[Symbol.iterator]:dm[Symbol.iterator]};const $bt=e=>+e;function Mbt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lbt={time:null,delay:0,duration:250,ease:Mbt};function Fbt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jbt(e){var t,n;e instanceof xg?(t=e._id,e=e._name):(t=cNe(),(n=Lbt).time=VF(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&HF(u,e,t,l,o,n||Fbt(u,t));return new xg(r,this._parents,e,t)}cN.prototype.interrupt=$1t;cN.prototype.transition=jbt;const Y9=e=>()=>e;function Bbt(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Ubt(e){e.stopImmediatePropagation()}function K9(e){e.preventDefault(),e.stopImmediatePropagation()}var Fhe={name:"drag"},X9={name:"space"},Hw={name:"handle"},qw={name:"center"};const{abs:jhe,max:ka,min:Ra}=Math;function Bhe(e){return[+e[0],+e[1]]}function nq(e){return[Bhe(e[0]),Bhe(e[1])]}var x$={name:"x",handles:["w","e"].map(Pk),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},S$={name:"y",handles:["n","s"].map(Pk),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},zbt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Pk),input:function(e){return e==null?null:nq(e)},output:function(e){return e}},hm={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Uhe={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},zhe={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Vbt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hbt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Pk(e){return{type:e}}function qbt(e){return!e.ctrlKey&&!e.button}function Wbt(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Gbt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q9(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Ybt(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Kbt(){return ZJ(x$)}function Xbt(){return ZJ(S$)}function Qbt(){return ZJ(zbt)}function ZJ(e){var t=Wbt,n=qbt,r=Gbt,i=!0,s=LF("start","brush","end"),o=6,a;function u(g){var y=g.property("__brush",m).selectAll(".overlay").data([Pk("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",hm.overlay).merge(y).each(function(){var b=Q9(this).extent;Ks(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),g.selectAll(".selection").data([Pk("selection")]).enter().append("rect").attr("class","selection").attr("cursor",hm.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=g.selectAll(".handle").data(e.handles,function(b){return b.type});v.exit().remove(),v.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return hm[b.type]}),g.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(g,y,v){g.tween?g.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,w=b.__brush,E=c(b,arguments),x=w.selection,S=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),C=e0(x,S);function I(k){w.selection=k===1&&S===null?null:C(k),l.call(b),E.brush()}return x!==null&&S!==null?I:I(1)}):g.each(function(){var b=this,w=arguments,E=b.__brush,x=e.input(typeof y=="function"?y.apply(b,w):y,E.extent),S=c(b,w).beforestart();tq(b),E.selection=x===null?null:x,l.call(b),S.start(v).brush(v).end(v)})},u.clear=function(g,y){u.move(g,null,y)};function l(){var g=Ks(this),y=Q9(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,v){var b=g.__brush.emitter;return b&&(!v||!b.clean)?b:new f(g,y,v)}function f(g,y,v){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,v){var b=Ks(this.that).datum();s.call(g,this.that,new Bbt(g,{sourceEvent:y,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),b)}};function d(g){if(a&&!g.touches||!n.apply(this,arguments))return;var y=this,v=g.target.__data__.type,b=(i&&g.metaKey?v="overlay":v)==="selection"?Fhe:i&&g.altKey?qw:Hw,w=e===S$?null:Vbt[v],E=e===x$?null:Hbt[v],x=Q9(y),S=x.extent,C=x.selection,I=S[0][0],k,R,D=S[0][1],P,$,L=S[1][0],M,B,z=S[1][1],H,O,U=0,q=0,F,V=w&&E&&i&&g.shiftKey,G,Z,ae=Array.from(g.touches||[g],we=>{const Ae=we.identifier;return we=WH(we,y),we.point0=we.slice(),we.identifier=Ae,we});tq(y);var re=c(y,arguments,!0).beforestart();if(v==="overlay"){C&&(F=!0);const we=[ae[0],ae[1]||ae[0]];x.selection=C=[[k=e===S$?I:Ra(we[0][0],we[1][0]),P=e===x$?D:Ra(we[0][1],we[1][1])],[M=e===S$?L:ka(we[0][0],we[1][0]),H=e===x$?z:ka(we[0][1],we[1][1])]],ae.length>1&&We(g)}else k=C[0][0],P=C[0][1],M=C[1][0],H=C[1][1];R=k,$=P,B=M,O=H;var ue=Ks(y).attr("pointer-events","none"),pe=ue.selectAll(".overlay").attr("cursor",hm[v]);if(g.touches)re.moved=ve,re.ended=Be;else{var xe=Ks(g.view).on("mousemove.brush",ve,!0).on("mouseup.brush",Be,!0);i&&xe.on("keydown.brush",ht,!0).on("keyup.brush",Je,!0),zvt(g.view)}l.call(y),re.start(g,b.name);function ve(we){for(const Ae of we.changedTouches||[we])for(const ze of ae)ze.identifier===Ae.identifier&&(ze.cur=WH(Ae,y));if(V&&!G&&!Z&&ae.length===1){const Ae=ae[0];jhe(Ae.cur[0]-Ae[0])>jhe(Ae.cur[1]-Ae[1])?Z=!0:G=!0}for(const Ae of ae)Ae.cur&&(Ae[0]=Ae.cur[0],Ae[1]=Ae.cur[1]);F=!0,K9(we),We(we)}function We(we){const Ae=ae[0],ze=Ae.point0;var et;switch(U=Ae[0]-ze[0],q=Ae[1]-ze[1],b){case X9:case Fhe:{w&&(U=ka(I-k,Ra(L-M,U)),R=k+U,B=M+U),E&&(q=ka(D-P,Ra(z-H,q)),$=P+q,O=H+q);break}case Hw:{ae[1]?(w&&(R=ka(I,Ra(L,ae[0][0])),B=ka(I,Ra(L,ae[1][0])),w=1),E&&($=ka(D,Ra(z,ae[0][1])),O=ka(D,Ra(z,ae[1][1])),E=1)):(w<0?(U=ka(I-k,Ra(L-k,U)),R=k+U,B=M):w>0&&(U=ka(I-M,Ra(L-M,U)),R=k,B=M+U),E<0?(q=ka(D-P,Ra(z-P,q)),$=P+q,O=H):E>0&&(q=ka(D-H,Ra(z-H,q)),$=P,O=H+q));break}case qw:{w&&(R=ka(I,Ra(L,k-U*w)),B=ka(I,Ra(L,M+U*w))),E&&($=ka(D,Ra(z,P-q*E)),O=ka(D,Ra(z,H+q*E)));break}}B<R&&(w*=-1,et=k,k=M,M=et,et=R,R=B,B=et,v in Uhe&&pe.attr("cursor",hm[v=Uhe[v]])),O<$&&(E*=-1,et=P,P=H,H=et,et=$,$=O,O=et,v in zhe&&pe.attr("cursor",hm[v=zhe[v]])),x.selection&&(C=x.selection),G&&(R=C[0][0],B=C[1][0]),Z&&($=C[0][1],O=C[1][1]),(C[0][0]!==R||C[0][1]!==$||C[1][0]!==B||C[1][1]!==O)&&(x.selection=[[R,$],[B,O]],l.call(y),re.brush(we,b.name))}function Be(we){if(Ubt(we),we.touches){if(we.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else Vvt(we.view,F),xe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ue.attr("pointer-events","all"),pe.attr("cursor",hm.overlay),x.selection&&(C=x.selection),Ybt(C)&&(x.selection=null,l.call(y)),re.end(we,b.name)}function ht(we){switch(we.keyCode){case 16:{V=w&&E;break}case 18:{b===Hw&&(w&&(M=B-U*w,k=R+U*w),E&&(H=O-q*E,P=$+q*E),b=qw,We(we));break}case 32:{(b===Hw||b===qw)&&(w<0?M=B-U:w>0&&(k=R-U),E<0?H=O-q:E>0&&(P=$-q),b=X9,pe.attr("cursor",hm.selection),We(we));break}default:return}K9(we)}function Je(we){switch(we.keyCode){case 16:{V&&(G=Z=V=!1,We(we));break}case 18:{b===qw&&(w<0?M=B:w>0&&(k=R),E<0?H=O:E>0&&(P=$),b=Hw,We(we));break}case 32:{b===X9&&(we.altKey?(w&&(M=B-U*w,k=R+U*w),E&&(H=O-q*E,P=$+q*E),b=qw):(w<0?M=B:w>0&&(k=R),E<0?H=O:E>0&&(P=$),b=Hw),pe.attr("cursor",hm[v]),We(we));break}default:return}K9(we)}}function h(g){c(this,arguments).moved(g)}function p(g){c(this,arguments).ended(g)}function m(){var g=this.__brush||{selection:null};return g.extent=nq(t.apply(this,arguments)),g.dim=e,g}return u.extent=function(g){return arguments.length?(t=typeof g=="function"?g:Y9(nq(g)),u):t},u.filter=function(g){return arguments.length?(n=typeof g=="function"?g:Y9(!!g),u):n},u.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Y9(!!g),u):r},u.handleSize=function(g){return arguments.length?(o=+g,u):o},u.keyModifiers=function(g){return arguments.length?(i=!!g,u):i},u.on=function(){var g=s.on.apply(s,arguments);return g===s?u:g},u}const rq=Math.PI,iq=2*rq,O1=1e-6,Jbt=iq-O1;function fNe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zbt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fNe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let eZ=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fNe:Zbt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>O1)if(!(Math.abs(f*u-l*c)>O1)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(d),b=s*Math.tan((rq-Math.acos((m+d-g)/(2*y*v)))/2),w=b/v,E=b/y;Math.abs(w-1)>O1&&this._append`L${t+w*c},${n+w*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+E*u},${this._y1=n+E*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>O1||Math.abs(this._y1-c)>O1)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%iq+iq),d>Jbt?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>O1&&this._append`A${r},${r},0,${+(d>=rq)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function qF(){return new eZ}qF.prototype=eZ.prototype;const eg=11102230246251565e-32,Na=134217729,e_t=(3+8*eg)*eg;function J9(e,t,n,r,i){let s,o,a,u,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(s=l,l=t[++f]):(s=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>l==c>-l?(o=l+s,a=s-(o-l),l=t[++f]):(o=c+s,a=s-(o-c),c=r[++d]),s=o,a!==0&&(i[h++]=a);f<e&&d<n;)c>l==c>-l?(o=s+l,u=o-s,a=s-(o-u)+(l-u),l=t[++f]):(o=s+c,u=o-s,a=s-(o-u)+(c-u),c=r[++d]),s=o,a!==0&&(i[h++]=a);for(;f<e;)o=s+l,u=o-s,a=s-(o-u)+(l-u),l=t[++f],s=o,a!==0&&(i[h++]=a);for(;d<n;)o=s+c,u=o-s,a=s-(o-u)+(c-u),c=r[++d],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function t_t(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function hN(e){return new Float64Array(e)}const n_t=(3+16*eg)*eg,r_t=(2+12*eg)*eg,i_t=(9+64*eg)*eg*eg,Ww=hN(4),Vhe=hN(8),Hhe=hN(12),qhe=hN(16),lu=hN(4);function s_t(e,t,n,r,i,s,o){let a,u,l,c,f,d,h,p,m,g,y,v,b,w,E,x,S,C;const I=e-i,k=n-i,R=t-s,D=r-s;w=I*D,d=Na*I,h=d-(d-I),p=I-h,d=Na*D,m=d-(d-D),g=D-m,E=p*g-(w-h*m-p*m-h*g),x=R*k,d=Na*R,h=d-(d-R),p=R-h,d=Na*k,m=d-(d-k),g=k-m,S=p*g-(x-h*m-p*m-h*g),y=E-S,f=E-y,Ww[0]=E-(y+f)+(f-S),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-x,f=b-y,Ww[1]=b-(y+f)+(f-x),C=v+y,f=C-v,Ww[2]=v-(C-f)+(y-f),Ww[3]=C;let P=t_t(4,Ww),$=r_t*o;if(P>=$||-P>=$||(f=e-I,a=e-(I+f)+(f-i),f=n-k,l=n-(k+f)+(f-i),f=t-R,u=t-(R+f)+(f-s),f=r-D,c=r-(D+f)+(f-s),a===0&&u===0&&l===0&&c===0)||($=i_t*o+e_t*Math.abs(P),P+=I*c+D*a-(R*l+k*u),P>=$||-P>=$))return P;w=a*D,d=Na*a,h=d-(d-a),p=a-h,d=Na*D,m=d-(d-D),g=D-m,E=p*g-(w-h*m-p*m-h*g),x=u*k,d=Na*u,h=d-(d-u),p=u-h,d=Na*k,m=d-(d-k),g=k-m,S=p*g-(x-h*m-p*m-h*g),y=E-S,f=E-y,lu[0]=E-(y+f)+(f-S),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-x,f=b-y,lu[1]=b-(y+f)+(f-x),C=v+y,f=C-v,lu[2]=v-(C-f)+(y-f),lu[3]=C;const L=J9(4,Ww,4,lu,Vhe);w=I*c,d=Na*I,h=d-(d-I),p=I-h,d=Na*c,m=d-(d-c),g=c-m,E=p*g-(w-h*m-p*m-h*g),x=R*l,d=Na*R,h=d-(d-R),p=R-h,d=Na*l,m=d-(d-l),g=l-m,S=p*g-(x-h*m-p*m-h*g),y=E-S,f=E-y,lu[0]=E-(y+f)+(f-S),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-x,f=b-y,lu[1]=b-(y+f)+(f-x),C=v+y,f=C-v,lu[2]=v-(C-f)+(y-f),lu[3]=C;const M=J9(L,Vhe,4,lu,Hhe);w=a*c,d=Na*a,h=d-(d-a),p=a-h,d=Na*c,m=d-(d-c),g=c-m,E=p*g-(w-h*m-p*m-h*g),x=u*l,d=Na*u,h=d-(d-u),p=u-h,d=Na*l,m=d-(d-l),g=l-m,S=p*g-(x-h*m-p*m-h*g),y=E-S,f=E-y,lu[0]=E-(y+f)+(f-S),v=w+y,f=v-w,b=w-(v-f)+(y-f),y=b-x,f=b-y,lu[1]=b-(y+f)+(f-x),C=v+y,f=C-v,lu[2]=v-(C-f)+(y-f),lu[3]=C;const B=J9(M,Hhe,4,lu,qhe);return qhe[B-1]}function DO(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),u=o-a,l=Math.abs(o+a);return Math.abs(u)>=n_t*l?u:-s_t(e,t,n,r,i,s,l)}const Whe=Math.pow(2,-52),$O=new Uint32Array(512);class C3{static from(t,n=c_t,r=f_t){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new C3(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,u=1/0,l=-1/0,c=-1/0;for(let I=0;I<o;I++){const k=t[2*I],R=t[2*I+1];k<a&&(a=k),R<u&&(u=R),k>l&&(l=k),R>c&&(c=R),this._ids[I]=I}const f=(a+l)/2,d=(u+c)/2;let h,p,m;for(let I=0,k=1/0;I<o;I++){const R=Z9(f,d,t[2*I],t[2*I+1]);R<k&&(h=I,k=R)}const g=t[2*h],y=t[2*h+1];for(let I=0,k=1/0;I<o;I++){if(I===h)continue;const R=Z9(g,y,t[2*I],t[2*I+1]);R<k&&R>0&&(p=I,k=R)}let v=t[2*p],b=t[2*p+1],w=1/0;for(let I=0;I<o;I++){if(I===h||I===p)continue;const k=u_t(g,y,v,b,t[2*I],t[2*I+1]);k<w&&(m=I,w=k)}let E=t[2*m],x=t[2*m+1];if(w===1/0){for(let R=0;R<o;R++)this._dists[R]=t[2*R]-t[0]||t[2*R+1]-t[1];WE(this._ids,this._dists,0,o-1);const I=new Uint32Array(o);let k=0;for(let R=0,D=-1/0;R<o;R++){const P=this._ids[R],$=this._dists[P];$>D&&(I[k++]=P,D=$)}this.hull=I.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(DO(g,y,v,b,E,x)<0){const I=p,k=v,R=b;p=m,v=E,b=x,m=I,E=k,x=R}const S=l_t(g,y,v,b,E,x);this._cx=S.x,this._cy=S.y;for(let I=0;I<o;I++)this._dists[I]=Z9(t[2*I],t[2*I+1],S.x,S.y);WE(this._ids,this._dists,0,o-1),this._hullStart=h;let C=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,y)]=h,s[this._hashKey(v,b)]=p,s[this._hashKey(E,x)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let I=0,k,R;I<this._ids.length;I++){const D=this._ids[I],P=t[2*D],$=t[2*D+1];if(I>0&&Math.abs(P-k)<=Whe&&Math.abs($-R)<=Whe||(k=P,R=$,D===h||D===p||D===m))continue;let L=0;for(let O=0,U=this._hashKey(P,$);O<this._hashSize&&(L=s[(U+O)%this._hashSize],!(L!==-1&&L!==r[L]));O++);L=n[L];let M=L,B;for(;B=r[M],DO(P,$,t[2*M],t[2*M+1],t[2*B],t[2*B+1])>=0;)if(M=B,M===L){M=-1;break}if(M===-1)continue;let z=this._addTriangle(M,D,r[M],-1,-1,i[M]);i[D]=this._legalize(z+2),i[M]=z,C++;let H=r[M];for(;B=r[H],DO(P,$,t[2*H],t[2*H+1],t[2*B],t[2*B+1])<0;)z=this._addTriangle(H,D,B,i[D],-1,i[H]),i[D]=this._legalize(z+2),r[H]=H,C--,H=B;if(M===L)for(;B=n[M],DO(P,$,t[2*B],t[2*B+1],t[2*M],t[2*M+1])<0;)z=this._addTriangle(B,D,M,-1,i[M],i[B]),this._legalize(z+2),i[B]=z,r[M]=M,C--,M=B;this._hullStart=n[D]=M,r[M]=n[H]=D,r[D]=H,s[this._hashKey(P,$)]=D,s[this._hashKey(t[2*M],t[2*M+1])]=M}this.hull=new Uint32Array(C);for(let I=0,k=this._hullStart;I<C;I++)this.hull[I]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(o_t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],u=t-t%3;if(o=u+(t+2)%3,a===-1){if(s===0)break;t=$O[--s];continue}const l=a-a%3,c=u+(t+1)%3,f=l+(a+2)%3,d=n[o],h=n[t],p=n[c],m=n[f];if(a_t(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[o]),this._link(o,f);const v=l+(a+1)%3;s<$O.length&&($O[s++]=v)}else{if(s===0)break;t=$O[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function o_t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Z9(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function a_t(e,t,n,r,i,s,o,a){const u=e-o,l=t-a,c=n-o,f=r-a,d=i-o,h=s-a,p=u*u+l*l,m=c*c+f*f,g=d*d+h*h;return u*(f*g-m*h)-l*(c*g-m*d)+p*(c*h-f*d)<0}function u_t(e,t,n,r,i,s){const o=n-e,a=r-t,u=i-e,l=s-t,c=o*o+a*a,f=u*u+l*l,d=.5/(o*l-a*u),h=(l*c-a*f)*d,p=(o*f-u*c)*d;return h*h+p*p}function l_t(e,t,n,r,i,s){const o=n-e,a=r-t,u=i-e,l=s-t,c=o*o+a*a,f=u*u+l*l,d=.5/(o*l-a*u),h=e+(l*c-a*f)*d,p=t+(o*f-u*c)*d;return{x:h,y:p}}function WE(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;h2(e,i,s),t[e[n]]>t[e[r]]&&h2(e,n,r),t[e[s]]>t[e[r]]&&h2(e,s,r),t[e[n]]>t[e[s]]&&h2(e,n,s);const a=e[s],u=t[a];for(;;){do s++;while(t[e[s]]<u);do o--;while(t[e[o]]>u);if(o<s)break;h2(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(WE(e,t,s,r),WE(e,t,n,o-1)):(WE(e,t,n,o-1),WE(e,t,s,r))}}function h2(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function c_t(e){return e[0]}function f_t(e){return e[1]}const Ghe=1e-6;class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>Ghe||Math.abs(this._y1-s)>Ghe)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class sq{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let d_t=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,b;m<y;m+=3,g+=2){const w=r[m]*2,E=r[m+1]*2,x=r[m+2]*2,S=t[w],C=t[w+1],I=t[E],k=t[E+1],R=t[x],D=t[x+1],P=I-S,$=k-C,L=R-S,M=D-C,B=(P*M-$*L)*2;if(Math.abs(B)<1e-9){if(s===void 0){s=o=0;for(const H of n)s+=t[H*2],o+=t[H*2+1];s/=n.length,o/=n.length}const z=1e9*Math.sign((s-S)*M-(o-C)*L);v=(S+R)/2-z*M,b=(C+D)/2+z*L}else{const z=1/B,H=P*P+$*$,O=L*L+M*M;v=S+(M*H-$*O)*z,b=C+(P*O-L*H)*z}a[g]=v,a[g+1]=b}let u=n[n.length-1],l,c=u*4,f,d=t[2*u],h,p=t[2*u+1];i.fill(0);for(let m=0;m<n.length;++m)u=n[m],l=c,f=d,h=p,c=u*4,d=t[2*u],p=t[2*u+1],i[l+2]=i[c]=h-p,i[l+3]=i[c+1]=d-f}render(t){const n=t==null?t=new mb:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,m=o[h],g=o[h+1],y=o[p],v=o[p+1];this._renderSegment(m,g,y,v,t)}let u,l=s[s.length-1];for(let c=0;c<s.length;++c){u=l,l=s[c];const f=Math.floor(i[l]/3)*2,d=o[f],h=o[f+1],p=u*4,m=this._project(d,h,a[p+2],a[p+3]);m&&this._renderSegment(d,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new mb:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new mb:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new sq;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),u=this._regioncode(r,i);a===0&&u===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,u))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,u=i.length;a<u;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+u-2)%u]&&n[(s+3)%o]===i[(a+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let u=o;do{const l=Math.floor(u/3);if(a.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,s[u]!==t)break;u=i[u]}while(u!==o&&u!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],u=n[r-1],l,c=this._regioncode(a,u),f,d=0;for(let h=0;h<r;h+=2)if(s=a,o=u,a=n[h],u=n[h+1],l=c,c=this._regioncode(a,u),l===0&&c===0)f=d,d=0,i?i.push(a,u):i=[a,u];else{let p,m,g,y,v;if(l===0){if((p=this._clipSegment(s,o,a,u,l,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,u,s,o,c,l))===null)continue;[y,v,m,g]=p,f=d,d=this._edgecode(m,g),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(m,g):i=[m,g]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let u,l,c=s||o;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),s?(t=u,n=l,s=this._regioncode(t,n)):(r=u,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),u;if((u=this._project(a[0],a[1],r,i))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let l=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);l<c;l+=2)f=d,d=this._edgecode(a[l],a[l+1]),f&&d&&(l=this._edge(t,f,d,a,l),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,u;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(u=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(u=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,u=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,u=n+(s=o)*i)}return[a,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const h_t=2*Math.PI,Gw=Math.pow;function p_t(e){return e[0]}function m_t(e){return e[1]}function g_t(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function y_t(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class tZ{static from(t,n=p_t,r=m_t,i){return new tZ("length"in t?v_t(t,n,r,i):Float64Array.from(b_t(t,n,r,i)))}constructor(t){this._delaunator=new C3(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&g_t(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=y_t(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new C3(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=s[u%3===2?u-2:u+1];(r[u]===-1||o[c]===-1)&&(o[c]=u)}for(let u=0,l=i.length;u<l;++u)a[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new d_t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=o[l],l=l%3===2?l-2:l+1,o[l]!==t)return;if(l=s[l],l===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,f=Gw(n-l[t*2],2)+Gw(r-l[t*2+1],2);const d=i[t];let h=d;do{let p=u[h];const m=Gw(n-l[p*2],2)+Gw(r-l[p*2+1],2);if(m<f&&(f=m,c=p),h=h%3===2?h-2:h+1,u[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&Gw(n-l[h*2],2)+Gw(r-l[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new mb:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const u=i[o];if(u<o)continue;const l=s[o]*2,c=s[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new mb:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],u=i[s+1];t.moveTo(a+n,u),t.arc(a,u,n,0,h_t)}return r&&r.value()}renderHull(t){const n=t==null?t=new mb:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const u=2*r[a];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new sq;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new mb:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,u=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new sq;return this.renderTriangle(t,n),n.value()}}function v_t(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*b_t(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var Yhe={},eU={},tU=34,p2=10,nU=13;function dNe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function __t(e,t){var n=dNe(e);return function(r,i){return t(n(r),i,e)}}function Khe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Zu(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function w_t(e){return e<0?"-"+Zu(-e,6):e>9999?"+"+Zu(e,6):Zu(e,4)}function E_t(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":w_t(e.getUTCFullYear())+"-"+Zu(e.getUTCMonth()+1,2)+"-"+Zu(e.getUTCDate(),2)+(i?"T"+Zu(t,2)+":"+Zu(n,2)+":"+Zu(r,2)+"."+Zu(i,3)+"Z":r?"T"+Zu(t,2)+":"+Zu(n,2)+":"+Zu(r,2)+"Z":n||t?"T"+Zu(t,2)+":"+Zu(n,2)+"Z":"")}function hNe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(g,y){if(h)return h(g,y-1);p=g,h=d?__t(g,d):dNe(g)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,g=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===p2&&--p,f.charCodeAt(p-1)===nU&&--p;function w(){if(v)return eU;if(b)return b=!1,Yhe;var x,S=m,C;if(f.charCodeAt(S)===tU){for(;m++<p&&f.charCodeAt(m)!==tU||f.charCodeAt(++m)===tU;);return(x=m)>=p?v=!0:(C=f.charCodeAt(m++))===p2?b=!0:C===nU&&(b=!0,f.charCodeAt(m)===p2&&++m),f.slice(S+1,x-1).replace(/""/g,'"')}for(;m<p;){if((C=f.charCodeAt(x=m++))===p2)b=!0;else if(C===nU)b=!0,f.charCodeAt(m)===p2&&++m;else if(C!==n)continue;return f.slice(S,x)}return v=!0,f.slice(S,p)}for(;(y=w())!==eU;){for(var E=[];y!==Yhe&&y!==eU;)E.push(y),y=w();d&&(E=d(E,g++))==null||h.push(E)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=Khe(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Khe(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?E_t(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var x_t=hNe(","),S_t=x_t.parse;function T_t(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function C_t(e,t){return fetch(e,t).then(T_t)}function A_t(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),C_t(t,n).then(function(i){return e(i,r)})}}var I_t=A_t(S_t);function k_t(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,u=0,l=0;for(s=0;s<o;++s)a=n[s],u+=a.x,l+=a.y;for(u=(u/o-e)*r,l=(l/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=u,a.y-=l}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function R_t(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return pNe(this.cover(t,n),t,n,e)}function pNe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,u=e._y0,l=e._x1,c=e._y1,f,d,h,p,m,g,y,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d,i=s,!(s=s[y=g<<1|m]))return i[y]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d;while((y=g<<1|m)===(v=(p>=d)<<1|h>=f));return i[v]=s,i[y]=o,e}function N_t(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<u&&(u=i),i>c&&(c=i),s<l&&(l=s),s>f&&(f=s));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)pNe(this,o[n],a[n],e[n]);return this}function P_t(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,u,l;n>e||e>=i||r>t||t>=s;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=a,a=u,o*=2,l){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function O_t(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function D_t(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function _u(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function $_t(e,t,n){var r,i=this._x0,s=this._y0,o,a,u,l,c=this._x1,f=this._y1,d=[],h=this._root,p,m;for(h&&d.push(new _u(h,i,s,c,f)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>f||(u=p.x1)<i||(l=p.y1)<s))if(h.length){var g=(o+u)/2,y=(a+l)/2;d.push(new _u(h[3],g,y,u,l),new _u(h[2],o,y,g,l),new _u(h[1],g,a,u,y),new _u(h[0],o,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),w=v*v+b*b;if(w<n){var E=Math.sqrt(n=w);i=e-E,s=t-E,c=e+E,f=t+E,r=h.data}}return r}function M_t(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,u=this._x1,l=this._y1,c,f,d,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+u)/2))?o=d:u=d,(m=f>=(h=(a+l)/2))?a=h:l=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function L_t(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function F_t(){return this._root}function j_t(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function B_t(e){var t=[],n,r=this._root,i,s,o,a,u;for(r&&t.push(new _u(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(s+a)/2,c=(o+u)/2;(i=r[3])&&t.push(new _u(i,l,c,a,u)),(i=r[2])&&t.push(new _u(i,s,c,l,u)),(i=r[1])&&t.push(new _u(i,l,o,a,c)),(i=r[0])&&t.push(new _u(i,s,o,l,c))}return this}function U_t(e){var t=[],n=[],r;for(this._root&&t.push(new _u(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,f=(a+l)/2;(s=i[0])&&t.push(new _u(s,o,a,c,f)),(s=i[1])&&t.push(new _u(s,c,a,u,f)),(s=i[2])&&t.push(new _u(s,o,f,c,l)),(s=i[3])&&t.push(new _u(s,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function z_t(e){return e[0]}function V_t(e){return arguments.length?(this._x=e,this):this._x}function H_t(e){return e[1]}function q_t(e){return arguments.length?(this._y=e,this):this._y}function nZ(e,t,n){var r=new rZ(t??z_t,n??H_t,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function rZ(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Xhe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ju=nZ.prototype=rZ.prototype;ju.copy=function(){var e=new rZ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Xhe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Xhe(r));return e};ju.add=R_t;ju.addAll=N_t;ju.cover=P_t;ju.data=O_t;ju.extent=D_t;ju.find=$_t;ju.remove=M_t;ju.removeAll=L_t;ju.root=F_t;ju.size=j_t;ju.visit=B_t;ju.visitAfter=U_t;ju.x=V_t;ju.y=q_t;function xu(e){return function(){return e}}function ny(e){return(e()-.5)*1e-6}function W_t(e){return e.x+e.vx}function G_t(e){return e.y+e.vy}function Y_t(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=xu(e==null?1:+e));function o(){for(var l,c=t.length,f,d,h,p,m,g,y=0;y<s;++y)for(f=nZ(t,W_t,G_t).visitAfter(a),l=0;l<c;++l)d=t[l],m=n[d.index],g=m*m,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,w,E,x,S){var C=b.data,I=b.r,k=m+I;if(C){if(C.index>d.index){var R=h-C.x-C.vx,D=p-C.y-C.vy,P=R*R+D*D;P<k*k&&(R===0&&(R=ny(r),P+=R*R),D===0&&(D=ny(r),P+=D*D),P=(k-(P=Math.sqrt(P)))/P*i,d.vx+=(R*=P)*(k=(I*=I)/(g+I)),d.vy+=(D*=P)*k,C.vx-=R*(k=1-k),C.vy-=D*k)}return}return w>h+k||x<h-k||E>p+k||S<p-k}}function a(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return o.initialize=function(l,c){t=l,r=c,u()},o.iterations=function(l){return arguments.length?(s=+l,o):s},o.strength=function(l){return arguments.length?(i=+l,o):i},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:xu(+l),u(),o):e},o}function K_t(e){return e.index}function Qhe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function X_t(e){var t=K_t,n=f,r,i=xu(30),s,o,a,u,l,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var y=0,v=e.length;y<c;++y)for(var b=0,w,E,x,S,C,I,k;b<v;++b)w=e[b],E=w.source,x=w.target,S=x.x+x.vx-E.x-E.vx||ny(l),C=x.y+x.vy-E.y-E.vy||ny(l),I=Math.sqrt(S*S+C*C),I=(I-s[b])/I*g*r[b],S*=I,C*=I,x.vx-=S*(k=u[b]),x.vy-=C*k,E.vx+=S*(k=1-k),E.vy+=C*k}function h(){if(o){var g,y=o.length,v=e.length,b=new Map(o.map((E,x)=>[t(E,x,o),E])),w;for(g=0,a=new Array(y);g<v;++g)w=e[g],w.index=g,typeof w.source!="object"&&(w.source=Qhe(b,w.source)),typeof w.target!="object"&&(w.target=Qhe(b,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(g=0,u=new Array(v);g<v;++g)w=e[g],u[g]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(v),p(),s=new Array(v),m()}}function p(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,y=e.length;g<y;++g)s[g]=+i(e[g],g,e)}return d.initialize=function(g,y){o=g,l=y,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:xu(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:xu(+g),m(),d):i},d}const Q_t=1664525,J_t=1013904223,Jhe=4294967296;function Z_t(){let e=1;return()=>(e=(Q_t*e+J_t)%Jhe)/Jhe}function ewt(e){return e.x}function twt(e){return e.y}var nwt=10,rwt=Math.PI*(3-Math.sqrt(5));function iwt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,u=XJ(f),l=LF("tick","end"),c=Z_t();e==null&&(e=[]);function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(m){var g,y=e.length,v;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(s-n)*i,a.forEach(function(w){w(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=nwt*Math.sqrt(.5+m),b=m*rwt;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,b=e.length,w,E,x,S,C;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],w=m-S.x,E=g-S.y,x=w*w+E*E,x<y&&(C=S,y=x);return C},on:function(m,g){return arguments.length>1?(l.on(m,g),t):l.on(m)}}}function swt(){var e,t,n,r,i=xu(-30),s,o=1,a=1/0,u=.81;function l(h){var p,m=e.length,g=nZ(e,ewt,twt).visitAfter(f);for(r=h,p=0;p<m;++p)t=e[p],g.visit(d)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function f(h){var p=0,m,g,y=0,v,b,w;if(h.length){for(v=b=w=0;w<4;++w)(m=h[w])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,b+=g*m.y);h.x=v/y,h.y=b/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function d(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=g-p,w=y*y+v*v;if(b*b/u<w)return w<a&&(y===0&&(y=ny(n),w+=y*y),v===0&&(v=ny(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)),t.vx+=y*h.value*r/w,t.vy+=v*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(y===0&&(y=ny(n),w+=y*y),v===0&&(v=ny(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)));do h.data!==t&&(b=s[h.data.index]*r/w,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return l.initialize=function(h,p){e=h,n=p,c()},l.strength=function(h){return arguments.length?(i=typeof h=="function"?h:xu(+h),c(),l):i},l.distanceMin=function(h){return arguments.length?(o=h*h,l):Math.sqrt(o)},l.distanceMax=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l.theta=function(h){return arguments.length?(u=h*h,l):Math.sqrt(u)},l}function owt(e){var t=xu(.1),n,r,i;typeof e!="function"&&(e=xu(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:xu(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:xu(+a),o(),s):e},s}function awt(e){var t=xu(.1),n,r,i;typeof e!="function"&&(e=xu(e==null?0:+e));function s(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:xu(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:xu(+a),o(),s):e},s}function uwt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function A3(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pS(e){return e=A3(Math.abs(e)),e?e[1]:NaN}function lwt(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function cwt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fwt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r_(e){if(!(t=fwt.exec(e)))throw new Error("invalid format: "+e);var t;return new iZ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}r_.prototype=iZ.prototype;function iZ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dwt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var mNe;function hwt(e,t){var n=A3(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(mNe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+A3(e,Math.max(0,t+s-1))[0]}function Zhe(e,t){var n=A3(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const epe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uwt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zhe(e*100,t),r:Zhe,s:hwt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tpe(e){return e}var npe=Array.prototype.map,rpe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gNe(e){var t=e.grouping===void 0||e.thousands===void 0?tpe:lwt(npe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tpe:cwt(npe.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=r_(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,g=f.zero,y=f.width,v=f.comma,b=f.precision,w=f.trim,E=f.type;E==="n"?(v=!0,E="g"):epe[E]||(b===void 0&&(b=12),w=!0,E="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=m==="$"?r:/[%p]/.test(E)?o:"",C=epe[E],I=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(R){var D=x,P=S,$,L,M;if(E==="c")P=C(R)+P,R="";else{R=+R;var B=R<0||1/R<0;if(R=isNaN(R)?u:C(Math.abs(R),b),w&&(R=dwt(R)),B&&+R==0&&p!=="+"&&(B=!1),D=(B?p==="("?p:a:p==="-"||p==="("?"":p)+D,P=(E==="s"?rpe[8+mNe/3]:"")+P+(B&&p==="("?")":""),I){for($=-1,L=R.length;++$<L;)if(M=R.charCodeAt($),48>M||M>57){P=(M===46?i+R.slice($+1):R.slice($))+P,R=R.slice(0,$);break}}}v&&!g&&(R=t(R,1/0));var z=D.length+R.length+P.length,H=z<y?new Array(y-z+1).join(d):"";switch(v&&g&&(R=t(H+R,H.length?y-P.length:1/0),H=""),h){case"<":R=D+R+P+H;break;case"=":R=D+H+R+P;break;case"^":R=H.slice(0,z=H.length>>1)+D+R+P+H.slice(z);break;default:R=H+D+R+P;break}return s(R)}return k.toString=function(){return f+""},k}function c(f,d){var h=l((f=r_(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(pS(d)/3)))*3,m=Math.pow(10,-p),g=rpe[8+p/3];return function(y){return h(m*y)+g}}return{format:l,formatPrefix:c}}var MO,VT,sZ;pwt({thousands:",",grouping:[3],currency:["$",""]});function pwt(e){return MO=gNe(e),VT=MO.format,sZ=MO.formatPrefix,MO}function yNe(e){return Math.max(0,-pS(Math.abs(e)))}function vNe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pS(t)/3)))*3-pS(Math.abs(e)))}function bNe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pS(t)-pS(e))+1}var Jt=1e-6,I3=1e-12,er=Math.PI,ys=er/2,k3=er/4,Pu=er*2,Rs=180/er,Qn=er/180,gr=Math.abs,HT=Math.atan,xf=Math.atan2,en=Math.cos,LO=Math.ceil,_Ne=Math.exp,oq=Math.hypot,R3=Math.log,rU=Math.pow,Kt=Math.sin,ff=Math.sign||function(e){return e>0?1:e<0?-1:0},Ou=Math.sqrt,oZ=Math.tan;function wNe(e){return e>1?0:e<-1?er:Math.acos(e)}function Ol(e){return e>1?ys:e<-1?-ys:Math.asin(e)}function fa(){}function N3(e,t){e&&spe.hasOwnProperty(e.type)&&spe[e.type](e,t)}var ipe={Feature:function(e,t){N3(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)N3(n[r].geometry,t)}},spe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){aq(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)aq(n[r],t,0)},Polygon:function(e,t){ope(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ope(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)N3(n[r],t)}};function aq(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function ope(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)aq(e[n],t,1);t.polygonEnd()}function Nm(e,t){e&&ipe.hasOwnProperty(e.type)?ipe[e.type](e,t):N3(e,t)}var P3=new Cu,O3=new Cu,ENe,xNe,uq,lq,cq,vp={point:fa,lineStart:fa,lineEnd:fa,polygonStart:function(){P3=new Cu,vp.lineStart=mwt,vp.lineEnd=gwt},polygonEnd:function(){var e=+P3;O3.add(e<0?Pu+e:e),this.lineStart=this.lineEnd=this.point=fa},sphere:function(){O3.add(Pu)}};function mwt(){vp.point=ywt}function gwt(){SNe(ENe,xNe)}function ywt(e,t){vp.point=SNe,ENe=e,xNe=t,e*=Qn,t*=Qn,uq=e,lq=en(t=t/2+k3),cq=Kt(t)}function SNe(e,t){e*=Qn,t*=Qn,t=t/2+k3;var n=e-uq,r=n>=0?1:-1,i=r*n,s=en(t),o=Kt(t),a=cq*o,u=lq*s+a*en(i),l=a*r*Kt(i);P3.add(xf(l,u)),uq=e,lq=s,cq=o}function vwt(e){return O3=new Cu,Nm(e,vp),O3*2}function D3(e){return[xf(e[1],e[0]),Ol(e[2])]}function i_(e){var t=e[0],n=e[1],r=en(n);return[r*en(t),r*Kt(t),Kt(n)]}function FO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function iU(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function jO(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function $3(e){var t=Ou(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var rs,ll,ls,tc,D1,TNe,CNe,wx,cI,$0,Sg,Cm={point:fq,lineStart:ape,lineEnd:upe,polygonStart:function(){Cm.point=INe,Cm.lineStart=bwt,Cm.lineEnd=_wt,cI=new Cu,vp.polygonStart()},polygonEnd:function(){vp.polygonEnd(),Cm.point=fq,Cm.lineStart=ape,Cm.lineEnd=upe,P3<0?(rs=-(ls=180),ll=-(tc=90)):cI>Jt?tc=90:cI<-Jt&&(ll=-90),Sg[0]=rs,Sg[1]=ls},sphere:function(){rs=-(ls=180),ll=-(tc=90)}};function fq(e,t){$0.push(Sg=[rs=e,ls=e]),t<ll&&(ll=t),t>tc&&(tc=t)}function ANe(e,t){var n=i_([e*Qn,t*Qn]);if(wx){var r=mS(wx,n),i=[r[1],-r[0],0],s=mS(i,r);$3(s),s=D3(s);var o=e-D1,a=o>0?1:-1,u=s[0]*Rs*a,l,c=gr(o)>180;c^(a*D1<u&&u<a*e)?(l=s[1]*Rs,l>tc&&(tc=l)):(u=(u+360)%360-180,c^(a*D1<u&&u<a*e)?(l=-s[1]*Rs,l<ll&&(ll=l)):(t<ll&&(ll=t),t>tc&&(tc=t))),c?e<D1?Zl(rs,e)>Zl(rs,ls)&&(ls=e):Zl(e,ls)>Zl(rs,ls)&&(rs=e):ls>=rs?(e<rs&&(rs=e),e>ls&&(ls=e)):e>D1?Zl(rs,e)>Zl(rs,ls)&&(ls=e):Zl(e,ls)>Zl(rs,ls)&&(rs=e)}else $0.push(Sg=[rs=e,ls=e]);t<ll&&(ll=t),t>tc&&(tc=t),wx=n,D1=e}function ape(){Cm.point=ANe}function upe(){Sg[0]=rs,Sg[1]=ls,Cm.point=fq,wx=null}function INe(e,t){if(wx){var n=e-D1;cI.add(gr(n)>180?n+(n>0?360:-360):n)}else TNe=e,CNe=t;vp.point(e,t),ANe(e,t)}function bwt(){vp.lineStart()}function _wt(){INe(TNe,CNe),vp.lineEnd(),gr(cI)>Jt&&(rs=-(ls=180)),Sg[0]=rs,Sg[1]=ls,wx=null}function Zl(e,t){return(t-=e)<0?t+360:t}function wwt(e,t){return e[0]-t[0]}function lpe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Ewt(e){var t,n,r,i,s,o,a;if(tc=ls=-(rs=ll=1/0),$0=[],Nm(e,Cm),n=$0.length){for($0.sort(wwt),t=1,r=$0[0],s=[r];t<n;++t)i=$0[t],lpe(r,i[0])||lpe(r,i[1])?(Zl(r[0],i[1])>Zl(r[0],r[1])&&(r[1]=i[1]),Zl(i[0],r[1])>Zl(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=Zl(r[1],i[0]))>o&&(o=a,rs=i[0],ls=r[1])}return $0=Sg=null,rs===1/0||ll===1/0?[[NaN,NaN],[NaN,NaN]]:[[rs,ll],[ls,tc]]}var uA,M3,L3,F3,j3,B3,U3,z3,dq,hq,pq,kNe,RNe,yu,vu,bu,wd={sphere:fa,point:aZ,lineStart:cpe,lineEnd:fpe,polygonStart:function(){wd.lineStart=Twt,wd.lineEnd=Cwt},polygonEnd:function(){wd.lineStart=cpe,wd.lineEnd=fpe}};function aZ(e,t){e*=Qn,t*=Qn;var n=en(t);pN(n*en(e),n*Kt(e),Kt(t))}function pN(e,t,n){++uA,L3+=(e-L3)/uA,F3+=(t-F3)/uA,j3+=(n-j3)/uA}function cpe(){wd.point=xwt}function xwt(e,t){e*=Qn,t*=Qn;var n=en(t);yu=n*en(e),vu=n*Kt(e),bu=Kt(t),wd.point=Swt,pN(yu,vu,bu)}function Swt(e,t){e*=Qn,t*=Qn;var n=en(t),r=n*en(e),i=n*Kt(e),s=Kt(t),o=xf(Ou((o=vu*s-bu*i)*o+(o=bu*r-yu*s)*o+(o=yu*i-vu*r)*o),yu*r+vu*i+bu*s);M3+=o,B3+=o*(yu+(yu=r)),U3+=o*(vu+(vu=i)),z3+=o*(bu+(bu=s)),pN(yu,vu,bu)}function fpe(){wd.point=aZ}function Twt(){wd.point=Awt}function Cwt(){NNe(kNe,RNe),wd.point=aZ}function Awt(e,t){kNe=e,RNe=t,e*=Qn,t*=Qn,wd.point=NNe;var n=en(t);yu=n*en(e),vu=n*Kt(e),bu=Kt(t),pN(yu,vu,bu)}function NNe(e,t){e*=Qn,t*=Qn;var n=en(t),r=n*en(e),i=n*Kt(e),s=Kt(t),o=vu*s-bu*i,a=bu*r-yu*s,u=yu*i-vu*r,l=oq(o,a,u),c=Ol(l),f=l&&-c/l;dq.add(f*o),hq.add(f*a),pq.add(f*u),M3+=c,B3+=c*(yu+(yu=r)),U3+=c*(vu+(vu=i)),z3+=c*(bu+(bu=s)),pN(yu,vu,bu)}function Iwt(e){uA=M3=L3=F3=j3=B3=U3=z3=0,dq=new Cu,hq=new Cu,pq=new Cu,Nm(e,wd);var t=+dq,n=+hq,r=+pq,i=oq(t,n,r);return i<I3&&(t=B3,n=U3,r=z3,M3<Jt&&(t=L3,n=F3,r=j3),i=oq(t,n,r),i<I3)?[NaN,NaN]:[xf(n,t)*Rs,Ol(r/i)*Rs]}function mq(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function gq(e,t){return gr(e)>er&&(e-=Math.round(e/Pu)*Pu),[e,t]}gq.invert=gq;function PNe(e,t,n){return(e%=Pu)?t||n?mq(hpe(e),ppe(t,n)):hpe(e):t||n?ppe(t,n):gq}function dpe(e){return function(t,n){return t+=e,gr(t)>er&&(t-=Math.round(t/Pu)*Pu),[t,n]}}function hpe(e){var t=dpe(e);return t.invert=dpe(-e),t}function ppe(e,t){var n=en(e),r=Kt(e),i=en(t),s=Kt(t);function o(a,u){var l=en(u),c=en(a)*l,f=Kt(a)*l,d=Kt(u),h=d*n+c*r;return[xf(f*i-h*s,c*n-d*r),Ol(h*i+f*s)]}return o.invert=function(a,u){var l=en(u),c=en(a)*l,f=Kt(a)*l,d=Kt(u),h=d*i-f*s;return[xf(f*i+d*s,c*n+h*r),Ol(h*n-c*r)]},o}function kwt(e){e=PNe(e[0]*Qn,e[1]*Qn,e.length>2?e[2]*Qn:0);function t(n){return n=e(n[0]*Qn,n[1]*Qn),n[0]*=Rs,n[1]*=Rs,n}return t.invert=function(n){return n=e.invert(n[0]*Qn,n[1]*Qn),n[0]*=Rs,n[1]*=Rs,n},t}function Rwt(e,t,n,r,i,s){if(n){var o=en(t),a=Kt(t),u=r*n;i==null?(i=t+r*Pu,s=t-u/2):(i=mpe(o,i),s=mpe(o,s),(r>0?i<s:i>s)&&(i+=r*Pu));for(var l,c=i;r>0?c>s:c<s;c-=u)l=D3([o,-a*en(c),-a*Kt(c)]),e.point(l[0],l[1])}}function mpe(e,t){t=i_(t),t[0]-=e,$3(t);var n=wNe(-t[1]);return((-t[2]<0?-n:n)+Pu-Jt)%Pu}function ONe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:fa,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function T$(e,t){return gr(e[0]-t[0])<Jt&&gr(e[1]-t[1])<Jt}function BO(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function DNe(e,t,n,r,i){var s=[],o=[],a,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(T$(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*Jt}s.push(v=new BO(g,p,null,!0)),o.push(v.o=new BO(g,null,v,!1)),s.push(v=new BO(y,p,null,!1)),o.push(v.o=new BO(y,null,v,!0))}}),!!s.length){for(o.sort(t),gpe(s),gpe(o),a=0,u=o.length;a<u;++a)o[a].e=n=!n;for(var l=s[0],c,f;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,u=c.length;a<u;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function gpe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function sU(e){return gr(e[0])<=er?e[0]:ff(e[0])*((gr(e[0])+er)%Pu-er)}function Nwt(e,t){var n=sU(t),r=t[1],i=Kt(r),s=[Kt(n),-en(n),0],o=0,a=0,u=new Cu;i===1?r=ys+Jt:i===-1&&(r=-ys-Jt);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,h=f[d-1],p=sU(h),m=h[1]/2+k3,g=Kt(m),y=en(m),v=0;v<d;++v,p=w,g=x,y=S,h=b){var b=f[v],w=sU(b),E=b[1]/2+k3,x=Kt(E),S=en(E),C=w-p,I=C>=0?1:-1,k=I*C,R=k>er,D=g*x;if(u.add(xf(D*I*Kt(k),y*S+D*en(k))),o+=R?C+I*Pu:C,R^p>=n^w>=n){var P=mS(i_(h),i_(b));$3(P);var $=mS(s,P);$3($);var L=(R^C>=0?-1:1)*Ol($[2]);(r>L||r===L&&(P[0]||P[1]))&&(a+=R^C>=0?1:-1)}}return(o<-Jt||o<Jt&&u<-I3)^a&1}function $Ne(e,t,n,r){return function(i){var s=t(i),o=ONe(),a=t(o),u=!1,l,c,f,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=vRe(c);var w=Nwt(l,r);c.length?(u||(i.polygonStart(),u=!0),DNe(c,Owt,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,E){e(w,E)&&i.point(w,E)}function p(w,E){s.point(w,E)}function m(){d.point=p,s.lineStart()}function g(){d.point=h,s.lineEnd()}function y(w,E){f.push([w,E]),a.point(w,E)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),E=o.result(),x,S=E.length,C,I,k;if(f.pop(),l.push(f),f=null,!!S){if(w&1){if(I=E[0],(C=I.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<C;++x)i.point((k=I[x])[0],k[1]);i.lineEnd()}return}S>1&&w&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(Pwt))}}return d}}function Pwt(e){return e.length>1}function Owt(e,t){return((e=e.x)[0]<0?e[1]-ys-Jt:ys-e[1])-((t=t.x)[0]<0?t[1]-ys-Jt:ys-t[1])}const ype=$Ne(function(){return!0},Dwt,Mwt,[-er,-ys]);function Dwt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?er:-er,u=gr(s-t);gr(u-er)<Jt?(e.point(t,n=(n+o)/2>0?ys:-ys),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&u>=er&&(gr(t-r)<Jt&&(t-=r*Jt),gr(s-a)<Jt&&(s-=a*Jt),n=$wt(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function $wt(e,t,n,r){var i,s,o=Kt(e-n);return gr(o)>Jt?HT((Kt(t)*(s=en(r))*Kt(n)-Kt(r)*(i=en(t))*Kt(e))/(i*s*o)):(t+r)/2}function Mwt(e,t,n,r){var i;if(e==null)i=n*ys,r.point(-er,i),r.point(0,i),r.point(er,i),r.point(er,0),r.point(er,-i),r.point(0,-i),r.point(-er,-i),r.point(-er,0),r.point(-er,i);else if(gr(e[0]-t[0])>Jt){var s=e[0]<t[0]?er:-er;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function Lwt(e){var t=en(e),n=2*Qn,r=t>0,i=gr(t)>Jt;function s(c,f,d,h){Rwt(h,e,n,d,c,f)}function o(c,f){return en(c)*en(f)>t}function a(c){var f,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],b,w=o(g,y),E=r?w?0:l(g,y):w?l(g+(g<0?er:-er),y):0;if(!f&&(p=h=w)&&c.lineStart(),w!==h&&(b=u(f,v),(!b||T$(f,b)||T$(v,b))&&(v[2]=1)),w!==h)m=0,w?(c.lineStart(),b=u(v,f),c.point(b[0],b[1])):(b=u(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^w){var x;!(E&d)&&(x=u(v,f,!0))&&(m=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}w&&(!f||!T$(f,v))&&c.point(v[0],v[1]),f=v,h=w,d=E},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return m|(p&&h)<<1}}}function u(c,f,d){var h=i_(c),p=i_(f),m=[1,0,0],g=mS(h,p),y=FO(g,g),v=g[0],b=y-v*v;if(!b)return!d&&c;var w=t*y/b,E=-t*v/b,x=mS(m,g),S=jO(m,w),C=jO(g,E);iU(S,C);var I=x,k=FO(S,I),R=FO(I,I),D=k*k-R*(FO(S,S)-1);if(!(D<0)){var P=Ou(D),$=jO(I,(-k-P)/R);if(iU($,S),$=D3($),!d)return $;var L=c[0],M=f[0],B=c[1],z=f[1],H;M<L&&(H=L,L=M,M=H);var O=M-L,U=gr(O-er)<Jt,q=U||O<Jt;if(!U&&z<B&&(H=B,B=z,z=H),q?U?B+z>0^$[1]<(gr($[0]-L)<Jt?B:z):B<=$[1]&&$[1]<=z:O>er^(L<=$[0]&&$[0]<=M)){var F=jO(I,(-k+P)/R);return iU(F,S),[$,D3(F)]}}}function l(c,f){var d=r?e:er-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return $Ne(o,a,s,r?[0,-e]:[-er,e-er])}function Fwt(e,t,n,r,i,s){var o=e[0],a=e[1],u=t[0],l=t[1],c=0,f=1,d=u-o,h=l-a,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=o+c*d,e[1]=a+c*h),f<1&&(t[0]=o+f*d,t[1]=a+f*h),!0}}}}}var lA=1e9,UO=-lA;function MNe(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function s(l,c,f,d){var h=0,p=0;if(l==null||(h=o(l,f))!==(p=o(c,f))||u(l,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function o(l,c){return gr(l[0]-e)<Jt?c>0?0:3:gr(l[0]-n)<Jt?c>0?2:1:gr(l[1]-t)<Jt?c>0?1:0:c>0?3:2}function a(l,c){return u(l.x,c.x)}function u(l,c){var f=o(l,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=ONe(),d,h,p,m,g,y,v,b,w,E,x,S={point:C,lineStart:D,lineEnd:P,polygonStart:k,polygonEnd:R};function C(L,M){i(L,M)&&c.point(L,M)}function I(){for(var L=0,M=0,B=h.length;M<B;++M)for(var z=h[M],H=1,O=z.length,U=z[0],q,F,V=U[0],G=U[1];H<O;++H)q=V,F=G,U=z[H],V=U[0],G=U[1],F<=r?G>r&&(V-q)*(r-F)>(G-F)*(e-q)&&++L:G<=r&&(V-q)*(r-F)<(G-F)*(e-q)&&--L;return L}function k(){c=f,d=[],h=[],x=!0}function R(){var L=I(),M=x&&L,B=(d=vRe(d)).length;(M||B)&&(l.polygonStart(),M&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),B&&DNe(d,a,L,s,l),l.polygonEnd()),c=l,d=h=p=null}function D(){S.point=$,h&&h.push(p=[]),E=!0,w=!1,v=b=NaN}function P(){d&&($(m,g),y&&w&&f.rejoin(),d.push(f.result())),S.point=C,w&&c.lineEnd()}function $(L,M){var B=i(L,M);if(h&&p.push([L,M]),E)m=L,g=M,y=B,E=!1,B&&(c.lineStart(),c.point(L,M));else if(B&&w)c.point(L,M);else{var z=[v=Math.max(UO,Math.min(lA,v)),b=Math.max(UO,Math.min(lA,b))],H=[L=Math.max(UO,Math.min(lA,L)),M=Math.max(UO,Math.min(lA,M))];Fwt(z,H,e,t,n,r)?(w||(c.lineStart(),c.point(z[0],z[1])),c.point(H[0],H[1]),B||c.lineEnd(),x=!1):B&&(c.lineStart(),c.point(L,M),x=!1)}v=L,b=M,w=B}return S}}function vpe(e,t,n){var r=yl(e,t-Jt,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function bpe(e,t,n){var r=yl(e,t-Jt,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function jwt(){var e,t,n,r,i,s,o,a,u=10,l=u,c=90,f=360,d,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return yl(LO(r/c)*c,n,c).map(p).concat(yl(LO(a/f)*f,o,f).map(m)).concat(yl(LO(t/u)*u,e,u).filter(function(b){return gr(b%c)>Jt}).map(d)).concat(yl(LO(s/l)*l,i,l).filter(function(b){return gr(b%f)>Jt}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),a>o&&(b=a,a=o,o=b),y.precision(g)):[[r,a],[n,o]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],s=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),s>i&&(b=s,s=i,i=b),y.precision(g)):[[t,s],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(u=+b[0],l=+b[1],y):[u,l]},y.precision=function(b){return arguments.length?(g=+b,d=vpe(s,i,90),h=bpe(t,e,g),p=vpe(a,o,90),m=bpe(r,n,g),y):g},y.extentMajor([[-180,-90+Jt],[180,90-Jt]]).extentMinor([[-180,-80-Jt],[180,80+Jt]])}const Ok=e=>e;var oU=new Cu,yq=new Cu,LNe,FNe,vq,bq,Pm={point:fa,lineStart:fa,lineEnd:fa,polygonStart:function(){Pm.lineStart=Bwt,Pm.lineEnd=zwt},polygonEnd:function(){Pm.lineStart=Pm.lineEnd=Pm.point=fa,oU.add(gr(yq)),yq=new Cu},result:function(){var e=oU/2;return oU=new Cu,e}};function Bwt(){Pm.point=Uwt}function Uwt(e,t){Pm.point=jNe,LNe=vq=e,FNe=bq=t}function jNe(e,t){yq.add(bq*e-vq*t),vq=e,bq=t}function zwt(){jNe(LNe,FNe)}var gS=1/0,V3=gS,Dk=-gS,H3=Dk,q3={point:Vwt,lineStart:fa,lineEnd:fa,polygonStart:fa,polygonEnd:fa,result:function(){var e=[[gS,V3],[Dk,H3]];return Dk=H3=-(V3=gS=1/0),e}};function Vwt(e,t){e<gS&&(gS=e),e>Dk&&(Dk=e),t<V3&&(V3=t),t>H3&&(H3=t)}var _q=0,wq=0,cA=0,W3=0,G3=0,GE=0,Eq=0,xq=0,fA=0,BNe,UNe,Ph,Oh,uf={point:s_,lineStart:_pe,lineEnd:wpe,polygonStart:function(){uf.lineStart=Wwt,uf.lineEnd=Gwt},polygonEnd:function(){uf.point=s_,uf.lineStart=_pe,uf.lineEnd=wpe},result:function(){var e=fA?[Eq/fA,xq/fA]:GE?[W3/GE,G3/GE]:cA?[_q/cA,wq/cA]:[NaN,NaN];return _q=wq=cA=W3=G3=GE=Eq=xq=fA=0,e}};function s_(e,t){_q+=e,wq+=t,++cA}function _pe(){uf.point=Hwt}function Hwt(e,t){uf.point=qwt,s_(Ph=e,Oh=t)}function qwt(e,t){var n=e-Ph,r=t-Oh,i=Ou(n*n+r*r);W3+=i*(Ph+e)/2,G3+=i*(Oh+t)/2,GE+=i,s_(Ph=e,Oh=t)}function wpe(){uf.point=s_}function Wwt(){uf.point=Ywt}function Gwt(){zNe(BNe,UNe)}function Ywt(e,t){uf.point=zNe,s_(BNe=Ph=e,UNe=Oh=t)}function zNe(e,t){var n=e-Ph,r=t-Oh,i=Ou(n*n+r*r);W3+=i*(Ph+e)/2,G3+=i*(Oh+t)/2,GE+=i,i=Oh*e-Ph*t,Eq+=i*(Ph+e),xq+=i*(Oh+t),fA+=i*3,s_(Ph=e,Oh=t)}function VNe(e){this._context=e}VNe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Pu);break}}},result:fa};var Sq=new Cu,aU,HNe,qNe,dA,hA,$k={point:fa,lineStart:function(){$k.point=Kwt},lineEnd:function(){aU&&WNe(HNe,qNe),$k.point=fa},polygonStart:function(){aU=!0},polygonEnd:function(){aU=null},result:function(){var e=+Sq;return Sq=new Cu,e}};function Kwt(e,t){$k.point=WNe,HNe=dA=e,qNe=hA=t}function WNe(e,t){dA-=e,hA-=t,Sq.add(Ou(dA*dA+hA*hA)),dA=e,hA=t}let Epe,Y3,xpe,Spe;class Tpe{constructor(t){this._append=t==null?GNe:Xwt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==xpe||this._append!==Y3){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,xpe=r,Y3=this._append,Spe=this._,this._=i}this._+=Spe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function GNe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Xwt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return GNe;if(t!==Epe){const n=10**t;Epe=t,Y3=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return Y3}function YNe(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Nm(a,i(s))),s.result()}return o.area=function(a){return Nm(a,i(Pm)),Pm.result()},o.measure=function(a){return Nm(a,i($k)),$k.result()},o.bounds=function(a){return Nm(a,i(q3)),q3.result()},o.centroid=function(a){return Nm(a,i(uf)),uf.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,Ok):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new Tpe(n)):new VNe(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const u=Math.floor(a);if(!(u>=0))throw new RangeError(`invalid digits: ${a}`);n=u}return t===null&&(s=new Tpe(n)),o},o.projection(e).digits(n).context(t)}function WF(e){return function(t){var n=new Tq;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Tq(){}Tq.prototype={constructor:Tq,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function uZ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Nm(n,e.stream(q3)),t(q3.result()),r!=null&&e.clipExtent(r),e}function GF(e,t,n){return uZ(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,u])},n)}function lZ(e,t,n){return GF(e,[[0,0],t],n)}function cZ(e,t,n){return uZ(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function fZ(e,t,n){return uZ(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var Cpe=16,Qwt=en(30*Qn);function Ape(e,t){return+t?Zwt(e,t):Jwt(e)}function Jwt(e){return WF({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Zwt(e,t){function n(r,i,s,o,a,u,l,c,f,d,h,p,m,g){var y=l-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var w=o+d,E=a+h,x=u+p,S=Ou(w*w+E*E+x*x),C=Ol(x/=S),I=gr(gr(x)-1)<Jt||gr(s-f)<Jt?(s+f)/2:xf(E,w),k=e(I,C),R=k[0],D=k[1],P=R-r,$=D-i,L=v*P-y*$;(L*L/b>t||gr((y*P+v*$)/b-.5)>.3||o*d+a*h+u*p<Qwt)&&(n(r,i,s,o,a,u,R,D,I,w/=S,E/=S,x,m,g),g.point(R,D),n(R,D,I,w,E,x,l,c,f,d,h,p,m,g))}}return function(r){var i,s,o,a,u,l,c,f,d,h,p,m,g={point:y,lineStart:v,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=E},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(C,I){C=e(C,I),r.point(C[0],C[1])}function v(){f=NaN,g.point=b,r.lineStart()}function b(C,I){var k=i_([C,I]),R=e(C,I);n(f,d,c,h,p,m,f=R[0],d=R[1],c=C,h=k[0],p=k[1],m=k[2],Cpe,r),r.point(f,d)}function w(){g.point=y,r.lineEnd()}function E(){v(),g.point=x,g.lineEnd=S}function x(C,I){b(i=C,I),s=f,o=d,a=h,u=p,l=m,g.point=b}function S(){n(f,d,c,h,p,m,s,o,i,a,u,l,Cpe,r),g.lineEnd=w,w()}return g}}var eEt=WF({point:function(e,t){this.stream.point(e*Qn,t*Qn)}});function tEt(e){return WF({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function nEt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function Ipe(e,t,n,r,i,s){if(!s)return nEt(e,t,n,r,i);var o=en(s),a=Kt(s),u=o*e,l=a*e,c=o/e,f=a/e,d=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[u*m-l*g+t,n-l*m-u*g]}return p.invert=function(m,g){return[r*(c*m-f*g+d),i*(h-f*m-c*g)]},p}function qp(e){return KNe(function(){return e})()}function KNe(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,u=0,l=0,c,f=0,d=1,h=1,p=null,m=ype,g=null,y,v,b,w=Ok,E=.5,x,S,C,I,k;function R(L){return C(L[0]*Qn,L[1]*Qn)}function D(L){return L=C.invert(L[0],L[1]),L&&[L[0]*Rs,L[1]*Rs]}R.stream=function(L){return I&&k===L?I:I=eEt(tEt(c)(m(x(w(k=L)))))},R.preclip=function(L){return arguments.length?(m=L,p=void 0,$()):m},R.postclip=function(L){return arguments.length?(w=L,g=y=v=b=null,$()):w},R.clipAngle=function(L){return arguments.length?(m=+L?Lwt(p=L*Qn):(p=null,ype),$()):p*Rs},R.clipExtent=function(L){return arguments.length?(w=L==null?(g=y=v=b=null,Ok):MNe(g=+L[0][0],y=+L[0][1],v=+L[1][0],b=+L[1][1]),$()):g==null?null:[[g,y],[v,b]]},R.scale=function(L){return arguments.length?(n=+L,P()):n},R.translate=function(L){return arguments.length?(r=+L[0],i=+L[1],P()):[r,i]},R.center=function(L){return arguments.length?(s=L[0]%360*Qn,o=L[1]%360*Qn,P()):[s*Rs,o*Rs]},R.rotate=function(L){return arguments.length?(a=L[0]%360*Qn,u=L[1]%360*Qn,l=L.length>2?L[2]%360*Qn:0,P()):[a*Rs,u*Rs,l*Rs]},R.angle=function(L){return arguments.length?(f=L%360*Qn,P()):f*Rs},R.reflectX=function(L){return arguments.length?(d=L?-1:1,P()):d<0},R.reflectY=function(L){return arguments.length?(h=L?-1:1,P()):h<0},R.precision=function(L){return arguments.length?(x=Ape(S,E=L*L),$()):Ou(E)},R.fitExtent=function(L,M){return GF(R,L,M)},R.fitSize=function(L,M){return lZ(R,L,M)},R.fitWidth=function(L,M){return cZ(R,L,M)},R.fitHeight=function(L,M){return fZ(R,L,M)};function P(){var L=Ipe(n,0,0,d,h,f).apply(null,t(s,o)),M=Ipe(n,r-L[0],i-L[1],d,h,f);return c=PNe(a,u,l),S=mq(t,M),C=mq(c,S),x=Ape(S,E),$()}function $(){return I=k=null,R}return function(){return t=e.apply(this,arguments),R.invert=t.invert&&D,P()}}function dZ(e){var t=0,n=er/3,r=KNe(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*Qn,n=s[1]*Qn):[t*Rs,n*Rs]},i}function rEt(e){var t=en(e);function n(r,i){return[r*t,Kt(i)/t]}return n.invert=function(r,i){return[r/t,Ol(i*t)]},n}function iEt(e,t){var n=Kt(e),r=(n+Kt(t))/2;if(gr(r)<Jt)return rEt(e);var i=1+n*(2*r-n),s=Ou(i)/r;function o(a,u){var l=Ou(i-2*r*Kt(u))/r;return[l*Kt(a*=r),s-l*en(a)]}return o.invert=function(a,u){var l=s-u,c=xf(a,gr(l))*ff(l);return l*r<0&&(c-=er*ff(a)*ff(l)),[c/r,Ol((i-(a*a+l*l)*r*r)/(2*r))]},o}function K3(){return dZ(iEt).scale(155.424).center([0,33.6442])}function XNe(){return K3().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sEt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function oEt(){var e,t,n=XNe(),r,i=K3().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=K3().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,u,l={point:function(d,h){u=[d,h]}};function c(d){var h=d[0],p=d[1];return u=null,r.point(h,p),u||(s.point(h,p),u)||(a.point(h,p),u)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=sEt([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(l),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Jt,m+.12*h+Jt],[p-.214*h-Jt,m+.234*h-Jt]]).stream(l),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Jt,m+.166*h+Jt],[p-.115*h-Jt,m+.234*h-Jt]]).stream(l),f()},c.fitExtent=function(d,h){return GF(c,d,h)},c.fitSize=function(d,h){return lZ(c,d,h)},c.fitWidth=function(d,h){return cZ(c,d,h)},c.fitHeight=function(d,h){return fZ(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function QNe(e){return function(t,n){var r=en(t),i=en(n),s=e(r*i);return s===1/0?[2,0]:[s*i*Kt(t),s*Kt(n)]}}function mN(e){return function(t,n){var r=Ou(t*t+n*n),i=e(r),s=Kt(i),o=en(i);return[xf(t*s,r*o),Ol(r&&n*s/r)]}}var JNe=QNe(function(e){return Ou(2/(1+e))});JNe.invert=mN(function(e){return 2*Ol(e/2)});function aEt(){return qp(JNe).scale(124.75).clipAngle(180-.001)}var ZNe=QNe(function(e){return(e=wNe(e))&&e/Kt(e)});ZNe.invert=mN(function(e){return e});function uEt(){return qp(ZNe).scale(79.4188).clipAngle(180-.001)}function YF(e,t){return[e,R3(oZ((ys+t)/2))]}YF.invert=function(e,t){return[e,2*HT(_Ne(t))-ys]};function lEt(){return ePe(YF).scale(961/Pu)}function ePe(e){var t=qp(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,u,l;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=a=u=l=null:(o=+f[0][0],a=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):o==null?null:[[o,a],[u,l]]};function c(){var f=er*r(),d=t(kwt(t.rotate()).invert([0,0]));return s(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===YF?[[Math.max(d[0]-f,o),a],[Math.min(d[0]+f,u),l]]:[[o,Math.max(d[1]-f,a)],[u,Math.min(d[1]+f,l)]])}return c()}function zO(e){return oZ((ys+e)/2)}function cEt(e,t){var n=en(e),r=e===t?Kt(e):R3(n/en(t))/R3(zO(t)/zO(e)),i=n*rU(zO(e),r)/r;if(!r)return YF;function s(o,a){i>0?a<-ys+Jt&&(a=-ys+Jt):a>ys-Jt&&(a=ys-Jt);var u=i/rU(zO(a),r);return[u*Kt(r*o),i-u*en(r*o)]}return s.invert=function(o,a){var u=i-a,l=ff(r)*Ou(o*o+u*u),c=xf(o,gr(u))*ff(u);return u*r<0&&(c-=er*ff(o)*ff(u)),[c/r,2*HT(rU(i/l,1/r))-ys]},s}function fEt(){return dZ(cEt).scale(109.5).parallels([30,30])}function X3(e,t){return[e,t]}X3.invert=X3;function dEt(){return qp(X3).scale(152.63)}function hEt(e,t){var n=en(e),r=e===t?Kt(e):(n-en(t))/(t-e),i=n/r+e;if(gr(r)<Jt)return X3;function s(o,a){var u=i-a,l=r*o;return[u*Kt(l),i-u*en(l)]}return s.invert=function(o,a){var u=i-a,l=xf(o,gr(u))*ff(u);return u*r<0&&(l-=er*ff(o)*ff(u)),[l/r,i-ff(r)*Ou(o*o+u*u)]},s}function pEt(){return dZ(hEt).scale(131.154).center([0,13.9389])}var fI=1.340264,dI=-.081106,hI=893e-6,pI=.003796,Q3=Ou(3)/2,mEt=12;function tPe(e,t){var n=Ol(Q3*Kt(t)),r=n*n,i=r*r*r;return[e*en(n)/(Q3*(fI+3*dI*r+i*(7*hI+9*pI*r))),n*(fI+dI*r+i*(hI+pI*r))]}tPe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,u;s<mEt&&(a=n*(fI+dI*r+i*(hI+pI*r))-t,u=fI+3*dI*r+i*(7*hI+9*pI*r),n-=o=a/u,r=n*n,i=r*r*r,!(gr(o)<I3));++s);return[Q3*e*(fI+3*dI*r+i*(7*hI+9*pI*r))/en(n),Ol(Kt(n)/Q3)]};function gEt(){return qp(tPe).scale(177.158)}function nPe(e,t){var n=en(t),r=en(e)*n;return[n*Kt(e)/r,Kt(t)/r]}nPe.invert=mN(HT);function yEt(){return qp(nPe).scale(144.049).clipAngle(60)}function vEt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,u=null,l,c,f,d=1,h=1,p=WF({point:function(w,E){var x=b([w,E]);this.stream.point(x[0],x[1])}}),m=Ok,g,y;function v(){return d=e*r,h=e*i,g=y=null,b}function b(w){var E=w[0]*d,x=w[1]*h;if(s){var S=x*o-E*a;E=E*o+x*a,x=S}return[E+t,x+n]}return b.invert=function(w){var E=w[0]-t,x=w[1]-n;if(s){var S=x*o+E*a;E=E*o-x*a,x=S}return[E/d,x/h]},b.stream=function(w){return g&&y===w?g:g=p(m(y=w))},b.postclip=function(w){return arguments.length?(m=w,u=l=c=f=null,v()):m},b.clipExtent=function(w){return arguments.length?(m=w==null?(u=l=c=f=null,Ok):MNe(u=+w[0][0],l=+w[0][1],c=+w[1][0],f=+w[1][1]),v()):u==null?null:[[u,l],[c,f]]},b.scale=function(w){return arguments.length?(e=+w,v()):e},b.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],v()):[t,n]},b.angle=function(w){return arguments.length?(s=w%360*Qn,a=Kt(s),o=en(s),v()):s*Rs},b.reflectX=function(w){return arguments.length?(r=w?-1:1,v()):r<0},b.reflectY=function(w){return arguments.length?(i=w?-1:1,v()):i<0},b.fitExtent=function(w,E){return GF(b,w,E)},b.fitSize=function(w,E){return lZ(b,w,E)},b.fitWidth=function(w,E){return cZ(b,w,E)},b.fitHeight=function(w,E){return fZ(b,w,E)},b}function rPe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}rPe.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(gr(i)>Jt&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function bEt(){return qp(rPe).scale(175.295)}function iPe(e,t){return[en(t)*Kt(e),Kt(t)]}iPe.invert=mN(Ol);function _Et(){return qp(iPe).scale(249.5).clipAngle(90+Jt)}function sPe(e,t){var n=en(t),r=1+en(e)*n;return[n*Kt(e)/r,Kt(t)/r]}sPe.invert=mN(function(e){return 2*HT(e)});function wEt(){return qp(sPe).scale(250).clipAngle(142)}function oPe(e,t){return[R3(oZ((ys+t)/2)),-e]}oPe.invert=function(e,t){return[-t,2*HT(_Ne(e))-ys]};function EEt(){var e=ePe(oPe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function xEt(e,t){return e.parent===t.parent?1:2}function SEt(e){return e.reduce(TEt,0)/e.length}function TEt(e,t){return e+t.x}function CEt(e){return 1+e.reduce(AEt,0)}function AEt(e,t){return Math.max(e,t.y)}function IEt(e){for(var t;t=e.children;)e=t[0];return e}function kEt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function REt(){var e=xEt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(d){var h=d.children;h?(d.x=SEt(h),d.y=CEt(h)):(d.x=o?a+=e(d,o):0,d.y=0,o=d)});var u=IEt(s),l=kEt(s),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return s.eachAfter(r?function(d){d.x=(d.x-s.x)*t,d.y=(s.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(s.y?d.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function NEt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function PEt(){return this.eachAfter(NEt)}function OEt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function DEt(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function $Et(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function MEt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function LEt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function FEt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function jEt(e){for(var t=this,n=BEt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function BEt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function UEt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function zEt(){return Array.from(this)}function VEt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function HEt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*qEt(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function KF(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=YEt)):t===void 0&&(t=GEt);for(var n=new yS(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new yS(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(aPe)}function WEt(){return KF(this).eachBefore(KEt)}function GEt(e){return e.children}function YEt(e){return Array.isArray(e)?e[1]:null}function KEt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function aPe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function yS(e){this.data=e,this.depth=this.height=0,this.parent=null}yS.prototype=KF.prototype={constructor:yS,count:PEt,each:OEt,eachAfter:$Et,eachBefore:DEt,find:MEt,sum:LEt,sort:FEt,path:jEt,ancestors:UEt,descendants:zEt,leaves:VEt,links:HEt,copy:WEt,[Symbol.iterator]:qEt};function C$(e){return e==null?null:uPe(e)}function uPe(e){if(typeof e!="function")throw new Error;return e}function X1(){return 0}function vE(e){return function(){return e}}const XEt=1664525,QEt=1013904223,kpe=4294967296;function JEt(){let e=1;return()=>(e=(XEt*e+QEt)%kpe)/kpe}function ZEt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ext(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function txt(e,t){for(var n=0,r=(e=ext(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&lPe(o,s)?++n:(o=rxt(i=nxt(i,s)),n=0);return o}function nxt(e,t){var n,r;if(uU(t,e))return[t];for(n=0;n<e.length;++n)if(VO(t,e[n])&&uU(pA(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(VO(pA(e[n],e[r]),t)&&VO(pA(e[n],t),e[r])&&VO(pA(e[r],t),e[n])&&uU(cPe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function VO(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function lPe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function uU(e,t){for(var n=0;n<t.length;++n)if(!lPe(e,t[n]))return!1;return!0}function rxt(e){switch(e.length){case 1:return ixt(e[0]);case 2:return pA(e[0],e[1]);case 3:return cPe(e[0],e[1],e[2])}}function ixt(e){return{x:e.x,y:e.y,r:e.r}}function pA(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function cPe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,m=i-c,g=u-s,y=f-s,v=r*r+i*i-s*s,b=v-o*o-a*a+u*u,w=v-l*l-c*c+f*f,E=h*p-d*m,x=(p*w-m*b)/(E*2)-r,S=(m*g-p*y)/E,C=(h*b-d*w)/(E*2)-i,I=(d*y-h*g)/E,k=S*S+I*I-1,R=2*(s+x*S+C*I),D=x*x+C*C-s*s,P=-(Math.abs(k)>1e-6?(R+Math.sqrt(R*R-4*k*D))/(2*k):D/R);return{x:r+x+S*P,y:i+C+I*P,r:P}}function Rpe(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Npe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Ppe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function HO(e){this._=e,this.next=null,this.previous=null}function sxt(e,t){if(!(s=(e=ZEt(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;Rpe(r,n,i=e[2]),n=new HO(n),r=new HO(r),i=new HO(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){Rpe(n._,r._,i=e[u]),i=new HO(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(Npe(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(Npe(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Ppe(n);(i=i.next)!==r;)(a=Ppe(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=txt(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function oxt(e){return Math.sqrt(e.value)}function fPe(){var e=null,t=1,n=1,r=X1;function i(s){const o=JEt();return s.x=t/2,s.y=n/2,e?s.eachBefore(Ope(e)).eachAfter(lU(r,.5,o)).eachBefore(Dpe(1)):s.eachBefore(Ope(oxt)).eachAfter(lU(X1,1,o)).eachAfter(lU(r,s.r/Math.min(t,n),o)).eachBefore(Dpe(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=C$(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:vE(+s),i):r},i}function Ope(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function lU(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=sxt(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function Dpe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function dPe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function gN(e,t,n,r,i){for(var s=e.children,o,a=-1,u=s.length,l=e.value&&(r-t)/e.value;++a<u;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function axt(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(dPe),o}function s(o,a){return function(u){u.children&&gN(u,u.x0,o*(u.depth+1)/a,u.x1,o*(u.depth+2)/a);var l=u.x0,c=u.y0,f=u.x1-n,d=u.y1-n;f<l&&(l=f=(l+f)/2),d<c&&(c=d=(c+d)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var uxt={depth:-1},$pe={},cU={};function lxt(e){return e.id}function cxt(e){return e.parentId}function Mpe(){var e=lxt,t=cxt,n;function r(i){var s=Array.from(i),o=e,a=t,u,l,c,f,d,h,p,m,g=new Map;if(n!=null){const y=s.map((w,E)=>fxt(n(w,E,i))),v=y.map(Lpe),b=new Set(y).add("");for(const w of v)b.has(w)||(b.add(w),y.push(w),v.push(Lpe(w)),s.push(cU));o=(w,E)=>y[E],a=(w,E)=>v[E]}for(c=0,u=s.length;c<u;++c)l=s[c],h=s[c]=new yS(l),(p=o(l,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?$pe:h)),(p=a(l,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<u;++c)if(h=s[c],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===$pe)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===cU&&f.children.length===1;)f=f.children[0],--u;for(let y=s.length-1;y>=0&&(h=s[y],h.data===cU);--y)h.data=null}if(f.parent=uxt,f.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(aPe),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=C$(i),r):e},r.parentId=function(i){return arguments.length?(t=C$(i),r):t},r.path=function(i){return arguments.length?(n=C$(i),r):n},r}function fxt(e){e=`${e}`;let t=e.length;return Cq(e,t-1)&&!Cq(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Lpe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Cq(e,t););return e.slice(0,t)}function Cq(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function dxt(e,t){return e.parent===t.parent?1:2}function fU(e){var t=e.children;return t?t[0]:e.t}function dU(e){var t=e.children;return t?t[t.length-1]:e.t}function hxt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function pxt(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function mxt(e,t,n){return e.a.parent===t.parent?e.a:n}function A$(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}A$.prototype=Object.create(yS.prototype);function gxt(e){for(var t=new A$(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new A$(s[o],o)),i.parent=n;return(t.parent=new A$(null,0)).children=[t],t}function yxt(){var e=dxt,t=1,n=1,r=null;function i(l){var c=gxt(l);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)l.eachBefore(u);else{var f=l,d=l,h=l;l.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,m=p-f.x,g=t/(d.x+p+m),y=n/(h.depth||1);l.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return l}function s(l){var c=l.children,f=l.parent.children,d=l.i?f[l.i-1]:null;if(c){pxt(l);var h=(c[0].z+c[c.length-1].z)/2;d?(l.z=d.z+e(l._,d._),l.m=l.z-h):l.z=h}else d&&(l.z=d.z+e(l._,d._));l.parent.A=a(l,d,l.parent.A||f[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function a(l,c,f){if(c){for(var d=l,h=l,p=c,m=d.parent.children[0],g=d.m,y=h.m,v=p.m,b=m.m,w;p=dU(p),d=fU(d),p&&d;)m=fU(m),h=dU(h),h.a=l,w=p.z+v-d.z-g+e(p._,d._),w>0&&(hxt(mxt(p,l,f),l,w),g+=w,y+=w),v+=p.m,g+=d.m,b+=m.m,y+=h.m;p&&!dU(h)&&(h.t=p,h.m+=v-y),d&&!fU(m)&&(m.t=d,m.m+=g-b,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function XF(e,t,n,r,i){for(var s=e.children,o,a=-1,u=s.length,l=e.value&&(i-n)/e.value;++a<u;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var hPe=(1+Math.sqrt(5))/2;function pPe(e,t,n,r,i,s){for(var o=[],a=t.children,u,l,c=0,f=0,d=a.length,h,p,m=t.value,g,y,v,b,w,E,x;c<d;){h=i-n,p=s-r;do g=a[f++].value;while(!g&&f<d);for(y=v=g,E=Math.max(p/h,h/p)/(m*e),x=g*g*E,w=Math.max(v/x,x/y);f<d;++f){if(g+=l=a[f].value,l<y&&(y=l),l>v&&(v=l),x=g*g*E,b=Math.max(v/x,x/y),b>w){g-=l;break}w=b}o.push(u={value:g,dice:h<p,children:a.slice(c,f)}),u.dice?gN(u,n,r,i,m?r+=p*g/m:s):XF(u,n,r,m?n+=h*g/m:i,s),m-=g,c=f}return o}const mPe=function e(t){function n(r,i,s,o,a){pPe(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hPe);function vxt(){var e=mPe,t=!1,n=1,r=1,i=[0],s=X1,o=X1,a=X1,u=X1,l=X1;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(dPe),d}function f(d){var h=i[d.depth],p=d.x0+h,m=d.y0+h,g=d.x1-h,y=d.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),d.x0=p,d.y0=m,d.x1=g,d.y1=y,d.children&&(h=i[d.depth+1]=s(d)/2,p+=l(d)-h,m+=o(d)-h,g-=a(d)-h,y-=u(d)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(d,p,m,g,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=uPe(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(s=typeof d=="function"?d:vE(+d),c):s},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:vE(+d),c):o},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:vE(+d),c):a},c.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:vE(+d),c):u},c.paddingLeft=function(d){return arguments.length?(l=typeof d=="function"?d:vE(+d),c):l},c}function bxt(e,t,n,r,i){var s=e.children,o,a=s.length,u,l=new Array(a+1);for(l[0]=u=o=0;o<a;++o)l[o+1]=u+=s[o].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,m,g,y){if(f>=d-1){var v=s[f];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var b=l[f],w=h/2+b,E=f+1,x=d-1;E<x;){var S=E+x>>>1;l[S]<w?E=S+1:x=S}w-l[E-1]<l[E]-w&&f+1<E&&--E;var C=l[E]-b,I=h-C;if(g-p>y-m){var k=h?(p*I+g*C)/h:g;c(f,E,C,p,m,k,y),c(E,d,I,k,m,g,y)}else{var R=h?(m*I+y*C)/h:y;c(f,E,C,p,m,g,R),c(E,d,I,p,R,g,y)}}}function _xt(e,t,n,r,i){(e.depth&1?XF:gN)(e,t,n,r,i)}const wxt=function e(t){function n(r,i,s,o,a){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,f,d=-1,h,p=u.length,m=r.value;++d<p;){for(l=u[d],c=l.children,f=l.value=0,h=c.length;f<h;++f)l.value+=c[f].value;l.dice?gN(l,i,s,o,m?s+=(a-s)*l.value/m:a):XF(l,i,s,m?i+=(o-i)*l.value/m:o,a),m-=l.value}else r._squarify=u=pPe(t,r,i,s,o,a),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hPe);function Kd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Aq=Symbol("implicit");function qT(){var e=new vhe,t=[],n=[],r=Aq;function i(s){let o=e.get(s);if(o===void 0){if(r!==Aq)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new vhe;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return qT(t,n).unknown(r)},Kd.apply(i,arguments),i}function yN(){var e=qT().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var g=yl(d).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return yN(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},Kd.apply(f(),arguments)}function Ext(e){return function(){return e}}function Iq(e){return+e}var Fpe=[0,1];function vl(e){return e}function kq(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ext(isNaN(t)?NaN:.5)}function xxt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Sxt(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=kq(i,r),s=n(o,s)):(r=kq(r,i),s=n(s,o)),function(a){return s(r(a))}}function Txt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=kq(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=Xy(e,a,1,r)-1;return s[u](i[u](a))}}function vN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QF(){var e=Fpe,t=Fpe,n=e0,r,i,s,o=vl,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==vl&&(o=xxt(e[0],e[d-1])),a=d>2?Txt:Sxt,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),sf)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Iq),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=dN,c()},f.clamp=function(d){return arguments.length?(o=d?!0:vl,c()):o!==vl},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function gPe(){return QF()(vl,vl)}function yPe(e,t,n,r){var i=Qy(e,t,n),s;switch(r=r_(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=vNe(i,o))&&(r.precision=s),sZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=bNe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=yNe(i))&&(r.precision=s-(r.type==="%")*2);break}}return VT(r)}function nw(e){var t=e.domain;return e.ticks=function(n){var r=t();return UH(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return yPe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=zH(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function Tg(){var e=gPe();return e.copy=function(){return vN(e,Tg())},Kd.apply(e,arguments),nw(e)}function vPe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Iq),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vPe(e).unknown(t)},e=arguments.length?Array.from(e,Iq):[0,1],nw(n)}function bPe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function jpe(e){return Math.log(e)}function Bpe(e){return Math.exp(e)}function Cxt(e){return-Math.log(-e)}function Axt(e){return-Math.exp(-e)}function Ixt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kxt(e){return e===10?Ixt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Rxt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Upe(e){return(t,n)=>-e(-t,n)}function hZ(e){const t=e(jpe,Bpe),n=t.domain;let r=10,i,s;function o(){return i=Rxt(r),s=kxt(r),n()[0]<0?(i=Upe(i),s=Upe(s),e(Cxt,Axt)):e(jpe,Bpe),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/s(-d):p*s(d),!(m<l)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/s(-d):p*s(d),!(m<l)){if(m>c)break;y.push(m)}y.length*2<g&&(y=UH(l,c,g))}else y=UH(d,h,Math.min(h-d,g)).map(s);return f?y.reverse():y},t.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=r_(u)).precision==null&&(u.trim=!0),u=VT(u)),a===1/0)return u;const l=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(bPe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function _Pe(){const e=hZ(QF()).domain([1,10]);return e.copy=()=>vN(e,_Pe()).base(e.base()),Kd.apply(e,arguments),e}function zpe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Vpe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pZ(e){var t=1,n=e(zpe(t),Vpe(t));return n.constant=function(r){return arguments.length?e(zpe(t=+r),Vpe(t)):t},nw(n)}function wPe(){var e=pZ(QF());return e.copy=function(){return vN(e,wPe()).constant(e.constant())},Kd.apply(e,arguments)}function Hpe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nxt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pxt(e){return e<0?-e*e:e*e}function mZ(e){var t=e(vl,vl),n=1;function r(){return n===1?e(vl,vl):n===.5?e(Nxt,Pxt):e(Hpe(n),Hpe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},nw(t)}function gZ(){var e=mZ(QF());return e.copy=function(){return vN(e,gZ()).exponent(e.exponent())},Kd.apply(e,arguments),e}function Oxt(){return gZ.apply(null,arguments).exponent(.5)}function EPe(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=gRe(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Xy(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zm),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return EPe().domain(e).range(t).unknown(r)},Kd.apply(s,arguments)}function xPe(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[Xy(r,u,0,n)]:s}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,a()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return xPe().domain([e,t]).range(i).unknown(s)},Kd.apply(nw(o),arguments)}function SPe(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Xy(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return SPe().domain(e).range(t).unknown(n)},Kd.apply(i,arguments)}const hU=new Date,pU=new Date;function wo(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>wo(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(hU.setTime(+s),pU.setTime(+o),e(hU),e(pU),Math.floor(n(hU,pU))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const vS=wo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vS);vS.range;const Um=1e3,df=Um*60,zm=df*60,Cg=zm*24,yZ=Cg*7,qpe=Cg*30,mU=Cg*365,Vm=wo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Um)},(e,t)=>(t-e)/Um,e=>e.getUTCSeconds());Vm.range;const JF=wo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Um)},(e,t)=>{e.setTime(+e+t*df)},(e,t)=>(t-e)/df,e=>e.getMinutes());JF.range;const ZF=wo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*df)},(e,t)=>(t-e)/df,e=>e.getUTCMinutes());ZF.range;const e5=wo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Um-e.getMinutes()*df)},(e,t)=>{e.setTime(+e+t*zm)},(e,t)=>(t-e)/zm,e=>e.getHours());e5.range;const t5=wo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zm)},(e,t)=>(t-e)/zm,e=>e.getUTCHours());t5.range;const tg=wo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*df)/Cg,e=>e.getDate()-1);tg.range;const Iy=wo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cg,e=>e.getUTCDate()-1);Iy.range;const TPe=wo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cg,e=>Math.floor(e/Cg));TPe.range;function rw(e){return wo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*df)/yZ)}const WT=rw(0),J3=rw(1),Dxt=rw(2),$xt=rw(3),bS=rw(4),Mxt=rw(5),Lxt=rw(6);WT.range;J3.range;Dxt.range;$xt.range;bS.range;Mxt.range;Lxt.range;function iw(e){return wo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yZ)}const GT=iw(0),Z3=iw(1),Fxt=iw(2),jxt=iw(3),_S=iw(4),Bxt=iw(5),Uxt=iw(6);GT.range;Z3.range;Fxt.range;jxt.range;_S.range;Bxt.range;Uxt.range;const Mk=wo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mk.range;const Lk=wo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lk.range;const bp=wo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bp.range;const _p=wo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_p.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_p.range;function CPe(e,t,n,r,i,s){const o=[[Vm,1,Um],[Vm,5,5*Um],[Vm,15,15*Um],[Vm,30,30*Um],[s,1,df],[s,5,5*df],[s,15,15*df],[s,30,30*df],[i,1,zm],[i,3,3*zm],[i,6,6*zm],[i,12,12*zm],[r,1,Cg],[r,2,2*Cg],[n,1,yZ],[t,1,qpe],[t,3,3*qpe],[e,1,mU]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=UT(([,,g])=>g).right(o,d);if(h===o.length)return e.every(Qy(l/mU,c/mU,f));if(h===0)return vS.every(Math.max(Qy(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[zxt,Vxt]=CPe(_p,Lk,GT,TPe,t5,ZF),[Hxt,qxt]=CPe(bp,Mk,WT,tg,e5,JF);function gU(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yU(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function m2(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function APe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=g2(i),c=y2(i),f=g2(s),d=y2(s),h=g2(o),p=y2(o),m=g2(a),g=y2(a),y=g2(u),v=y2(u),b={a:B,A:z,b:H,B:O,c:null,d:Qpe,e:Qpe,f:pSt,g:SSt,G:CSt,H:fSt,I:dSt,j:hSt,L:IPe,m:mSt,M:gSt,p:U,q,Q:eme,s:tme,S:ySt,u:vSt,U:bSt,V:_St,w:wSt,W:ESt,x:null,X:null,y:xSt,Y:TSt,Z:ASt,"%":Zpe},w={a:F,A:V,b:G,B:Z,c:null,d:Jpe,e:Jpe,f:NSt,g:USt,G:VSt,H:ISt,I:kSt,j:RSt,L:RPe,m:PSt,M:OSt,p:ae,q:re,Q:eme,s:tme,S:DSt,u:$St,U:MSt,V:LSt,w:FSt,W:jSt,x:null,X:null,y:BSt,Y:zSt,Z:HSt,"%":Zpe},E={a:k,A:R,b:D,B:P,c:$,d:Kpe,e:Kpe,f:aSt,g:Ype,G:Gpe,H:Xpe,I:Xpe,j:rSt,L:oSt,m:nSt,M:iSt,p:I,q:tSt,Q:lSt,s:cSt,S:sSt,u:Xxt,U:Qxt,V:Jxt,w:Kxt,W:Zxt,x:L,X:M,y:Ype,Y:Gpe,Z:eSt,"%":uSt};b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),w.x=x(n,w),w.X=x(r,w),w.c=x(t,w);function x(ue,pe){return function(xe){var ve=[],We=-1,Be=0,ht=ue.length,Je,we,Ae;for(xe instanceof Date||(xe=new Date(+xe));++We<ht;)ue.charCodeAt(We)===37&&(ve.push(ue.slice(Be,We)),(we=Wpe[Je=ue.charAt(++We)])!=null?Je=ue.charAt(++We):we=Je==="e"?" ":"0",(Ae=pe[Je])&&(Je=Ae(xe,we)),ve.push(Je),Be=We+1);return ve.push(ue.slice(Be,We)),ve.join("")}}function S(ue,pe){return function(xe){var ve=m2(1900,void 0,1),We=C(ve,ue,xe+="",0),Be,ht;if(We!=xe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(pe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Be=yU(m2(ve.y,0,1)),ht=Be.getUTCDay(),Be=ht>4||ht===0?Z3.ceil(Be):Z3(Be),Be=Iy.offset(Be,(ve.V-1)*7),ve.y=Be.getUTCFullYear(),ve.m=Be.getUTCMonth(),ve.d=Be.getUTCDate()+(ve.w+6)%7):(Be=gU(m2(ve.y,0,1)),ht=Be.getDay(),Be=ht>4||ht===0?J3.ceil(Be):J3(Be),Be=tg.offset(Be,(ve.V-1)*7),ve.y=Be.getFullYear(),ve.m=Be.getMonth(),ve.d=Be.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ht="Z"in ve?yU(m2(ve.y,0,1)).getUTCDay():gU(m2(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ht+5)%7:ve.w+ve.U*7-(ht+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,yU(ve)):gU(ve)}}function C(ue,pe,xe,ve){for(var We=0,Be=pe.length,ht=xe.length,Je,we;We<Be;){if(ve>=ht)return-1;if(Je=pe.charCodeAt(We++),Je===37){if(Je=pe.charAt(We++),we=E[Je in Wpe?pe.charAt(We++):Je],!we||(ve=we(ue,xe,ve))<0)return-1}else if(Je!=xe.charCodeAt(ve++))return-1}return ve}function I(ue,pe,xe){var ve=l.exec(pe.slice(xe));return ve?(ue.p=c.get(ve[0].toLowerCase()),xe+ve[0].length):-1}function k(ue,pe,xe){var ve=h.exec(pe.slice(xe));return ve?(ue.w=p.get(ve[0].toLowerCase()),xe+ve[0].length):-1}function R(ue,pe,xe){var ve=f.exec(pe.slice(xe));return ve?(ue.w=d.get(ve[0].toLowerCase()),xe+ve[0].length):-1}function D(ue,pe,xe){var ve=y.exec(pe.slice(xe));return ve?(ue.m=v.get(ve[0].toLowerCase()),xe+ve[0].length):-1}function P(ue,pe,xe){var ve=m.exec(pe.slice(xe));return ve?(ue.m=g.get(ve[0].toLowerCase()),xe+ve[0].length):-1}function $(ue,pe,xe){return C(ue,t,pe,xe)}function L(ue,pe,xe){return C(ue,n,pe,xe)}function M(ue,pe,xe){return C(ue,r,pe,xe)}function B(ue){return o[ue.getDay()]}function z(ue){return s[ue.getDay()]}function H(ue){return u[ue.getMonth()]}function O(ue){return a[ue.getMonth()]}function U(ue){return i[+(ue.getHours()>=12)]}function q(ue){return 1+~~(ue.getMonth()/3)}function F(ue){return o[ue.getUTCDay()]}function V(ue){return s[ue.getUTCDay()]}function G(ue){return u[ue.getUTCMonth()]}function Z(ue){return a[ue.getUTCMonth()]}function ae(ue){return i[+(ue.getUTCHours()>=12)]}function re(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var pe=x(ue+="",b);return pe.toString=function(){return ue},pe},parse:function(ue){var pe=S(ue+="",!1);return pe.toString=function(){return ue},pe},utcFormat:function(ue){var pe=x(ue+="",w);return pe.toString=function(){return ue},pe},utcParse:function(ue){var pe=S(ue+="",!0);return pe.toString=function(){return ue},pe}}}var Wpe={"-":"",_:" ",0:"0"},Wo=/^\s*\d+/,Wxt=/^%/,Gxt=/[\\^$*+?|[\]().{}]/g;function Fr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Yxt(e){return e.replace(Gxt,"\\$&")}function g2(e){return new RegExp("^(?:"+e.map(Yxt).join("|")+")","i")}function y2(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Kxt(e,t,n){var r=Wo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Xxt(e,t,n){var r=Wo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qxt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jxt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Zxt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Gpe(e,t,n){var r=Wo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ype(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eSt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tSt(e,t,n){var r=Wo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nSt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kpe(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rSt(e,t,n){var r=Wo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xpe(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iSt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sSt(e,t,n){var r=Wo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function oSt(e,t,n){var r=Wo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function aSt(e,t,n){var r=Wo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uSt(e,t,n){var r=Wxt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lSt(e,t,n){var r=Wo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function cSt(e,t,n){var r=Wo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qpe(e,t){return Fr(e.getDate(),t,2)}function fSt(e,t){return Fr(e.getHours(),t,2)}function dSt(e,t){return Fr(e.getHours()%12||12,t,2)}function hSt(e,t){return Fr(1+tg.count(bp(e),e),t,3)}function IPe(e,t){return Fr(e.getMilliseconds(),t,3)}function pSt(e,t){return IPe(e,t)+"000"}function mSt(e,t){return Fr(e.getMonth()+1,t,2)}function gSt(e,t){return Fr(e.getMinutes(),t,2)}function ySt(e,t){return Fr(e.getSeconds(),t,2)}function vSt(e){var t=e.getDay();return t===0?7:t}function bSt(e,t){return Fr(WT.count(bp(e)-1,e),t,2)}function kPe(e){var t=e.getDay();return t>=4||t===0?bS(e):bS.ceil(e)}function _St(e,t){return e=kPe(e),Fr(bS.count(bp(e),e)+(bp(e).getDay()===4),t,2)}function wSt(e){return e.getDay()}function ESt(e,t){return Fr(J3.count(bp(e)-1,e),t,2)}function xSt(e,t){return Fr(e.getFullYear()%100,t,2)}function SSt(e,t){return e=kPe(e),Fr(e.getFullYear()%100,t,2)}function TSt(e,t){return Fr(e.getFullYear()%1e4,t,4)}function CSt(e,t){var n=e.getDay();return e=n>=4||n===0?bS(e):bS.ceil(e),Fr(e.getFullYear()%1e4,t,4)}function ASt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fr(t/60|0,"0",2)+Fr(t%60,"0",2)}function Jpe(e,t){return Fr(e.getUTCDate(),t,2)}function ISt(e,t){return Fr(e.getUTCHours(),t,2)}function kSt(e,t){return Fr(e.getUTCHours()%12||12,t,2)}function RSt(e,t){return Fr(1+Iy.count(_p(e),e),t,3)}function RPe(e,t){return Fr(e.getUTCMilliseconds(),t,3)}function NSt(e,t){return RPe(e,t)+"000"}function PSt(e,t){return Fr(e.getUTCMonth()+1,t,2)}function OSt(e,t){return Fr(e.getUTCMinutes(),t,2)}function DSt(e,t){return Fr(e.getUTCSeconds(),t,2)}function $St(e){var t=e.getUTCDay();return t===0?7:t}function MSt(e,t){return Fr(GT.count(_p(e)-1,e),t,2)}function NPe(e){var t=e.getUTCDay();return t>=4||t===0?_S(e):_S.ceil(e)}function LSt(e,t){return e=NPe(e),Fr(_S.count(_p(e),e)+(_p(e).getUTCDay()===4),t,2)}function FSt(e){return e.getUTCDay()}function jSt(e,t){return Fr(Z3.count(_p(e)-1,e),t,2)}function BSt(e,t){return Fr(e.getUTCFullYear()%100,t,2)}function USt(e,t){return e=NPe(e),Fr(e.getUTCFullYear()%100,t,2)}function zSt(e,t){return Fr(e.getUTCFullYear()%1e4,t,4)}function VSt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_S(e):_S.ceil(e),Fr(e.getUTCFullYear()%1e4,t,4)}function HSt(){return"+0000"}function Zpe(){return"%"}function eme(e){return+e}function tme(e){return Math.floor(+e/1e3)}var Yw,vZ,PPe,n5,OPe;qSt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qSt(e){return Yw=APe(e),vZ=Yw.format,PPe=Yw.parse,n5=Yw.utcFormat,OPe=Yw.utcParse,Yw}function WSt(e){return new Date(e)}function GSt(e){return e instanceof Date?+e:+new Date(+e)}function bZ(e,t,n,r,i,s,o,a,u,l){var c=gPe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),b=l("%B"),w=l("%Y");function E(x){return(u(x)<x?h:a(x)<x?p:o(x)<x?m:s(x)<x?g:r(x)<x?i(x)<x?y:v:n(x)<x?b:w)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?d(Array.from(x,GSt)):d().map(WSt)},c.ticks=function(x){var S=d();return e(S[0],S[S.length-1],x??10)},c.tickFormat=function(x,S){return S==null?E:l(S)},c.nice=function(x){var S=d();return(!x||typeof x.range!="function")&&(x=t(S[0],S[S.length-1],x??10)),x?d(bPe(S,x)):c},c.copy=function(){return vN(c,bZ(e,t,n,r,i,s,o,a,u,l))},c}function DPe(){return Kd.apply(bZ(Hxt,qxt,bp,Mk,WT,tg,e5,JF,Vm,vZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YSt(){return Kd.apply(bZ(zxt,Vxt,_p,Lk,GT,Iy,t5,ZF,Vm,n5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function r5(){var e=0,t=1,n,r,i,s,o=vl,a=!1,u;function l(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(o=f,l):o};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,o=f(h,p),l):[o(0),o(1)]}}return l.range=c(e0),l.rangeRound=c(dN),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function qv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _Z(){var e=nw(r5()(vl));return e.copy=function(){return qv(e,_Z())},Hv.apply(e,arguments)}function $Pe(){var e=hZ(r5()).domain([1,10]);return e.copy=function(){return qv(e,$Pe()).base(e.base())},Hv.apply(e,arguments)}function MPe(){var e=pZ(r5());return e.copy=function(){return qv(e,MPe()).constant(e.constant())},Hv.apply(e,arguments)}function wZ(){var e=mZ(r5());return e.copy=function(){return qv(e,wZ()).exponent(e.exponent())},Hv.apply(e,arguments)}function KSt(){return wZ.apply(null,arguments).exponent(.5)}function i5(){var e=0,t=.5,n=1,r=1,i,s,o,a,u,l=vl,c,f=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:u),l(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var y,v,b;return arguments.length?([y,v,b]=g,l=KJ(m,[y,v,b]),h):[l(0),l(.5),l(1)]}}return h.range=p(e0),h.rangeRound=p(dN),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function LPe(){var e=nw(i5()(vl));return e.copy=function(){return qv(e,LPe())},Hv.apply(e,arguments)}function FPe(){var e=hZ(i5()).domain([.1,1,10]);return e.copy=function(){return qv(e,FPe()).base(e.base())},Hv.apply(e,arguments)}function jPe(){var e=pZ(i5());return e.copy=function(){return qv(e,jPe()).constant(e.constant())},Hv.apply(e,arguments)}function EZ(){var e=mZ(i5());return e.copy=function(){return qv(e,EZ()).exponent(e.exponent())},Hv.apply(e,arguments)}function XSt(){return EZ.apply(null,arguments).exponent(.5)}function Xd(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const QSt=Xd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),JSt=Xd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ZSt=Xd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),eTt=Xd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),tTt=Xd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),nTt=Xd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),rTt=Xd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iTt=Xd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sTt=Xd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),oTt=Xd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),BPe=Xd("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Vn(e){return function(){return e}}const nme=Math.abs,Pa=Math.atan2,g1=Math.cos,aTt=Math.max,vU=Math.min,fh=Math.sin,gb=Math.sqrt,$a=1e-12,wS=Math.PI,eL=wS/2,mI=2*wS;function uTt(e){return e>1?0:e<-1?wS:Math.acos(e)}function rme(e){return e>=1?eL:e<=-1?-eL:Math.asin(e)}function s5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eZ(t)}function lTt(e){return e.innerRadius}function cTt(e){return e.outerRadius}function fTt(e){return e.startAngle}function dTt(e){return e.endAngle}function hTt(e){return e&&e.padAngle}function pTt(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<$a))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function qO(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/gb(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,g=(d+p)/2,y=(h+m)/2,v=p-d,b=m-h,w=v*v+b*b,E=i-s,x=d*m-p*h,S=(b<0?-1:1)*gb(aTt(0,E*E*w-x*x)),C=(x*b-v*S)/w,I=(-x*v-b*S)/w,k=(x*b+v*S)/w,R=(-x*v+b*S)/w,D=C-g,P=I-y,$=k-g,L=R-y;return D*D+P*P>$*$+L*L&&(C=k,I=R),{cx:C,cy:I,x01:-c,y01:-f,x11:C*(i/E-1),y11:I*(i/E-1)}}function Rq(){var e=lTt,t=cTt,n=Vn(0),r=null,i=fTt,s=dTt,o=hTt,a=null,u=s5(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-eL,m=s.apply(this,arguments)-eL,g=nme(m-p),y=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>$a))a.moveTo(0,0);else if(g>mI-$a)a.moveTo(h*g1(p),h*fh(p)),a.arc(0,0,h,p,m,!y),d>$a&&(a.moveTo(d*g1(m),d*fh(m)),a.arc(0,0,d,m,p,y));else{var v=p,b=m,w=p,E=m,x=g,S=g,C=o.apply(this,arguments)/2,I=C>$a&&(r?+r.apply(this,arguments):gb(d*d+h*h)),k=vU(nme(h-d)/2,+n.apply(this,arguments)),R=k,D=k,P,$;if(I>$a){var L=rme(I/d*fh(C)),M=rme(I/h*fh(C));(x-=L*2)>$a?(L*=y?1:-1,w+=L,E-=L):(x=0,w=E=(p+m)/2),(S-=M*2)>$a?(M*=y?1:-1,v+=M,b-=M):(S=0,v=b=(p+m)/2)}var B=h*g1(v),z=h*fh(v),H=d*g1(E),O=d*fh(E);if(k>$a){var U=h*g1(b),q=h*fh(b),F=d*g1(w),V=d*fh(w),G;if(g<wS)if(G=pTt(B,z,F,V,U,q,H,O)){var Z=B-G[0],ae=z-G[1],re=U-G[0],ue=q-G[1],pe=1/fh(uTt((Z*re+ae*ue)/(gb(Z*Z+ae*ae)*gb(re*re+ue*ue)))/2),xe=gb(G[0]*G[0]+G[1]*G[1]);R=vU(k,(d-xe)/(pe-1)),D=vU(k,(h-xe)/(pe+1))}else R=D=0}S>$a?D>$a?(P=qO(F,V,B,z,h,D,y),$=qO(U,q,H,O,h,D,y),a.moveTo(P.cx+P.x01,P.cy+P.y01),D<k?a.arc(P.cx,P.cy,D,Pa(P.y01,P.x01),Pa($.y01,$.x01),!y):(a.arc(P.cx,P.cy,D,Pa(P.y01,P.x01),Pa(P.y11,P.x11),!y),a.arc(0,0,h,Pa(P.cy+P.y11,P.cx+P.x11),Pa($.cy+$.y11,$.cx+$.x11),!y),a.arc($.cx,$.cy,D,Pa($.y11,$.x11),Pa($.y01,$.x01),!y))):(a.moveTo(B,z),a.arc(0,0,h,v,b,!y)):a.moveTo(B,z),!(d>$a)||!(x>$a)?a.lineTo(H,O):R>$a?(P=qO(H,O,U,q,d,-R,y),$=qO(B,z,F,V,d,-R,y),a.lineTo(P.cx+P.x01,P.cy+P.y01),R<k?a.arc(P.cx,P.cy,R,Pa(P.y01,P.x01),Pa($.y01,$.x01),!y):(a.arc(P.cx,P.cy,R,Pa(P.y01,P.x01),Pa(P.y11,P.x11),!y),a.arc(0,0,d,Pa(P.cy+P.y11,P.cx+P.x11),Pa($.cy+$.y11,$.cx+$.x11),y),a.arc($.cx,$.cy,R,Pa($.y11,$.x11),Pa($.y01,$.x01),!y))):a.arc(0,0,d,E,w,y)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-wS/2;return[g1(f)*c,fh(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Vn(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Vn(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Vn(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Vn(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Vn(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Vn(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Vn(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function o5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UPe(e){this._context=e}UPe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xZ(e){return new UPe(e)}function zPe(e){return e[0]}function VPe(e){return e[1]}function HPe(e,t){var n=Vn(!0),r=null,i=xZ,s=null,o=s5(a);e=typeof e=="function"?e:e===void 0?zPe:Vn(e),t=typeof t=="function"?t:t===void 0?VPe:Vn(t);function a(u){var l,c=(u=o5(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:Vn(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:Vn(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Vn(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function qPe(e,t,n){var r=null,i=Vn(!0),s=null,o=xZ,a=null,u=s5(l);e=typeof e=="function"?e:e===void 0?zPe:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?VPe:Vn(+n);function l(f){var d,h,p,m=(f=o5(f)).length,g,y=!1,v,b=new Array(m),w=new Array(m);for(s==null&&(a=o(v=u())),d=0;d<=m;++d){if(!(d<m&&i(g=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],w[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(g,d,f),w[d]=+t(g,d,f),a.point(r?+r(g,d,f):b[d],n?+n(g,d,f):w[d]))}if(v)return a=null,v+""||null}function c(){return HPe().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vn(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vn(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function mTt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function gTt(e){return e}function yTt(){var e=gTt,t=mTt,n=null,r=Vn(0),i=Vn(mI),s=Vn(0);function o(a){var u,l=(a=o5(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),m=+r.apply(this,arguments),g=Math.min(mI,Math.max(-mI,i.apply(this,arguments)-m)),y,v=Math.min(Math.abs(g)/l,s.apply(this,arguments)),b=v*(g<0?-1:1),w;for(u=0;u<l;++u)(w=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=w);for(t!=null?h.sort(function(E,x){return t(p[E],p[x])}):n!=null&&h.sort(function(E,x){return n(a[E],a[x])}),u=0,f=d?(g-l*b)/d:0;u<l;++u,m=y)c=h[u],w=p[c],y=m+(w>0?w*f:0)+b,p[c]={data:a[c],index:u,value:w,startAngle:m,endAngle:y,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Vn(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Vn(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Vn(+a),o):s},o}const vTt={draw(e,t){const n=gb(t/wS);e.moveTo(n,0),e.arc(0,0,n,0,mI)}};function bTt(e,t){let n=null,r=s5(i);e=typeof e=="function"?e:Vn(e||vTt),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Vn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Vn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Zy(){}function tL(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function a5(e){this._context=e}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Tt(e){return new a5(e)}function WPe(e){this._context=e}WPe.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wTt(e){return new WPe(e)}function GPe(e){this._context=e}GPe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tL(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ETt(e){return new GPe(e)}function YPe(e,t){this._basis=new a5(e),this._beta=t}YPe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+u*s),this._beta*t[a]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const xTt=function e(t){function n(r){return t===1?new a5(r):new YPe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function nL(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function SZ(e,t){this._context=e,this._k=(1-t)/6}SZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nL(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:nL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const STt=function e(t){function n(r){return new SZ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function TZ(e,t){this._context=e,this._k=(1-t)/6}TZ.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:nL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const TTt=function e(t){function n(r){return new TZ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function CZ(e,t){this._context=e,this._k=(1-t)/6}CZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const CTt=function e(t){function n(r){return new CZ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function AZ(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>$a){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>$a){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function KPe(e,t){this._context=e,this._alpha=t}KPe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ATt=function e(t){function n(r){return t?new KPe(r,t):new SZ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function XPe(e,t){this._context=e,this._alpha=t}XPe.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ITt=function e(t){function n(r){return t?new XPe(r,t):new TZ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function QPe(e,t){this._context=e,this._alpha=t}QPe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:AZ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kTt=function e(t){function n(r){return t?new QPe(r,t):new CZ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function JPe(e){this._context=e}JPe.prototype={areaStart:Zy,areaEnd:Zy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RTt(e){return new JPe(e)}function ime(e){return e<0?-1:1}function sme(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(ime(s)+ime(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function ome(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bU(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function rL(e){this._context=e}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bU(this,this._t0,ome(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bU(this,ome(this,n=sme(this,e,t)),n);break;default:bU(this,this._t0,n=sme(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZPe(e){this._context=new eOe(e)}(ZPe.prototype=Object.create(rL.prototype)).point=function(e,t){rL.prototype.point.call(this,t,e)};function eOe(e){this._context=e}eOe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function NTt(e){return new rL(e)}function PTt(e){return new ZPe(e)}function tOe(e){this._context=e}tOe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ame(e),i=ame(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ame(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function OTt(e){return new tOe(e)}function u5(e,t){this._context=e,this._t=t}u5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DTt(e){return new u5(e,.5)}function $Tt(e){return new u5(e,0)}function MTt(e){return new u5(e,1)}function ume(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lme(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function LTt(e,t){return e[t]}function FTt(e){const t=[];return t.key=e,t}function jTt(){var e=Vn([]),t=lme,n=ume,r=LTt;function i(s){var o=Array.from(e.apply(this,arguments),FTt),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=o5(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Vn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Vn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?lme:typeof s=="function"?s:Vn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??ume,i):n},i}function mA(e,t,n){this.k=e,this.x=t,this.y=n}mA.prototype={constructor:mA,scale:function(e){return e===1?this:new mA(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mA(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};mA.prototype;function IZ({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=A.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=A.useCallback(c=>(s?n5("%B"):VT(".2s"))(c),[s]);return _.jsxs(_.Fragment,{children:[_.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:_.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:_.jsx(vg,{children:_.jsx(to,{gap:3,children:_.jsx(lt,{size:a?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),_.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?_.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>_.jsxs("g",{transform:`translate(${f}, ${n})`,children:[_.jsx("line",{y2:"6",stroke:"currentColor"}),o?_.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,_.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:_.jsx(vg,{children:_.jsx(Qi,{withinPortal:!0,label:c,children:_.jsx(lt,{px:2,size:"10px",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const BTt=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:IZ},Symbol.toStringTag,{value:"Module"}));function nOe({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=A.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return _.jsxs(_.Fragment,{children:[_.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:_.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:_.jsx(vg,{children:_.jsx(to,{gap:3,children:_.jsx(lt,{size:o?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),_.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?_.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>_.jsxs("g",{transform:`translate(${n}, ${l})`,children:[_.jsx("line",{x2:"-6",stroke:"currentColor"}),s?_.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,_.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:_.jsx("foreignObject",{width:a,height:20,children:_.jsx(to,{style:{width:"100%",height:"100%"},justify:"right",children:_.jsx(lt,{style:{textOverflow:"ellipsis",overflow:"hidden"},size:"10px",children:u})})})},u)]},u))]})}const UTt=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:nOe},Symbol.toStringTag,{value:"Module"})),zc={top:15,left:100,right:50,bottom:50};function Nq({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=kb(),o=A.useMemo(()=>s-zc.left-zc.right,[s]),a=A.useMemo(()=>i-zc.top-zc.bottom,[i]),u=A.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return qT(BPe).domain(d)},[n,t.category]),l=A.useMemo(()=>e?Tg([zc.left,o+zc.left]).domain([0,Ay(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=A.useMemo(()=>e?yN([zc.top,a+zc.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=A.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:_.jsxs("g",{children:[_.jsx("rect",{x:zc.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-zc.left},h),_.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?_.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[_.jsx(IZ,{xScale:l,yRange:c.range(),vertPosition:a+zc.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?_.jsx(nOe,{yScale:c,horizontalPosition:zc.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):_.jsx(Fp,{})}const zTt=Object.freeze(Object.defineProperty({__proto__:null,Bar:Nq,default:Nq},Symbol.toStringTag,{value:"Module"})),$r=Array.isArray;function Dl(e){return e!=null?$r(e)?e:[e]:[]}function VTt(e=0,t=1/0){return`${cme(e)} < row_number() && row_number() <= ${cme(t)}`}function cme(e){return e<0?`count() + ${e}`:e}class rOe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(VTt(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Dl(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Hn(e){throw Error(e)}function Du(e){return typeof e=="number"}function Bi(e){return typeof e=="function"}function l5(e,t){const n=Array(e);if(Bi(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let HTt=class extends rOe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Hn("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Hn("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Hn("Not implemented")}getter(t){Hn("Not implemented")}objects(t){Hn("Not implemented")}object(t){Hn("Not implemented")}[Symbol.iterator](){Hn("Not implemented")}print(t={}){Du(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=l5(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},qTt=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},WTt=function(e){return e&&Bi(e.get)?e:new qTt(e)};function Ag(e){return e instanceof Date}function Za(e){return e===Object(e)}function iL(e){return e instanceof RegExp}function Ea(e){return typeof e=="string"}function GTt(e,t){const n=r=>Hn(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?fme(e.entries(),t):Ag(e)?n("Date"):iL(e)?n("RegExp"):Ea(e)?n():$r(e)?YTt(e,t):Bi(e[Symbol.iterator])?KTt(e,t):Za(e)?fme(Object.entries(e),t):n()}function fme(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function YTt(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function KTt(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:XTt}=Object.prototype;function Fd(e,t){return XTt.call(e,t)}function Lc(e){return e?new dme({...e.data()},e.columnNames()):new dme}class dme{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Fd(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const Cr=void 0,QTt=Object.getPrototypeOf(Int8Array);function bN(e){return e instanceof QTt}function yb(e){return $r(e)||bN(e)}function Ed(e){return e!=null&&e===e}const v2=e=>yb(e)||Ea(e),JTt={compact:e=>yb(e)?e.filter(t=>Ed(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>v2(e)?e.includes(t,n):!1,indexof:(e,t)=>v2(e)?e.indexOf(t):-1,join:(e,t)=>yb(e)?e.join(t):Cr,lastindexof:(e,t)=>v2(e)?e.lastIndexOf(t):-1,length:e=>v2(e)?e.length:0,pluck:(e,t)=>yb(e)?e.map(n=>Ed(n)?n[t]:Cr):Cr,reverse:e=>yb(e)?e.slice().reverse():Ea(e)?e.split("").reverse().join(""):Cr,slice:(e,t,n)=>v2(e)?e.slice(t,n):Cr};function ZTt(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function I$(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const dh=e=>(e<10?"0":"")+e,eCt=e=>e<0?"-"+I$(-e,6):e>9999?"+"+I$(e,6):I$(e,4);function iOe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return eCt(e)+"-"+dh(t+1)+"-"+dh(n)+(!u||o?"T"+dh(r)+":"+dh(i)+":"+dh(s)+"."+I$(o,3)+l:s?"T"+dh(r)+":"+dh(i)+":"+dh(s)+l:i||r||!a?"T"+dh(r)+":"+dh(i)+l:"")}function sOe(e,t){return isNaN(e)?"Invalid Date":iOe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function c5(e,t){return isNaN(e)?"Invalid Date":iOe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const tCt=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function nCt(e){return e.match(tCt)&&!isNaN(Date.parse(e))}function rCt(e,t=Date.parse){return nCt(e)?t(e):e}const oOe=6e4,aOe=864e5,uOe=6048e5,hs=new Date,ps=new Date,Ts=e=>(hs.setTime(typeof e=="string"?rCt(e):e),hs);function iCt(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function sCt(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function oCt(e){ps.setTime(+e),ps.setHours(0,0,0,0),hs.setTime(+ps),hs.setMonth(0),hs.setDate(1);const t=(ps.getTimezoneOffset()-hs.getTimezoneOffset())*oOe;return Math.floor(1+(ps-hs-t)/aOe)}function aCt(e){ps.setTime(+e),ps.setUTCHours(0,0,0,0);const t=Date.UTC(ps.getUTCFullYear(),0,1);return Math.floor(1+(ps-t)/aOe)}function uCt(e,t){const n=t||0;ps.setTime(+e),ps.setDate(ps.getDate()-(ps.getDay()+7-n)%7),ps.setHours(0,0,0,0),hs.setTime(+e),hs.setMonth(0),hs.setDate(1),hs.setDate(1-(hs.getDay()+7-n)%7),hs.setHours(0,0,0,0);const r=(ps.getTimezoneOffset()-hs.getTimezoneOffset())*oOe;return Math.floor((1+(ps-hs)-r)/uOe)}function lCt(e,t){const n=t||0;return ps.setTime(+e),ps.setUTCDate(ps.getUTCDate()-(ps.getUTCDay()+7-n)%7),ps.setUTCHours(0,0,0,0),hs.setTime(+e),hs.setUTCMonth(0),hs.setUTCDate(1),hs.setUTCDate(1-(hs.getUTCDay()+7-n)%7),hs.setUTCHours(0,0,0,0),Math.floor((1+(ps-hs))/uOe)}const cCt={format_date:(e,t)=>sOe(Ts(e),!t),format_utcdate:(e,t)=>c5(Ts(e),!t),timestamp:e=>+Ts(e),year:e=>Ts(e).getFullYear(),quarter:e=>Math.floor(Ts(e).getMonth()/3),month:e=>Ts(e).getMonth(),date:e=>Ts(e).getDate(),dayofweek:e=>Ts(e).getDay(),hours:e=>Ts(e).getHours(),minutes:e=>Ts(e).getMinutes(),seconds:e=>Ts(e).getSeconds(),milliseconds:e=>Ts(e).getMilliseconds(),utcyear:e=>Ts(e).getUTCFullYear(),utcquarter:e=>Math.floor(Ts(e).getUTCMonth()/3),utcmonth:e=>Ts(e).getUTCMonth(),utcdate:e=>Ts(e).getUTCDate(),utcdayofweek:e=>Ts(e).getUTCDay(),utchours:e=>Ts(e).getUTCHours(),utcminutes:e=>Ts(e).getUTCMinutes(),utcseconds:e=>Ts(e).getUTCSeconds(),utcmilliseconds:e=>Ts(e).getUTCMilliseconds(),datetime:iCt,dayofyear:oCt,week:uCt,utcdatetime:sCt,utcdayofyear:aCt,utcweek:lCt,now:Date.now};function kZ(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Ag(e)||Ag(t)?+e==+t:iL(e)&&iL(t)?e+""==t+"":Za(e)&&Za(t)?fCt(e,t):!1}function fCt(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return hme(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!hme(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!kZ(e[o],t[o]))return!1}return!0}function hme(e,t,n=kZ){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const dCt={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let hCt=Math.random;function YT(){return hCt()}const pCt={random:YT,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function RZ(e){return e instanceof Map}function mCt(e){return e instanceof Set}function k$(e){return RZ(e)||mCt(e)}function _U(e){return Array.from(e)}const gCt={has:(e,t)=>k$(e)?e.has(t):e!=null?Fd(e,t):!1,keys:e=>RZ(e)?_U(e.keys()):e!=null?Object.keys(e):[],values:e=>k$(e)?_U(e.values()):e!=null?Object.values(e):[],entries:e=>k$(e)?_U(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):Cr};function yCt(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Fd(t,e))return t[e];return n!==void 0?n:e}function vCt(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const bCt={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},YE={bin:ZTt,equal:kZ,recode:yCt,sequence:vCt,...JTt,...cCt,...dCt,...pCt,...gCt,...bCt};function Fk(e){return typeof e=="bigint"}function wp(e){return e===void 0?e+"":Fk(e)?e+"n":JSON.stringify(e)}function Ln(e,t=[],n=[]){return new _Ct(e,Dl(t),Dl(n))}let _Ct=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${wp(n)}]`),...this.params.map(wp)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const lOe=e=>Ln("any",e),cOe=()=>Ln("count"),fOe=e=>Ln("array_agg",e),dOe=e=>Ln("array_agg_distinct",e),hOe=(e,t)=>Ln("map_agg",[e,t]),pOe=(e,t)=>Ln("object_agg",[e,t]),mOe=(e,t)=>Ln("entries_agg",[e,t]);({...YE});function wCt(e,t){e=k$(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function ECt(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function xCt(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function SCt(e,t,n,r){const i=r==="map"||r===!0?hOe:r==="entries"?mOe:r==="object"?pOe:Hn('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=wCt(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:fOe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const TCt="ArrayPattern",CCt="ArrowFunctionExpression",ACt="FunctionExpression",ky="Identifier",KT="Literal",gOe="MemberExpression",ICt="ObjectExpression",yOe="ObjectPattern",vOe="Property",_N="Column",kCt="Constant",RCt="Dictionary",NCt="Function",PCt="Parameter",bOe="Op",Ei=(e,t)=>{const n=OCt[e.type];return n?n(e,t):Hn(`Unsupported expression construct: ${e.type}`)},wU=(e,t)=>"("+Ei(e.left,t)+" "+e.operator+" "+Ei(e.right,t)+")",EU=(e,t)=>"("+Eh(e.params,t)+")=>"+Ei(e.body,t),pme=(e,t)=>Ei(e.callee,t)+"("+Eh(e.arguments,t)+")",Eh=(e,t,n=",")=>e.map(r=>Ei(r,t)).join(n),_Oe=e=>e.computed?`[${wp(e.name)}]`:`.${e.name}`,mme=(e,t,n)=>{const r=e.table||"";return`data${r}${_Oe(e)}.${n}(${t.index}${r})`},OCt={Constant:e=>e.raw,Column:(e,t)=>mme(e,t,"get"),Dictionary:(e,t)=>mme(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${_Oe(e)}`,Op:(e,t)=>`op(${wp(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Ei(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Ei(e.object,t),i=Ei(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:pme,NewExpression:(e,t)=>"new "+pme(e,t),ArrayExpression:(e,t)=>"["+Eh(e.elements,t)+"]",AssignmentExpression:wU,BinaryExpression:wU,LogicalExpression:wU,UnaryExpression:(e,t)=>"("+e.operator+Ei(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Ei(e.test,t)+"?"+Ei(e.consequent,t)+":"+Ei(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Eh(e.properties,t)+"})",Property:(e,t)=>{const n=Ei(e.key,t);return(e.computed?`[${n}]`:n)+":"+Ei(e.value,t)},ArrowFunctionExpression:EU,FunctionExpression:EU,FunctionDeclaration:EU,ArrayPattern:(e,t)=>"["+Eh(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Eh(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Eh(e.declarations,t,","),VariableDeclarator:(e,t)=>Ei(e.id,t)+"="+Ei(e.init,t),SpreadElement:(e,t)=>"..."+Ei(e.argument,t),BlockStatement:(e,t)=>"{"+Eh(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Ei(e.expression,t),IfStatement:(e,t)=>"if ("+Ei(e.test,t)+")"+Ei(e.consequent,t)+(e.alternate?" else "+Ei(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Ei(e.discriminant,t)+") {"+Eh(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Ei(e.test,t):"default")+": "+Eh(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Ei(e.argument,t),Program:(e,t)=>Ei(e.body[0],t)};function sL(e,t={index:"row"}){return Ei(e,t)}function DCt(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function ES(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Ag(e)?+e:$r(e)||bN(e)?`[${e.map(ES)}]`:iL(e)?e+"":$Ct(e)}function $Ct(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${ES(e[r])}`;return t+="}",t}function oL(e,t){const n=e.length;return n===1?(r,i)=>ES(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=ES(a)}return s}}function MCt(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=ES(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=ES(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Am(){}function LCt(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function so(e){return e.init=e.init||Am,e.add=e.add||Am,e.rem=e.rem||Am,e}function gme(e,t){return e.product_v=!1,e.product=t}const wOe={count:{create:()=>so({value:e=>e.count}),param:[]},array_agg:{create:()=>so({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>so({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>so({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>so({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>so({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:Cr}),param:[1]},valid:{create:()=>so({value:e=>e.valid}),param:[1]},invalid:{create:()=>so({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=MCt(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>so({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>so({value:e=>{let t=Cr,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:Cr,add:(e,t)=>Fk(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>gme(e,1),value:e=>e.valid?e.product_v?gme(e,LCt(e.list.values())):e.product:void 0,add:(e,t)=>Fk(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:Cr,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>so({value:e=>e.valid?e.mean:Cr}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):Cr,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>so({value:e=>e.valid>1?e.dev/e.valid:Cr}),param:[1],req:["variance"]},stdev:{create:()=>so({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):Cr}),param:[1],req:["variance"]},stdevp:{create:()=>so({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):Cr}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=Cr,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===Cr)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=Cr,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===Cr)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>so({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>so({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):Cr,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>so({value:e=>e.valid>1?e.cov/e.valid:Cr}),param:[2],req:["covariance"]},corr:{create:()=>so({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):Cr}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>so({value:i=>DCt(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},yme={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},vme={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},EOe={row_number:{create(){return{init:Am,value:e=>e.index+1}},param:[]},rank:yme,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=yme.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:vme,ntile:{create(e){e=+e,e>0||Hn("ntile num must be greater than zero.");const{init:t,value:n}=vme.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=Cr){return e=+e||1,{init:Am,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=Cr){return e=+e||1,{init:Am,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Am,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Am,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Hn("nth_value nth must be greater than zero."),{init:Am,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):Cr}}},param:[1,1]},fill_down:{create(e=Cr){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ed(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=Cr){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=FCt(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function FCt(e,t,n){for(const r=e.size;n<r;++n)if(Ed(e.value(n,t)))return n;return-1}function NZ(e){return Fd(wOe,e)}function PZ(e){return Fd(EOe,e)}function xOe(e){return Fd(YE,e)||e==="row_object"}function SOe(e){return NZ(e)&&wOe[e]}function TOe(e){return PZ(e)&&EOe[e]}function b2(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const OZ={escape:(e,t,n)=>b2(e,t,n),expr:(e,t)=>b2(`(row,data,op)=>${e}`,YE,t),expr2:(e,t)=>b2(`(row0,data0,row,data)=>${e}`,YE,t),join:(e,t)=>b2(`(row1,data1,row2,data2)=>${e}`,YE,t),param:(e,t)=>b2(e,YE,t)},jCt={"==":1,"!=":1,"===":1,"!==":1};function COe(e,t,n=0,r,i){if(e.type=_N,e.name=t,e.table=n,i&&r&&Bi(r.keyFor)){const s=jCt[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===KT&&BCt(i,e,s,r.keyFor(s.value))}return e}function BCt(e,t,n,r){return r<0?(e.type=KT,e.value=!1,e.raw="false"):(t.type=RCt,n.value=r,n.raw=r+""),!0}function f5(e){return $r(e)?e:RZ(e)?e.entries():e?Object.entries(e):[]}const AOe="row_object";function IOe(e,t){e.type=ICt;const n=e.properties=[];for(const r of f5(t)){const[i,s]=$r(r)?r:[r,r];n.push({type:vOe,key:{type:KT,raw:wp(s)},value:COe({computed:!0},i)})}return e}function kOe(e){return sL(IOe({},e))}function ROe(e){return OZ.expr(kOe(e))}const UCt=new TextDecoder("utf-8"),Pq=e=>UCt.decode(e),zCt=new TextEncoder,DZ=e=>zCt.encode(e),VCt=e=>typeof e=="boolean",il=e=>typeof e=="function",Wv=e=>e!=null&&Object(e)===e,d5=e=>Wv(e)&&il(e.then),$Z=e=>Wv(e)&&il(e[Symbol.iterator]),h5=e=>Wv(e)&&il(e[Symbol.asyncIterator]),HCt=e=>Wv(e)&&"done"in e&&"value"in e,NOe=e=>"_getDOMStream"in e&&"_getNodeStream"in e,qCt=e=>Wv(e)&&il(e.abort)&&il(e.getWriter)&&!NOe(e),WCt=e=>Wv(e)&&il(e.end)&&il(e.write)&&VCt(e.writable)&&!NOe(e),GCt=e=>Wv(e)&&il(e.clear)&&il(e.bytes)&&il(e.position)&&il(e.setPosition)&&il(e.capacity)&&il(e.getBufferIdentifier)&&il(e.createLong),MZ=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function YCt(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function aL(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Ep(e,t){const n=YCt(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?aL(o,s,a):o=s;break}aL(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function ko(e,t){let n=HCt(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=DZ(n)),n instanceof ArrayBuffer?new e(n):n instanceof MZ?new e(n):GCt(n)?ko(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const _2=e=>ko(Int32Array,e),Zr=e=>ko(Uint8Array,e),Oq=e=>(e.next(),e);function*KCt(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof MZ?n(t):$Z(t)?t:n(t);return yield*Oq(function*(i){let s=null;do s=i.next(yield ko(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const XCt=e=>KCt(Uint8Array,e);function POe(e,t){return cb(this,arguments,function*(){if(d5(t))return yield pr(yield pr(yield*n9(eI(POe(e,yield pr(t))))));const r=function(o){return cb(this,arguments,function*(){yield yield pr(yield pr(o))})},i=function(o){return cb(this,arguments,function*(){yield pr(yield*n9(eI(Oq(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof MZ?r(t):$Z(t)?i(t):h5(t)?t:r(t);return yield pr(yield*n9(eI(Oq(function(o){return cb(this,arguments,function*(){let a=null;do a=yield pr(o.next(yield yield pr(ko(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield pr(new e)})}const QCt=e=>POe(Uint8Array,e);function OOe(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function JCt(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const bme={fromIterable(e){return WO(ZCt(e))},fromAsyncIterable(e){return WO(e2t(e))},fromDOMStream(e){return WO(t2t(e))},fromNodeStream(e){return WO(r2t(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},WO=e=>(e.next(),e);function*ZCt(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?Ep(r,o)[0]:([i,r,a]=Ep(r,o),i)}({cmd:s,size:o}=yield null);const l=XCt(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function e2t(e){return cb(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Ep(i,a)[0]:([s,i,u]=Ep(i,a),s)}({cmd:o,size:a}=yield yield pr(null));const c=QCt(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield pr(c.next()):yield pr(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield pr(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield pr(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield pr(c.return(new Uint8Array(0))))}return yield pr(null)})}function t2t(e){return cb(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Ep(i,a)[0]:([s,i,u]=Ep(i,a),s)}({cmd:o,size:a}=yield yield pr(null));const c=new n2t(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield pr(c.read()):yield pr(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Zr(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield pr(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield pr(c.cancel(f)))}finally{r===!1?yield pr(c.cancel()):e.locked&&c.releaseLock()}return yield pr(null)})}class n2t{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Rm(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Rm(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Zr(n)),n})}}const xU=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function r2t(e){return cb(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?Ep(l,a)[0]:([c,l,u]=Ep(l,a),c)}if({cmd:o,size:a}=yield yield pr(null),e.isTTY)return yield yield pr(new Uint8Array(0)),yield pr(null);try{n[0]=xU(e,"end"),n[1]=xU(e,"error");do{if(n[2]=xU(e,"readable"),[r,s]=yield pr(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Zr(e.read(a-u)),c.byteLength<a-u&&(c=Zr(e.read()))):c=Zr(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield pr(f()));while(a<u)}while(!i)}finally{yield pr(d(n,r==="error"?s:null))}return yield pr(null);function d(h,p){return c=l=null,new Promise((m,g)=>{for(const[y,v]of h)e.off(y,v);try{const y=e.destroy;y&&y.call(e,p),p=void 0}catch(y){p=y||p}finally{p!=null?g(p):m()}})}})}var wu;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(wu||(wu={}));var $l;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})($l||($l={}));var ma;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(ma||(ma={}));var xp;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(xp||(xp={}));var on;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(on||(on={}));var Sp;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Sp||(Sp={}));var Po;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Po||(Po={}));var ie;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(ie||(ie={}));var wm;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(wm||(wm={}));const i2t=void 0;function o_(e){if(e===null)return"null";if(e===i2t)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>o_(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const s2t=Symbol.for("isArrowBigNum");function Qd(e,...t){return t.length===0?Object.setPrototypeOf(ko(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Qd.prototype[s2t]=!0;Qd.prototype.toJSON=function(){return`"${Bk(this)}"`};Qd.prototype.valueOf=function(){return DOe(this)};Qd.prototype.toString=function(){return Bk(this)};Qd.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return DOe(this);case"string":return Bk(this);case"default":return o2t(this)}return Bk(this)};function Ex(...e){return Qd.apply(this,e)}function xx(...e){return Qd.apply(this,e)}function jk(...e){return Qd.apply(this,e)}Object.setPrototypeOf(Ex.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(xx.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(jk.prototype,Object.create(Uint32Array.prototype));Object.assign(Ex.prototype,Qd.prototype,{constructor:Ex,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(xx.prototype,Qd.prototype,{constructor:xx,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(jk.prototype,Qd.prototype,{constructor:jk,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function DOe(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const Bk=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return SU(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return SU(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${SU(t)}`},o2t=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Bk(e);function SU(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class LZ{static new(t,n){switch(n){case!0:return new Ex(t);case!1:return new xx(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Ex(t)}return t.byteLength===16?new jk(t):new xx(t)}static signed(t){return new Ex(t)}static unsigned(t){return new xx(t)}static decimal(t){return new jk(t)}constructor(t,n){return LZ.new(t,n)}}function jd(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var $Oe,MOe,LOe,FOe,jOe,BOe,UOe,zOe,VOe,HOe,qOe,WOe,GOe,YOe,KOe,XOe,QOe,JOe,ZOe,eDe;let qn=class Dq{static isNull(t){return(t==null?void 0:t.typeId)===ie.Null}static isInt(t){return(t==null?void 0:t.typeId)===ie.Int}static isFloat(t){return(t==null?void 0:t.typeId)===ie.Float}static isBinary(t){return(t==null?void 0:t.typeId)===ie.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===ie.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===ie.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===ie.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===ie.Date}static isTime(t){return(t==null?void 0:t.typeId)===ie.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===ie.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===ie.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===ie.Duration}static isList(t){return(t==null?void 0:t.typeId)===ie.List}static isStruct(t){return(t==null?void 0:t.typeId)===ie.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===ie.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===ie.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===ie.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===ie.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===ie.Dictionary}static isDenseUnion(t){return Dq.isUnion(t)&&t.mode===$l.Dense}static isSparseUnion(t){return Dq.isUnion(t)&&t.mode===$l.Sparse}get typeId(){return ie.NONE}};$Oe=Symbol.toStringTag;qn[$Oe]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(qn.prototype);let Ig=class extends qn{toString(){return"Null"}get typeId(){return ie.Null}};MOe=Symbol.toStringTag;Ig[MOe]=(e=>e[Symbol.toStringTag]="Null")(Ig.prototype);class $u extends qn{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return ie.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}LOe=Symbol.toStringTag;$u[LOe]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))($u.prototype);class FZ extends $u{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class jZ extends $u{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class ev extends $u{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class BZ extends $u{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class UZ extends $u{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class zZ extends $u{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class VZ extends $u{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class HZ extends $u{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(FZ.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(jZ.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(ev.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(BZ.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(UZ.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(zZ.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(VZ.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(HZ.prototype,"ArrayType",{value:BigUint64Array});class tv extends qn{constructor(t){super(),this.precision=t}get typeId(){return ie.Float}get ArrayType(){switch(this.precision){case ma.HALF:return Uint16Array;case ma.SINGLE:return Float32Array;case ma.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}FOe=Symbol.toStringTag;tv[FOe]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(tv.prototype);class tDe extends tv{constructor(){super(ma.HALF)}}class qZ extends tv{constructor(){super(ma.SINGLE)}}class WZ extends tv{constructor(){super(ma.DOUBLE)}}Object.defineProperty(tDe.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(qZ.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(WZ.prototype,"ArrayType",{value:Float64Array});let Uk=class extends qn{constructor(){super()}get typeId(){return ie.Binary}toString(){return"Binary"}};jOe=Symbol.toStringTag;Uk[jOe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Uk.prototype);let xS=class extends qn{constructor(){super()}get typeId(){return ie.Utf8}toString(){return"Utf8"}};BOe=Symbol.toStringTag;xS[BOe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(xS.prototype);let zk=class extends qn{constructor(){super()}get typeId(){return ie.Bool}toString(){return"Bool"}};UOe=Symbol.toStringTag;zk[UOe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(zk.prototype);let uL=class extends qn{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return ie.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};zOe=Symbol.toStringTag;uL[zOe]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(uL.prototype);class SS extends qn{constructor(t){super(),this.unit=t}get typeId(){return ie.Date}toString(){return`Date${(this.unit+1)*32}<${xp[this.unit]}>`}}VOe=Symbol.toStringTag;SS[VOe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(SS.prototype);class a2t extends SS{constructor(){super(xp.DAY)}}class u2t extends SS{constructor(){super(xp.MILLISECOND)}}class kg extends qn{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return ie.Time}toString(){return`Time${this.bitWidth}<${on[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}HOe=Symbol.toStringTag;kg[HOe]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(kg.prototype);class l2t extends kg{constructor(){super(on.SECOND,32)}}class c2t extends kg{constructor(){super(on.MILLISECOND,32)}}class f2t extends kg{constructor(){super(on.MICROSECOND,64)}}class d2t extends kg{constructor(){super(on.NANOSECOND,64)}}class lL extends qn{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return ie.Timestamp}toString(){return`Timestamp<${on[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}qOe=Symbol.toStringTag;lL[qOe]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(lL.prototype);class TS extends qn{constructor(t){super(),this.unit=t}get typeId(){return ie.Interval}toString(){return`Interval<${Sp[this.unit]}>`}}WOe=Symbol.toStringTag;TS[WOe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(TS.prototype);class h2t extends TS{constructor(){super(Sp.DAY_TIME)}}class p2t extends TS{constructor(){super(Sp.YEAR_MONTH)}}let cL=class extends qn{constructor(t){super(),this.unit=t}get typeId(){return ie.Duration}toString(){return`Duration<${on[this.unit]}>`}};GOe=Symbol.toStringTag;cL[GOe]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(cL.prototype);let CS=class extends qn{constructor(t){super(),this.children=[t]}get typeId(){return ie.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};YOe=Symbol.toStringTag;CS[YOe]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(CS.prototype);class Va extends qn{constructor(t){super(),this.children=t}get typeId(){return ie.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}KOe=Symbol.toStringTag;Va[KOe]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Va.prototype);class Vk extends qn{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return ie.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}XOe=Symbol.toStringTag;Vk[XOe]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Vk.prototype);let fL=class extends qn{constructor(t){super(),this.byteWidth=t}get typeId(){return ie.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};QOe=Symbol.toStringTag;fL[QOe]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(fL.prototype);let AS=class extends qn{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return ie.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};JOe=Symbol.toStringTag;AS[JOe]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(AS.prototype);class Hk extends qn{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return ie.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}ZOe=Symbol.toStringTag;Hk[ZOe]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Hk.prototype);const m2t=(e=>()=>++e)(-1);class nv extends qn{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?m2t():jd(r)}get typeId(){return ie.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}eDe=Symbol.toStringTag;nv[eDe]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(nv.prototype);function Th(e){const t=e;switch(e.typeId){case ie.Decimal:return e.bitWidth/32;case ie.Timestamp:return 2;case ie.Date:return 1+t.unit;case ie.Interval:return 1+t.unit;case ie.FixedSizeList:return t.listSize;case ie.FixedSizeBinary:return t.byteWidth;default:return 1}}class Gn{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return g2t(this,t,n)}getVisitFnByTypeId(t,n=!0){return bE(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function g2t(e,t,n=!0){return typeof t=="number"?bE(e,t,n):typeof t=="string"&&t in ie?bE(e,ie[t],n):t&&t instanceof qn?bE(e,_me(t),n):t!=null&&t.type&&t.type instanceof qn?bE(e,_me(t.type),n):bE(e,ie.NONE,n)}function bE(e,t,n=!0){let r=null;switch(t){case ie.Null:r=e.visitNull;break;case ie.Bool:r=e.visitBool;break;case ie.Int:r=e.visitInt;break;case ie.Int8:r=e.visitInt8||e.visitInt;break;case ie.Int16:r=e.visitInt16||e.visitInt;break;case ie.Int32:r=e.visitInt32||e.visitInt;break;case ie.Int64:r=e.visitInt64||e.visitInt;break;case ie.Uint8:r=e.visitUint8||e.visitInt;break;case ie.Uint16:r=e.visitUint16||e.visitInt;break;case ie.Uint32:r=e.visitUint32||e.visitInt;break;case ie.Uint64:r=e.visitUint64||e.visitInt;break;case ie.Float:r=e.visitFloat;break;case ie.Float16:r=e.visitFloat16||e.visitFloat;break;case ie.Float32:r=e.visitFloat32||e.visitFloat;break;case ie.Float64:r=e.visitFloat64||e.visitFloat;break;case ie.Utf8:r=e.visitUtf8;break;case ie.Binary:r=e.visitBinary;break;case ie.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case ie.Date:r=e.visitDate;break;case ie.DateDay:r=e.visitDateDay||e.visitDate;break;case ie.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case ie.Timestamp:r=e.visitTimestamp;break;case ie.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case ie.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case ie.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case ie.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case ie.Time:r=e.visitTime;break;case ie.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case ie.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case ie.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case ie.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case ie.Decimal:r=e.visitDecimal;break;case ie.List:r=e.visitList;break;case ie.Struct:r=e.visitStruct;break;case ie.Union:r=e.visitUnion;break;case ie.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case ie.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case ie.Dictionary:r=e.visitDictionary;break;case ie.Interval:r=e.visitInterval;break;case ie.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case ie.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case ie.Duration:r=e.visitDuration;break;case ie.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case ie.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case ie.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case ie.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case ie.FixedSizeList:r=e.visitFixedSizeList;break;case ie.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${ie[t]}'`)}function _me(e){switch(e.typeId){case ie.Null:return ie.Null;case ie.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?ie.Int8:ie.Uint8;case 16:return n?ie.Int16:ie.Uint16;case 32:return n?ie.Int32:ie.Uint32;case 64:return n?ie.Int64:ie.Uint64}return ie.Int}case ie.Float:switch(e.precision){case ma.HALF:return ie.Float16;case ma.SINGLE:return ie.Float32;case ma.DOUBLE:return ie.Float64}return ie.Float;case ie.Binary:return ie.Binary;case ie.Utf8:return ie.Utf8;case ie.Bool:return ie.Bool;case ie.Decimal:return ie.Decimal;case ie.Time:switch(e.unit){case on.SECOND:return ie.TimeSecond;case on.MILLISECOND:return ie.TimeMillisecond;case on.MICROSECOND:return ie.TimeMicrosecond;case on.NANOSECOND:return ie.TimeNanosecond}return ie.Time;case ie.Timestamp:switch(e.unit){case on.SECOND:return ie.TimestampSecond;case on.MILLISECOND:return ie.TimestampMillisecond;case on.MICROSECOND:return ie.TimestampMicrosecond;case on.NANOSECOND:return ie.TimestampNanosecond}return ie.Timestamp;case ie.Date:switch(e.unit){case xp.DAY:return ie.DateDay;case xp.MILLISECOND:return ie.DateMillisecond}return ie.Date;case ie.Interval:switch(e.unit){case Sp.DAY_TIME:return ie.IntervalDayTime;case Sp.YEAR_MONTH:return ie.IntervalYearMonth}return ie.Interval;case ie.Duration:switch(e.unit){case on.SECOND:return ie.DurationSecond;case on.MILLISECOND:return ie.DurationMillisecond;case on.MICROSECOND:return ie.DurationMicrosecond;case on.NANOSECOND:return ie.DurationNanosecond}return ie.Duration;case ie.Map:return ie.Map;case ie.List:return ie.List;case ie.Struct:return ie.Struct;case ie.Union:switch(e.mode){case $l.Dense:return ie.DenseUnion;case $l.Sparse:return ie.SparseUnion}return ie.Union;case ie.FixedSizeBinary:return ie.FixedSizeBinary;case ie.FixedSizeList:return ie.FixedSizeList;case ie.Dictionary:return ie.Dictionary}throw new Error(`Unrecognized type '${ie[e.typeId]}'`)}Gn.prototype.visitInt8=null;Gn.prototype.visitInt16=null;Gn.prototype.visitInt32=null;Gn.prototype.visitInt64=null;Gn.prototype.visitUint8=null;Gn.prototype.visitUint16=null;Gn.prototype.visitUint32=null;Gn.prototype.visitUint64=null;Gn.prototype.visitFloat16=null;Gn.prototype.visitFloat32=null;Gn.prototype.visitFloat64=null;Gn.prototype.visitDateDay=null;Gn.prototype.visitDateMillisecond=null;Gn.prototype.visitTimestampSecond=null;Gn.prototype.visitTimestampMillisecond=null;Gn.prototype.visitTimestampMicrosecond=null;Gn.prototype.visitTimestampNanosecond=null;Gn.prototype.visitTimeSecond=null;Gn.prototype.visitTimeMillisecond=null;Gn.prototype.visitTimeMicrosecond=null;Gn.prototype.visitTimeNanosecond=null;Gn.prototype.visitDenseUnion=null;Gn.prototype.visitSparseUnion=null;Gn.prototype.visitIntervalDayTime=null;Gn.prototype.visitIntervalYearMonth=null;Gn.prototype.visitDuration=null;Gn.prototype.visitDurationSecond=null;Gn.prototype.visitDurationMillisecond=null;Gn.prototype.visitDurationMicrosecond=null;Gn.prototype.visitDurationNanosecond=null;const nDe=new Float64Array(1),Kw=new Uint32Array(nDe.buffer);function rDe(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function iDe(e){if(e!==e)return 32256;nDe[0]=e;const t=(Kw[1]&2147483648)>>16&65535;let n=Kw[1]&2146435072,r=0;return n>=1089470464?Kw[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Kw[1]&1048575)>>10):n<=1056964608?(r=1048576+(Kw[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Kw[1]&1048575)+512>>10),t|n|r&65535}class fn extends Gn{}function yn(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const y2t=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},GZ=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},v2t=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},b2t=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},sDe=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},_2t=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},t0=({values:e},t,n)=>{e[t]=n},YZ=({values:e},t,n)=>{e[t]=n},oDe=({values:e},t,n)=>{e[t]=iDe(n)},w2t=(e,t,n)=>{switch(e.type.precision){case ma.HALF:return oDe(e,t,n);case ma.SINGLE:case ma.DOUBLE:return YZ(e,t,n)}},KZ=({values:e},t,n)=>{y2t(e,t,n.valueOf())},XZ=({values:e},t,n)=>{GZ(e,t*2,n.valueOf())},aDe=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},E2t=({values:e,valueOffsets:t},n,r)=>sDe(e,t,n,r),x2t=({values:e,valueOffsets:t},n,r)=>{sDe(e,t,n,DZ(r))},uDe=(e,t,n)=>{e.type.unit===xp.DAY?KZ(e,t,n):XZ(e,t,n)},QZ=({values:e},t,n)=>GZ(e,t*2,n/1e3),JZ=({values:e},t,n)=>GZ(e,t*2,n),ZZ=({values:e},t,n)=>v2t(e,t*2,n),eee=({values:e},t,n)=>b2t(e,t*2,n),lDe=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return QZ(e,t,n);case on.MILLISECOND:return JZ(e,t,n);case on.MICROSECOND:return ZZ(e,t,n);case on.NANOSECOND:return eee(e,t,n)}},tee=({values:e},t,n)=>{e[t]=n},nee=({values:e},t,n)=>{e[t]=n},ree=({values:e},t,n)=>{e[t]=n},iee=({values:e},t,n)=>{e[t]=n},cDe=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return tee(e,t,n);case on.MILLISECOND:return nee(e,t,n);case on.MICROSECOND:return ree(e,t,n);case on.NANOSECOND:return iee(e,t,n)}},fDe=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},S2t=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=Sf.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},T2t=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=Sf.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},C2t=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),A2t=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),I2t=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),k2t=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),R2t=(e,t,n)=>{const r=e.type.children.map(s=>Sf.getVisitFn(s.type)),i=n instanceof Map?I2t(t,n):n instanceof Mr?A2t(t,n):Array.isArray(n)?C2t(t,n):k2t(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},N2t=(e,t,n)=>{e.type.mode===$l.Dense?dDe(e,t,n):hDe(e,t,n)},dDe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Sf.visit(i,e.valueOffsets[t],n)},hDe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Sf.visit(i,t,n)},P2t=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},pDe=(e,t,n)=>{e.type.unit===Sp.DAY_TIME?see(e,t,n):oee(e,t,n)},see=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},oee=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},aee=({values:e},t,n)=>{e[t]=n},uee=({values:e},t,n)=>{e[t]=n},lee=({values:e},t,n)=>{e[t]=n},cee=({values:e},t,n)=>{e[t]=n},mDe=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return aee(e,t,n);case on.MILLISECOND:return uee(e,t,n);case on.MICROSECOND:return lee(e,t,n);case on.NANOSECOND:return cee(e,t,n)}},O2t=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=Sf.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};fn.prototype.visitBool=yn(_2t);fn.prototype.visitInt=yn(t0);fn.prototype.visitInt8=yn(t0);fn.prototype.visitInt16=yn(t0);fn.prototype.visitInt32=yn(t0);fn.prototype.visitInt64=yn(t0);fn.prototype.visitUint8=yn(t0);fn.prototype.visitUint16=yn(t0);fn.prototype.visitUint32=yn(t0);fn.prototype.visitUint64=yn(t0);fn.prototype.visitFloat=yn(w2t);fn.prototype.visitFloat16=yn(oDe);fn.prototype.visitFloat32=yn(YZ);fn.prototype.visitFloat64=yn(YZ);fn.prototype.visitUtf8=yn(x2t);fn.prototype.visitBinary=yn(E2t);fn.prototype.visitFixedSizeBinary=yn(aDe);fn.prototype.visitDate=yn(uDe);fn.prototype.visitDateDay=yn(KZ);fn.prototype.visitDateMillisecond=yn(XZ);fn.prototype.visitTimestamp=yn(lDe);fn.prototype.visitTimestampSecond=yn(QZ);fn.prototype.visitTimestampMillisecond=yn(JZ);fn.prototype.visitTimestampMicrosecond=yn(ZZ);fn.prototype.visitTimestampNanosecond=yn(eee);fn.prototype.visitTime=yn(cDe);fn.prototype.visitTimeSecond=yn(tee);fn.prototype.visitTimeMillisecond=yn(nee);fn.prototype.visitTimeMicrosecond=yn(ree);fn.prototype.visitTimeNanosecond=yn(iee);fn.prototype.visitDecimal=yn(fDe);fn.prototype.visitList=yn(S2t);fn.prototype.visitStruct=yn(R2t);fn.prototype.visitUnion=yn(N2t);fn.prototype.visitDenseUnion=yn(dDe);fn.prototype.visitSparseUnion=yn(hDe);fn.prototype.visitDictionary=yn(P2t);fn.prototype.visitInterval=yn(pDe);fn.prototype.visitIntervalDayTime=yn(see);fn.prototype.visitIntervalYearMonth=yn(oee);fn.prototype.visitDuration=yn(mDe);fn.prototype.visitDurationSecond=yn(aee);fn.prototype.visitDurationMillisecond=yn(uee);fn.prototype.visitDurationMicrosecond=yn(lee);fn.prototype.visitDurationNanosecond=yn(cee);fn.prototype.visitFixedSizeList=yn(O2t);fn.prototype.visitMap=yn(T2t);const Sf=new fn,ad=Symbol.for("parent"),Sx=Symbol.for("rowIndex");class fee{constructor(t,n){return this[ad]=t,this[Sx]=n,new Proxy(this,new $2t)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Sx],n=this[ad],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Ml.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${o_(t)}: ${o_(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new D2t(this[ad],this[Sx])}}class D2t{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ml.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(fee.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ad]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Sx]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class $2t{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ad].type.children.map(n=>n.name)}has(t,n){return t[ad].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ad].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ad].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ml.visit(t[ad].children[r],t[Sx]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ad].type.children.findIndex(s=>s.name===n);return i!==-1?(Sf.visit(t[ad].children[i],t[Sx],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class an extends Gn{}function dn(e){return(t,n)=>t.getValid(n)?e(t,n):null}const M2t=(e,t)=>864e5*e[t],dee=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),L2t=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,F2t=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,gDe=e=>new Date(e),j2t=(e,t)=>gDe(M2t(e,t)),B2t=(e,t)=>gDe(dee(e,t)),U2t=(e,t)=>null,yDe=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},z2t=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},vDe=({values:e},t)=>j2t(e,t),bDe=({values:e},t)=>B2t(e,t*2),Gv=({stride:e,values:t},n)=>t[e*n],V2t=({stride:e,values:t},n)=>rDe(t[e*n]),_De=({values:e},t)=>e[t],H2t=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),q2t=({values:e,valueOffsets:t},n)=>yDe(e,t,n),W2t=({values:e,valueOffsets:t},n)=>{const r=yDe(e,t,n);return r!==null?Pq(r):null},G2t=({values:e},t)=>e[t],Y2t=({type:e,values:t},n)=>e.precision!==ma.HALF?t[n]:rDe(t[n]),K2t=(e,t)=>e.type.unit===xp.DAY?vDe(e,t):bDe(e,t),wDe=({values:e},t)=>1e3*dee(e,t*2),EDe=({values:e},t)=>dee(e,t*2),xDe=({values:e},t)=>L2t(e,t*2),SDe=({values:e},t)=>F2t(e,t*2),X2t=(e,t)=>{switch(e.type.unit){case on.SECOND:return wDe(e,t);case on.MILLISECOND:return EDe(e,t);case on.MICROSECOND:return xDe(e,t);case on.NANOSECOND:return SDe(e,t)}},TDe=({values:e},t)=>e[t],CDe=({values:e},t)=>e[t],ADe=({values:e},t)=>e[t],IDe=({values:e},t)=>e[t],Q2t=(e,t)=>{switch(e.type.unit){case on.SECOND:return TDe(e,t);case on.MILLISECOND:return CDe(e,t);case on.MICROSECOND:return ADe(e,t);case on.NANOSECOND:return IDe(e,t)}},J2t=({values:e,stride:t},n)=>LZ.decimal(e.subarray(t*n,t*(n+1))),Z2t=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new Mr([u])},eAt=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new p5(o.slice(i,s-i))},tAt=(e,t)=>new fee(e,t),nAt=(e,t)=>e.type.mode===$l.Dense?kDe(e,t):RDe(e,t),kDe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ml.visit(r,e.valueOffsets[t])},RDe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ml.visit(r,t)},rAt=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},iAt=(e,t)=>e.type.unit===Sp.DAY_TIME?NDe(e,t):PDe(e,t),NDe=({values:e},t)=>e.subarray(2*t,2*(t+1)),PDe=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},ODe=({values:e},t)=>e[t],DDe=({values:e},t)=>e[t],$De=({values:e},t)=>e[t],MDe=({values:e},t)=>e[t],sAt=(e,t)=>{switch(e.type.unit){case on.SECOND:return ODe(e,t);case on.MILLISECOND:return DDe(e,t);case on.MICROSECOND:return $De(e,t);case on.NANOSECOND:return MDe(e,t)}},oAt=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Mr([s])};an.prototype.visitNull=dn(U2t);an.prototype.visitBool=dn(z2t);an.prototype.visitInt=dn(G2t);an.prototype.visitInt8=dn(Gv);an.prototype.visitInt16=dn(Gv);an.prototype.visitInt32=dn(Gv);an.prototype.visitInt64=dn(_De);an.prototype.visitUint8=dn(Gv);an.prototype.visitUint16=dn(Gv);an.prototype.visitUint32=dn(Gv);an.prototype.visitUint64=dn(_De);an.prototype.visitFloat=dn(Y2t);an.prototype.visitFloat16=dn(V2t);an.prototype.visitFloat32=dn(Gv);an.prototype.visitFloat64=dn(Gv);an.prototype.visitUtf8=dn(W2t);an.prototype.visitBinary=dn(q2t);an.prototype.visitFixedSizeBinary=dn(H2t);an.prototype.visitDate=dn(K2t);an.prototype.visitDateDay=dn(vDe);an.prototype.visitDateMillisecond=dn(bDe);an.prototype.visitTimestamp=dn(X2t);an.prototype.visitTimestampSecond=dn(wDe);an.prototype.visitTimestampMillisecond=dn(EDe);an.prototype.visitTimestampMicrosecond=dn(xDe);an.prototype.visitTimestampNanosecond=dn(SDe);an.prototype.visitTime=dn(Q2t);an.prototype.visitTimeSecond=dn(TDe);an.prototype.visitTimeMillisecond=dn(CDe);an.prototype.visitTimeMicrosecond=dn(ADe);an.prototype.visitTimeNanosecond=dn(IDe);an.prototype.visitDecimal=dn(J2t);an.prototype.visitList=dn(Z2t);an.prototype.visitStruct=dn(tAt);an.prototype.visitUnion=dn(nAt);an.prototype.visitDenseUnion=dn(kDe);an.prototype.visitSparseUnion=dn(RDe);an.prototype.visitDictionary=dn(rAt);an.prototype.visitInterval=dn(iAt);an.prototype.visitIntervalDayTime=dn(NDe);an.prototype.visitIntervalYearMonth=dn(PDe);an.prototype.visitDuration=dn(sAt);an.prototype.visitDurationSecond=dn(ODe);an.prototype.visitDurationMillisecond=dn(DDe);an.prototype.visitDurationMicrosecond=dn($De);an.prototype.visitDurationNanosecond=dn(MDe);an.prototype.visitFixedSizeList=dn(oAt);an.prototype.visitMap=dn(eAt);const Ml=new an,md=Symbol.for("keys"),Tx=Symbol.for("vals");class p5{constructor(t){return this[md]=new Mr([t.children[0]]).memoize(),this[Tx]=t.children[1],new Proxy(this,new uAt)}[Symbol.iterator](){return new aAt(this[md],this[Tx])}get size(){return this[md].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[md],n=this[Tx],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Ml.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${o_(t)}: ${o_(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class aAt{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ml.visit(this.vals,t)]})}}class uAt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[md].toArray().map(String)}has(t,n){return t[md].includes(n)}getOwnPropertyDescriptor(t,n){if(t[md].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[md].indexOf(n);if(r!==-1){const i=Ml.visit(Reflect.get(t,Tx),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[md].indexOf(n);return i!==-1?(Sf.visit(Reflect.get(t,Tx),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(p5.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[md]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Tx]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let wme;function LDe(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(wme=s,s=o,o=wme),o>i&&(o=i),r?r(e,s,o):[s,o]}const Eme=e=>e!==e;function XT(e){if(typeof e!=="object"||e===null)return Eme(e)?Eme:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?JCt(e,n):!1:e instanceof Map?cAt(e):Array.isArray(e)?lAt(e):e instanceof Mr?fAt(e):dAt(e,!0)}function lAt(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=XT(e[n]);return m5(t)}function cAt(e){let t=-1;const n=[];for(const r of e.values())n[++t]=XT(r);return m5(n)}function fAt(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=XT(e.get(n));return m5(t)}function dAt(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=XT(e[n[i]]);return m5(r,n)}function m5(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return hAt(e,n);case Map:return xme(e,n,n.keys());case p5:case fee:case Object:case void 0:return xme(e,n,t||Object.keys(n))}return n instanceof Mr?pAt(e,n):!1}}function hAt(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function pAt(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function xme(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function FDe(e,t,n,r){return(n&1<<r)!==0}function mAt(e,t,n,r){return(n&1<<r)>>r}function dL(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):jDe(new hee(n,e,t,null,FDe)).subarray(0,r)),i}return n}function jDe(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class hee{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function $q(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new hee(e,t,n-t,e,mAt))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return $q(e,t,i)+$q(e,r,n)+gAt(e,i>>3,r-i>>3)}function gAt(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=TU(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=TU(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=TU(s.getUint8(i)),i+=1;return r}function TU(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const yAt=-1;class Jr{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return qn.isSparseUnion(t)?this.children.some(n=>n.nullable):qn.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(qn.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=yAt&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-$q(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Jr?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Th(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(qn.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===$l.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(qn.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===$l.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(dL(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Jr(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===ie.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(dL(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[wm.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[wm.TYPE])&&(o[wm.TYPE]=s.subarray(t,t+n)),(s=o[wm.OFFSET])&&(o[wm.OFFSET]=s.subarray(t,t+n+1))||(s=o[wm.DATA])&&(o[wm.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Jr.prototype.children=Object.freeze([]);class gI extends Gn{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Jr(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.data),s=Zr(t.nullBitmap),o=_2(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Jr(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.data),s=Zr(t.nullBitmap),o=_2(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Jr(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Zr(t.nullBitmap),o=_2(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Jr(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Zr(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=ko(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(qn.isSparseUnion(n))return new Jr(n,r,o,a,[void 0,void 0,void 0,s],i);const u=_2(t.valueOffsets);return new Jr(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.indices.ArrayType,t.data),{["dictionary"]:o=new Mr([new gI().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Jr(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Zr(t.nullBitmap),s=ko(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new gI().visit({type:n.valueType})}=t,s=Zr(t.nullBitmap),{["length"]:o=i.length/Th(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Jr(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new gI().visit({type:n.childType})}=t,s=Zr(t.nullBitmap),o=_2(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Jr(n,r,a,u,[o,void 0,s],[i])}}const vAt=new gI;function ja(e){return vAt.visit(e)}class Sme{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function BDe(e){return e.reduce((t,n)=>t+n.nullCount,0)}function UDe(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function zDe(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function pee(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function mee(e,t){return e.getValid(t)}function Cx(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return pee(r,this._offsets,n,t)}}function VDe(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=pee(s,this._offsets,r,n);return t=void 0,o}}function HDe(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):pee(s,this._offsets,i,n);return t=void 0,o}}class un extends Gn{}function bAt(e,t){return t===null&&e.length>0?0:-1}function _At(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new hee(n,e.offset+(t||0),e.length,n,FDe)){if(!i)return r;++r}return-1}function In(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case ie.Union:break;case ie.Dictionary:break;default:return _At(e,n)}const r=Ml.getVisitFn(e),i=XT(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function qDe(e,t,n){const r=Ml.getVisitFn(e),i=XT(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}un.prototype.visitNull=bAt;un.prototype.visitBool=In;un.prototype.visitInt=In;un.prototype.visitInt8=In;un.prototype.visitInt16=In;un.prototype.visitInt32=In;un.prototype.visitInt64=In;un.prototype.visitUint8=In;un.prototype.visitUint16=In;un.prototype.visitUint32=In;un.prototype.visitUint64=In;un.prototype.visitFloat=In;un.prototype.visitFloat16=In;un.prototype.visitFloat32=In;un.prototype.visitFloat64=In;un.prototype.visitUtf8=In;un.prototype.visitBinary=In;un.prototype.visitFixedSizeBinary=In;un.prototype.visitDate=In;un.prototype.visitDateDay=In;un.prototype.visitDateMillisecond=In;un.prototype.visitTimestamp=In;un.prototype.visitTimestampSecond=In;un.prototype.visitTimestampMillisecond=In;un.prototype.visitTimestampMicrosecond=In;un.prototype.visitTimestampNanosecond=In;un.prototype.visitTime=In;un.prototype.visitTimeSecond=In;un.prototype.visitTimeMillisecond=In;un.prototype.visitTimeMicrosecond=In;un.prototype.visitTimeNanosecond=In;un.prototype.visitDecimal=In;un.prototype.visitList=In;un.prototype.visitStruct=In;un.prototype.visitUnion=In;un.prototype.visitDenseUnion=qDe;un.prototype.visitSparseUnion=qDe;un.prototype.visitDictionary=In;un.prototype.visitInterval=In;un.prototype.visitIntervalDayTime=In;un.prototype.visitIntervalYearMonth=In;un.prototype.visitDuration=In;un.prototype.visitDurationSecond=In;un.prototype.visitDurationMillisecond=In;un.prototype.visitDurationMicrosecond=In;un.prototype.visitDurationNanosecond=In;un.prototype.visitFixedSizeList=In;un.prototype.visitMap=In;const hL=new un;class ln extends Gn{}function hn(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===ie.Timestamp||t instanceof $u&&t.bitWidth!==64||t instanceof kg&&t.bitWidth!==64||t instanceof tv&&t.precision!==ma.HALF))return new Sme(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Sme(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new wAt(o)})}class wAt{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ln.prototype.visitNull=hn;ln.prototype.visitBool=hn;ln.prototype.visitInt=hn;ln.prototype.visitInt8=hn;ln.prototype.visitInt16=hn;ln.prototype.visitInt32=hn;ln.prototype.visitInt64=hn;ln.prototype.visitUint8=hn;ln.prototype.visitUint16=hn;ln.prototype.visitUint32=hn;ln.prototype.visitUint64=hn;ln.prototype.visitFloat=hn;ln.prototype.visitFloat16=hn;ln.prototype.visitFloat32=hn;ln.prototype.visitFloat64=hn;ln.prototype.visitUtf8=hn;ln.prototype.visitBinary=hn;ln.prototype.visitFixedSizeBinary=hn;ln.prototype.visitDate=hn;ln.prototype.visitDateDay=hn;ln.prototype.visitDateMillisecond=hn;ln.prototype.visitTimestamp=hn;ln.prototype.visitTimestampSecond=hn;ln.prototype.visitTimestampMillisecond=hn;ln.prototype.visitTimestampMicrosecond=hn;ln.prototype.visitTimestampNanosecond=hn;ln.prototype.visitTime=hn;ln.prototype.visitTimeSecond=hn;ln.prototype.visitTimeMillisecond=hn;ln.prototype.visitTimeMicrosecond=hn;ln.prototype.visitTimeNanosecond=hn;ln.prototype.visitDecimal=hn;ln.prototype.visitList=hn;ln.prototype.visitStruct=hn;ln.prototype.visitUnion=hn;ln.prototype.visitDenseUnion=hn;ln.prototype.visitSparseUnion=hn;ln.prototype.visitDictionary=hn;ln.prototype.visitInterval=hn;ln.prototype.visitIntervalDayTime=hn;ln.prototype.visitIntervalYearMonth=hn;ln.prototype.visitDuration=hn;ln.prototype.visitDurationSecond=hn;ln.prototype.visitDurationMillisecond=hn;ln.prototype.visitDurationMicrosecond=hn;ln.prototype.visitDurationNanosecond=hn;ln.prototype.visitFixedSizeList=hn;ln.prototype.visitMap=hn;const gee=new ln,EAt=(e,t)=>e+t;class Yv extends Gn{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===on.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+Tp.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Tp.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const xAt=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),SAt=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),TAt=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Tp.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},CAt=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Tp.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},AAt=(e,t)=>e.type.mode===$l.Dense?WDe(e,t):GDe(e,t),WDe=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Tp.visit(t[s],r[i])},GDe=({children:e},t)=>4+Tp.visitMany(e,e.map(()=>t)).reduce(EAt,0);Yv.prototype.visitUtf8=xAt;Yv.prototype.visitBinary=SAt;Yv.prototype.visitList=TAt;Yv.prototype.visitFixedSizeList=CAt;Yv.prototype.visitUnion=AAt;Yv.prototype.visitDenseUnion=WDe;Yv.prototype.visitSparseUnion=GDe;const Tp=new Yv;var YDe;const KDe={},XDe={};class Mr{constructor(t){var n,r,i;const s=t[0]instanceof Mr?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Jr)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=KDe[o.typeId],f=s[0];this.isValid=d=>mee(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,XDe[o.typeId]),this._offsets=UDe(s);break}this.data=s,this.type=o,this.stride=Th(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return BDe(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ie[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return gee.visit(this)}concat(...t){return new Mr(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Mr(LDe(this,t,n,({data:r,_offsets:i},s,o)=>zDe(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case ie.Int:case ie.Float:case ie.Decimal:case ie.Time:case ie.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Mr(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return qn.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(qn.isDictionary(this.type)){const t=new pL(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Mr(n)}return new pL(this)}unmemoize(){if(qn.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Mr(n)}return this}}YDe=Symbol.toStringTag;Mr[YDe]=(e=>{e.type=qn.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(ie).map(n=>ie[n]).filter(n=>typeof n=="number"&&n!==ie.NONE);for(const n of t){const r=Ml.getVisitFnByTypeId(n),i=Sf.getVisitFnByTypeId(n),s=hL.getVisitFnByTypeId(n),o=Tp.getVisitFnByTypeId(n);KDe[n]={get:r,set:i,indexOf:s,byteLength:o},XDe[n]=Object.create(e,{isValid:{value:Cx(mee)},get:{value:Cx(Ml.getVisitFnByTypeId(n))},set:{value:VDe(Sf.getVisitFnByTypeId(n))},indexOf:{value:HDe(hL.getVisitFnByTypeId(n))},getByteLength:{value:Cx(Tp.getVisitFnByTypeId(n))}})}return"Vector"})(Mr.prototype);class pL extends Mr{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new pL(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Mr(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function IAt(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${kAt(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function kAt(e){return typeof e!="bigint"?o_(e):`${o_(e)}n`}const CU=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,RAt=(e,t=0)=>e.length>=t?e.subarray(0,t):aL(new e.constructor(t),e,0);class g5{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?CU(r*1,this.BYTES_PER_ELEMENT):CU(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=CU(t*this.stride,this.BYTES_PER_ELEMENT);const n=RAt(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=aL(new this.ArrayType(t),this.buffer)}}g5.prototype.offset=0;class wN extends g5{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class QDe extends wN{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class JDe extends wN{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Hl=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Th(t),this._nulls=new QDe,n&&n.length>0&&(this._isValid=IAt(n))}toVector(){return new Mr([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ja({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Hl.prototype.length=1;Hl.prototype.stride=1;Hl.prototype.children=null;Hl.prototype.finished=!1;Hl.prototype.nullValues=null;Hl.prototype._isValid=()=>!0;class n0 extends Hl{constructor(t){super(t),this._values=new wN(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class y5 extends Hl{constructor(t){super(t),this._pendingLength=0,this._offsets=new JDe}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof p5?n[md].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class Mq{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const AU=2,Dh=4,Om=4,fi=4,M0=new Int32Array(2),Tme=new Float32Array(M0.buffer),Cme=new Float64Array(M0.buffer),GO=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Lq;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Lq||(Lq={}));let mL=class ZDe{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new ZDe(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return M0[0]=this.readInt32(t),Tme[0]}readFloat64(t){return M0[GO?0:1]=this.readInt32(t),M0[GO?1:0]=this.readInt32(t+4),Cme[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Tme[0]=n,this.writeInt32(t,M0[0])}writeFloat64(t,n){Cme[0]=n,this.writeInt32(t,M0[GO?0:1]),this.writeInt32(t+4,M0[GO?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Dh+Om)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Om;n++)t+=String.fromCharCode(this.readInt8(this.position_+Dh+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Dh;const i=this.bytes_.subarray(t,t+r);return n===Lq.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Dh}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Om)throw new Error("FlatBuffers: file identifier must be length "+Om);for(let n=0;n<Om;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Dh+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},e$e=class t$e{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=mL.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=t$e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=mL.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Dh,0),this.writeInt32(this.offset()-t+Dh)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*AU;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=AU;l<s;l+=AU)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?fi:0;if(n){const s=n;if(this.prep(this.minalign,Dh+Om+i),s.length!=Om)throw new TypeError("FlatBuffers: file identifier must be length "+Om);for(let o=Om-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Dh+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Dh,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class uo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+fi),(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return uo.startKeyValue(t),uo.addKey(t,n),uo.addValue(t,r),uo.endKeyValue(t)}}var IS;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(IS||(IS={}));var kS;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(kS||(kS={}));var gL;(function(e){e[e.DenseArray=0]="DenseArray"})(gL||(gL={}));class nc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new nc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+fi),(n||new nc).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return nc.startInt(t),nc.addBitWidth(t,n),nc.addIsSigned(t,r),nc.endInt(t)}}class Dm{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Dm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+fi),(n||new Dm).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new nc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):gL.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,gL.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class vb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new vb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+fi),(n||new vb).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return vb.startBinary(t),vb.endBinary(t)}}class bb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new bb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+fi),(n||new bb).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return bb.startBool(t),bb.endBool(t)}}var yL;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(yL||(yL={}));let R$=class _E{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new _E).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+fi),(n||new _E).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yL.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,yL.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return _E.startDate(t),_E.addUnit(t,n),_E.endDate(t)}};class sl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new sl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+fi),(n||new sl).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return sl.startDecimal(t),sl.addPrecision(t,n),sl.addScale(t,r),sl.addBitWidth(t,i),sl.endDecimal(t)}}var rv;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(rv||(rv={}));class $h{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new $h).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+fi),(n||new $h).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rv.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,rv.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return $h.startDuration(t),$h.addUnit(t,n),$h.endDuration(t)}}class Mh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Mh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+fi),(n||new Mh).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Mh.startFixedSizeBinary(t),Mh.addByteWidth(t,n),Mh.endFixedSizeBinary(t)}}class Lh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Lh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+fi),(n||new Lh).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Lh.startFixedSizeList(t),Lh.addListSize(t,n),Lh.endFixedSizeList(t)}}var vL;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(vL||(vL={}));class Fh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Fh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+fi),(n||new Fh).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vL.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,vL.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Fh.startFloatingPoint(t),Fh.addPrecision(t,n),Fh.endFloatingPoint(t)}}var bL;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(bL||(bL={}));class jh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new jh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+fi),(n||new jh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bL.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,bL.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return jh.startInterval(t),jh.addUnit(t,n),jh.endInterval(t)}}let Ame=class gA{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new gA).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+fi),(n||new gA).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return gA.startList(t),gA.endList(t)}},N$=class wE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new wE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+fi),(n||new wE).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return wE.startMap(t),wE.addKeysSorted(t,n),wE.endMap(t)}};class _b{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new _b).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+fi),(n||new _b).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return _b.startNull(t),_b.endNull(t)}}class wb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new wb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+fi),(n||new wb).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return wb.startStruct_(t),wb.endStruct_(t)}}let yA=class $1{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new $1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+fi),(n||new $1).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rv.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,rv.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return $1.startTime(t),$1.addUnit(t,n),$1.addBitWidth(t,r),$1.endTime(t)}},vA=class M1{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new M1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+fi),(n||new M1).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rv.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,rv.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return M1.startTimestamp(t),M1.addUnit(t,n),M1.addTimezone(t,r),M1.endTimestamp(t)}};var _L;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(_L||(_L={}));let L1=class F1{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new F1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+fi),(n||new F1).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_L.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,_L.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return F1.startUnion(t),F1.addMode(t,n),F1.addTypeIds(t,r),F1.endUnion(t)}};class Eb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Eb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+fi),(n||new Eb).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Eb.startUtf8(t),Eb.endUtf8(t)}}var qi;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(qi||(qi={}));let Yc=class P${constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new P$).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+fi),(n||new P$).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):qi.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Dm).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new P$).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new uo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,qi.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},xh=class bm{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new bm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+fi),(n||new bm).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):kS.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Yc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new uo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,kS.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return bm.startSchema(t),bm.addEndianness(t,n),bm.addFields(t,r),bm.addCustomMetadata(t,i),bm.addFeatures(t,s),bm.endSchema(t)}};class Ql{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Ql).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+fi),(n||new Ql).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):IS.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new xh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Mq).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Mq).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new uo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,IS.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Kr{constructor(t=[],n,r,i=wu.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=jq(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Kr(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Kr(n,this.metadata)}assign(...t){const n=t[0]instanceof Kr?t[0]:Array.isArray(t[0])?new Kr(t[0]):new Kr(t),r=[...this.fields],i=YO(YO(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:YO(YO(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=jq(s,new Map);return new Kr([...r,...s],i,new Map([...this.dictionaries,...o]))}}Kr.prototype.fields=null;Kr.prototype.metadata=null;Kr.prototype.dictionaries=null;let ai=class Fq{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Fq(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Fq.new(n,r,i,s)}};ai.prototype.type=null;ai.prototype.name=null;ai.prototype.nullable=null;ai.prototype.metadata=null;function YO(e,t){return new Map([...e||new Map,...t||new Map])}function jq(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(qn.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&jq(s.children,t)}return t}var NAt=e$e,PAt=mL;class Bq{static decode(t){t=new PAt(Zr(t));const n=Ql.getRootAsFooter(t),r=Kr.decode(n.schema(),new Map,n.version());return new OAt(r,n)}static encode(t){const n=new NAt,r=Kr.encode(n,t.schema);Ql.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())iv.encode(n,o);const i=n.endVector();Ql.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())iv.encode(n,o);const s=n.endVector();return Ql.startFooter(n),Ql.addSchema(n,r),Ql.addVersion(n,wu.V5),Ql.addRecordBatches(n,i),Ql.addDictionaries(n,s),Ql.finishFooterBuffer(n,Ql.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=wu.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class OAt extends Bq{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return iv.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return iv.decode(n)}return null}}class iv{static decode(t){return new iv(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Mq.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=jd(r),this.bodyLength=jd(n)}}const KO=Object.freeze({done:!0,value:void 0});class n$e{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class DAt extends n$e{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Rm(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(KO);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return bme.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return bme.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Rm(this,void 0,void 0,function*(){return yield this.abort(t),KO})}return(t){return Rm(this,void 0,void 0,function*(){return yield this.close(),KO})}read(t){return Rm(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Rm(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(KO)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class IU extends DAt{write(t){if((t=Zr(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Pq(this.toUint8Array(!0)):this.toUint8Array(!1).then(Pq)}toUint8Array(t=!1){return t?Ep(this._values)[0]:Rm(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=eI(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return Ep(o,a)[0]})}}class r$e extends y5{constructor(t){super(t),this._values=new g5(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Zr(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class $At extends Hl{constructor(t){super(t),this._values=new QDe}setValue(t,n){this._values.set(t,+n)}}class v5 extends n0{}v5.prototype._setValue=uDe;class i$e extends v5{}i$e.prototype._setValue=KZ;class s$e extends v5{}s$e.prototype._setValue=XZ;class o$e extends n0{}o$e.prototype._setValue=fDe;class MAt extends Hl{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new nv(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=wL({type:this.type.indices,nullValues:n}),this.dictionary=wL({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class a$e extends n0{}a$e.prototype._setValue=aDe;class LAt extends Hl{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new AS(this.type.listSize,new ai(n,t.type,!0)),r}}class b5 extends n0{setValue(t,n){this._values.set(t,n)}}class FAt extends b5{setValue(t,n){super.setValue(t,iDe(n))}}class jAt extends b5{}class BAt extends b5{}class _5 extends n0{}_5.prototype._setValue=pDe;class u$e extends _5{}u$e.prototype._setValue=see;class l$e extends _5{}l$e.prototype._setValue=oee;class QT extends n0{}QT.prototype._setValue=mDe;class c$e extends QT{}c$e.prototype._setValue=aee;class f$e extends QT{}f$e.prototype._setValue=uee;class d$e extends QT{}d$e.prototype._setValue=lee;class h$e extends QT{}h$e.prototype._setValue=cee;class r0 extends n0{setValue(t,n){this._values.set(t,n)}}class UAt extends r0{}class zAt extends r0{}class VAt extends r0{}class HAt extends r0{}class qAt extends r0{}class WAt extends r0{}class GAt extends r0{}class YAt extends r0{}class KAt extends y5{constructor(t){super(t),this._offsets=new JDe}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new CS(new ai(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class XAt extends y5{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Hk(new ai(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class QAt extends Hl{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class JAt extends Hl{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Va([...this.type.children,new ai(n,t.type,!0)]),r}}class JT extends n0{}JT.prototype._setValue=lDe;class p$e extends JT{}p$e.prototype._setValue=QZ;class m$e extends JT{}m$e.prototype._setValue=JZ;class g$e extends JT{}g$e.prototype._setValue=ZZ;class y$e extends JT{}y$e.prototype._setValue=eee;class ZT extends n0{}ZT.prototype._setValue=cDe;class v$e extends ZT{}v$e.prototype._setValue=tee;class b$e extends ZT{}b$e.prototype._setValue=nee;class _$e extends ZT{}_$e.prototype._setValue=ree;class w$e extends ZT{}w$e.prototype._setValue=iee;class yee extends Hl{constructor(t){super(t),this._typeIds=new wN(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new ai(n,t.type)];return this.type=new Vk(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class ZAt extends yee{}class eIt extends yee{constructor(t){super(t),this._offsets=new wN(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class E$e extends y5{constructor(t){super(t),this._values=new g5(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,DZ(n))}_flushPending(t,n){}}E$e.prototype._flushPending=r$e.prototype._flushPending;class tIt extends Gn{visitNull(){return QAt}visitBool(){return $At}visitInt(){return r0}visitInt8(){return UAt}visitInt16(){return zAt}visitInt32(){return VAt}visitInt64(){return HAt}visitUint8(){return qAt}visitUint16(){return WAt}visitUint32(){return GAt}visitUint64(){return YAt}visitFloat(){return b5}visitFloat16(){return FAt}visitFloat32(){return jAt}visitFloat64(){return BAt}visitUtf8(){return E$e}visitBinary(){return r$e}visitFixedSizeBinary(){return a$e}visitDate(){return v5}visitDateDay(){return i$e}visitDateMillisecond(){return s$e}visitTimestamp(){return JT}visitTimestampSecond(){return p$e}visitTimestampMillisecond(){return m$e}visitTimestampMicrosecond(){return g$e}visitTimestampNanosecond(){return y$e}visitTime(){return ZT}visitTimeSecond(){return v$e}visitTimeMillisecond(){return b$e}visitTimeMicrosecond(){return _$e}visitTimeNanosecond(){return w$e}visitDecimal(){return o$e}visitList(){return KAt}visitStruct(){return JAt}visitUnion(){return yee}visitDenseUnion(){return eIt}visitSparseUnion(){return ZAt}visitDictionary(){return MAt}visitInterval(){return _5}visitIntervalDayTime(){return u$e}visitIntervalYearMonth(){return l$e}visitDuration(){return QT}visitDurationSecond(){return c$e}visitDurationMillisecond(){return f$e}visitDurationMicrosecond(){return d$e}visistDurationNanosecond(){return h$e}visitFixedSizeList(){return LAt}visitMap(){return XAt}}const nIt=new tIt;class cn extends Gn{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Bu(e,t){return t instanceof e.constructor}function EN(e,t){return e===t||Bu(e,t)}function i0(e,t){return e===t||Bu(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function w5(e,t){return e===t||Bu(e,t)&&e.precision===t.precision}function rIt(e,t){return e===t||Bu(e,t)&&e.byteWidth===t.byteWidth}function vee(e,t){return e===t||Bu(e,t)&&e.unit===t.unit}function xN(e,t){return e===t||Bu(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function SN(e,t){return e===t||Bu(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function iIt(e,t){return e===t||Bu(e,t)&&e.children.length===t.children.length&&sv.compareManyFields(e.children,t.children)}function sIt(e,t){return e===t||Bu(e,t)&&e.children.length===t.children.length&&sv.compareManyFields(e.children,t.children)}function bee(e,t){return e===t||Bu(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&sv.compareManyFields(e.children,t.children)}function oIt(e,t){return e===t||Bu(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&sv.visit(e.indices,t.indices)&&sv.visit(e.dictionary,t.dictionary)}function _ee(e,t){return e===t||Bu(e,t)&&e.unit===t.unit}function TN(e,t){return e===t||Bu(e,t)&&e.unit===t.unit}function aIt(e,t){return e===t||Bu(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&sv.compareManyFields(e.children,t.children)}function uIt(e,t){return e===t||Bu(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&sv.compareManyFields(e.children,t.children)}cn.prototype.visitNull=EN;cn.prototype.visitBool=EN;cn.prototype.visitInt=i0;cn.prototype.visitInt8=i0;cn.prototype.visitInt16=i0;cn.prototype.visitInt32=i0;cn.prototype.visitInt64=i0;cn.prototype.visitUint8=i0;cn.prototype.visitUint16=i0;cn.prototype.visitUint32=i0;cn.prototype.visitUint64=i0;cn.prototype.visitFloat=w5;cn.prototype.visitFloat16=w5;cn.prototype.visitFloat32=w5;cn.prototype.visitFloat64=w5;cn.prototype.visitUtf8=EN;cn.prototype.visitBinary=EN;cn.prototype.visitFixedSizeBinary=rIt;cn.prototype.visitDate=vee;cn.prototype.visitDateDay=vee;cn.prototype.visitDateMillisecond=vee;cn.prototype.visitTimestamp=xN;cn.prototype.visitTimestampSecond=xN;cn.prototype.visitTimestampMillisecond=xN;cn.prototype.visitTimestampMicrosecond=xN;cn.prototype.visitTimestampNanosecond=xN;cn.prototype.visitTime=SN;cn.prototype.visitTimeSecond=SN;cn.prototype.visitTimeMillisecond=SN;cn.prototype.visitTimeMicrosecond=SN;cn.prototype.visitTimeNanosecond=SN;cn.prototype.visitDecimal=EN;cn.prototype.visitList=iIt;cn.prototype.visitStruct=sIt;cn.prototype.visitUnion=bee;cn.prototype.visitDenseUnion=bee;cn.prototype.visitSparseUnion=bee;cn.prototype.visitDictionary=oIt;cn.prototype.visitInterval=_ee;cn.prototype.visitIntervalDayTime=_ee;cn.prototype.visitIntervalYearMonth=_ee;cn.prototype.visitDuration=TN;cn.prototype.visitDurationSecond=TN;cn.prototype.visitDurationMillisecond=TN;cn.prototype.visitDurationMicrosecond=TN;cn.prototype.visitDurationNanosecond=TN;cn.prototype.visitFixedSizeList=aIt;cn.prototype.visitMap=uIt;const sv=new cn;function Uq(e,t){return sv.compareSchemas(e,t)}function wL(e){const t=e.type,n=new(nIt.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(wL(Object.assign(Object.assign({},l),{type:u})))}}return n}function kU(e,t){return lIt(e,t.map(n=>n.data.concat()))}function lIt(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=cIt(n,o,c,t,i),o>0&&(r[s++]=ja({type:new Va(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new rc(e,f))]}function cIt(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ja({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var x$e;class cl{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Kr([]),this._offsets=[0],this;let i,s;t[0]instanceof Kr&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof rc)return[u];if(u instanceof cl)return u.batches;if(u instanceof Jr){if(u.type instanceof Va)return[new rc(new Kr(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new Mr([u[h]])),f=new Kr(l.map((h,p)=>new ai(String(h),c[p].type))),[,d]=kU(f,c);return d.length===0?[new rc(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Kr([]),!(i instanceof Kr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof rc))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Uq(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??UDe(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=BDe(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?gee.visit(new Mr(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new cl(n,r.map(i=>new rc(n,i)))}slice(t,n){const r=this.schema;[t,n]=LDe({length:this.numRows},t,n);const i=zDe(this.data,this._offsets,t,n);return new cl(r,i.map(s=>new rc(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ja({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Mr(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Mr([ja({type:new Ig,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=kU(r,a)}return new cl(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new cl(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new cl(...kU(s,o))}}x$e=Symbol.toStringTag;cl[x$e]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Cx(mee),e.get=Cx(Ml.getVisitFn(ie.Struct)),e.set=VDe(Sf.getVisitFn(ie.Struct)),e.indexOf=HDe(hL.getVisitFn(ie.Struct)),e.getByteLength=Cx(Tp.getVisitFn(ie.Struct)),"Table"))(cl.prototype);var S$e;let rc=class bA{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Kr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ja({nullCount:0,type:new Va(this.schema.fields),children:this.schema.fields.map(n=>ja({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Jr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Ime(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=ai.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Kr(r),a=ja({type:new Va(r),length:s,children:i,nullCount:0});[this.schema,this.data]=Ime(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=T$e(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ml.visit(this.data,t)}set(t,n){return Sf.visit(this.data,t,n)}indexOf(t,n){return hL.visit(this.data,t,n)}getByteLength(t){return Tp.visit(this.data,t)}[Symbol.iterator](){return gee.visit(new Mr([this.data]))}toArray(){return[...this]}concat(...t){return new cl(this.schema,[this,...t])}slice(t,n){const[r]=new Mr([this.data]).slice(t,n).data;return new bA(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Mr([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Mr([ja({type:new Ig,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Kr(s,new Map(this.schema.metadata)),i=ja({type:new Va(s),children:o})}return new bA(r,i)}select(t){const n=this.schema.select(t),r=new Va(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new bA(n,ja({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ja({type:new Va(n.fields),length:this.numRows,children:r});return new bA(n,i)}};S$e=Symbol.toStringTag;rc[S$e]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(rc.prototype);function Ime(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ja({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ja({type:new Va(i),length:n,children:s})]}function T$e(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])T$e(a.children,l==null?void 0:l.children,n);if(qn.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class fIt extends rc{constructor(t){const n=t.fields.map(i=>ja({type:i.type})),r=ja({type:new Va(t.fields),nullCount:0,children:n});super(t,r)}}var EL;(function(e){e[e.BUFFER=0]="BUFFER"})(EL||(EL={}));var xL;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(xL||(xL={}));class L0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new L0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+fi),(n||new L0).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):xL.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):EL.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,xL.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,EL.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return L0.startBodyCompression(t),L0.addCodec(t,n),L0.addMethod(t,r),L0.endBodyCompression(t)}}let C$e=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},A$e=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Em=class zq{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new zq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+fi),(n||new zq).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new A$e).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new C$e).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new L0).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},EE=class Vq{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new Vq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+fi),(n||new Vq).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Em).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var SL;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(SL||(SL={}));let _0=class mh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new mh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+fi),(n||new mh).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):IS.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):SL.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new uo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,IS.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,SL.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return mh.startMessage(t),mh.addVersion(t,n),mh.addHeaderType(t,r),mh.addHeader(t,i),mh.addBodyLength(t,s),mh.addCustomMetadata(t,o),mh.endMessage(t)}};class dIt extends Gn{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return _b.startNull(n),_b.endNull(n)}visitInt(t,n){return nc.startInt(n),nc.addBitWidth(n,t.bitWidth),nc.addIsSigned(n,t.isSigned),nc.endInt(n)}visitFloat(t,n){return Fh.startFloatingPoint(n),Fh.addPrecision(n,t.precision),Fh.endFloatingPoint(n)}visitBinary(t,n){return vb.startBinary(n),vb.endBinary(n)}visitBool(t,n){return bb.startBool(n),bb.endBool(n)}visitUtf8(t,n){return Eb.startUtf8(n),Eb.endUtf8(n)}visitDecimal(t,n){return sl.startDecimal(n),sl.addScale(n,t.scale),sl.addPrecision(n,t.precision),sl.addBitWidth(n,t.bitWidth),sl.endDecimal(n)}visitDate(t,n){return R$.startDate(n),R$.addUnit(n,t.unit),R$.endDate(n)}visitTime(t,n){return yA.startTime(n),yA.addUnit(n,t.unit),yA.addBitWidth(n,t.bitWidth),yA.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return vA.startTimestamp(n),vA.addUnit(n,t.unit),r!==void 0&&vA.addTimezone(n,r),vA.endTimestamp(n)}visitInterval(t,n){return jh.startInterval(n),jh.addUnit(n,t.unit),jh.endInterval(n)}visitDuration(t,n){return $h.startDuration(n),$h.addUnit(n,t.unit),$h.endDuration(n)}visitList(t,n){return Ame.startList(n),Ame.endList(n)}visitStruct(t,n){return wb.startStruct_(n),wb.endStruct_(n)}visitUnion(t,n){L1.startTypeIdsVector(n,t.typeIds.length);const r=L1.createTypeIdsVector(n,t.typeIds);return L1.startUnion(n),L1.addMode(n,t.mode),L1.addTypeIds(n,r),L1.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Dm.startDictionaryEncoding(n),Dm.addId(n,BigInt(t.id)),Dm.addIsOrdered(n,t.isOrdered),r!==void 0&&Dm.addIndexType(n,r),Dm.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Mh.startFixedSizeBinary(n),Mh.addByteWidth(n,t.byteWidth),Mh.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Lh.startFixedSizeList(n),Lh.addListSize(n,t.listSize),Lh.endFixedSizeList(n)}visitMap(t,n){return N$.startMap(n),N$.addKeysSorted(n,t.keysSorted),N$.endMap(n)}}const RU=new dIt;function hIt(e,t=new Map){return new Kr(mIt(e,t),O$(e.metadata),t)}function I$e(e){return new Tc(e.count,k$e(e.columns),R$e(e.columns))}function pIt(e){return new Cp(I$e(e.data),e.id,e.isDelta)}function mIt(e,t){return(e.fields||[]).filter(Boolean).map(n=>ai.fromJSON(n,t))}function kme(e,t){return(e.children||[]).filter(Boolean).map(n=>ai.fromJSON(n,t))}function k$e(e){return(e||[]).reduce((t,n)=>[...t,new ov(n.count,gIt(n.VALIDITY)),...k$e(n.children)],[])}function R$e(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Kh(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Kh(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Kh(t.length,i.OFFSET.length)),i.DATA&&t.push(new Kh(t.length,i.DATA.length)),t=R$e(i.children,t)}return t}function gIt(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function yIt(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=Nme(e,kme(e,t)),i=new ai(e.name,o,e.nullable,O$(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?Rme(r):new ev,a=new nv(t.get(n),r,n,s.isOrdered),i=new ai(e.name,a,e.nullable,O$(e.metadata))):(r=(r=s.indexType)?Rme(r):new ev,t.set(n,o=Nme(e,kme(e,t))),a=new nv(o,r,n,s.isOrdered),i=new ai(e.name,a,e.nullable,O$(e.metadata))),i||null}function O$(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function Rme(e){return new $u(e.isSigned,e.bitWidth)}function Nme(e,t){const n=e.type.name;switch(n){case"NONE":return new Ig;case"null":return new Ig;case"binary":return new Uk;case"utf8":return new xS;case"bool":return new zk;case"list":return new CS((t||[])[0]);case"struct":return new Va(t||[]);case"struct_":return new Va(t||[])}switch(n){case"int":{const r=e.type;return new $u(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new tv(ma[r.precision])}case"decimal":{const r=e.type;return new uL(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new SS(xp[r.unit])}case"time":{const r=e.type;return new kg(on[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new lL(on[r.unit],r.timezone)}case"interval":{const r=e.type;return new TS(Sp[r.unit])}case"duration":{const r=e.type;return new cL(on[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Vk($l[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new fL(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new AS(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Hk((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var vIt=e$e,bIt=mL;class Bh{static fromJSON(t,n){const r=new Bh(0,wu.V5,n);return r._createHeader=_It(t,n),r}static decode(t){t=new bIt(Zr(t));const n=_0.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Bh(r,i,s);return o._createHeader=wIt(n,s),o}static encode(t){const n=new vIt;let r=-1;return t.isSchema()?r=Kr.encode(n,t.header()):t.isRecordBatch()?r=Tc.encode(n,t.header()):t.isDictionaryBatch()&&(r=Cp.encode(n,t.header())),_0.startMessage(n),_0.addVersion(n,wu.V5),_0.addHeader(n,r),_0.addHeaderType(n,t.headerType),_0.addBodyLength(n,BigInt(t.bodyLength)),_0.finishMessageBuffer(n,_0.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Kr)return new Bh(0,wu.V5,Po.Schema,t);if(t instanceof Tc)return new Bh(n,wu.V5,Po.RecordBatch,t);if(t instanceof Cp)return new Bh(n,wu.V5,Po.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Po.Schema}isRecordBatch(){return this.headerType===Po.RecordBatch}isDictionaryBatch(){return this.headerType===Po.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=jd(t)}}class Tc{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=jd(t)}}class Cp{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=jd(n)}}class Kh{constructor(t,n){this.offset=jd(t),this.length=jd(n)}}class ov{constructor(t,n){this.length=jd(t),this.nullCount=jd(n)}}function _It(e,t){return()=>{switch(t){case Po.Schema:return Kr.fromJSON(e);case Po.RecordBatch:return Tc.fromJSON(e);case Po.DictionaryBatch:return Cp.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Po[t]}, type: ${t} }`)}}function wIt(e,t){return()=>{switch(t){case Po.Schema:return Kr.decode(e.header(new xh),new Map,e.version());case Po.RecordBatch:return Tc.decode(e.header(new Em),e.version());case Po.DictionaryBatch:return Cp.decode(e.header(new EE),e.version())}throw new Error(`Unrecognized Message type: { name: ${Po[t]}, type: ${t} }`)}}ai.encode=PIt;ai.decode=RIt;ai.fromJSON=yIt;Kr.encode=NIt;Kr.decode=EIt;Kr.fromJSON=hIt;Tc.encode=OIt;Tc.decode=xIt;Tc.fromJSON=I$e;Cp.encode=DIt;Cp.decode=SIt;Cp.fromJSON=pIt;ov.encode=$It;ov.decode=CIt;Kh.encode=MIt;Kh.decode=TIt;function EIt(e,t=new Map,n=wu.V5){const r=kIt(e,t);return new Kr(r,D$(e),t,n)}function xIt(e,t=wu.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Tc(e.length(),AIt(e),IIt(e,t))}function SIt(e,t=wu.V5){return new Cp(Tc.decode(e.data(),t),e.id(),e.isDelta())}function TIt(e){return new Kh(e.offset(),e.length())}function CIt(e){return new ov(e.length(),e.nullCount())}function AIt(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=ov.decode(n));return t}function IIt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<wu.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Kh.decode(r));return n}function kIt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=ai.decode(r,t));return n}function Pme(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=ai.decode(r,t));return n}function RIt(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=Dme(e,Pme(e,t)),r=new ai(e.name(),i,e.nullable(),D$(e))):t.has(n=jd(a.id()))?(s=(s=a.indexType())?Ome(s):new ev,o=new nv(t.get(n),s,n,a.isOrdered()),r=new ai(e.name(),o,e.nullable(),D$(e))):(s=(s=a.indexType())?Ome(s):new ev,t.set(n,i=Dme(e,Pme(e,t))),o=new nv(i,s,n,a.isOrdered()),r=new ai(e.name(),o,e.nullable(),D$(e))),r||null}function D$(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function Ome(e){return new $u(e.isSigned(),e.bitWidth())}function Dme(e,t){const n=e.typeType();switch(n){case qi.NONE:return new Ig;case qi.Null:return new Ig;case qi.Binary:return new Uk;case qi.Utf8:return new xS;case qi.Bool:return new zk;case qi.List:return new CS((t||[])[0]);case qi.Struct_:return new Va(t||[])}switch(n){case qi.Int:{const r=e.type(new nc);return new $u(r.isSigned(),r.bitWidth())}case qi.FloatingPoint:{const r=e.type(new Fh);return new tv(r.precision())}case qi.Decimal:{const r=e.type(new sl);return new uL(r.scale(),r.precision(),r.bitWidth())}case qi.Date:{const r=e.type(new R$);return new SS(r.unit())}case qi.Time:{const r=e.type(new yA);return new kg(r.unit(),r.bitWidth())}case qi.Timestamp:{const r=e.type(new vA);return new lL(r.unit(),r.timezone())}case qi.Interval:{const r=e.type(new jh);return new TS(r.unit())}case qi.Duration:{const r=e.type(new $h);return new cL(r.unit())}case qi.Union:{const r=e.type(new L1);return new Vk(r.mode(),r.typeIdsArray()||[],t||[])}case qi.FixedSizeBinary:{const r=e.type(new Mh);return new fL(r.byteWidth())}case qi.FixedSizeList:{const r=e.type(new Lh);return new AS(r.listSize(),(t||[])[0])}case qi.Map:{const r=e.type(new N$);return new Hk((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${qi[n]}" (${n})`)}function NIt(e,t){const n=t.fields.map(s=>ai.encode(e,s));xh.startFieldsVector(e,n.length);const r=xh.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?xh.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return uo.startKeyValue(e),uo.addKey(e,a),uo.addValue(e,u),uo.endKeyValue(e)})):-1;return xh.startSchema(e),xh.addFields(e,r),xh.addEndianness(e,LIt?kS.Little:kS.Big),i!==-1&&xh.addCustomMetadata(e,i),xh.endSchema(e)}function PIt(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;qn.isDictionary(s)?(o=s.dictionary.typeId,i=RU.visit(s,e),r=RU.visit(s.dictionary,e)):r=RU.visit(s,e);const a=(s.children||[]).map(c=>ai.encode(e,c)),u=Yc.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Yc.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return uo.startKeyValue(e),uo.addKey(e,d),uo.addValue(e,h),uo.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Yc.startField(e),Yc.addType(e,r),Yc.addTypeType(e,o),Yc.addChildren(e,u),Yc.addNullable(e,!!t.nullable),n!==-1&&Yc.addName(e,n),i!==-1&&Yc.addDictionary(e,i),l!==-1&&Yc.addCustomMetadata(e,l),Yc.endField(e)}function OIt(e,t){const n=t.nodes||[],r=t.buffers||[];Em.startNodesVector(e,n.length);for(const o of n.slice().reverse())ov.encode(e,o);const i=e.endVector();Em.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Kh.encode(e,o);const s=e.endVector();return Em.startRecordBatch(e),Em.addLength(e,BigInt(t.length)),Em.addNodes(e,i),Em.addBuffers(e,s),Em.endRecordBatch(e)}function DIt(e,t){const n=Tc.encode(e,t.data);return EE.startDictionaryBatch(e),EE.addId(e,BigInt(t.id)),EE.addIsDelta(e,t.isDelta),EE.addData(e,n),EE.endDictionaryBatch(e)}function $It(e,t){return A$e.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function MIt(e,t){return C$e.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const LIt=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),Hq="ARROW1",wee=new Uint8Array(Hq.length);for(let e=0;e<Hq.length;e+=1)wee[e]=Hq.codePointAt(e);wee.length;class Fs extends Gn{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof rc?s.data.children:s.data),r=new Fs;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Mr)return this.visitMany(t.data),this;const{type:n}=t;if(!qn.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(qn.isUnion(n))this.nodes.push(new ov(r,0));else{const{nullCount:i}=t;qn.isNull(n)||Rd.call(this,i<=0?new Uint8Array(0):dL(t.offset,r,t.nullBitmap)),this.nodes.push(new ov(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Rd(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Kh(this._byteLength,t)),this._byteLength+=t,this}function FIt(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Rd.call(this,i),n.mode===$l.Sparse)return qq.call(this,e);if(n.mode===$l.Dense){if(e.offset<=0)return Rd.call(this,s),qq.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Rd.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function jIt(e){let t;return e.nullCount>=e.length?Rd.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Rd.call(this,dL(e.offset,e.length,t)):Rd.call(this,jDe(e.values))}function s0(e){return Rd.call(this,e.values.subarray(0,e.length*e.stride))}function N$e(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Rd.call(this,OOe(-i,t+1,r)),Rd.call(this,n.subarray(i,i+o)),this}function Eee(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Rd.call(this,OOe(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function qq(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Fs.prototype.visitBool=jIt;Fs.prototype.visitInt=s0;Fs.prototype.visitFloat=s0;Fs.prototype.visitUtf8=N$e;Fs.prototype.visitBinary=N$e;Fs.prototype.visitFixedSizeBinary=s0;Fs.prototype.visitDate=s0;Fs.prototype.visitTimestamp=s0;Fs.prototype.visitTime=s0;Fs.prototype.visitDecimal=s0;Fs.prototype.visitList=Eee;Fs.prototype.visitStruct=qq;Fs.prototype.visitUnion=FIt;Fs.prototype.visitInterval=s0;Fs.prototype.visitDuration=s0;Fs.prototype.visitFixedSizeList=Eee;Fs.prototype.visitMap=Eee;class P$e extends n$e{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new IU,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Wv(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return d5(t)?t.then(n=>this.writeAll(n)):h5(t)?Cee(this,t):Tee(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof IU?this._sink=t:(this._sink=new IU,t&&qCt(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&WCt(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Uq(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof cl&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof rc&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Uq(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof rc?t instanceof fIt||this._writeRecordBatch(t):t instanceof cl?this.writeAll(t.batches):$Z(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Bh.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===Po.RecordBatch?this._recordBatchBlocks.push(new iv(a,t.bodyLength,this._position)):t.headerType===Po.DictionaryBatch&&this._dictionaryBlocks.push(new iv(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Zr(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Bh.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(wee)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Fs.assemble(t),o=new Tc(t.numRows,r,i),a=Bh.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Fs.assemble(new Mr([t])),u=new Tc(t.length,s,o),l=new Cp(u,n,r),c=Bh.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class xee extends P$e{static writeAll(t,n){const r=new xee(n);return d5(t)?t.then(i=>r.writeAll(i)):h5(t)?Cee(r,t):Tee(r,t)}}class See extends P$e{static writeAll(t){const n=new See;return d5(t)?t.then(r=>n.writeAll(r)):h5(t)?Cee(n,t):Tee(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=Bq.encode(new Bq(t,wu.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Tee(e,t){let n=t;t instanceof cl&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function Cee(e,t){var n,r,i,s,o,a,u;return Rm(this,void 0,void 0,function*(){try{for(n=!0,r=eI(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function BIt(e,t="stream"){return(t==="stream"?xee:See).writeAll(e).toUint8Array(!0)}function Aee(e,t=1){return(e*t+63&-64||64)/t}function av(e,t,n=e.BYTES_PER_ELEMENT){return new e(Aee(t,n))}function Iee(e){return e instanceof Jr?e:new Jr(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function UIt(e){return new Mr([Iee(e)])}const kee=new TextEncoder;function zIt(e,t,n){const r=kee.encode(n);return e.set(r,t),r.length}function VIt(e,t,n){return kee.encodeInto(n,e.subarray(t)).written}const HIt=kee.encodeInto?VIt:zIt;function $me(e,t){const n=av(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function qIt(e,t){const n=av(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function WIt(e,t){const n=av(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function GIt(e,t){const n=av(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function YIt(e){const t=wL({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function KIt(e,t,n){const r=av(Int32Array,t+1),i=av(Uint8Array,3*n);let s=0;return{set(o,a){s+=HIt(i,s,o),r[a+1]=s},data:()=>{const o=Aee(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function XIt(e,t){const n=[],r=av(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:QIt(e.dictionary,n,o)})}}function QIt(e,t,n){const r=KIt(e,t.length,n);return t.forEach(r.set),UIt(r.data())}function JIt(e,t){const n=av(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function ZIt(e,t,n=!0){let r;switch(e.typeId){case ie.Int:r=e.bitWidth<64?$me:null;break;case ie.Float:r=e.precision>0?$me:null;break;case ie.Dictionary:r=e.dictionary.typeId===ie.Utf8&&e.indices.typeId===ie.Int&&e.indices.bitWidth<64?XIt:null;break;case ie.Bool:r=qIt;break;case ie.Date:r=e.unit?GIt:WIt;break}return r==null?YIt(e):n?JIt(r(e,t),t):r(e,t)}function ekt(e,t){const n=e.length,r=Aee(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),Iee({type:t,length:n,buffers:[null,i]})}function O$e(e,t,n,r,i=!0){const s=ZIt(r,e,i);return t(n,s.set),Iee(s.data())}function Ree(e){if(e instanceof qn||e==null)return e;switch(e){case ie.Binary:return new Uk;case ie.Bool:return new zk;case ie.DateDay:return new a2t;case ie.DateMillisecond:case ie.Date:return new u2t;case ie.Dictionary:return new nv(new xS,new ev);case ie.Float16:return new tDe;case ie.Float32:return new qZ;case ie.Float64:case ie.Float:return new WZ;case ie.Int8:return new FZ;case ie.Int16:return new jZ;case ie.Int32:case ie.Int:return new ev;case ie.Int64:return new BZ;case ie.IntervalDayTime:return new h2t;case ie.Interval:case ie.IntervalYearMonth:return new p2t;case ie.Null:return new Ig;case ie.TimeMicrosecond:return new f2t;case ie.TimeMillisecond:case ie.Time:return new c2t;case ie.TimeNanosecond:return new d2t;case ie.TimeSecond:return new l2t;case ie.Uint8:return new UZ;case ie.Uint16:return new zZ;case ie.Uint32:return new VZ;case ie.Uint64:return new HZ;case ie.Utf8:return new xS;default:Hn(`Unsupported type code: ${wp(e)}. Use a data type constructor instead?`)}}function tkt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function D$e(e,t){const n=Wq();return e(t,n.add),n}function Wq(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Ag(t))++e.dates,tkt(t)&&++e.utcdays;else if(yb(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=Wq());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=Wq())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return Ree(nkt(e))}};return e}function nkt(e){const t=e.count-e.nulls;if(t===0)return ie.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?ie.Float64:n<128?ie.Int8:n<32768?ie.Int16:ie.Int32:n>=2**32?ie.Float64:n<256?ie.Uint8:n<65536?ie.Uint16:ie.Uint32}else{if(e.nums===t)return ie.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?ie.Int64:Hn(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?ie.Uint64:Hn(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return ie.Bool;if(e.utcdays===t)return ie.DateDay;if(e.dates===t)return ie.DateMillisecond;if(e.arrays===t){const n=ai.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new AS(e.minlen,n):new CS(n)}else if(e.structs===t){const n=e.struct_prof;return new Va(Object.keys(n).map(r=>ai.new(r,n[r].type(),!0)))}else{if(e.strings>0)return ie.Dictionary;Hn("Type inference failure")}}}}function rkt(e,t,n,r,i,s=!0){if(i=Ree(i),!i){const o=D$e(r,t);s=o.nulls>0,i=o.type()}return O$e(n,r,t,i,s)}function ikt(e,t,n,r,i,s=!0){i=Ree(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=skt(o);if(u&&a&&Mme(u.type,i))return u;const l=o.data;if(bN(l)){const c=okt(l);if(a&&c&&Mme(c,i))return ekt(l,c);i=i||c,s=!1}if(!i){const c=D$e(r,o);s=c.nulls>0,i=c.type()}return O$e(n,r,o,i,s)}function skt(e){return e instanceof Mr?e:e.vector instanceof Mr?e.vector:null}function okt(e){const n={Float32Array:qZ,Float64Array:WZ,Int8Array:FZ,Int16Array:jZ,Int32Array:ev,Uint8Array:UZ,Uint16Array:zZ,Uint32Array:VZ,BigInt64Array:BZ,BigUint64Array:HZ}[e.constructor.name];return n?new n:null}function Mme(e,t){return!e||!t?!0:e.compareTo(t)}function akt(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function ukt(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&yb(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const lkt=()=>Hn("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function ckt(){try{return cl}catch{lkt()}}function $$e(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=fkt(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&Hn("Column length mismatch"),a[l]=c});const u=ckt();return new u(a)}function fkt(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Bi(n)?n(e):$r(n)?n:null;if($r(e))return{dataFrom:rkt,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:akt(e,r,i)};if(dkt(e))return{dataFrom:ikt,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:ukt(e,r,i)};Hn("Unsupported input data type")}function dkt(e){return e&&Bi(e.reify)}function hkt(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return BIt($$e(e,r),n)}function pkt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function mkt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Ag(u))++i,pkt(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function E5(e,t){return Bi(t)?t(e):t||e.columnNames()}function M$e(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=mkt(gkt(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function gkt(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function Nee(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function ykt(e,t={}){const n=E5(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Ag(l)?c5(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return Nee(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function L$e(e,t={}){if(Bi(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Ag(e))return t.utc?c5(e):sOe(e);{const r=JSON.stringify(e,(s,o)=>bN(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function x5(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function vkt(e,t={}){const n=E5(e,t.columns),{align:r,format:i}=M$e(e,n,t),s=bkt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,g)=>u(L$e(m,g)),c=o?(m,g)=>m==null?o(m):l(m,g):l;let f=-1,d=-1;const h=(m,g,y)=>{const v=y?a(r[g]):"",b=s[m]&&s[m](g,d,f)||"",w=(v?`text-align: ${v};`+(b?" ":""):"")+b;return`<${m}${w?` style="${w}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return Nee(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,g){p+=h("td",g,1)+c(m,i[g])+"</td>"}}),p+"</tr></tbody></table>"}function bkt(e){return x5(e.style,t=>Bi(t)?t:()=>t)}function _kt(e,t=!0,n=!1){return e===void 0||e?t:n}const wkt=e=>Ag(e)?c5(e,!0):e;function Ekt(e,t={}){const n=_kt(t.schema),r=t.format||{},i=E5(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||wkt;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function xkt(e,t={}){const n=E5(e,t.columns),{align:r,format:i}=M$e(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return Nee(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(L$e(u,i[l]))+"|"}}),a+`
`}function F$e(e,t){for(const[n,r]of f5(t))e.set(n,r);return e}function Skt(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Rg(e,t,n=new Map){return t=Du(t)?e.columnName(t):t,Ea(t)?n.set(t,t):$r(t)?t.forEach(r=>Rg(e,r,n)):Bi(t)?Rg(e,t(e),n):Za(t)?F$e(n,t):Hn(`Invalid column selection: ${wp(t)}`),n}function S5(e,t){return e.toObject=t,e}function j$e(e){return $r(e)?e.map(j$e):e&&e.toObject?e.toObject():e}function RS(){return S5(e=>e.columnNames(),()=>({all:[]}))}function B$e(...e){return e=e.flat(),S5(t=>{const n=Rg(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:j$e(e)}))}function Tkt(e,t){return S5(n=>{let r=Du(e)?e:n.columnIndex(e),i=Du(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Ckt(e){return Ea(e)&&(e=RegExp(Skt(e))),S5(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Akt(e){return bN(e.data)?e.data.constructor:Array}class $m extends HTt{static from(t,n){return new $m(GTt(t,n),n)}static new(t,n){if(t instanceof $m)return t;const r={},i=[];for(const[s,o]of f5(t))r[s]=o,i.push(s);return new $m(r,n||i)}constructor(t,n,r,i,s,o){x5(t,WTt,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new $m(t||this._data,n||(t?null:this._names),o,i!==void 0?i:ECt(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Lc(r).groupby(r.groups());return t.forEach(s=>{s=$m.new(s),s.numRows()!==n&&Hn("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Hn(`Unrecognized column: ${t}`)}object(t=0){return Lme(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Rg(this,t.columns||RS()),o=ROe(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),SCt(this,u,a,n)}return a}*[Symbol.iterator](){const t=Lme(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(Akt(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=xCt(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return $$e(this,t)}toArrowBuffer(t){return hkt(this,t)}toCSV(t){return ykt(this,t)}toHTML(t){return vkt(this,t)}toJSON(t){return Ekt(this,t)}toMarkdown(t){return xkt(this,t)}}function Lme(e){let t=e._builder;if(!t){const n=ROe(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Ikt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function wr(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=kkt[e.type];s&&s(e,t,n)}const XO=(e,t,n)=>{wr(e.argument,t,n,e)},NU=(e,t,n)=>{wr(e.left,t,n,e),wr(e.right,t,n,e)},Fme=(e,t,n)=>{wr(e.test,t,n,e),wr(e.consequent,t,n,e),e.alternate&&wr(e.alternate,t,n,e)},PU=(e,t,n)=>{Sh(e.params,t,n,e),wr(e.body,t,n,e)},jme=(e,t,n)=>{wr(e.callee,t,n,e),Sh(e.arguments,t,n,e)},Sh=(e,t,n,r)=>{e.forEach(i=>wr(i,t,n,r))},kkt={TemplateLiteral:(e,t,n)=>{Sh(e.expressions,t,n,e),Sh(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{wr(e.object,t,n,e),wr(e.property,t,n,e)},CallExpression:jme,NewExpression:jme,ArrayExpression:(e,t,n)=>{Sh(e.elements,t,n,e)},AssignmentExpression:NU,AwaitExpression:XO,BinaryExpression:NU,LogicalExpression:NU,UnaryExpression:XO,UpdateExpression:XO,ConditionalExpression:Fme,ObjectExpression:(e,t,n)=>{Sh(e.properties,t,n,e)},Property:(e,t,n)=>{wr(e.key,t,n,e),wr(e.value,t,n,e)},ArrowFunctionExpression:PU,FunctionExpression:PU,FunctionDeclaration:PU,VariableDeclaration:(e,t,n)=>{Sh(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{wr(e.id,t,n,e),wr(e.init,t,n,e)},SpreadElement:(e,t,n)=>{wr(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Sh(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{wr(e.expression,t,n,e)},IfStatement:Fme,ForStatement:(e,t,n)=>{wr(e.init,t,n,e),wr(e.test,t,n,e),wr(e.update,t,n,e),wr(e.body,t,n,e)},WhileStatement:(e,t,n)=>{wr(e.test,t,n,e),wr(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{wr(e.body,t,n,e),wr(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{wr(e.discriminant,t,n,e),Sh(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&wr(e.test,t,n,e),Sh(e.consequent,t,n,e)},ReturnStatement:XO,Program:(e,t,n)=>{wr(e.body[0],t,n,e)}};function U$e(e){delete e.start,delete e.end,delete e.optional}function Bme(e){U$e(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Rkt(e){return wr(e,null,{Column:Bme,Constant:Bme,Default:U$e}),e}function co(e,t){return t&&t.type===e}function Nkt(e){return co(ACt,e)||co(CCt,e)}function Pkt(e){return Bi(e)?e:()=>e}const Okt="Escaped functions are not valid as rollup or pivot values.";function Dkt(e,t,n){e.aggronly&&Hn(Okt);const r="(row,data)=>fn("+kOe(e.table.columnNames())+",$)";return{escape:OZ.escape(r,Pkt(t.expr),n)}}var $kt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],z$e=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Mkt="-----------------------------------------------------------------------------------------------------------------------------------------------------",V$e="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",OU={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},DU="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Lkt={5:DU,"5module":DU+" export import",6:DU+" const class extends export import super"},Fkt=/^in(stanceof)?$/,jkt=new RegExp("["+V$e+"]"),Bkt=new RegExp("["+V$e+Mkt+"]");function Gq(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Ng(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&jkt.test(String.fromCharCode(e)):t===!1?!1:Gq(e,z$e)}function NS(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Bkt.test(String.fromCharCode(e)):t===!1?!1:Gq(e,z$e)||Gq(e,$kt)}var Tr=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Vc(e,t){return new Tr(e,{beforeExpr:!0,binop:t})}var Hc={beforeExpr:!0},Ku={startsExpr:!0},Pee={};function dr(e,t){return t===void 0&&(t={}),t.keyword=e,Pee[e]=new Tr(e,t)}var K={num:new Tr("num",Ku),regexp:new Tr("regexp",Ku),string:new Tr("string",Ku),name:new Tr("name",Ku),privateId:new Tr("privateId",Ku),eof:new Tr("eof"),bracketL:new Tr("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Tr("]"),braceL:new Tr("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Tr("}"),parenL:new Tr("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Tr(")"),comma:new Tr(",",Hc),semi:new Tr(";",Hc),colon:new Tr(":",Hc),dot:new Tr("."),question:new Tr("?",Hc),questionDot:new Tr("?."),arrow:new Tr("=>",Hc),template:new Tr("template"),invalidTemplate:new Tr("invalidTemplate"),ellipsis:new Tr("...",Hc),backQuote:new Tr("`",Ku),dollarBraceL:new Tr("${",{beforeExpr:!0,startsExpr:!0}),eq:new Tr("=",{beforeExpr:!0,isAssign:!0}),assign:new Tr("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Tr("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Tr("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Vc("||",1),logicalAND:Vc("&&",2),bitwiseOR:Vc("|",3),bitwiseXOR:Vc("^",4),bitwiseAND:Vc("&",5),equality:Vc("==/!=/===/!==",6),relational:Vc("</>/<=/>=",7),bitShift:Vc("<</>>/>>>",8),plusMin:new Tr("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Vc("%",10),star:Vc("*",10),slash:Vc("/",10),starstar:new Tr("**",{beforeExpr:!0}),coalesce:Vc("??",1),_break:dr("break"),_case:dr("case",Hc),_catch:dr("catch"),_continue:dr("continue"),_debugger:dr("debugger"),_default:dr("default",Hc),_do:dr("do",{isLoop:!0,beforeExpr:!0}),_else:dr("else",Hc),_finally:dr("finally"),_for:dr("for",{isLoop:!0}),_function:dr("function",Ku),_if:dr("if"),_return:dr("return",Hc),_switch:dr("switch"),_throw:dr("throw",Hc),_try:dr("try"),_var:dr("var"),_const:dr("const"),_while:dr("while",{isLoop:!0}),_with:dr("with"),_new:dr("new",{beforeExpr:!0,startsExpr:!0}),_this:dr("this",Ku),_super:dr("super",Ku),_class:dr("class",Ku),_extends:dr("extends",Hc),_export:dr("export"),_import:dr("import",Ku),_null:dr("null",Ku),_true:dr("true",Ku),_false:dr("false",Ku),_in:dr("in",{beforeExpr:!0,binop:7}),_instanceof:dr("instanceof",{beforeExpr:!0,binop:7}),_typeof:dr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:dr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:dr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ff=/\r\n?|\n|\u2028|\u2029/,Ukt=new RegExp(Ff.source,"g");function eC(e){return e===10||e===13||e===8232||e===8233}function H$e(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(eC(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var q$e=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,of=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,W$e=Object.prototype,zkt=W$e.hasOwnProperty,Vkt=W$e.toString,CN=Object.hasOwn||function(e,t){return zkt.call(e,t)},Ume=Array.isArray||function(e){return Vkt.call(e)==="[object Array]"},zme=Object.create(null);function ry(e){return zme[e]||(zme[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function uv(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Hkt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,qk=function(t,n){this.line=t,this.column=n};qk.prototype.offset=function(t){return new qk(this.line,this.column+t)};var T5=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function G$e(e,t){for(var n=1,r=0;;){var i=H$e(e,r,t);if(i<0)return new qk(n,t-r);++n,r=i}}var Yq={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Vme=!1;function qkt(e){var t={};for(var n in Yq)t[n]=e&&CN(e,n)?e[n]:Yq[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!Vme&&typeof console=="object"&&console.warn&&(Vme=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Ume(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return Ume(t.onComment)&&(t.onComment=Wkt(t,t.onComment)),t}function Wkt(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new T5(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var Wk=1,tC=2,Oee=4,Y$e=8,K$e=16,X$e=32,Dee=64,Q$e=128,AN=256,$ee=Wk|tC|AN;function Mee(e,t){return tC|(e?Oee:0)|(t?Y$e:0)}var TL=0,Lee=1,o0=2,J$e=3,Z$e=4,eMe=5,bo=function(t,n,r){this.options=t=qkt(t),this.sourceFile=t.sourceFile,this.keywords=ry(Lkt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=OU[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=ry(i);var s=(i?i+" ":"")+OU.strict;this.reservedWordsStrict=ry(s),this.reservedWordsStrictBind=ry(s+" "+OU.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ff).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=K.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Wk),this.regexpState=null,this.privateNameStack=[]},Wp={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};bo.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Wp.inFunction.get=function(){return(this.currentVarScope().flags&tC)>0};Wp.inGenerator.get=function(){return(this.currentVarScope().flags&Y$e)>0&&!this.currentVarScope().inClassFieldInit};Wp.inAsync.get=function(){return(this.currentVarScope().flags&Oee)>0&&!this.currentVarScope().inClassFieldInit};Wp.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&AN)return!1;if(t.flags&tC)return(t.flags&Oee)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Wp.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&Dee)>0||n||this.options.allowSuperOutsideMethod};Wp.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Q$e)>0};Wp.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Wp.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(tC|AN))>0||n};Wp.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&AN)>0};bo.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};bo.parse=function(t,n){return new this(n,t).parse()};bo.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};bo.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(bo.prototype,Wp);var Uu=bo.prototype,Gkt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Uu.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){of.lastIndex=e,e+=of.exec(this.input)[0].length;var t=Gkt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){of.lastIndex=e+t[0].length;var n=of.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Ff.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,of.lastIndex=e,e+=of.exec(this.input)[0].length,this.input[e]===";"&&e++}};Uu.eat=function(e){return this.type===e?(this.next(),!0):!1};Uu.isContextual=function(e){return this.type===K.name&&this.value===e&&!this.containsEsc};Uu.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Uu.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Uu.canInsertSemicolon=function(){return this.type===K.eof||this.type===K.braceR||Ff.test(this.input.slice(this.lastTokEnd,this.start))};Uu.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Uu.semicolon=function(){!this.eat(K.semi)&&!this.insertSemicolon()&&this.unexpected()};Uu.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Uu.expect=function(e){this.eat(e)||this.unexpected()};Uu.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var C5=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Uu.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Uu.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Uu.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Uu.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Wt=bo.prototype;Wt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==K.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Fee={kind:"loop"},Ykt={kind:"switch"};Wt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;of.lastIndex=this.pos;var t=of.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Ng(r,!0)){for(var i=n+1;NS(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Fkt.test(s))return!0}return!1};Wt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;of.lastIndex=this.pos;var e=of.exec(this.input),t=this.pos+e[0].length,n;return!Ff.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(NS(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};Wt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=K._var,s="let"),r){case K._break:case K._continue:return this.parseBreakContinueStatement(i,r.keyword);case K._debugger:return this.parseDebuggerStatement(i);case K._do:return this.parseDoStatement(i);case K._for:return this.parseForStatement(i);case K._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case K._class:return e&&this.unexpected(),this.parseClass(i,!0);case K._if:return this.parseIfStatement(i);case K._return:return this.parseReturnStatement(i);case K._switch:return this.parseSwitchStatement(i);case K._throw:return this.parseThrowStatement(i);case K._try:return this.parseTryStatement(i);case K._const:case K._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case K._while:return this.parseWhileStatement(i);case K._with:return this.parseWithStatement(i);case K.braceL:return this.parseBlock(!0,i);case K.semi:return this.parseEmptyStatement(i);case K._export:case K._import:if(this.options.ecmaVersion>10&&r===K._import){of.lastIndex=this.pos;var o=of.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===K._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===K.name&&c.type==="Identifier"&&this.eat(K.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};Wt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(K.semi)||this.insertSemicolon()?e.label=null:this.type!==K.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};Wt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};Wt.parseDoStatement=function(e){return this.next(),this.labels.push(Fee),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(K._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(K.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};Wt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Fee),this.enterScope(0),this.expect(K.parenL),this.type===K.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===K._var||this.type===K._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===K._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new C5,u=this.parseExpression(t>-1?"await":!0,a);return this.type===K._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===K._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};Wt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,yI|(n?0:Kq),!1,t)};Wt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(K._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};Wt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(K.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};Wt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(K.braceL),this.labels.push(Ykt),this.enterScope(0);for(var t,n=!1;this.type!==K.braceR;)if(this.type===K._case||this.type===K._default){var r=this.type===K._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(K.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};Wt.parseThrowStatement=function(e){return this.next(),Ff.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Kkt=[];Wt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?X$e:0),this.checkLValPattern(e,t?Z$e:o0),this.expect(K.parenR),e};Wt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===K._catch){var t=this.startNode();this.next(),this.eat(K.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(K._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};Wt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};Wt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Fee),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};Wt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};Wt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};Wt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===K._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};Wt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};Wt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(K.braceL),e&&this.enterScope(0);this.type!==K.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};Wt.parseFor=function(e,t){return e.init=t,this.expect(K.semi),e.test=this.type===K.semi?null:this.parseExpression(),this.expect(K.semi),e.update=this.type===K.parenR?null:this.parseExpression(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};Wt.parseForIn=function(e,t){var n=this.type===K._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};Wt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(K.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===K._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(K.comma))break}return e};Wt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?Lee:o0,!1)};var yI=1,Kq=2,tMe=4;Wt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===K.star&&t&Kq&&this.unexpected(),e.generator=this.eat(K.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&yI&&(e.id=t&tMe&&this.type!==K.name?null:this.parseIdent(),e.id&&!(t&Kq)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Lee:o0:J$e));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Mee(e.async,e.generator)),t&yI||(e.id=this.type===K.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&yI?"FunctionDeclaration":"FunctionExpression")};Wt.parseFunctionParams=function(e){this.expect(K.parenL),e.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Wt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(K.braceL);this.type!==K.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&Xkt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};Wt.parseClassElement=function(e){if(this.eat(K.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(K.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===K.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===K.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(K.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===K.parenL||o!=="method"||i||s){var l=!n.static&&CL(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};Wt.isClassElementNameStart=function(){return this.type===K.name||this.type===K.privateId||this.type===K.num||this.type===K.string||this.type===K.bracketL||this.type.keyword};Wt.parseClassElementName=function(e){this.type===K.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};Wt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&CL(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};Wt.parseClassField=function(e){if(CL(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&CL(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(K.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};Wt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(AN|Dee);this.type!==K.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};Wt.parseClassId=function(e,t){this.type===K.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,o0,!1)):(t===!0&&this.unexpected(),e.id=null)};Wt.parseClassSuper=function(e){e.superClass=this.eat(K._extends)?this.parseExprSubscripts(null,!1):null};Wt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};Wt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];CN(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function Xkt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function CL(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}Wt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};Wt.parseExport=function(e,t){if(this.next(),this.eat(K.star))return this.parseExportAllDeclaration(e,t);if(this.eat(K._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};Wt.parseExportDeclaration=function(e){return this.parseStatement(null)};Wt.parseExportDefaultDeclaration=function(){var e;if(this.type===K._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,yI|tMe,!1,e)}else if(this.type===K._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};Wt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),CN(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};Wt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};Wt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};Wt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Wt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};Wt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(K.braceL);!this.eat(K.braceR);){if(n)n=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;t.push(this.parseExportSpecifier(e))}return t};Wt.parseImport=function(e){return this.next(),this.type===K.string?(e.specifiers=Kkt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===K.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};Wt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,o0),this.finishNode(e,"ImportSpecifier")};Wt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,o0),this.finishNode(e,"ImportDefaultSpecifier")};Wt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,o0),this.finishNode(e,"ImportNamespaceSpecifier")};Wt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===K.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(K.comma)))return e;if(this.type===K.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(K.braceL);!this.eat(K.braceR);){if(t)t=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;e.push(this.parseImportSpecifier())}return e};Wt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===K.string){var e=this.parseLiteral(this.value);return Hkt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};Wt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};Wt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var jf=bo.prototype;jf.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};jf.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};jf.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};jf.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==K.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};jf.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case K.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(K.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case K.braceL:return this.parseObj(!0)}return this.parseIdent()};jf.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(K.comma),t&&this.type===K.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===K.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};jf.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};jf.parseBindingListItem=function(e){return e};jf.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(K.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};jf.checkLValSimple=function(e,t,n){t===void 0&&(t=TL);var r=t!==TL;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===o0&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(CN(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==eMe&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};jf.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=TL),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};jf.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=TL),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Jf=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Zi={b_stat:new Jf("{",!1),b_expr:new Jf("{",!0),b_tmpl:new Jf("${",!1),p_stat:new Jf("(",!1),p_expr:new Jf("(",!0),q_tmpl:new Jf("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Jf("function",!1),f_expr:new Jf("function",!0),f_expr_gen:new Jf("function",!0,!1,null,!0),f_gen:new Jf("function",!1,!1,null,!0)},nC=bo.prototype;nC.initialContext=function(){return[Zi.b_stat]};nC.curContext=function(){return this.context[this.context.length-1]};nC.braceIsBlock=function(e){var t=this.curContext();return t===Zi.f_expr||t===Zi.f_stat?!0:e===K.colon&&(t===Zi.b_stat||t===Zi.b_expr)?!t.isExpr:e===K._return||e===K.name&&this.exprAllowed?Ff.test(this.input.slice(this.lastTokEnd,this.start)):e===K._else||e===K.semi||e===K.eof||e===K.parenR||e===K.arrow?!0:e===K.braceL?t===Zi.b_stat:e===K._var||e===K._const||e===K.name?!1:!this.exprAllowed};nC.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};nC.updateContext=function(e){var t,n=this.type;n.keyword&&e===K.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};nC.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};K.parenR.updateContext=K.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Zi.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};K.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Zi.b_stat:Zi.b_expr),this.exprAllowed=!0};K.dollarBraceL.updateContext=function(){this.context.push(Zi.b_tmpl),this.exprAllowed=!0};K.parenL.updateContext=function(e){var t=e===K._if||e===K._for||e===K._with||e===K._while;this.context.push(t?Zi.p_stat:Zi.p_expr),this.exprAllowed=!0};K.incDec.updateContext=function(){};K._function.updateContext=K._class.updateContext=function(e){e.beforeExpr&&e!==K._else&&!(e===K.semi&&this.curContext()!==Zi.p_stat)&&!(e===K._return&&Ff.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===K.colon||e===K.braceL)&&this.curContext()===Zi.b_stat)?this.context.push(Zi.f_expr):this.context.push(Zi.f_stat),this.exprAllowed=!1};K.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};K.backQuote.updateContext=function(){this.curContext()===Zi.q_tmpl?this.context.pop():this.context.push(Zi.q_tmpl),this.exprAllowed=!1};K.star.updateContext=function(e){if(e===K._function){var t=this.context.length-1;this.context[t]===Zi.f_expr?this.context[t]=Zi.f_expr_gen:this.context[t]=Zi.f_gen}this.exprAllowed=!0};K.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==K.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var En=bo.prototype;En.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};En.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===K.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(K.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};En.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new C5,r=!0);var a=this.start,u=this.startLoc;(this.type===K.parenL||this.type===K.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===K.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===K.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};En.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(K.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(K.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};En.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};En.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==K._in)&&s>r){var o=this.type===K.logicalOR||this.type===K.logicalAND,a=this.type===K.coalesce;a&&(s=K.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===K.coalesce||a&&(this.type===K.logicalOR||this.type===K.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};En.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};En.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===K.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&nMe(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===K.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==K._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(K.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function nMe(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&nMe(e.expression)}En.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};En.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};En.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(K.arrow)};En.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};En.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(K.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(K.bracketL);if(l||u&&this.type!==K.parenL&&this.type!==K.backQuote||this.eat(K.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(K.bracketR)):this.type===K.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(K.parenL)){var f=new C5,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=u),e=this.finishNode(g,"CallExpression")}else if(this.type===K.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e};En.parseExprAtom=function(e,t,n){this.type===K.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case K._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===K.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==K.dot&&this.type!==K.bracketL&&this.type!==K.parenL&&this.unexpected(),this.finishNode(r,"Super");case K._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case K.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(K._function))return this.overrideContext(Zi.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(K.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===K.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(K.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case K.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case K.num:case K.string:return this.parseLiteral(this.value);case K._null:case K._true:case K._false:return r=this.startNode(),r.value=this.type===K._null?null:this.type===K._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case K.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case K.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(K.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case K.braceL:return this.overrideContext(Zi.b_expr),this.parseObj(!1,e);case K._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case K._class:return this.parseClass(this.startNode(),!1);case K._new:return this.parseNew();case K.backQuote:return this.parseTemplate();case K._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};En.parseExprAtomDefault=function(){this.unexpected()};En.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===K.parenL&&!e)return this.parseDynamicImport(t);if(this.type===K.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};En.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(K.parenR)){var t=this.start;this.eat(K.comma)&&this.eat(K.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};En.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};En.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};En.parseParenExpression=function(){this.expect(K.parenL);var e=this.parseExpression();return this.expect(K.parenR),e};En.shouldParseArrow=function(e){return!this.canInsertSemicolon()};En.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new C5,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==K.parenR;)if(l?l=!1:this.expect(K.comma),s&&this.afterTrailingComma(K.parenR,!0)){c=!0;break}else if(this.type===K.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(K.parenR),e&&this.shouldParseArrow(u)&&this.eat(K.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,g)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};En.parseParenItem=function(e){return e};En.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Qkt=[];En.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===K.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(K.parenL)?e.arguments=this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Qkt,this.finishNode(e,"NewExpression")};En.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===K.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===K.backQuote,this.finishNode(n,"TemplateElement")};En.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===K.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(K.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(K.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};En.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===K.name||this.type===K.num||this.type===K.string||this.type===K.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===K.star)&&!Ff.test(this.input.slice(this.lastTokEnd,this.start))};En.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(K.braceR);){if(r)r=!1;else if(this.expect(K.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(K.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};En.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(K.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===K.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(K.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(K.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};En.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};En.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===K.colon&&this.unexpected(),this.eat(K.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===K.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==K.comma&&this.type!==K.braceR&&this.type!==K.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===K.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};En.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(K.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(K.bracketR),e.key;e.computed=!1}return e.key=this.type===K.num||this.type===K.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};En.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};En.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Mee(t,r.generator)|Dee|(n?Q$e:0)),this.expect(K.parenL),r.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};En.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(Mee(n,!1)|K$e),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};En.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==K.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,eMe),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};En.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};En.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,Lee,t?null:n)}};En.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(K.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===K.comma?o=null:this.type===K.ellipsis?(o=this.parseSpread(r),r&&this.type===K.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};En.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};En.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};En.parseIdentNode=function(){var e=this.startNode();return this.type===K.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=K.name):this.unexpected(),e};En.parsePrivateIdent=function(){var e=this.startNode();return this.type===K.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};En.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===K.semi||this.canInsertSemicolon()||this.type!==K.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(K.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};En.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var AL=bo.prototype;AL.raise=function(e,t){var n=G$e(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};AL.raiseRecoverable=AL.raise;AL.curPosition=function(){if(this.options.locations)return new qk(this.curLine,this.pos-this.lineStart)};var Kv=bo.prototype,Jkt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Kv.enterScope=function(e){this.scopeStack.push(new Jkt(e))};Kv.exitScope=function(){this.scopeStack.pop()};Kv.treatFunctionsAsVarInScope=function(e){return e.flags&tC||!this.inModule&&e.flags&Wk};Kv.declareName=function(e,t,n){var r=!1;if(t===o0){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&Wk&&delete this.undefinedExports[e]}else if(t===Z$e){var s=this.currentScope();s.lexical.push(e)}else if(t===J$e){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&X$e&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&Wk&&delete this.undefinedExports[e],u.flags&$ee)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Kv.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Kv.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Kv.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&$ee)return t}};Kv.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&$ee&&!(t.flags&K$e))return t}};var A5=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new T5(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},IN=bo.prototype;IN.startNode=function(){return new A5(this,this.start,this.startLoc)};IN.startNodeAt=function(e,t){return new A5(this,e,t)};function rMe(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}IN.finishNode=function(e,t){return rMe.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};IN.finishNodeAt=function(e,t,n,r){return rMe.call(this,e,t,n,r)};IN.copyNode=function(e){var t=new A5(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var iMe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",sMe=iMe+" Extended_Pictographic",oMe=sMe,aMe=oMe+" EBase EComp EMod EPres ExtPict",uMe=aMe,Zkt=uMe,eRt={9:iMe,10:sMe,11:oMe,12:aMe,13:uMe,14:Zkt},tRt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",nRt={9:"",10:"",11:"",12:"",13:"",14:tRt},Hme="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",lMe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",cMe=lMe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",fMe=cMe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",dMe=fMe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",hMe=dMe+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",rRt=hMe+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",iRt={9:lMe,10:cMe,11:fMe,12:dMe,13:hMe,14:rRt},pMe={};function sRt(e){var t=pMe[e]={binary:ry(eRt[e]+" "+Hme),binaryOfStrings:ry(nRt[e]),nonBinary:{General_Category:ry(Hme),Script:ry(iRt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var $U=0,qme=[9,10,11,12,13,14];$U<qme.length;$U+=1){var oRt=qme[$U];sRt(oRt)}var Bt=bo.prototype,Gp=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=pMe[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Gp.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Gp.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Gp.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Gp.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Gp.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Gp.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Gp.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Gp.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Gp.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Bt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Bt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Bt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Bt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Bt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Bt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Bt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Bt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Bt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Bt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Bt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Bt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Bt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Bt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Bt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Bt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Bt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return mMe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function mMe(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Bt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!mMe(n);)e.advance();return e.pos!==t};Bt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Bt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Bt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Bt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=uv(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=uv(e.lastIntValue);return!0}return!1};Bt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),aRt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function aRt(e){return Ng(e,!0)||e===36||e===95}Bt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),uRt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function uRt(e){return NS(e,!0)||e===36||e===95||e===8204||e===8205}Bt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Bt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Bt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Bt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Bt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Bt.regexp_eatZero=function(e){return e.current()===48&&!I5(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Bt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Bt.regexp_eatControlLetter=function(e){var t=e.current();return gMe(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function gMe(e){return e>=65&&e<=90||e>=97&&e<=122}Bt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&lRt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function lRt(e){return e>=0&&e<=1114111}Bt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Bt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var yMe=0,Pg=1,lf=2;Bt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(cRt(t))return e.lastIntValue=-1,e.advance(),Pg;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===lf&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return yMe};function cRt(e){return e===100||e===68||e===115||e===83||e===119||e===87}Bt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Pg}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return yMe};Bt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){CN(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Bt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Pg;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return lf;e.raise("Invalid property name")};Bt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";vMe(t=e.current());)e.lastStringValue+=uv(t),e.advance();return e.lastStringValue!==""};function vMe(e){return gMe(e)||e===95}Bt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";fRt(t=e.current());)e.lastStringValue+=uv(t),e.advance();return e.lastStringValue!==""};function fRt(e){return vMe(e)||I5(e)}Bt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Bt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===lf&&e.raise("Negated character class may contain strings"),!0}return!1};Bt.regexp_classContents=function(e){return e.current()===93?Pg:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Pg)};Bt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Bt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||wMe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Bt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Bt.regexp_classSetExpression=function(e){var t=Pg,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===lf&&(t=lf);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==lf&&(t=Pg);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===lf&&(t=lf)}};Bt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Bt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Pg:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Bt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===lf&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Bt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Bt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===lf&&(t=lf);return t};Bt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Pg:lf};Bt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&dRt(n)||hRt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function dRt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function hRt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Bt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return pRt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function pRt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Bt.regexp_eatClassControlLetter=function(e){var t=e.current();return I5(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Bt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Bt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;I5(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function I5(e){return e>=48&&e<=57}Bt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;bMe(n=e.current());)e.lastIntValue=16*e.lastIntValue+_Me(n),e.advance();return e.pos!==t};function bMe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function _Me(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Bt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Bt.regexp_eatOctalDigit=function(e){var t=e.current();return wMe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function wMe(e){return e>=48&&e<=55}Bt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!bMe(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+_Me(i),e.advance()}return!0};var jee=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new T5(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},ur=bo.prototype;ur.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new jee(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ur.getToken=function(){return this.next(),new jee(this)};typeof Symbol<"u"&&(ur[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===K.eof,value:t}}}});ur.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(K.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};ur.readToken=function(e){return Ng(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};ur.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};ur.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=H$e(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};ur.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!eC(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};ur.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&q$e.test(String.fromCharCode(e)))++this.pos;else break e}}};ur.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};ur.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(K.ellipsis)):(++this.pos,this.finishToken(K.dot))};ur.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(K.assign,2):this.finishOp(K.slash,1)};ur.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?K.star:K.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=K.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(K.assign,n+1):this.finishOp(r,n)};ur.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(K.assign,3)}return this.finishOp(e===124?K.logicalOR:K.logicalAND,2)}return t===61?this.finishOp(K.assign,2):this.finishOp(e===124?K.bitwiseOR:K.bitwiseAND,1)};ur.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(K.assign,2):this.finishOp(K.bitwiseXOR,1)};ur.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ff.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(K.incDec,2):t===61?this.finishOp(K.assign,2):this.finishOp(K.plusMin,1)};ur.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(K.assign,n+1):this.finishOp(K.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(K.relational,n))};ur.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(K.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(K.arrow)):this.finishOp(e===61?K.eq:K.prefix,1)};ur.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(K.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(K.assign,3)}return this.finishOp(K.coalesce,2)}}return this.finishOp(K.question,1)};ur.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Ng(t,!0)||t===92))return this.finishToken(K.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+uv(t)+"'")};ur.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(K.parenL);case 41:return++this.pos,this.finishToken(K.parenR);case 59:return++this.pos,this.finishToken(K.semi);case 44:return++this.pos,this.finishToken(K.comma);case 91:return++this.pos,this.finishToken(K.bracketL);case 93:return++this.pos,this.finishToken(K.bracketR);case 123:return++this.pos,this.finishToken(K.braceL);case 125:return++this.pos,this.finishToken(K.braceR);case 58:return++this.pos,this.finishToken(K.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(K.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(K.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+uv(e)+"'")};ur.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};ur.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Ff.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Gp(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(K.regexp,{pattern:i,flags:o,value:u})};ur.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function mRt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function EMe(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}ur.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=EMe(this.input.slice(t,this.pos)),++this.pos):Ng(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,n)};ur.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=EMe(this.input.slice(t,this.pos));return++this.pos,Ng(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Ng(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=mRt(this.input.slice(t,this.pos),n);return this.finishToken(K.num,s)};ur.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};ur.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(eC(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(K.string,t)};var xMe={};ur.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===xMe)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};ur.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw xMe;this.raise(e,t)};ur.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===K.template||this.type===K.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(K.dollarBraceL)):(++this.pos,this.finishToken(K.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(K.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(eC(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};ur.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(K.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};ur.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return uv(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return eC(t)?"":String.fromCharCode(t)}};ur.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};ur.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(NS(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Ng:NS)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=uv(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};ur.readWord=function(){var e=this.readWord1(),t=K.name;return this.keywords.test(e)&&(t=Pee[e]),this.finishToken(t,e)};var gRt="8.11.3";bo.acorn={Parser:bo,version:gRt,defaultOptions:Yq,Position:qk,SourceLocation:T5,getLineInfo:G$e,Node:A5,TokenType:Tr,tokTypes:K,keywordTypes:Pee,TokContext:Jf,tokContexts:Zi,isIdentifierChar:NS,isIdentifierStart:Ng,Token:jee,isNewLine:eC,lineBreak:Ff,lineBreakG:Ukt,nonASCIIwhitespace:q$e};function yRt(e,t){return bo.parse(e,t)}const Bee={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},vRt={ecmaVersion:11},Wme="$",bRt="d",_Rt="d1",wRt="d2",sa=e=>(t,n)=>n.error(t,e+" not allowed"),ERt=sa("Aggregate function"),xRt=sa("Window function"),SRt="Invalid argument",Uee="Invalid column reference",TRt=Uee+" (must be input to an aggregate function)",SMe="Invalid function call",CRt="Invalid member expression",ARt="Invalid operator parameter",IRt="Invalid param reference",kRt="Invalid variable reference",RRt="Variable not accessible in operator call",NRt="Unsupported variable declaration",PRt="Unsupported destructuring pattern",TMe="Table expressions do not support closures",CMe="Use aq.escape(fn) to use a function as-is (including closures)",ORt="use table.params({ name: value }) to define dynamic parameters",DRt="use aq.addFunction(name, fn) to add new op functions",$Rt=`
Note: ${TMe}. ${CMe}, or ${ORt}.`,AMe=`
Note: ${TMe}. ${CMe}, or ${DRt}.`,MRt=`The ${AOe} method is not valid in multi-table expressions.`;function LRt(e,t){const n=FRt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Nkt(r)?(BRt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=_Rt),e.scope.add(e.tuple2=wRt),e.scope.add(e.$param=Wme)):(e.scope.add(e.tuple=bRt),e.scope.add(e.$param=Wme)),wr(r,e,zee),e.root}function FRt(e){try{const t=e.field?jRt(e):$r(e)?wp(e):e;return yRt(`expr=(${t})`,vRt).body[0].expression.right}catch{Hn(`Expression parse error: ${e+""}`)}}function jRt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const zee={FunctionDeclaration:sa("Function definitions"),ForStatement:sa("For loops"),ForOfStatement:sa("For-of loops"),ForInStatement:sa("For-in loops"),WhileStatement:sa("While loops"),DoWhileStatement:sa("Do-while loops"),AwaitExpression:sa("Await expressions"),ArrowFunctionExpression:sa("Function definitions"),AssignmentExpression:sa("Assignments"),FunctionExpression:sa("Function definitions"),NewExpression:sa('Use of "new"'),UpdateExpression:sa("Update expressions"),VariableDeclarator(e,t){Jq(e.id,t)},Identifier(e,t,n){RMe(e,t,n)&&!t.scope.has(e.name)&&t.error(e,kRt,$Rt)},CallExpression(e,t){const n=IMe(e.callee),r=SOe(n)||TOe(n);if(r){if((t.join||t.aggregate===!1)&&NZ(n)&&ERt(e,t),(t.join||t.window===!1)&&PZ(n)&&xRt(e,t),t.$op=1,t.ast)Qq(e,n,t),e.arguments.forEach(i=>wr(i,t,Xq));else{const i=t.op(URt(t,r,n,e.arguments));Object.assign(e,{type:bOe,name:i.id})}return t.$op=0,!1}else xOe(n)?Qq(e,n,t):t.error(e,SMe,AMe)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!co(ky,r))return;const{name:s}=r;if(kMe(e)&&co(ky,i)&&Fd(Bee,i.name)){OMe(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return Gme(e,o,t,NMe,n);if(s===t.$param)return Gme(e,o,t,VRt);t.paramsRef.has(s)?Gk(e,t.paramsRef.get(s)):t.columnRef.has(s)?PMe(r,s,t,e):Fd(t.params,s)&&Gk(r,s)}};function Gme(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(co(KT,s))a=s.value;else try{wr(s,n,zee,e),a=n.param(s)}catch{n.error(e,CRt)}return r(e,a,t,n,i),!1}const Xq={...zee,VariableDeclarator:sa("Variable declaration in operator call"),Identifier(e,t,n){RMe(e,t,n)&&t.error(e,RRt)},CallExpression(e,t){const n=IMe(e.callee);xOe(n)?Qq(e,n,t):t.error(e,SMe,AMe)}};function BRt(e,t){e.generator&&sa("Generator functions")(e,t),e.async&&sa("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(w2(t,n[0],"tuple1",i(1)),r>1&&w2(t,n[1],"tuple2",i(2)),r>2&&w2(t,n[2],"$param",s)):(w2(t,n[0],"tuple",i(0)),r>1&&w2(t,n[1],"$param",s))),t.root=e.body}function w2(e,t,n,r){co(ky,t)?(e.scope.add(t.name),e[n]=t.name):co(yOe,t)&&t.properties.forEach(i=>{const s=co(ky,i.key)?i.key.name:co(KT,i.key)?i.key.value:e.error(i,SRt);co(ky,i.value)||e.error(i.value,PRt),r(i.value.name,s)})}function URt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(wr(u,e,Xq),i.push(e.field(u))):l<a?(wr(u,e,Xq),s.push(e.param(u))):e.error(u,ARt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function IMe(e){return co(ky,e)?e.name:co(gOe,e)?kMe(e)?zRt(e.property.name):e.property.name:null}function kMe(e){return co(ky,e.object)&&e.object.name==="Math"}function zRt(e){return e==="max"?"greatest":e==="min"?"least":e}function RMe(e,t,n){const{name:r}=e;if(!(co(gOe,n)&&n.property===e)){if(!(co(vOe,n)&&n.key===e))if(t.paramsRef.has(r))Gk(e,t.paramsRef.get(r));else if(t.columnRef.has(r))PMe(e,r,t,n);else if(Fd(t.params,r))Gk(e,r);else if(Fd(Bee,r))OMe(e,r);else return!0}}function NMe(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,Uee),r.aggronly&&!r.$op&&r.error(e,TRt),COe(e,t,n,o,i)}function PMe(e,t,n,r){const[i,s]=n.columnRef.get(t);NMe(e,i,s,n,r)}function VRt(e,t,n,r){r.params&&!Fd(r.params,t)&&r.error(e,IRt),Gk(e,t)}function Gk(e,t){e.type=PCt,e.name=t}function OMe(e,t){e.type=kCt,e.name=t,e.raw=Bee[t]}function Qq(e,t,n){if(t===AOe){const r=n.table;r||n.error(e,MRt),IOe(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Du(s)?r.columnName(s):s;return r.column(o)||n.error(i,Uee),o}):r.columnNames())}else e.callee={type:NCt,name:t}}function Jq(e,t){co(ky,e)?t.scope.add(e.name):co(TCt,e)?e.elements.forEach(n=>Jq(n,t)):co(yOe,e)?e.properties.forEach(n=>Jq(n.value,t)):t.error(e.id,NRt)}const HRt={[_N]:1,[bOe]:1};function Ll(e,t={}){const n=t.generate||sL,r=t.compiler||OZ,i=WRt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const g=qRt(m);return o[g]||(m.id=++c,o[g]=m)},field(m){const g=n(m);return s[g]||(s[g]=++l)},param(m){return co(KT,m)?m.value:r.param(n(m),i)},value(m,g){a.push(m);const y=g.escape||(t.ast?Rkt(g):f(n(g),i));u.push(y),HRt[g.type]&&y!==g&&Za(y)&&(y.field=g.name)},error(m,g,y=""){const v=m.start-6,b=m.end-6,w=String(d.spec).slice(v,b);Hn(`${g}: "${w}"${y}`)}};Object.assign(d,t,{params:i});for(const[m,g]of f5(e))d.value(m+"",g.escape?Dkt(d,g,i):LRt(d,g));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(g=>h[g])),{names:a,exprs:u,ops:p}}function qRt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function WRt(e){return(e.table?MU(e.table):e.join?{...MU(e.join[1]),...MU(e.join[0])}:{})||{}}function MU(e){return e&&Bi(e.params)?e.params():{}}const DMe="Expr",Zf="ExprList",$Me="ExprNumber",_A="ExprObject",KE="JoinKeys",IL="JoinValues",Kc="Options",Vee="OrderKeys",I0="SelectionList",Q1="TableRef",XE="TableRefList",GRt="Descending",YRt="Query",KRt="Selection",XRt="Verb",QRt="Window";function k5(e,t){return e&&e.expr?new Yme({...e,...t}):new Yme(t,e)}class Yme{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Bi(this.expr)?{func:!0}:{}}}}function JRt(e){return k5(e,{desc:!0})}function a_(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return k5(e,t?{expr:t,...r}:r)}function ZRt(e,t,n){return k5(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function eNt(e){const t=n=>n;return t.toString=()=>e,t}function Kme(e,t){return t=t&&Bi(t.query)?t.query():t,t&&Bi(t.evaluate)?t.evaluate(null,e):e(t)}function MMe(e){return Za(e)&&($r(e.all)||$r(e.matches)||$r(e.not)||$r(e.range))}function Yk(e){return e&&Bi(e.toObject)?e.toObject():Bi(e)?{expr:String(e),func:!0}:$r(e)?e.map(Yk):Za(e)?x5(e,t=>Yk(t)):e}function Hee(e){return $r(e)?e.map(Hee):Za(e)?$r(e.verbs)?Wee.from(e):$r(e.all)?RS():$r(e.range)?Tkt(...e.range):$r(e.match)?Ckt(RegExp(...e.match)):$r(e.not)?B$e(e.not.map(Yk)):tNt(e):e}function tNt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=a_(n):e.func===!0&&(t=n=eNt(n)),Za(e.window)){const{frame:r,peers:i}=e.window;t=n=ZRt(n,r,i)}e.desc===!0&&(t=JRt(n))}return e===t?x5(e,r=>Hee(r)):t}function nNt(e){return $r(e)?e.map(rNt):e}function rNt(e){const t=[];return Dl(e).forEach(n=>{Du(n)?t.push(n):Ea(n)?t.push(a_(n,null)):Za(n)&&n.expr||Bi(n)?t.push(n):Hn(`Invalid key value: ${n+""}`)}),t}function iNt(e){return $r(e)?e.map(sNt):e}function sNt(e,t){return t<2?Dl(e):e}function oNt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Za(r)&&!Bi(r))for(const i in r)t.push(r[i]);else n=Du(r)?r:Ea(r)?a_(n):Bi(r)?n:Hn(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const aNt={[DMe]:BMe,[Zf]:PS,[$Me]:hNt,[_A]:lv,[KE]:pNt,[IL]:mNt,[Vee]:PS,[I0]:fNt};function uNt(e,t,n){return t===Q1?Xme(e):t===XE?e.map(Xme):LMe(Yk(e),t,n)}function LMe(e,t,n){return t===Kc?e&&lNt(e,n):aNt[t](e)}function lNt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?LMe(i,t[r]):i}return n}function cNt(e,t){return Ll({expr:e},{...t,ast:!0}).exprs[0]}function qee(e){return{type:_N,name:e}}function FMe(e){return{type:_N,index:e}}function lv(e,t){if(Ea(e))return cNt(e,t);if(e.expr){let n;if(e.field===!0?n=qee(e.expr):e.func===!0&&(n=lv(e.expr,t)),n)return e.desc&&(n={type:GRt,expr:n}),e.window&&(n={type:QRt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...lv(e[n],t),as:n}))}function jMe(e){const t=KRt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:PS(e.not)}:e.range?{type:t,operator:"range",arguments:PS(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Hn("Invalid input")}function fNt(e){return Dl(e).map(dNt).flat()}function dNt(e){return MMe(e)?jMe(e):Du(e)?FMe(e):Ea(e)?qee(e):Za(e)?Object.keys(e).map(t=>({type:_N,name:t,as:e[t]})):Hn("Invalid input")}function BMe(e){return MMe(e)?jMe(e):Du(e)?FMe(e):Ea(e)?qee(e):Za(e)?lv(e):Hn("Invalid input")}function PS(e){return Dl(e).map(BMe).flat()}function hNt(e){return Du(e)?e:lv(e)}function pNt(e){return $r(e)?e.map(PS):lv(e,{join:!0})}function mNt(e){return $r(e)?e.map((t,n)=>n<2?PS(t):lv(t,{join:!0})):lv(e,{join:!0})}function Xme(e){return e&&Bi(e.toAST)?e.toAST():e}class UMe{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===KE?nNt(a):o===IL?iNt(a):o===Vee?oNt(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=Zq[t.verb],r=(n.schema||[]).map(({name:i})=>Hee(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Q1?Kme(n,o):s===XE?o.map(a=>Kme(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Yk(this[n])}),t}toAST(){const t={type:XRt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=uNt(this[n],r,i)}),t}}function oi(e,t){return Object.assign((...n)=>new UMe(e,t,n),{schema:t})}const Zq={count:oi("count",[{name:"options",type:Kc}]),derive:oi("derive",[{name:"values",type:_A},{name:"options",type:Kc,props:{before:I0,after:I0}}]),filter:oi("filter",[{name:"criteria",type:_A}]),groupby:oi("groupby",[{name:"keys",type:Zf}]),orderby:oi("orderby",[{name:"keys",type:Vee}]),relocate:oi("relocate",[{name:"columns",type:I0},{name:"options",type:Kc,props:{before:I0,after:I0}}]),rename:oi("rename",[{name:"columns",type:I0}]),rollup:oi("rollup",[{name:"values",type:_A}]),sample:oi("sample",[{name:"size",type:$Me},{name:"options",type:Kc,props:{weight:DMe}}]),select:oi("select",[{name:"columns",type:I0}]),ungroup:oi("ungroup"),unorder:oi("unorder"),reify:oi("reify"),dedupe:oi("dedupe",[{name:"keys",type:Zf,default:[]}]),impute:oi("impute",[{name:"values",type:_A},{name:"options",type:Kc,props:{expand:Zf}}]),fold:oi("fold",[{name:"values",type:Zf},{name:"options",type:Kc}]),pivot:oi("pivot",[{name:"keys",type:Zf},{name:"values",type:Zf},{name:"options",type:Kc}]),spread:oi("spread",[{name:"values",type:Zf},{name:"options",type:Kc}]),unroll:oi("unroll",[{name:"values",type:Zf},{name:"options",type:Kc,props:{drop:Zf}}]),lookup:oi("lookup",[{name:"table",type:Q1},{name:"on",type:KE},{name:"values",type:Zf}]),join:oi("join",[{name:"table",type:Q1},{name:"on",type:KE},{name:"values",type:IL},{name:"options",type:Kc}]),cross:oi("cross",[{name:"table",type:Q1},{name:"values",type:IL},{name:"options",type:Kc}]),semijoin:oi("semijoin",[{name:"table",type:Q1},{name:"on",type:KE}]),antijoin:oi("antijoin",[{name:"table",type:Q1},{name:"on",type:KE}]),concat:oi("concat",[{name:"tables",type:XE}]),union:oi("union",[{name:"tables",type:XE}]),intersect:oi("intersect",[{name:"tables",type:XE}]),except:oi("except",[{name:"tables",type:XE}])};let Wee=class zMe extends rOe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new zMe(t.map(UMe.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return Qme(this,"toObject")}toJSON(){return this.toObject()}toAST(){return Qme(this,"toAST",{type:YRt})}};function Qme(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function gNt(e,t){return new Wee(e._verbs.concat(t),e._params,e._table)}for(const e in Zq){const t=Zq[e];Wee.prototype["__"+e]=function(n,...r){return gNt(n,t(...r))}}function rC(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function yNt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function Gee(e,t){const n=Lc();return t.forEach((r,i)=>{const s=Ea(r)?r:i;if(s){const o=e.column(i)||Hn(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function VMe(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Hn("relocate requires a before or after option."),i&&s&&Hn("relocate accepts only one of the before or after options."),t=Rg(e,t);const o=[...Rg(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),Gee(e,u)}function kN(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function Yee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function vNt(e,t=0,n=e.length){let r=n?e[t++]:Cr;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function bNt(e,t=0,n=e.length){let r=n?e[t++]:Cr;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function QO(e){return Fk(e)?e:+e}function _Nt(e,t){const n=e.length;if(!n)return Cr;if((t=+t)<=0||n<2)return QO(e[0]);if(t>=1)return QO(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=QO(e[i]);return Fk(s)?s:s+(QO(e[i+1])-s)*(r-i)}class wNt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:vNt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:bNt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(Yee)),_Nt(this._sorted,t)}}const kL=(e,t,n)=>rC(t,"{"+kN(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function ENt(e,t){const{ops:n,output:r}=xNt(e,t),i=e[0].fields,s=i.length,o=s===0?Kee:s===1?SNt:s===2?TNt:Hn("Unsupported field count: "+s);return new o(i,n,r,t)}function xNt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=SOe(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class Kee extends Ikt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new wNt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class SNt extends Kee{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=kL(n,s,"add"),this._rem=kL(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ed(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ed(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class TNt extends Kee{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=kL(n,s,"add"),this._rem=kL(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ed(i)&&Ed(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ed(i)&&Ed(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function sw(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=iC(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function iC(e,t,n){if(!t.length)return n;const r=HMe(t),i=e.groups(),s=i?i.size:1;return n=n||l5(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=WMe(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=qMe(e,o);o.write(a,n,0)}),n}function HMe(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(ENt(r[i],t));return n}function qMe(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function WMe(e,t,n){const{keys:r,size:i}=n,s=l5(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function GMe(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function YMe(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const Jme=YMe(Yee);function CNt(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?rC(["w","r","k"],"{"+kN(r,(m,g)=>`r[_${g}.id][k]=_${g}.value(w,_${g}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,g,y,v){p.index=p.i0=p.i1=0,p.size=g.length,s=m,o=g,u=y,l=v,a=i?i.map(b=>b.init()):null;for(let b=0;b<f;++b)r[b].init();return p},value(m,g){return g(s[m],e)},step(m){const[g,y]=t,v=p.size,b=p.i0,w=p.i1;p.i0=g!=null?Math.max(0,m-Math.abs(g)):0,p.i1=y!=null?Math.min(v,m+Math.abs(y)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=Jme.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=Jme.right(o,o[p.i1-1])));for(let E=0;E<d;++E){const x=i[E],S=a[E];for(let C=b;C<p.i0;++C)x.rem(S,s[C],e);for(let C=w;C<p.i1;++C)x.add(S,s[C],e);x.write(S,u,l)}return h(p,u,l),u}};return p}const ANt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),INt=e=>!!e.peers;function kNt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=TOe(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function RNt(e,t,n,r={},i){const s=e.data(),o=NNt(i,s),a=o.length,u=rC(["r","d","op"],"{"+kN(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=PNt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function NNt(e,t){const n={};return e.forEach(r=>{const i=ANt(r),s=INt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});NZ(r.name)?a.push(r):u.push(kNt(r))}),Object.values(n).map(r=>CNt(t,r.frame,r.peers,r.winOps,HMe(r.aggOps,r.frame[0]!=null?-1:1)))}function PNt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function ONt(e){return PZ(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function Xee(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Lc(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=DNt(r),c=e.isGrouped()?e.groups().size:1,f=iC(e,u,l5(r.length,()=>Array(c)));return l.length?RNt(e,a,n,f,l):$Nt(e,a,n,f),e.create(o)}function DNt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(ONt(s)?n:t).push(s)}return[t,n]}function $Nt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function MNt(e,t,n={}){const r=Xee(e,Ll(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:VMe(r,Object.keys(t).filter(i=>!e.column(i)),n)}function LNt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const JO=2147483648,FNt=4294967295;class KMe{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&JO>>>t}set(t){this._bits[t>>5]|=JO>>>t}clear(t){this._bits[t>>5]&=~(JO>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&FNt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=JO>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function jNt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new KMe(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function BNt(e,t){const n=Ll({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=Xee(e,n,{drop:!0}).column("p");r=s=>i[s]}return jNt(e,r)}function XMe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=sw(e,r,n),l=Lc(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(w=>{if(!a.has(w)){const E=l.add(w,[]);c.has(w)||(f.push(e.column(w)),d.push(E))}}),t.forEach(w=>{a.has(w)||(l.has(w)||l.add(w,[]),h.push(l.data[w]))});const p=o?l.add(o,[]):null;let m=0;const g=f.length,y=h.length,v=(w,E)=>{for(let x=0;x<g;++x)d[x].length=m+E,d[x].fill(f[x].get(w),m,m+E)},b=p?(w,E)=>{for(let x=0;x<E;++x)p[w+x]=x}:()=>{};if(y===1){const w=u[0],E=h[0];e.scan((x,S)=>{const C=Dl(w(x,S)),I=Math.min(C.length,s);v(x,I);for(let k=0;k<I;++k)E[m+k]=C[k];b(m,I),m+=I})}else e.scan((w,E)=>{let x=0;const S=u.map(C=>{const I=Dl(C(w,E));return x=Math.min(Math.max(x,I.length),s),I});v(w,x);for(let C=0;C<y;++C){const I=h[C],k=S[C];for(let R=0;R<x;++R)I[m+R]=k[R]}b(m,x),m+=x});return e.create(l.new())}function UNt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=sw(e,r,n);return XMe(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Bd(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Du(o)?t.columnName(o):o,Ea(o)?i.set(o,a_(o)):Bi(o)?Rg(t,o).forEach(s):Za(o)?F$e(i,o):Hn(`Invalid ${e} value: ${o+""}`)};return Dl(n).forEach(s),r.preparse&&r.preparse(i),Ll(i,{table:t,...r})}function zNt(e,t,n){return UNt(e,Bd("fold",e,t),n)}function Zme(e,t,n,r){const i=n&&n.length;return VNt(i?HNt(e,n,r):e,t,i)}function VNt(e,{names:t,exprs:n,ops:r},i){const s=sw(e,r,n),o=i?null:Lc(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ed(p)?p:d(h)})}),i?e:e.create(o)}function HNt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=oL(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=Lc(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const g=i[p],y=f[m];e.scan(v=>y.push(g.get(v)))});const d=oL(o.map((p,m)=>g=>g[m])),h=rC("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((y,v)=>y*v.length,r.size),g=new Uint32Array(m+(p-a.size));g.set(r.keys),ege(r,n,(y,v)=>{a.has(d(y))||(h(y),g[p++]=v[0])}),c.groupby({...r,keys:g})}else ege(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function ege(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let g=0;g<r;++g)h[g]=c[g](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function Qee(e,{names:t,exprs:n,ops:r}){const i=Lc(),s=e.groups();return s&&GMe(i,s),qNt(t,n,s,iC(e,r),i),e.create(i.new())}function qNt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function WNt(e,t,n={}){if(t=Ll(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Hn(`Invalid impute column ${wp(r)}`)),n.expand){const r={preparse:GNt,aggronly:!0},i=Bd("impute",e,n.expand,r),s=Qee(e.ungroup(),i);return Zme(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return Zme(e,t)}function GNt(e){e.forEach((t,n)=>t.field?e.set(n,dOe(t+"")):0)}function YNt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function QMe(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function KNt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function XNt(e,t){const n=["i","a","j","b"];return rC(n,"{"+kN(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function QNt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=Lc(),g=Array(p),y=Array(p);for(let w=0;w<r.length;++w)g[w]=m.add(r[w],[]),y[w]=i[w];const v=XNt(g,y);if(($r(n)?ZNt:JNt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let w=0;w<u;++w)l[w]||v(a[w],o,-1,c);if(s.right)for(let w=0;w<d;++w)h[w]||v(-1,o,f[w],c);return e.create(m.new())}function JNt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function ZNt(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,g,y,v,b=e;l>=c?(f=r,d=t,h=a,p=s,m=i,g=n,y=u,v=o):(f=i,d=n,h=u,p=o,m=r,g=t,y=a,v=s,b=(x,S,C,I)=>e(C,I,x,S));const w=KNt(v,m,g),E=p.length;for(let x=0;x<E;++x){const S=p[x],C=w.get(d(S,f));if(C){const I=C.length;for(let k=0;k<I;++k){const R=C[k];b(S,f,v[R],m),y[R]=1}h[x]=1}}}function RL(e,t,n){const r=new Map;Dl(n).forEach((s,o)=>{s=Du(s)?t.columnName(s):s,Ea(s)?r.set(o,a_(s)):Bi(s)||Za(s)&&s.expr?r.set(o,s):Hn(`Invalid ${e} key value: ${s+""}`)});const i=Ll(r,{table:t,aggregate:!1,window:!1});return oL(i.exprs,!0)}function ePt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function Jee(e,t,n){if(n)Ea(n)?n=[n,n]:$r(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=ePt(e.columnNames(),t.columnNames());r.length||Hn("Natural join requires shared column names."),n=[r,r]}return n}function JMe(e,t,n,r){return n.length!==r.length&&Hn("Mismatched number of join keys"),[RL("join",e,n),RL("join",t,r)]}const tPt={aggregate:!1,window:!1},nPt={...tPt,index:1};function tge(e,t,n,r,i={}){n=Jee(e,t,n);const s={join:[e,t]};let o;if($r(n)){const[a,u]=n.map(Dl);o=JMe(e,t,a,u),r||(r=rPt(e,a,u,i))}else o=Ll({on:n},s).exprs[0],r||(r=[RS(),RS()]);return QNt(e,t,o,iPt(e,t,r,s,i&&i.suffix),i)}function rPt(e,t,n,r){const i=[];t.forEach((o,a)=>Ea(o)&&o===n[a]?i.push(o):0);const s=B$e(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${wp(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,RS()]:[RS(),s]}function iPt(e,t,n,r,i=[]){if($r(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Bd("join",e,n[0],r)),u--&&(o=Bd("join",t,n[1],nPt)),u--&&(a=Ll(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&nge(s.names,l,i[0]||"_1"),i[1]!==""&&nge(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Ll(n,r)}function nge(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function sPt(e,t,n,r={}){const i=new KMe(e.totalRows());return($r(n)?oPt:aPt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function oPt(e,t,n,[r,i]){const s=QMe(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function aPt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function rge(e,t,n,r){n=Jee(e,t,n);const i=$r(n)?JMe(e,t,...n.map(Dl)):Ll({on:n},{join:[e,t]}).exprs[0];return sPt(e,t,i,r)}function uPt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Lc(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(Cr)));const l=QMe(t,r),c=rC(["lr","rr","data"],"{"+kN(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),sw(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function lPt(e,t,n,r){return n=Jee(e,t,n),uPt(e,t,[RL("lookup",e,n[0]),RL("lookup",t,n[1])],Bd("lookup",t,r))}const eW=(e,t)=>e??t;function cPt(e,t,n,r={}){const{keys:i,keyColumn:s}=fPt(e,t,r),o=eW(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>iC(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(dPt(n,a,e.groups(),u))}function fPt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=eW(n.sort,!0),s=eW(n.keySeparator,"_"),o=sw(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=iC(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function dPt({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Lc(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&GMe(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function hPt(e,t,n,r){return cPt(e,Bd("fold",e,t),Bd("fold",e,n,{preparse:pPt,aggronly:!0}),r)}function pPt(e){e.forEach((t,n)=>t.field?e.set(n,lOe(t+"")):0)}function mPt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),Gee(e,Rg(e,t,n))}function ige(e,t){return Qee(e,Ll(t,{table:e,aggronly:!0,window:!1}))}function gPt(e,t,n,r){return(t?r?vPt:yPt:r?_Pt:bPt)(e.length,e,n,r)}function yPt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*YT()|0];return t}function vPt(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=YMe(Yee).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*YT())];return t}function bPt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*YT();s<e&&(t[s|0]=n[i])}return t}function _Pt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(YT())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function wPt(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=YT()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function EPt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):gPt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&wPt(u),e.reify(u)}function xPt(e,t,n={}){return EPt(e,SPt(e,t),TPt(e,n.weight),n)}const ZMe=e=>t=>e.get(t)||0;function SPt(e,t){return Du(t)?()=>t:ZMe(Qee(e,Ll({size:t},{table:e,window:!1})).column("size"))}function TPt(e,t){return t==null?null:(t=Du(t)?e.columnName(t):t,ZMe(Ea(t)?e.column(t):Xee(e,Ll({w:t},{table:e}),{drop:!0}).column("w")))}function CPt(e,t){return Gee(e,Rg(e,t))}function APt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=sw(e,r,n),l=Lc(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=IPt(e,u[d],a),m=p.length;for(let g=0;g<m;++g)l.add(s[g]||`${h}_${g+1}`,p[g])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function IPt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Dl(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(Cr));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function kPt(e,t,n){return APt(e,Bd("spread",e,t),n)}function RPt(e,t){return e.concat(t).dedupe()}function NPt(e,t,n){return XMe(e,Bd("unroll",e,t),n&&n.drop?{...n,drop:Bd("unroll",e,n.drop).names}:n)}function PPt(e,t){return e.create({groups:OPt(e,t)})}function OPt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=sw(e,r,n);const o=oL(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function DPt(e,t){return PPt(e,Bd("groupby",e,t))}function $Pt(e,t){return e.create({order:t})}const MPt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function LPt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Ll(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=g=>`fn[${i.length}](${g}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([sL(p,{index:"a",op:o}),sL(p,{index:"b",op:a})])},window:!1}),l=iC(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,g]=r[h];d+=MPt(m,g,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function FPt(e,t){return $Pt(e,jPt(e,t))}function jPt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Za(o)&&!Bi(o))for(const a in o)i(o[a]);else i(Du(o)?a_(s,e.columnName(o)):Ea(o)?a_(s):Bi(o)?s:Hn(`Invalid orderby field: ${s+""}`))}),LPt(e,r)}function BPt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Lc();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>Cr};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function UPt(e,t){const n=Lc(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?WMe(e,t,r):[qMe(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),g=i[p];for(let y=0,v=0;y<a;++y)m.fill(g(o[y],d),v,v+=u[y+1])})}return e.create(n.new())}function zPt(e){return e.isGrouped()?e.create({groups:null}):e}function VPt(e){return e.isOrdered()?e.create({order:null}):e}const HPt={__antijoin:(e,t,n)=>rge(e,t,n,{anti:!0}),__count:(e,t={})=>ige(e,{[t.as||"count"]:cOe()}),__cross:(e,t,n,r)=>tge(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:BPt,__dedupe:yNt,__derive:MNt,__except:LNt,__filter:BNt,__fold:zNt,__impute:WNt,__intersect:YNt,__join:tge,__lookup:lPt,__pivot:hPt,__relocate:VMe,__rename:mPt,__rollup:ige,__sample:xPt,__select:CPt,__semijoin:rge,__spread:kPt,__union:RPt,__unroll:NPt,__groupby:DPt,__orderby:FPt,__ungroup:zPt,__unorder:VPt,__reduce:UPt};Object.assign($m.prototype,HPt);function qPt(e,t){return $m.from(e,t)}function LU(e){return k5(e,{escape:!0,toString(){Hn("Escaped values can not be serialized.")}})}$m.prototype;function gd(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function cv(e){return!!e&&!!e[Gi]}function Og(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===eOt}(e)||Array.isArray(e)||!!e[fge]||!!(!((t=e.constructor)===null||t===void 0)&&t[fge])||Zee(e)||ete(e))}function u_(e,t,n){n===void 0&&(n=!1),sC(e)===0?(n?Object.keys:Ix)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function sC(e){var t=e[Gi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Zee(e)?2:ete(e)?3:0}function Ax(e,t){return sC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WPt(e,t){return sC(e)===2?e.get(t):e[t]}function e3e(e,t,n){var r=sC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function t3e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Zee(e){return JPt&&e instanceof Map}function ete(e){return ZPt&&e instanceof Set}function j1(e){return e.o||e.t}function tte(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=r3e(e);delete t[Gi];for(var n=Ix(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function nte(e,t){return t===void 0&&(t=!1),rte(e)||cv(e)||!Og(e)||(sC(e)>1&&(e.set=e.add=e.clear=e.delete=GPt),Object.freeze(e),t&&u_(e,function(n,r){return nte(r,!0)},!0)),e}function GPt(){gd(2)}function rte(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function sp(e){var t=iW[e];return t||gd(18,e),t}function YPt(e,t){iW[e]||(iW[e]=t)}function tW(){return Kk}function FU(e,t){t&&(sp("Patches"),e.u=[],e.s=[],e.v=t)}function NL(e){nW(e),e.p.forEach(KPt),e.p=null}function nW(e){e===Kk&&(Kk=e.l)}function sge(e){return Kk={p:[],l:Kk,h:e,m:!0,_:0}}function KPt(e){var t=e[Gi];t.i===0||t.i===1?t.j():t.g=!0}function jU(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||sp("ES5").S(t,e,r),r?(n[Gi].P&&(NL(t),gd(4)),Og(e)&&(e=PL(t,e),t.l||OL(t,e)),t.u&&sp("Patches").M(n[Gi].t,e,t.u,t.s)):e=PL(t,n,[]),NL(t),t.u&&t.v(t.u,t.s),e!==n3e?e:void 0}function PL(e,t,n){if(rte(t))return t;var r=t[Gi];if(!r)return u_(t,function(a,u){return oge(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return OL(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=tte(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),u_(s,function(a,u){return oge(e,r,i,a,u,n,o)}),OL(e,i,!1),n&&e.u&&sp("Patches").N(r,n,e.u,e.s)}return r.o}function oge(e,t,n,r,i,s,o){if(cv(i)){var a=PL(e,i,s&&t&&t.i!==3&&!Ax(t.R,r)?s.concat(r):void 0);if(e3e(n,r,a),!cv(a))return;e.m=!1}else o&&n.add(i);if(Og(i)&&!rte(i)){if(!e.h.D&&e._<1)return;PL(e,i),t&&t.A.l||OL(e,i)}}function OL(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&nte(t,n)}function BU(e,t){var n=e[Gi];return(n?j1(n):e)[t]}function age(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function W0(e){e.P||(e.P=!0,e.l&&W0(e.l))}function UU(e){e.o||(e.o=tte(e.t))}function rW(e,t,n){var r=Zee(t)?sp("MapSet").F(t,n):ete(t)?sp("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:tW(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Xk;o&&(u=[a],l=wA);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):sp("ES5").J(t,n);return(n?n.A:tW()).p.push(r),r}function XPt(e){return cv(e)||gd(22,e),function t(n){if(!Og(n))return n;var r,i=n[Gi],s=sC(n);if(i){if(!i.P&&(i.i<4||!sp("ES5").K(i)))return i.t;i.I=!0,r=uge(n,s),i.I=!1}else r=uge(n,s);return u_(r,function(o,a){i&&WPt(i.t,o)===a||e3e(r,o,t(a))}),s===3?new Set(r):r}(e)}function uge(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return tte(e)}function QPt(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Gi];return Xk.get(u,s)},set:function(u){var l=this[Gi];Xk.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Gi];if(!a.P)switch(a.i){case 5:r(a)&&W0(a);break;case 4:n(a)&&W0(a)}}}function n(s){for(var o=s.t,a=s.k,u=Ix(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Gi){var f=o[c];if(f===void 0&&!Ax(o,c))return!0;var d=a[c],h=d&&d[Gi];if(h?h.t!==f:!t3e(d,f))return!0}}var p=!!o[Gi];return u.length!==Ix(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};YPt("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=r3e(f);delete p[Gi];for(var m=Ix(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:tW(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Gi,{value:l,writable:!0}),u},S:function(s,o,a){a?cv(o)&&o[Gi].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[Gi];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)u_(d,function(b){b!==Gi&&(f[b]!==void 0||Ax(f,b)?h[b]||u(d[b]):(h[b]=!0,W0(c)))}),u_(f,function(b){d[b]!==void 0||Ax(d,b)||(h[b]=!1,W0(c))});else if(p===5){if(r(c)&&(W0(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var g=f.length;g<d.length;g++)h[g]=!0;for(var y=Math.min(d.length,f.length),v=0;v<y;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var lge,Kk,ite=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",JPt=typeof Map<"u",ZPt=typeof Set<"u",cge=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",n3e=ite?Symbol.for("immer-nothing"):((lge={})["immer-nothing"]=!0,lge),fge=ite?Symbol.for("immer-draftable"):"__$immer_draftable",Gi=ite?Symbol.for("immer-state"):"__$immer_state",eOt=""+Object.prototype.constructor,Ix=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,r3e=Object.getOwnPropertyDescriptors||function(e){var t={};return Ix(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},iW={},Xk={get:function(e,t){if(t===Gi)return e;var n=j1(e);if(!Ax(n,t))return function(i,s,o){var a,u=age(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Og(r)?r:r===BU(e.t,t)?(UU(e),e.o[t]=rW(e.A.h,r,e)):r},has:function(e,t){return t in j1(e)},ownKeys:function(e){return Reflect.ownKeys(j1(e))},set:function(e,t,n){var r=age(j1(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=BU(j1(e),t),s=i==null?void 0:i[Gi];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(t3e(n,i)&&(n!==void 0||Ax(e.t,t)))return!0;UU(e),W0(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return BU(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,UU(e),W0(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=j1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){gd(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){gd(12)}},wA={};u_(Xk,function(e,t){wA[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wA.deleteProperty=function(e,t){return wA.set.call(this,e,t,void 0)},wA.set=function(e,t,n){return Xk.set.call(this,e[0],t,n,e[0])};var tOt=function(){function e(n){var r=this;this.O=cge,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return u.produce(m,function(w){var E;return(E=s).call.apply(E,[g,w].concat(v))})}}var l;if(typeof s!="function"&&gd(6),o!==void 0&&typeof o!="function"&&gd(7),Og(i)){var c=sge(r),f=rW(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?NL(c):nW(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return FU(c,o),jU(m,c)},function(m){throw NL(c),m}):(FU(c,o),jU(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===n3e&&(l=void 0),r.D&&nte(l,!0),o){var h=[],p=[];sp("Patches").M(i,l,h,p),o(h,p)}return l}gd(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Og(n)||gd(8),cv(n)&&(n=XPt(n));var r=sge(this),i=rW(this,n,void 0);return i[Gi].C=!0,nW(r),i},t.finishDraft=function(n,r){var i=n&&n[Gi],s=i.A;return FU(s,r),jU(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!cge&&gd(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=sp("Patches").$;return cv(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Cc=new tOt,nOt=Cc.produce;Cc.produceWithPatches.bind(Cc);Cc.setAutoFreeze.bind(Cc);Cc.setUseProxies.bind(Cc);Cc.applyPatches.bind(Cc);Cc.createDraft.bind(Cc);Cc.finishDraft.bind(Cc);const i3e=nOt;function Qk(e){"@babel/helpers - typeof";return Qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qk(e)}function rOt(e,t){if(Qk(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qk(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iOt(e){var t=rOt(e,"string");return Qk(t)=="symbol"?t:t+""}function sOt(e,t,n){return(t=iOt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dge(Object(n),!0).forEach(function(r){sOt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function La(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var pge=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),zU=function(){return Math.random().toString(36).substring(7).split("").join(".")},DL={INIT:"@@redux/INIT"+zU(),REPLACE:"@@redux/REPLACE"+zU(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zU()}};function oOt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s3e(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(La(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(La(1));return n(s3e)(e,t)}if(typeof e!="function")throw new Error(La(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(La(3));return s}function f(m){if(typeof m!="function")throw new Error(La(4));if(u)throw new Error(La(5));var g=!0;return l(),a.push(m),function(){if(g){if(u)throw new Error(La(6));g=!1,l();var v=a.indexOf(m);a.splice(v,1),o=null}}}function d(m){if(!oOt(m))throw new Error(La(7));if(typeof m.type>"u")throw new Error(La(8));if(u)throw new Error(La(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(La(10));i=m,d({type:DL.REPLACE})}function p(){var m,g=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(La(11));function b(){v.next&&v.next(c())}b();var w=g(b);return{unsubscribe:w}}},m[pge]=function(){return this},m}return d({type:DL.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[pge]=p,r}function aOt(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:DL.INIT});if(typeof r>"u")throw new Error(La(12));if(typeof n(void 0,{type:DL.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(La(13))})}function uOt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{aOt(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],g=p(m,l);if(typeof g>"u")throw l&&l.type,new Error(La(14));f[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function $L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function lOt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(La(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=$L.apply(void 0,a)(i.dispatch),hge(hge({},i),{},{dispatch:s})}}}function o3e(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var sW=o3e();sW.withExtraArgument=o3e;var a3e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RN=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},l_=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},cOt=Object.defineProperty,fOt=Object.defineProperties,dOt=Object.getOwnPropertyDescriptors,mge=Object.getOwnPropertySymbols,hOt=Object.prototype.hasOwnProperty,pOt=Object.prototype.propertyIsEnumerable,gge=function(e,t,n){return t in e?cOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ry=function(e,t){for(var n in t||(t={}))hOt.call(t,n)&&gge(e,n,t[n]);if(mge)for(var r=0,i=mge(t);r<i.length;r++){var n=i[r];pOt.call(t,n)&&gge(e,n,t[n])}return e},VU=function(e,t){return fOt(e,dOt(t))},NN=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},mOt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$L:$L.apply(null,arguments)};function u3e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var gOt=function(e){return e&&typeof e.match=="function"};function op(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ry(Ry({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function yOt(e){return u3e(e)&&"type"in e}var vOt=function(e){a3e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,l_([void 0],n[0].concat(this)))):new(t.bind.apply(t,l_([void 0],n.concat(this))))},t}(Array),bOt=function(e){a3e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,l_([void 0],n[0].concat(this)))):new(t.bind.apply(t,l_([void 0],n.concat(this))))},t}(Array);function oW(e){return Og(e)?i3e(e,function(){}):e}function _Ot(e){return typeof e=="boolean"}function wOt(){return function(t){return EOt(t)}}function EOt(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new vOt;return n&&(_Ot(n)?r.push(sW):r.push(sW.withExtraArgument(n.extraArgument))),r}var xOt=!0;function SOt(e){var t=wOt(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(u3e(i))h=uOt(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=lOt.apply(void 0,p),g=$L;u&&(g=mOt(Ry({trace:!xOt},typeof u=="object"&&u)));var y=new bOt(m),v=y;Array.isArray(d)?v=l_([m],d):typeof d=="function"&&(v=d(y));var b=g.apply(void 0,v);return s3e(h,c,b)}function l3e(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function TOt(e){return typeof e=="function"}function COt(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?l3e(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(TOt(e))u=function(){return oW(e())};else{var l=oW(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=l_([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(cv(p)){var g=p,y=m(g,d);return y===void 0?p:y}else{if(Og(p))return i3e(p,function(v){return m(v,d)});var y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},f)}return c.getInitialState=u,c}function AOt(e,t){return e+"/"+t}function IOt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:oW(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=AOt(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?op(d,p):op(d)});function u(){var c=typeof e.extraReducers=="function"?l3e(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=Ry(Ry({},d),o);return COt(n,function(v){for(var b in y)v.addCase(b,y[b]);for(var w=0,E=p;w<E.length;w++){var x=E[w];v.addMatcher(x.matcher,x.reducer)}g&&v.addDefaultCase(g)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var kOt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",c3e=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=kOt[Math.random()*64|0];return t},ROt=["name","message","stack","code"],HU=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),yge=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),NOt=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=ROt;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=op(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:VU(Ry({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=op(t+"/pending",function(l,c,f){return{payload:void 0,meta:VU(Ry({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=op(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||NOt)(l||"Rejected"),meta:VU(Ry({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):c3e(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return NN(this,null,function(){var v,b,w,E,x,S,C;return RN(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),E=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),OOt(E)?[4,E]:[3,2];case 1:E=I.sent(),I.label=2;case 2:if(E===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return x=new Promise(function(k,R){return p.signal.addEventListener("abort",function(){return R({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([x,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(k,R){return new HU(k,R)},fulfillWithValue:function(k,R){return new yge(k,R)}})).then(function(k){if(k instanceof HU)throw k;return k instanceof yge?i(k.payload,h,l,k.meta):i(k,h,l)})])];case 3:return w=I.sent(),[3,5];case 4:return S=I.sent(),w=S instanceof HU?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,C||c(w),[2,w]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:l,unwrap:function(){return y.then(POt)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function POt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function OOt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var DOt=function(e,t){return gOt(e)?e.match(t):e(t)};function vge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return DOt(r,n)})}}var ste=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},aW=function(){},f3e=function(e,t){return t===void 0&&(t=aW),e.catch(t),e},d3e=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},kx=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},$Ot="task",h3e="listener",p3e="completed",ote="cancelled",MOt="task-"+ote,LOt="task-"+p3e,m3e=h3e+"-"+ote,FOt=h3e+"-"+p3e,R5=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=$Ot+" "+ote+" (reason: "+t+")"}return e}(),Rx=function(e){if(e.aborted)throw new R5(e.reason)};function g3e(e,t){var n=aW;return new Promise(function(r,i){var s=function(){return i(new R5(e.reason))};if(e.aborted){s();return}n=d3e(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=aW})}var jOt=function(e,t){return NN(void 0,null,function(){var n,r;return RN(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof R5?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},ML=function(e){return function(t){return f3e(g3e(e,t).then(function(n){return Rx(e),n}))}},y3e=function(e){var t=ML(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},BOt=Object.assign,bge={},PN="listenerMiddleware",UOt=function(e,t){var n=function(r){return d3e(e,function(){return kx(r,e.reason)})};return function(r,i){ste(r,"taskExecutor");var s=new AbortController;n(s);var o=jOt(function(){return NN(void 0,null,function(){var a;return RN(this,function(u){switch(u.label){case 0:return Rx(e),Rx(s.signal),[4,r({pause:ML(s.signal),delay:y3e(s.signal),signal:s.signal})];case 1:return a=u.sent(),Rx(s.signal),[2,a]}})})},function(){return kx(s,LOt)});return i!=null&&i.autoJoin&&t.push(o),{result:ML(e)(o),cancel:function(){kx(s,MOt)}}}},zOt=function(e,t){var n=function(r,i){return NN(void 0,null,function(){var s,o,a,u;return RN(this,function(l){switch(l.label){case 0:Rx(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,g3e(t,Promise.race(a))];case 2:return u=l.sent(),Rx(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return f3e(n(r,i))}},v3e=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=op(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return ste(s,"options.listener"),{predicate:i,type:t,effect:s}},VOt=function(e){var t=v3e(e),n=t.type,r=t.predicate,i=t.effect,s=c3e(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},uW=function(e){e.pending.forEach(function(t){kx(t,m3e)})},HOt=function(e){return function(){e.forEach(uW),e.clear()}},_ge=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},qOt=op(PN+"/add"),WOt=op(PN+"/removeAll"),GOt=op(PN+"/remove"),YOt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,l_([PN+"/error"],e))};function KOt(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?YOt:i;ste(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&uW(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=VOt(h)),o(p)},l=function(h){var p=v3e(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(b){var w=typeof m=="string"?b.type===m:b.predicate===y;return w&&b.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&uW(v)),!!v},c=function(h,p,m,g){return NN(t,null,function(){var y,v,b,w;return RN(this,function(E){switch(E.label){case 0:y=new AbortController,v=zOt(u,y.signal),b=[],E.label=1;case 1:return E.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,BOt({},m,{getOriginalState:g,condition:function(x,S){return v(x,S).then(Boolean)},take:v,delay:y3e(y.signal),pause:ML(y.signal),extra:r,signal:y.signal,fork:UOt(y.signal,b),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(x,S,C){x!==y&&(kx(x,m3e),C.delete(x))})}})))];case 2:return E.sent(),[3,6];case 3:return w=E.sent(),w instanceof R5||_ge(s,w,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(b)];case 5:return E.sent(),kx(y,FOt),h.pending.delete(y),[7];case 6:return[2]}})})},f=HOt(n),d=function(h){return function(p){return function(m){if(!yOt(m))return p(m);if(qOt.match(m))return u(m.payload);if(WOt.match(m)){f();return}if(GOt.match(m))return l(m.payload);var g=h.getState(),y=function(){if(g===bge)throw new Error(PN+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var b=h.getState(),w=Array.from(n.values()),E=0,x=w;E<x.length;E++){var S=x[E],C=!1;try{C=S.predicate(m,b,g)}catch(I){C=!1,_ge(s,I,{raisedBy:"predicate"})}C&&c(S,m,h,y)}}finally{g=bge}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var wge;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);QPt();function XOt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let ZO;const QOt=new Uint8Array(16);function JOt(){if(!ZO&&(ZO=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ZO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZO(QOt)}const ea=[];for(let e=0;e<256;++e)ea.push((e+256).toString(16).slice(1));function ZOt(e,t=0){return(ea[e[t+0]]+ea[e[t+1]]+ea[e[t+2]]+ea[e[t+3]]+"-"+ea[e[t+4]]+ea[e[t+5]]+"-"+ea[e[t+6]]+ea[e[t+7]]+"-"+ea[e[t+8]]+ea[e[t+9]]+"-"+ea[e[t+10]]+ea[e[t+11]]+ea[e[t+12]]+ea[e[t+13]]+ea[e[t+14]]+ea[e[t+15]]).toLowerCase()}const eDt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ege={randomUUID:eDt};function xge(e,t,n){if(Ege.randomUUID&&!t&&!e)return Ege.randomUUID();e=e||{};const r=e.random||(e.rng||JOt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ZOt(r)}class ap{static get(){let t=xge();for(;this.ids.has(t);)t=xge();return this.ids.set(t,!0),t}}ap.ids=new Map;function up(e){return"parent"in e}function tDt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:ap.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:ap.get(),createdOn:Date.now(),val:r}]:[];return{id:ap.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function nDt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:ap.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:ap.get(),createdOn:Date.now(),val:s}]:[];return{id:ap.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function ms(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=fDt[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function c_(e){return!!e&&!!e[Ac]}function fv(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===dDt}(e)||Array.isArray(e)||!!e[vI]||!!(!((t=e.constructor)===null||t===void 0)&&t[vI])||N5(e)||P5(e))}function OS(e,t,n){n===void 0&&(n=!1),dv(e)===0?(n?Object.keys:dte)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function dv(e){var t=e[Ac];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:N5(e)?2:P5(e)?3:0}function Jk(e,t){return dv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $$(e,t){return dv(e)===2?e.get(t):e[t]}function b3e(e,t,n){var r=dv(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function rDt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function N5(e){return lDt&&e instanceof Map}function P5(e){return cDt&&e instanceof Set}function B1(e){return e.o||e.t}function ate(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hDt(e);delete t[Ac];for(var n=dte(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ute(e,t){return t===void 0&&(t=!1),lte(e)||c_(e)||!fv(e)||(dv(e)>1&&(e.set=e.add=e.clear=e.delete=iDt),Object.freeze(e),t&&OS(e,function(n,r){return ute(r,!0)},!0)),e}function iDt(){ms(2)}function lte(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function lp(e){var t=dW[e];return t||ms(18,e),t}function sDt(e,t){dW[e]||(dW[e]=t)}function Sge(){return{}.NODE_ENV==="production"||DS||ms(0),DS}function qU(e,t){t&&(lp("Patches"),e.u=[],e.s=[],e.v=t)}function LL(e){lW(e),e.p.forEach(oDt),e.p=null}function lW(e){e===DS&&(DS=e.l)}function Tge(e){return DS={p:[],l:DS,h:e,m:!0,_:0}}function oDt(e){var t=e[Ac];t.i===0||t.i===1?t.j():t.O=!0}function WU(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||lp("ES5").S(t,e,r),r?(n[Ac].P&&(LL(t),ms(4)),fv(e)&&(e=FL(t,e),t.l||jL(t,e)),t.u&&lp("Patches").M(n[Ac].t,e,t.u,t.s)):e=FL(t,n,[]),LL(t),t.u&&t.v(t.u,t.s),e!==fte?e:void 0}function FL(e,t,n){if(lte(t))return t;var r=t[Ac];if(!r)return OS(t,function(s,o){return Cge(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return jL(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=ate(r.k):r.o;OS(r.i===3?new Set(i):i,function(s,o){return Cge(e,r,i,s,o,n)}),jL(e,i,!1),n&&e.u&&lp("Patches").R(r,n,e.u,e.s)}return r.o}function Cge(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&ms(5),c_(i)){var o=FL(e,i,s&&t&&t.i!==3&&!Jk(t.D,r)?s.concat(r):void 0);if(b3e(n,r,o),!c_(o))return;e.m=!1}if(fv(i)&&!lte(i)){if(!e.h.F&&e._<1)return;FL(e,i),t&&t.A.l||jL(e,i)}}function jL(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&ute(t,n)}function GU(e,t){var n=e[Ac];return(n?B1(n):e)[t]}function Age(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function cW(e){e.P||(e.P=!0,e.l&&cW(e.l))}function YU(e){e.o||(e.o=ate(e.t))}function fW(e,t,n){var r=N5(t)?lp("MapSet").N(t,n):P5(t)?lp("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Sge(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=hW;o&&(u=[a],l=EA);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):lp("ES5").J(t,n);return(n?n.A:Sge()).p.push(r),r}function aDt(e){return c_(e)||ms(22,e),function t(n){if(!fv(n))return n;var r,i=n[Ac],s=dv(n);if(i){if(!i.P&&(i.i<4||!lp("ES5").K(i)))return i.t;i.I=!0,r=Ige(n,s),i.I=!1}else r=Ige(n,s);return OS(r,function(o,a){i&&$$(i.t,o)===a||b3e(r,o,t(a))}),s===3?new Set(r):r}(e)}function Ige(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ate(e)}function uDt(){function e(r){if(!fv(r))return r;if(Array.isArray(r))return r.map(e);if(N5(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(P5(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return Jk(r,vI)&&(i[vI]=r[vI]),i}function t(r){return c_(r)?e(r):r}var n="add";sDt("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=dv(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||ms(24),typeof u=="function"&&f==="prototype"&&ms(24),typeof(u=$$(u,f))!="object"&&ms(15,o.join("/"))}var d=dv(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:ms(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:ms(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;OS(a.D,function(h,p){var m=$$(f,h),g=$$(d,h),y=p?Jk(f,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=u.concat(h);l.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var g=0;g<f.length;g++)if(d[g]&&h[g]!==f[g]){var y=u.concat([g]);l.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(f[g])})}for(var v=f.length;v<h.length;v++){var b=u.concat([v]);l.push({op:n,path:b,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===fte?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var kge,DS,cte=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lDt=typeof Map<"u",cDt=typeof Set<"u",Rge=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fte=cte?Symbol.for("immer-nothing"):((kge={})["immer-nothing"]=!0,kge),vI=cte?Symbol.for("immer-draftable"):"__$immer_draftable",Ac=cte?Symbol.for("immer-state"):"__$immer_state",fDt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},dDt=""+Object.prototype.constructor,dte=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hDt=Object.getOwnPropertyDescriptors||function(e){var t={};return dte(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},dW={},hW={get:function(e,t){if(t===Ac)return e;var n=B1(e);if(!Jk(n,t))return function(i,s,o){var a,u=Age(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!fv(r)?r:r===GU(e.t,t)?(YU(e),e.o[t]=fW(e.A.h,r,e)):r},has:function(e,t){return t in B1(e)},ownKeys:function(e){return Reflect.ownKeys(B1(e))},set:function(e,t,n){var r=Age(B1(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=GU(B1(e),t),s=i==null?void 0:i[Ac];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(rDt(n,i)&&(n!==void 0||Jk(e.t,t)))return!0;YU(e),cW(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return GU(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,YU(e),cW(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ms(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ms(12)}},EA={};OS(hW,function(e,t){EA[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),EA.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&ms(13),EA.set.call(this,e,t,void 0)},EA.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&ms(14),hW.set.call(this,e[0],t,n,e[0])};var pDt=function(){function e(n){var r=this;this.g=Rge,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return u.produce(m,function(w){var E;return(E=s).call.apply(E,[g,w].concat(v))})}}var l;if(typeof s!="function"&&ms(6),o!==void 0&&typeof o!="function"&&ms(7),fv(i)){var c=Tge(r),f=fW(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?LL(c):lW(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return qU(c,o),WU(m,c)},function(m){throw LL(c),m}):(qU(c,o),WU(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===fte&&(l=void 0),r.F&&ute(l,!0),o){var h=[],p=[];lp("Patches").M(i,l,h,p),o(h,p)}return l}ms(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fv(n)||ms(8),c_(n)&&(n=aDt(n));var r=Tge(this),i=fW(this,n,void 0);return i[Ac].C=!0,lW(r),i},t.finishDraft=function(n,r){var i=n&&n[Ac];({}).NODE_ENV!=="production"&&(i&&i.C||ms(9),i.I&&ms(10));var s=i.A;return qU(s,r),WU(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Rge&&ms(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=lp("Patches").$;return c_(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Ic=new pDt,mDt=Ic.produce;Ic.produceWithPatches.bind(Ic);Ic.setAutoFreeze.bind(Ic);Ic.setUseProxies.bind(Ic);Ic.applyPatches.bind(Ic);Ic.createDraft.bind(Ic);Ic.finishDraft.bind(Ic);function gDt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=tDt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return IOt({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:ap.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:ap.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function yDt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=gDt(e),s=KOt();s.startListening({matcher:vge(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=vge(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=SOt({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:ap.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var vDt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bDt=Object.prototype.hasOwnProperty;function pW(e,t){return bDt.call(e,t)}function mW(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)pW(e,i)&&r.push(i);return r}function bl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function gW(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function U1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function _3e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function yW(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(yW(e[t]))return!0}else if(typeof e=="object"){for(var r=mW(e),i=r.length,s=0;s<i;s++)if(yW(e[r[s]]))return!0}}return!1}function Nge(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var w3e=function(e){vDt(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,Nge(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=Nge(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),cs=w3e,_Dt=bl,QE={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=BL(n,this.path);r&&(r=bl(r));var i=Ob(n,{op:"remove",path:this.from}).removed;return Ob(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=BL(n,this.from);return Ob(n,{op:"add",path:this.path,value:bl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Zk(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},wDt={add:function(e,t,n){return gW(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:QE.move,copy:QE.copy,test:QE.test,_get:QE._get};function BL(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ob(e,n),n.value}function Ob(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):UL(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=BL(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Zk(e,t.value),o.test===!1)throw new cs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new cs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=bl(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=UL;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=_3e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!gW(h))throw new cs("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);gW(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new cs("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=wDt[t.op].call(t,l,h,e);if(o.test===!1)throw new cs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=QE[t.op].call(t,l,h,e);if(o.test===!1)throw new cs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new cs("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function O5(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new cs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=bl(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Ob(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function EDt(e,t,n){var r=Ob(e,t);if(r.test===!1)throw new cs("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function UL(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new cs("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(QE[e.op]){if(typeof e.path!="string")throw new cs("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new cs('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new cs("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new cs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&yW(e.value))throw new cs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new cs("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new cs("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=E3e([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new cs("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new cs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function E3e(e,t,n){try{if(!Array.isArray(e))throw new cs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)O5(bl(t),bl(e),n||!0);else{n=n||UL;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof cs)return i;throw i}}function Zk(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Zk(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Zk(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const xDt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:cs,_areEquals:Zk,applyOperation:Ob,applyPatch:O5,applyReducer:EDt,deepClone:_Dt,getValueByPointer:BL,validate:E3e,validator:UL},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var hte=new WeakMap,SDt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),TDt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function CDt(e){return hte.get(e)}function ADt(e,t){return e.observers.get(t)}function IDt(e,t){e.observers.delete(t.callback)}function kDt(e,t){t.unobserve()}function RDt(e,t){var n=[],r,i=CDt(e);if(!i)i=new SDt(e),hte.set(e,i);else{var s=ADt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=bl(e),t){r.callback=t,r.next=null;var o=function(){vW(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){vW(r),clearTimeout(r.next),IDt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new TDt(t,r)),r}function vW(e,t){t===void 0&&(t=!1);var n=hte.get(e.object);pte(n.value,e.object,e.patches,"",t),e.patches.length&&O5(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function pte(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=mW(t),o=mW(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(pW(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?pte(c,f,n,r+"/"+U1(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+U1(l),value:bl(c)}),n.push({op:"replace",path:r+"/"+U1(l),value:bl(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+U1(l),value:bl(c)}),n.push({op:"remove",path:r+"/"+U1(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!pW(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+U1(l),value:bl(t[l])})}}}function x3e(e,t,n){n===void 0&&(n=!1);var r=[];return pte(e,t,r,"",n),r}const NDt=Object.freeze(Object.defineProperty({__proto__:null,compare:x3e,generate:vW,observe:RDt,unobserve:kDt},Symbol.toStringTag,{value:"Module"}));Object.assign({},xDt,NDt,{JsonPatchError:w3e,deepClone:bl,escapePathComponent:U1,unescapePathComponent:_3e});var xA=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(xA||{});function M$(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=T3e(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=M$(i,t);return O5(a,bl(o),!0,!1).newDocument}function PDt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function S3e({registry:e,initialState:t}){let n=!1;const r=XOt(),i=yDt(t);function s(c){return i.backend.nodes[c]}r.listen(xA.TRAVERSAL_START,()=>{n=!0}),r.listen(xA.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return M$(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=M$(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:f};else{const v=x3e(y,f);if(PDt(f,v)==="checkpoint")g={type:"checkpoint",val:f};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:b}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=nDt({label:c,state:g,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=M$(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(xA.TRAVERSAL_START);const f=T3e(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);DDt(p,m)?up(p)&&d.push(...p.sideEffects.undo):up(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(xA.TRAVERSAL_END)},undo(){const{current:c}=i;return up(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return C3e(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function ODt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;up(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)up(r)&&(r=n[r.parent]),up(i)&&(i=n[i.parent]);return r.id}function T3e(e,t,n){const r=ODt(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),up(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),up(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function DDt(e,t){if(up(e)&&e.parent===t.id)return!0;if(up(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function C3e(e,t){return{...e,children:e.children.map(n=>C3e(t[n],t)),name:`${e.label}`}}uDt();function $Dt(e){return e.length===2?mDt(e):e}class D5{static create(){return new D5}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:$Dt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),op(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var MDt="Expected a function",Pge=NaN,LDt="[object Symbol]",FDt=/^\s+|\s+$/g,jDt=/^[-+]0x[0-9a-f]+$/i,BDt=/^0b[01]+$/i,UDt=/^0o[0-7]+$/i,zDt=parseInt,VDt=typeof vs=="object"&&vs&&vs.Object===Object&&vs,HDt=typeof self=="object"&&self&&self.Object===Object&&self,qDt=VDt||HDt||Function("return this")(),WDt=Object.prototype,GDt=WDt.toString,YDt=Math.max,KDt=Math.min,KU=function(){return qDt.Date.now()};function XDt(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(MDt);t=Oge(t)||0,bW(n)&&(c=!!n.leading,f="maxWait"in n,s=f?YDt(Oge(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(x){var S=r,C=i;return r=i=void 0,l=x,o=e.apply(C,S),o}function p(x){return l=x,a=setTimeout(y,t),c?h(x):o}function m(x){var S=x-u,C=x-l,I=t-S;return f?KDt(I,s-C):I}function g(x){var S=x-u,C=x-l;return u===void 0||S>=t||S<0||f&&C>=s}function y(){var x=KU();if(g(x))return v(x);a=setTimeout(y,m(x))}function v(x){return a=void 0,d&&r?h(x):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function w(){return a===void 0?o:v(KU())}function E(){var x=KU(),S=g(x);if(r=arguments,i=this,u=x,S){if(a===void 0)return p(u);if(f)return a=setTimeout(y,t),h(u)}return a===void 0&&(a=setTimeout(y,t)),o}return E.cancel=b,E.flush=w,E}function bW(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function QDt(e){return!!e&&typeof e=="object"}function JDt(e){return typeof e=="symbol"||QDt(e)&&GDt.call(e)==LDt}function Oge(e){if(typeof e=="number")return e;if(JDt(e))return Pge;if(bW(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bW(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(FDt,"");var n=BDt.test(e);return n||UDt.test(e)?zDt(e.slice(2),n?2:8):jDt.test(e)?Pge:+e}var ZDt=XDt;const gh=On(ZDt);function A3e({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=A.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=A.useMemo(()=>VT(".2s"),[]);return _.jsxs(_.Fragment,{children:[_.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:_.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:_.jsx(vg,{children:_.jsx(to,{gap:3,children:_.jsx(lt,{size:"14px",style:{color:"#878E95"},children:r})})})})}),_.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),_.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>_.jsxs("g",{transform:`translate(${n}, ${a})`,children:[_.jsx("line",{x2:"-6",stroke:"currentColor"}),_.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),_.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const e$t=Object.freeze(Object.defineProperty({__proto__:null,YAxis:A3e},Symbol.toStringTag,{value:"Module"})),XU=15;function I3e({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=A.useState([0,0]),[l,c]=A.useState(!1);return A.useEffect(()=>{const f=Ks("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const m=i.filter(g=>Math.abs(e(g[r.x])-p[0])<XU&&Math.abs(t(g[r.y])-p[1])<XU);if(h.ctrlKey||h.metaKey||!o){const g=new Set(s.ids);m.forEach(v=>{g.has(v[r.ids])&&g.delete(v[r.ids])});const y=Array.from(g);n([[a[0],a[1]],[a[0],a[1]]],e,t,y.length===0?"clear":"drag",y)}else{const g=Array.from(new Set([...s.ids,...m.map(y=>y[r.ids])]));g.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",g)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[a,s.ids,i,l,o,r,n,e,t]),_.jsx("circle",{style:{cursor:l?"pointer":"default"},r:XU,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const t$t=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:I3e},Symbol.toStringTag,{value:"Module"})),Vi={top:15,left:100,right:15,bottom:70};function _W({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=kb(),[c]=kb(),[f]=kb(),[d,h]=A.useState(!0),p=A.useMemo(()=>l-Vi.left-Vi.right,[l]),m=A.useMemo(()=>u-Vi.top-Vi.bottom,[u]),g=A.useMemo(()=>{const k=Array.from(new Set(s.map(R=>R[i.category])));return qT(BPe).domain(k)},[s,i.category]),{xMin:y,yMin:v,xMax:b,yMax:w}=A.useMemo(()=>{const k=s.map(M=>+M[i.x]).filter(M=>M!==null),[R,D]=yhe(k),P=s.map(M=>+M[i.y]).filter(M=>M!==null),[$,L]=yhe(P);return{xMin:R,xMax:D,yMin:$,yMax:L}},[s,i.x,i.y]),E=A.useMemo(()=>{const k=b-y;return p<=0?null:i.dataType==="date"?DPe([Vi.left,p+Vi.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Tg([Vi.left,p+Vi.left]).domain([y-k/10,b+k/10]).nice()},[i.dataType,p,b,y]),x=A.useMemo(()=>{const k=w-v;return m<=0?null:Tg([m+Vi.top,Vi.top]).domain([v-k/10,w+k/10]).nice()},[m,w,v]),S=A.useMemo(()=>{if(!E||!x)return()=>null;if(r==="Axis Selection"){const k=Kbt().extent([[Vi.left,Vi.top+m-5],[Vi.left+p,Vi.top+m+5]]).on("brush end",D=>{D.sourceEvent!==void 0&&n([[D.selection[0],null],[D.selection[1],null]],E,x,D.mode)}),R=Xbt().extent([[Vi.left-5,Vi.top],[Vi.left+5,Vi.top+m]]).on("brush end",D=>{D.sourceEvent!==void 0&&n([[null,D.selection[0]],[null,D.selection[1]]],E,x,D.mode)});return c.current&&f.current&&(Ks(f.current).call(R),Ks(c.current).call(k),t.hasBrush||(Ks(f.current).call(R.move,[x(w),x(v)]),Ks(c.current).call(k.move,[E(new Date("2015-01-02")),E(new Date("2015-12-31"))]),n([[E(new Date("2015-01-02")),x(w)],[E(new Date("2015-12-31")),x(v)]],E,x,"drag"))),()=>{Ks(f.current).call(R.move,[x(w),x(v)]),Ks(c.current).call(k.move,[E(new Date("2015-01-02")),E(new Date("2015-12-31"))]),n([[E(new Date("2015-01-02")),x(w)],[E(new Date("2015-12-31")),x(v)]],E,x,"clear")}}if(r==="Rectangular Selection"){const k=Qbt().extent([[Vi.left,Vi.top],[Vi.left+p,Vi.top+m]]).on("brush",R=>{R.sourceEvent!==void 0&&n([[R.selection[0][0],R.selection[0][1]],[R.selection[1][0],R.selection[1][1]]],E,x,R.mode)}).on("end",R=>{R.selection===null&&R.sourceEvent!==void 0&&(Ks(a.current).call(k.move,null),e(null))});return Ks(a.current).call(k),()=>{Ks(a.current).call(k.move,null),n([[null,null],[null,null]],E,x,"clear")}}return r==="Slider Selection"?(t.hasBrush||n([[E(y),x(w)],[E(b),x(v)]],E,x,null),()=>n([[E(y),x(w)],[E(b),x(v)]],E,x,"clear")):r==="Paintbrush Selection"?()=>n([[E(y),x(w)],[E(b),x(v)]],E,x,"clear",[]):()=>null},[t.hasBrush,r,c,f,m,a,n,e,p,b,y,E,w,v,x]),C=A.useMemo(()=>o.length===0?null:new Set(o),[o]),I=A.useMemo(()=>!E||!x?null:s.map((k,R)=>{if(k[i.x]===null||k[i.y]===null)return null;const D=i.dataType==="date"?E(new Date(k[i.x])):E(k[i.x]);return _.jsx("circle",{opacity:C&&!C.has(k[i.ids])?.3:1,r:3,fill:C&&!C.has(k[i.ids])?"lightgray":g(k[i.category]),cx:D,cy:x(k[i.y])},R)}),[C,g,s,i.category,i.dataType,i.ids,i.x,i.y,E,x]);return A.useEffect(()=>{r==="Axis Selection"&&Uvt(".handle").style("fill","darkgrey")},[t,r]),_.jsxs(Gh,{children:[_.jsxs(to,{children:[_.jsx(Rn,{ml:60,size:"compact-sm",style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),S==null||S()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?_.jsx(VQ,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:k=>h(k==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),_.jsxs(to,{style:{width:"100%",height:"100%"},wrap:"nowrap",children:[_.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[E&&x?_.jsxs("g",{children:[_.jsx(A3e,{yScale:x,label:i.y,horizontalPosition:Vi.left,xRange:E.range()}),_.jsx(IZ,{xScale:E,yRange:x.range(),isDate:i.dataType==="date",vertPosition:m+Vi.top,label:i.x,ticks:E.ticks(i.brushType==="Axis Selection"?12:5).map(k=>({value:k.toString(),offset:E(k)}))})]}):null,I,_.jsx("g",{id:"brushXRef",ref:c}),_.jsx("g",{id:"brushYRef",ref:f}),E&&x&&r==="Paintbrush Selection"?_.jsx(I3e,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:E,yScale:x}):null]}),r==="Slider Selection"&&E&&x?_.jsxs(Gh,{style:{flexGrow:1},gap:50,children:[_.jsxs(Gh,{gap:0,children:[_.jsx(lt,{children:i.x}),_.jsx(n3,{minRange:1,label:null,min:E.domain()[0],max:E.domain()[1],labelAlwaysOn:!1,onChange:k=>{n([[E(k[0]),t.y1],[E(k[1]),t.y2]],E,x,"drag")},style:{width:"300px"},marks:E.ticks(5).map(k=>({value:k,label:k})),value:[E.invert(t.x1),E.invert(t.x2)]})]}),_.jsxs(Gh,{gap:0,children:[_.jsx(lt,{children:i.y}),_.jsx(n3,{minRange:1,label:null,min:x.domain()[0],max:x.domain()[1],onChange:k=>{n([[t.x1,x(k[1])],[t.x2,x(k[0])]],E,x,"drag")},style:{width:"300px"},marks:x.ticks(5).map(k=>({value:k,label:k})),value:[x.invert(t.y2),x.invert(t.y1)]})]})]}):null]})]})}const n$t=Object.freeze(Object.defineProperty({__proto__:null,Scatter:_W,default:_W},Symbol.toStringTag,{value:"Module"}));function Dge({parameters:e,setAnswer:t}){const[n,r]=A.useState(null),[i,s]=A.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=A.useState(null);A.useEffect(()=>{I_t(`./data/${e.dataset}.csv`).then(g=>{a(g)})},[e]);const u=A.useMemo(()=>o?qPt(o):null,[o]),{actions:l,trrack:c}=A.useMemo(()=>{const g=D5.create(),y=g.register("brush",(x,S)=>(x.all={brush:S},x)),v=g.register("brushMove",(x,S)=>(x.all={brush:S},x)),b=g.register("brushResize",(x,S)=>(x.all={brush:S},x)),w=g.register("brushClear",(x,S)=>(x.all={brush:S},x)),E=S3e({registry:g,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:y,brushMove:v,brushResize:b,clearBrush:w},trrack:E}},[]),f=A.useCallback((g,y)=>{g==="drag"?c.apply("Move Brush",l.brushMove(y)):g==="handle"&&c.apply("Brush",l.brush(y))},[l,c]),d=A.useMemo(()=>gh(f,100,{maxWait:100}),[f]),h=A.useCallback((g,y,v,b,w)=>{if(!y||!v)return;const E=y.invert(g[0][0]||i.x1),x=y.invert(g[1][0]||i.x2),S=v.invert(g[1][1]||i.y2),C=v.invert(g[0][1]||i.y1);let I=null;if(b==="clear")I=u;else if(w){const R=new Set(w);I=u.filter(LU(D=>R.has(D[e.ids])))}else e.brushType==="Axis Selection"?I=u.filter(LU(R=>new Date(R[e.x])>=new Date(E)&&new Date(R[e.x])<=new Date(x)&&R[e.y]>=S&&R[e.y]<=C)):I=u.filter(LU(R=>R[e.x]>=E&&R[e.x]<=x&&R[e.y]>=S&&R[e.y]<=C));const k={x1:g[0][0]||(i==null?void 0:i.x1)||0,x2:g[1][0]||(i==null?void 0:i.x2)||0,y1:g[0][1]||(i==null?void 0:i.y1)||0,y2:g[1][1]||(i==null?void 0:i.y2)||0,hasBrush:b!=="clear",ids:b!=="clear"?I==null?void 0:I.array("id"):[]};s(k),b==="drag"||b==="handle"?d(b,k):b==="clear"&&c.apply("Clear Brush",l.clearBrush(k)),r(I),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=A.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():u?u==null?void 0:u.groupby(e.category).count():null,[n,u,e.category]),m=A.useCallback(g=>{r(g)},[]);return o?_.jsxs(Gh,{gap:"xs",children:[_.jsx(_W,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:m}),_.jsx(Nq,{data:o,parameters:e,barsTable:p})]}):_.jsx(Fp,{})}const r$t=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:Dge,default:Dge},Symbol.toStringTag,{value:"Module"})),i$t=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),$ge=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},oC=e=>{const t=A.useRef(null),n=$ge(e),[r,i]=A.useState(0),[s,o]=A.useState(0);A.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=$ge({...n,width:n.width||r,height:n.height||s});return[t,a]},s$t=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:oC},Symbol.toStringTag,{value:"Module"}));function k3e({data:e,xScale:t,yScale:n,height:r}){return _.jsx("g",{children:e.map((i,s)=>_.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const o$t=Object.freeze(Object.defineProperty({__proto__:null,Bars:k3e},Symbol.toStringTag,{value:"Module"}));function mte({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=A.useMemo(()=>{const o=Tg().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return _.jsxs("g",{children:[_.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>_.jsxs("g",{transform:`translate(0,${a})`,children:[_.jsx("line",{x2:`${r}`,stroke:"currentColor"}),_.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const a$t=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:mte},Symbol.toStringTag,{value:"Module"}));function R3e({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=A.useMemo(()=>{const o=yN().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return _.jsxs("g",{children:[_.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>_.jsx("g",{transform:`translate(${a}, 10)`,children:_.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const u$t=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:R3e},Symbol.toStringTag,{value:"Module"})),l$t={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function c$t({parameters:e}){const[n,r]=oC(l$t),i=yN().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=Tg().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return _.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:_.jsx("svg",{width:r.width,height:r.height,children:_.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[_.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:_.jsx(R3e,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),_.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:_.jsx(mte,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),_.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:_.jsx(k3e,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const f$t=Object.freeze(Object.defineProperty({__proto__:null,default:c$t},Symbol.toStringTag,{value:"Module"}));function N3e({data:e}){return _.jsx("g",{children:e.map(({bubble:t},n)=>_.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const d$t=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:N3e},Symbol.toStringTag,{value:"Module"}));function gte({positions:e}){return _.jsx("g",{children:e.map((t,n)=>_.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const h$t=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:gte},Symbol.toStringTag,{value:"Module"})),p$t={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},m$t=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=fPe().size([t-10,n-10]).padding(1.5),o=KF(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},g$t=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function y$t({parameters:e}){const[t,n]=oC(p$t),r=m$t(e,n.width,n.height),i=g$t(r,e.selectedIndices);return _.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:_.jsx("svg",{width:n.width,height:n.height,children:_.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[_.jsx(N3e,{data:r}),_.jsx(gte,{positions:i})]})})})}const v$t=Object.freeze(Object.defineProperty({__proto__:null,default:y$t},Symbol.toStringTag,{value:"Module"}));function P3e({arcs:e}){return _.jsx("g",{children:e.map((t,n)=>_.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const b$t=Object.freeze(Object.defineProperty({__proto__:null,Slices:P3e},Symbol.toStringTag,{value:"Module"}));function O3e({positions:e}){return _.jsx("g",{children:e.map((t,n)=>_.jsx("g",{transform:`translate(${t.centroid()})`,children:_.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const _$t=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:O3e},Symbol.toStringTag,{value:"Module"})),w$t={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},E$t=yTt().value(e=>e.value),E2=150;function x$t({parameters:e}){const[t,n]=oC(w$t),r=E$t(e.data),i=r.map(o=>Rq().innerRadius(0).outerRadius(E2).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>Rq().outerRadius(E2+10).innerRadius(E2+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return _.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:_.jsx("svg",{width:n.width,height:n.height,children:_.jsxs("g",{transform:`translate(${[n.marginLeft+E2,n.marginTop+E2].join(",")})`,children:[_.jsx(P3e,{arcs:i}),_.jsx(O3e,{positions:s})]})})})}const S$t=Object.freeze(Object.defineProperty({__proto__:null,default:x$t},Symbol.toStringTag,{value:"Module"}));function D3e({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=A.useMemo(()=>{const o=Tg().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return _.jsxs("g",{children:[_.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>_.jsxs("g",{transform:`translate(${a}, 0)`,children:[_.jsx("line",{y2:`${r}`,stroke:"currentColor"}),_.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const T$t=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:D3e},Symbol.toStringTag,{value:"Module"}));function $3e({data:e,barWidth:t,yScale:n}){return _.jsx("g",{children:e.map((r,i)=>_.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const C$t=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:$3e},Symbol.toStringTag,{value:"Module"})),A$t={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function I$t({parameters:e}){const[n,r]=oC(A$t),i=yN().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=Tg().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),u=h=>{const p=h.map(b=>+b.value),g=p.reduce((b,w)=>Number(b)+Number(w))/100,y={};p.forEach((b,w)=>{y[String.fromCharCode(w+65)]=b/g});const v=[y];return jTt().keys(e.data.map(b=>b.name))(v)},l=(h,p,m)=>h.filter((y,v)=>p.includes(v)).map(y=>({x:m,y:s(y[0][1])+.5*(s(y[0][0])-s(y[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return _.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:_.jsx("svg",{width:r.width,height:r.height,children:_.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[_.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:_.jsx(D3e,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),_.jsx("g",{transform:"translate(0, 0)",children:_.jsx(mte,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),_.jsxs("g",{transform:"translate(0, 0)",children:[_.jsx($3e,{data:c,barWidth:f,yScale:s}),_.jsx(gte,{positions:d})]})]})})})}const k$t=Object.freeze(Object.defineProperty({__proto__:null,default:I$t},Symbol.toStringTag,{value:"Module"})),R$t={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function N$t({parameters:e,setAnswer:t}){const[n,r]=oC(R$t),[i,s]=A.useState(100),[o,a]=A.useState(100),[u,l]=A.useState(300),{taskid:c}=e,{actions:f,trrack:d}=A.useMemo(()=>{const p=D5.create(),m=p.register("click",(y,v)=>(y.clickX=v.clickX,y.clickY=v.clickY,y.distance=v.distance,y)),g=S3e({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:g}},[]),h=A.useCallback(p=>{const m=Ks("#movingCircle"),g=Ks("#clickAccuracySvg"),y=WH(p,g.node()),v=[+m.attr("cx"),+m.attr("cy")],b=`${Math.round(Math.sqrt((y[0]-v[0])**2+(y[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+b,clickX:y[0],clickY:y[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:b}})},[f,t,c,d]);return A.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,y=Math.sqrt((p-i)**2+(m-o)**2)/u*1e3;Ks(n.current).select("circle").transition().duration(y).ease($bt).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,u,i,o]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:_.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:_.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[_.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),_.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),_.jsxs(Ee,{children:["Adjust speed (px/s):",_.jsx(_F,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const P$t=Object.freeze(Object.defineProperty({__proto__:null,default:N$t},Symbol.toStringTag,{value:"Module"}));function Mge({rankings:e}){return _.jsx("div",{style:{fontFamily:"sans-serif"},children:_.jsx("div",{children:e.map((t,n)=>_.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function O$t({parameters:e,setAnswer:t}){const n=zv(),[r,i]=A.useState(""),{goToNextStep:s,isNextDisabled:o}=rRe(),a=A.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=A.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=A.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=A.useCallback(()=>{o||s()},[o,s]);A.useEffect(()=>{const h=JXe([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),_.jsxs("div",{children:[_.jsxs(Eu,{children:[_.jsxs(Eu.Col,{span:2,children:[_.jsx(Mge,{rankings:a==="r1"?e.data.r1:e.data.r2}),_.jsx(Rn,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?_.jsx(Vfe,{}):"Select this ranking"}),l&&r&&_.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),_.jsxs(Eu.Col,{span:2,children:[_.jsx(Mge,{rankings:a==="r1"?e.data.r2:e.data.r1}),_.jsx(Rn,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?_.jsx(Vfe,{}):"Select this ranking"}),l&&r&&_.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&_.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const D$t=Object.freeze(Object.defineProperty({__proto__:null,default:O$t},Symbol.toStringTag,{value:"Module"}));function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(null,arguments)}function ar(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var QU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Lge;function $5(){return Lge||(Lge=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(QU)),QU.exports}var $$t=$5();const gf=On($$t);function M$t(e){return e}var M5=M$t,L$t=typeof vs=="object"&&vs&&vs.Object===Object&&vs,M3e=L$t,F$t=M3e,j$t=typeof self=="object"&&self&&self.Object===Object&&self,B$t=F$t||j$t||Function("return this")(),ql=B$t,U$t=ql,z$t=U$t.Symbol,aC=z$t,Fge=aC,L3e=Object.prototype,V$t=L3e.hasOwnProperty,H$t=L3e.toString,x2=Fge?Fge.toStringTag:void 0;function q$t(e){var t=V$t.call(e,x2),n=e[x2];try{e[x2]=void 0;var r=!0}catch{}var i=H$t.call(e);return r&&(t?e[x2]=n:delete e[x2]),i}var W$t=q$t,G$t=Object.prototype,Y$t=G$t.toString;function K$t(e){return Y$t.call(e)}var X$t=K$t,jge=aC,Q$t=W$t,J$t=X$t,Z$t="[object Null]",eMt="[object Undefined]",Bge=jge?jge.toStringTag:void 0;function tMt(e){return e==null?e===void 0?eMt:Z$t:Bge&&Bge in Object(e)?Q$t(e):J$t(e)}var Xv=tMt;function nMt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var a0=nMt,rMt=Xv,iMt=a0,sMt="[object AsyncFunction]",oMt="[object Function]",aMt="[object GeneratorFunction]",uMt="[object Proxy]";function lMt(e){if(!iMt(e))return!1;var t=rMt(e);return t==oMt||t==aMt||t==sMt||t==uMt}var yte=lMt;const Hm=On(yte);var cMt=ql,fMt=cMt["__core-js_shared__"],dMt=fMt,JU=dMt,Uge=function(){var e=/[^.]+$/.exec(JU&&JU.keys&&JU.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hMt(e){return!!Uge&&Uge in e}var pMt=hMt,mMt=Function.prototype,gMt=mMt.toString;function yMt(e){if(e!=null){try{return gMt.call(e)}catch{}try{return e+""}catch{}}return""}var F3e=yMt,vMt=yte,bMt=pMt,_Mt=a0,wMt=F3e,EMt=/[\\^$.*+?()[\]{}|]/g,xMt=/^\[object .+?Constructor\]$/,SMt=Function.prototype,TMt=Object.prototype,CMt=SMt.toString,AMt=TMt.hasOwnProperty,IMt=RegExp("^"+CMt.call(AMt).replace(EMt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kMt(e){if(!_Mt(e)||bMt(e))return!1;var t=vMt(e)?IMt:xMt;return t.test(wMt(e))}var RMt=kMt;function NMt(e,t){return e==null?void 0:e[t]}var PMt=NMt,OMt=RMt,DMt=PMt;function $Mt(e,t){var n=DMt(e,t);return OMt(n)?n:void 0}var ow=$Mt,MMt=ow,LMt=ql,FMt=MMt(LMt,"WeakMap"),j3e=FMt,zge=j3e,jMt=zge&&new zge,B3e=jMt,BMt=M5,Vge=B3e,UMt=Vge?function(e,t){return Vge.set(e,t),e}:BMt,U3e=UMt,zMt=a0,Hge=Object.create,VMt=function(){function e(){}return function(t){if(!zMt(t))return{};if(Hge)return Hge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),L5=VMt,HMt=L5,qMt=a0;function WMt(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=HMt(e.prototype),r=e.apply(n,t);return qMt(r)?r:n}}var F5=WMt,GMt=F5,YMt=ql,KMt=1;function XMt(e,t,n){var r=t&KMt,i=GMt(e);function s(){var o=this&&this!==YMt&&this instanceof s?i:e;return o.apply(r?n:this,arguments)}return s}var QMt=XMt;function JMt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vte=JMt,ZMt=Math.max;function e3t(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,u=t.length,l=ZMt(s-o,0),c=Array(u+l),f=!r;++a<u;)c[a]=t[a];for(;++i<o;)(f||i<s)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}var z3e=e3t,t3t=Math.max;function n3t(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,u=-1,l=t.length,c=t3t(s-a,0),f=Array(c+l),d=!r;++i<c;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=t[u];for(;++o<a;)(d||i<s)&&(f[h+n[o]]=e[i++]);return f}var V3e=n3t;function r3t(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var i3t=r3t;function s3t(){}var bte=s3t,o3t=L5,a3t=bte,u3t=4294967295;function zL(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u3t,this.__views__=[]}zL.prototype=o3t(a3t.prototype);zL.prototype.constructor=zL;var _te=zL;function l3t(){}var c3t=l3t,qge=B3e,f3t=c3t,d3t=qge?function(e){return qge.get(e)}:f3t,H3e=d3t,h3t={},p3t=h3t,Wge=p3t,m3t=Object.prototype,g3t=m3t.hasOwnProperty;function y3t(e){for(var t=e.name+"",n=Wge[t],r=g3t.call(Wge,t)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==e)return i.name}return t}var v3t=y3t,b3t=L5,_3t=bte;function VL(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}VL.prototype=b3t(_3t.prototype);VL.prototype.constructor=VL;var q3e=VL,w3t=Array.isArray,zu=w3t;const E3t=On(zu);function x3t(e){return e!=null&&typeof e=="object"}var Jd=x3t;function S3t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var wte=S3t,T3t=_te,C3t=q3e,A3t=wte;function I3t(e){if(e instanceof T3t)return e.clone();var t=new C3t(e.__wrapped__,e.__chain__);return t.__actions__=A3t(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var k3t=I3t,R3t=_te,Gge=q3e,N3t=bte,P3t=zu,O3t=Jd,D3t=k3t,$3t=Object.prototype,M3t=$3t.hasOwnProperty;function HL(e){if(O3t(e)&&!P3t(e)&&!(e instanceof R3t)){if(e instanceof Gge)return e;if(M3t.call(e,"__wrapped__"))return D3t(e)}return new Gge(e)}HL.prototype=N3t.prototype;HL.prototype.constructor=HL;var L3t=HL,F3t=_te,j3t=H3e,B3t=v3t,U3t=L3t;function z3t(e){var t=B3t(e),n=U3t[t];if(typeof n!="function"||!(t in F3t.prototype))return!1;if(e===n)return!0;var r=j3t(n);return!!r&&e===r[0]}var V3t=z3t,H3t=800,q3t=16,W3t=Date.now;function G3t(e){var t=0,n=0;return function(){var r=W3t(),i=q3t-(r-n);if(n=r,i>0){if(++t>=H3t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var W3e=G3t,Y3t=U3e,K3t=W3e,X3t=K3t(Y3t),G3e=X3t,Q3t=/\{\n\/\* \[wrapped with (.+)\] \*/,J3t=/,? & /;function Z3t(e){var t=e.match(Q3t);return t?t[1].split(J3t):[]}var eLt=Z3t,tLt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nLt(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(tLt,`{
/* [wrapped with `+t+`] */
`)}var rLt=nLt;function iLt(e){return function(){return e}}var sLt=iLt,oLt=ow,aLt=function(){try{var e=oLt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Y3e=aLt,uLt=sLt,Yge=Y3e,lLt=M5,cLt=Yge?function(e,t){return Yge(e,"toString",{configurable:!0,enumerable:!1,value:uLt(t),writable:!0})}:lLt,fLt=cLt,dLt=fLt,hLt=W3e,pLt=hLt(dLt),K3e=pLt;function mLt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ete=mLt;function gLt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var X3e=gLt;function yLt(e){return e!==e}var vLt=yLt;function bLt(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var _Lt=bLt,wLt=X3e,ELt=vLt,xLt=_Lt;function SLt(e,t,n){return t===t?xLt(e,t,n):wLt(e,ELt,n)}var j5=SLt,TLt=j5;function CLt(e,t){var n=e==null?0:e.length;return!!n&&TLt(e,t,0)>-1}var ALt=CLt,ILt=Ete,kLt=ALt,RLt=1,NLt=2,PLt=8,OLt=16,DLt=32,$Lt=64,MLt=128,LLt=256,FLt=512,jLt=[["ary",MLt],["bind",RLt],["bindKey",NLt],["curry",PLt],["curryRight",OLt],["flip",FLt],["partial",DLt],["partialRight",$Lt],["rearg",LLt]];function BLt(e,t){return ILt(jLt,function(n){var r="_."+n[0];t&n[1]&&!kLt(e,r)&&e.push(r)}),e.sort()}var ULt=BLt,zLt=eLt,VLt=rLt,HLt=K3e,qLt=ULt;function WLt(e,t,n){var r=t+"";return HLt(e,VLt(r,qLt(zLt(r),n)))}var Q3e=WLt,GLt=V3t,YLt=G3e,KLt=Q3e,XLt=1,QLt=2,JLt=4,ZLt=8,Kge=32,Xge=64;function e6t(e,t,n,r,i,s,o,a,u,l){var c=t&ZLt,f=c?o:void 0,d=c?void 0:o,h=c?s:void 0,p=c?void 0:s;t|=c?Kge:Xge,t&=~(c?Xge:Kge),t&JLt||(t&=~(XLt|QLt));var m=[e,t,i,h,f,p,d,a,u,l],g=n.apply(void 0,m);return GLt(e)&&YLt(g,m),g.placeholder=r,KLt(g,e,t)}var J3e=e6t;function t6t(e){var t=e;return t.placeholder}var Z3e=t6t,n6t=9007199254740991,r6t=/^(?:0|[1-9]\d*)$/;function i6t(e,t){var n=typeof e;return t=t??n6t,!!t&&(n=="number"||n!="symbol"&&r6t.test(e))&&e>-1&&e%1==0&&e<t}var ON=i6t,s6t=wte,o6t=ON,a6t=Math.min;function u6t(e,t){for(var n=e.length,r=a6t(t.length,n),i=s6t(e);r--;){var s=t[r];e[r]=o6t(s,n)?i[s]:void 0}return e}var l6t=u6t,Qge="__lodash_placeholder__";function c6t(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];(o===t||o===Qge)&&(e[n]=Qge,s[i++]=n)}return s}var xte=c6t,f6t=z3e,d6t=V3e,h6t=i3t,Jge=F5,p6t=J3e,m6t=Z3e,g6t=l6t,y6t=xte,v6t=ql,b6t=1,_6t=2,w6t=8,E6t=16,x6t=128,S6t=512;function eLe(e,t,n,r,i,s,o,a,u,l){var c=t&x6t,f=t&b6t,d=t&_6t,h=t&(w6t|E6t),p=t&S6t,m=d?void 0:Jge(e);function g(){for(var y=arguments.length,v=Array(y),b=y;b--;)v[b]=arguments[b];if(h)var w=m6t(g),E=h6t(v,w);if(r&&(v=f6t(v,r,i,h)),s&&(v=d6t(v,s,o,h)),y-=E,h&&y<l){var x=y6t(v,w);return p6t(e,t,eLe,g.placeholder,n,v,x,a,u,l-y)}var S=f?n:this,C=d?S[e]:e;return y=v.length,a?v=g6t(v,a):p&&y>1&&v.reverse(),c&&u<y&&(v.length=u),this&&this!==v6t&&this instanceof g&&(C=m||Jge(C)),C.apply(S,v)}return g}var tLe=eLe,T6t=vte,C6t=F5,A6t=tLe,I6t=J3e,k6t=Z3e,R6t=xte,N6t=ql;function P6t(e,t,n){var r=C6t(e);function i(){for(var s=arguments.length,o=Array(s),a=s,u=k6t(i);a--;)o[a]=arguments[a];var l=s<3&&o[0]!==u&&o[s-1]!==u?[]:R6t(o,u);if(s-=l.length,s<n)return I6t(e,t,A6t,i.placeholder,void 0,o,l,void 0,void 0,n-s);var c=this&&this!==N6t&&this instanceof i?r:e;return T6t(c,this,o)}return i}var O6t=P6t,D6t=vte,$6t=F5,M6t=ql,L6t=1;function F6t(e,t,n,r){var i=t&L6t,s=$6t(e);function o(){for(var a=-1,u=arguments.length,l=-1,c=r.length,f=Array(c+u),d=this&&this!==M6t&&this instanceof o?s:e;++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++a];return D6t(d,i?n:this,f)}return o}var j6t=F6t,B6t=z3e,U6t=V3e,Zge=xte,e0e="__lodash_placeholder__",ZU=1,z6t=2,V6t=4,t0e=8,S2=128,n0e=256,H6t=Math.min;function q6t(e,t){var n=e[1],r=t[1],i=n|r,s=i<(ZU|z6t|S2),o=r==S2&&n==t0e||r==S2&&n==n0e&&e[7].length<=t[8]||r==(S2|n0e)&&t[7].length<=t[8]&&n==t0e;if(!(s||o))return e;r&ZU&&(e[2]=t[2],i|=n&ZU?0:V6t);var a=t[3];if(a){var u=e[3];e[3]=u?B6t(u,a,t[4]):a,e[4]=u?Zge(e[3],e0e):t[4]}return a=t[5],a&&(u=e[5],e[5]=u?U6t(u,a,t[6]):a,e[6]=u?Zge(e[5],e0e):t[6]),a=t[7],a&&(e[7]=a),r&S2&&(e[8]=e[8]==null?t[8]:H6t(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var W6t=q6t,G6t=/\s/;function Y6t(e){for(var t=e.length;t--&&G6t.test(e.charAt(t)););return t}var K6t=Y6t,X6t=K6t,Q6t=/^\s+/;function J6t(e){return e&&e.slice(0,X6t(e)+1).replace(Q6t,"")}var nLe=J6t,Z6t=Xv,e4t=Jd,t4t="[object Symbol]";function n4t(e){return typeof e=="symbol"||e4t(e)&&Z6t(e)==t4t}var DN=n4t,r4t=nLe,r0e=a0,i4t=DN,i0e=NaN,s4t=/^[-+]0x[0-9a-f]+$/i,o4t=/^0b[01]+$/i,a4t=/^0o[0-7]+$/i,u4t=parseInt;function l4t(e){if(typeof e=="number")return e;if(i4t(e))return i0e;if(r0e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=r0e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=r4t(e);var n=o4t.test(e);return n||a4t.test(e)?u4t(e.slice(2),n?2:8):s4t.test(e)?i0e:+e}var c4t=l4t,f4t=c4t,s0e=1/0,d4t=17976931348623157e292;function h4t(e){if(!e)return e===0?e:0;if(e=f4t(e),e===s0e||e===-s0e){var t=e<0?-1:1;return t*d4t}return e===e?e:0}var p4t=h4t,m4t=p4t;function g4t(e){var t=m4t(e),n=t%1;return t===t?n?t-n:t:0}var Ste=g4t,y4t=U3e,v4t=QMt,b4t=O6t,_4t=tLe,w4t=j6t,E4t=H3e,x4t=W6t,S4t=G3e,T4t=Q3e,o0e=Ste,C4t="Expected a function",a0e=1,A4t=2,e7=8,t7=16,n7=32,u0e=64,l0e=Math.max;function I4t(e,t,n,r,i,s,o,a){var u=t&A4t;if(!u&&typeof e!="function")throw new TypeError(C4t);var l=r?r.length:0;if(l||(t&=~(n7|u0e),r=i=void 0),o=o===void 0?o:l0e(o0e(o),0),a=a===void 0?a:o0e(a),l-=i?i.length:0,t&u0e){var c=r,f=i;r=i=void 0}var d=u?void 0:E4t(e),h=[e,t,n,r,i,c,f,s,o,a];if(d&&x4t(h,d),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],a=h[9]=h[9]===void 0?u?0:e.length:l0e(h[9]-l,0),!a&&t&(e7|t7)&&(t&=~(e7|t7)),!t||t==a0e)var p=v4t(e,t,n);else t==e7||t==t7?p=b4t(e,t,a):(t==n7||t==(a0e|n7))&&!i.length?p=w4t(e,t,n,r):p=_4t.apply(void 0,h);var m=d?y4t:S4t;return T4t(m(p,h),e,t)}var k4t=I4t,R4t=k4t,N4t=8;function Tte(e,t,n){t=n?void 0:t;var r=R4t(e,N4t,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Tte.placeholder,r}Tte.placeholder={};var rLe=Tte;const iLe=On(rLe);function L$(e,t){return!e||!t?"":Array.isArray(t)?gf(t.filter(function(n){return!!n}).map(function(n){return e+"-"+n})):e[e.length-1]==="-"?""+e+t:e+"-"+t}iLe(L$);function $S(e,t,n,r){return r===void 0&&(r=!1),e.addEventListener(t,n,r),{off:function(){e.removeEventListener(t,n,r)}}}var P4t=void 0;function B5(e){return function(){return e}}function aw(){}aw.thatReturns=B5;aw.thatReturnsFalse=B5(!1);aw.thatReturnsTrue=B5(!0);aw.thatReturnsNull=B5(null);aw.thatReturnsThis=function(){return P4t};aw.thatReturnsArgument=function(e){return e};var Qv=!!(typeof window<"u"&&window.document&&window.document.createElement);Qv&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","");function Cte(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("unable to locate global object")}var sLe=Cte(),c0e=0;function O4t(e){var t=Date.now(),n=Math.max(0,16-(t-c0e));return c0e=t+n,sLe.setTimeout(function(){e(Date.now())},n)}var D4t=sLe.requestAnimationFrame||O4t;D4t(aw);var f0e=Cte();f0e.cancelAnimationFrame||f0e.clearTimeout;function $4t(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function M4t(e,t){return t&&(e.classList?e.classList.add(t):$4t(e,t)||(e.className=e.className+" "+t)),e}function L4t(e,t){return t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")),e}function MS(e){return e&&e.ownerDocument||document}function $N(e){return e===(e==null?void 0:e.window)?e:(e==null?void 0:e.nodeType)===9?(e==null?void 0:e.defaultView)||(e==null?void 0:e.parentWindow):null}function F4t(e,t){return e=typeof e=="function"?e():e,e||t}var oLe=function(t,n){if(!n)return!1;do if(n===t)return!0;while(n.parentNode&&(n=n.parentNode));return!1},j4t=function(t,n){return n?t.contains?t.contains(n):t.compareDocumentPosition?t===n||!!(t.compareDocumentPosition(n)&16):oLe(t,n):!1};const qL=function(){return Qv?j4t:oLe}();function Ny(e,t){var n=$N(e),r=e.scrollTop,i=0;return n&&(r=n.pageYOffset,i=n.pageXOffset),t!==void 0&&(n?n.scrollTo(i,t):e.scrollTop=t),r}function bI(e,t){var n=$N(e),r=e.scrollLeft;return n&&(r=n.pageXOffset,n.pageYOffset),r}function ng(e){var t=MS(e),n=$N(t),r=t&&t.documentElement,i={top:0,left:0,height:0,width:0};return t?(qL(r,e)&&((e==null?void 0:e.getBoundingClientRect)!==void 0&&(i=e.getBoundingClientRect()),(i.width||i.height)&&r&&n&&(i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(i.width===null?e.offsetWidth:i.width)||0,height:(i.height===null?e.offsetHeight:i.height)||0})),i):null}function Ate(e){var t;return(e==null?void 0:e.nodeName)&&(e==null||(t=e.nodeName)===null||t===void 0?void 0:t.toLowerCase())}function aLe(e){return e.replace(/\-(\w)/g,function(t){return t.slice(1).toUpperCase()})}function B4t(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var U4t=/^-ms-/;function z4t(e){return aLe(e.replace(U4t,"ms-"))}const d0e=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):null};var V4t=/^ms-/;const wW=function(e){return B4t(e).replace(V4t,"-ms-")};function Uh(e,t){if(t){var n=e.style[z4t(t)];if(n)return n;var r=d0e(e);if(r)return r.getPropertyValue(wW(t))}return e.style||d0e(e)}function H4t(e){for(var t=MS(e),n=e==null?void 0:e.offsetParent;n&&Ate(e)!=="html"&&Uh(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}function EW(){return EW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EW.apply(null,arguments)}function uLe(e,t,n){n===void 0&&(n=!0);var r={top:0,left:0},i=null;if(Uh(e,"position")==="fixed")i=e.getBoundingClientRect();else{if(t=t||H4t(e),i=ng(e),Ate(t)!=="html"){var s=ng(t);s&&(r.top=s.top,r.left=s.left)}r.top+=parseInt(Uh(t,"borderTopWidth"),10)-Ny(t)||0,r.left+=parseInt(Uh(t,"borderLeftWidth"),10)-bI(t)||0}if(i){var o=n&&parseInt(Uh(e,"marginTop"),10)||0,a=n&&parseInt(Uh(e,"marginLeft"),10)||0;return EW({},i,{top:i.top-r.top-o,left:i.left-r.left-a})}return null}function lLe(e,t){var n=$N(e);return n?n.innerHeight:ng(e).height}function cLe(e,t){var n=$N(e);if(n)return n.innerWidth;var r=ng(e);return r?r.width:0}function h0e(e,t){var n,r;(n=e.style)===null||n===void 0||(r=n.removeProperty)===null||r===void 0||r.call(n,t)}function q4t(e,t){typeof t=="string"?h0e(e,t):Array.isArray(t)&&t.forEach(function(n){return h0e(e,n)})}function fLe(e,t,n){var r="",i=t;if(typeof t=="string"){if(n===void 0)throw new Error("value is undefined");(i={})[t]=n}if(typeof i=="object")for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(!i[s]&&i[s]!==0?q4t(e,wW(s)):r+=wW(s)+":"+i[s]+";");e.style.cssText+=";"+r}var r7={},xW=["Webkit","ms","Moz","O"],W4t=new RegExp("^("+xW.join("|")+")"),dLe=Qv?document.createElement("div").style:{};function G4t(e){for(var t=0;t<xW.length;t+=1){var n=xW[t]+e;if(n in dLe)return n}return null}function JE(e){var t=aLe(e);if(r7[t]===void 0){var n=t.charAt(0).toUpperCase()+t.slice(1);if(W4t.test(n))throw new Error(`getVendorPrefixedName must only be called with unprefixed
          CSS property names. It was called with `+e);r7[t]=t in dLe?t:G4t(n)}return r7[t]||t}const p0e={hasCSSAnimations:function(){return!!JE("animationName")},hasCSSTransforms:function(){return!!JE("transform")},hasCSS3DTransforms:function(){return!!JE("perspective")},hasCSSTransitions:function(){return!!JE("transition")}};var m0e=Cte(),hLe=JE("transform"),Y4t=JE("backfaceVisibility"),K4t=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t.left=n+"px",t.top=r+"px",t},g0e=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t[hLe]="translate("+n+"px,"+r+"px)",t},y0e=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t[hLe]="translate3d("+n+"px,"+r+"px,0)",t[Y4t]="hidden",t},X4t=function(t){var n={},r=n.enableTransform,i=r===void 0?!0:r,s=n.enable3DTransform,o=s===void 0?!0:s,a=n.forceUseTransform;if(a)return t.enable3DTransform?y0e:g0e;if(p0e.hasCSSTransforms()&&i){var u=m0e.window?m0e.window.navigator.userAgent:"UNKNOWN",l=/Safari\//.test(u)&&!/Chrome\//.test(u);return!l&&p0e.hasCSS3DTransforms()&&o?y0e:g0e}return K4t};X4t();var Q4t=function(t){return(t==null?void 0:t.nodeType)===1&&typeof(t==null?void 0:t.nodeName)=="string"};function J4t(e,t,n,r){var i=-1,s=e==null?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}var Z4t=J4t;function eFt(e){return function(t){return e==null?void 0:e[t]}}var tFt=eFt,nFt=tFt,rFt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},iFt=nFt(rFt),sFt=iFt;function oFt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var U5=oFt,v0e=aC,aFt=U5,uFt=zu,lFt=DN,cFt=1/0,b0e=v0e?v0e.prototype:void 0,_0e=b0e?b0e.toString:void 0;function pLe(e){if(typeof e=="string")return e;if(uFt(e))return aFt(e,pLe)+"";if(lFt(e))return _0e?_0e.call(e):"";var t=e+"";return t=="0"&&1/e==-cFt?"-0":t}var mLe=pLe,fFt=mLe;function dFt(e){return e==null?"":fFt(e)}var MN=dFt,hFt=sFt,pFt=MN,mFt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gFt="\\u0300-\\u036f",yFt="\\ufe20-\\ufe2f",vFt="\\u20d0-\\u20ff",bFt=gFt+yFt+vFt,_Ft="["+bFt+"]",wFt=RegExp(_Ft,"g");function EFt(e){return e=pFt(e),e&&e.replace(mFt,hFt).replace(wFt,"")}var xFt=EFt,SFt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function TFt(e){return e.match(SFt)||[]}var CFt=TFt,AFt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function IFt(e){return AFt.test(e)}var kFt=IFt,gLe="\\ud800-\\udfff",RFt="\\u0300-\\u036f",NFt="\\ufe20-\\ufe2f",PFt="\\u20d0-\\u20ff",OFt=RFt+NFt+PFt,yLe="\\u2700-\\u27bf",vLe="a-z\\xdf-\\xf6\\xf8-\\xff",DFt="\\xac\\xb1\\xd7\\xf7",$Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",MFt="\\u2000-\\u206f",LFt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bLe="A-Z\\xc0-\\xd6\\xd8-\\xde",FFt="\\ufe0e\\ufe0f",_Le=DFt+$Ft+MFt+LFt,wLe="[']",w0e="["+_Le+"]",jFt="["+OFt+"]",ELe="\\d+",BFt="["+yLe+"]",xLe="["+vLe+"]",SLe="[^"+gLe+_Le+ELe+yLe+vLe+bLe+"]",UFt="\\ud83c[\\udffb-\\udfff]",zFt="(?:"+jFt+"|"+UFt+")",VFt="[^"+gLe+"]",TLe="(?:\\ud83c[\\udde6-\\uddff]){2}",CLe="[\\ud800-\\udbff][\\udc00-\\udfff]",xE="["+bLe+"]",HFt="\\u200d",E0e="(?:"+xLe+"|"+SLe+")",qFt="(?:"+xE+"|"+SLe+")",x0e="(?:"+wLe+"(?:d|ll|m|re|s|t|ve))?",S0e="(?:"+wLe+"(?:D|LL|M|RE|S|T|VE))?",ALe=zFt+"?",ILe="["+FFt+"]?",WFt="(?:"+HFt+"(?:"+[VFt,TLe,CLe].join("|")+")"+ILe+ALe+")*",GFt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YFt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",KFt=ILe+ALe+WFt,XFt="(?:"+[BFt,TLe,CLe].join("|")+")"+KFt,QFt=RegExp([xE+"?"+xLe+"+"+x0e+"(?="+[w0e,xE,"$"].join("|")+")",qFt+"+"+S0e+"(?="+[w0e,xE+E0e,"$"].join("|")+")",xE+"?"+E0e+"+"+x0e,xE+"+"+S0e,YFt,GFt,ELe,XFt].join("|"),"g");function JFt(e){return e.match(QFt)||[]}var ZFt=JFt,e5t=CFt,t5t=kFt,n5t=MN,r5t=ZFt;function i5t(e,t,n){return e=n5t(e),t=n?void 0:t,t===void 0?t5t(e)?r5t(e):e5t(e):e.match(t)||[]}var s5t=i5t,o5t=Z4t,a5t=xFt,u5t=s5t,l5t="[']",c5t=RegExp(l5t,"g");function f5t(e){return function(t){return o5t(u5t(a5t(t).replace(c5t,"")),e,"")}}var d5t=f5t,h5t=d5t,p5t=h5t(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),m5t=p5t;const kLe=On(m5t);function SW(e,t){return SW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},SW(e,t)}function g5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,SW(e,t)}function y5t(){if(!Qv)return{};for(var e={O:function(l){return"o"+l.toLowerCase()},Moz:function(l){return l.toLowerCase()},Webkit:function(l){return"webkit"+l},ms:function(l){return"MS"+l}},t=Object.keys(e),n=document.createElement("div").style,r,i="",s=0;s<t.length;s+=1){var o=t[s];if(o+"TransitionProperty"in n){i="-"+o.toLowerCase(),r=e[o]("TransitionEnd");break}}!r&&"transitionProperty"in n&&(r="transitionend"),n=null;var a=function(l){return i+"-"+l};return{end:r,backfaceVisibility:a("backface-visibility"),transform:a("transform"),property:a("transition-property"),timing:a("transition-timing-function"),delay:a("transition-delay"),duration:a("transition-duration")}}function v5t(){return y5t().end}function b5t(){this.__data__=[],this.size=0}var _5t=b5t;function w5t(e,t){return e===t||e!==e&&t!==t}var Ite=w5t,E5t=Ite;function x5t(e,t){for(var n=e.length;n--;)if(E5t(e[n][0],t))return n;return-1}var z5=x5t,S5t=z5,T5t=Array.prototype,C5t=T5t.splice;function A5t(e){var t=this.__data__,n=S5t(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():C5t.call(t,n,1),--this.size,!0}var I5t=A5t,k5t=z5;function R5t(e){var t=this.__data__,n=k5t(t,e);return n<0?void 0:t[n][1]}var N5t=R5t,P5t=z5;function O5t(e){return P5t(this.__data__,e)>-1}var D5t=O5t,$5t=z5;function M5t(e,t){var n=this.__data__,r=$5t(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var L5t=M5t,F5t=_5t,j5t=I5t,B5t=N5t,U5t=D5t,z5t=L5t;function uC(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uC.prototype.clear=F5t;uC.prototype.delete=j5t;uC.prototype.get=B5t;uC.prototype.has=U5t;uC.prototype.set=z5t;var V5=uC,V5t=V5;function H5t(){this.__data__=new V5t,this.size=0}var q5t=H5t;function W5t(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var G5t=W5t;function Y5t(e){return this.__data__.get(e)}var K5t=Y5t;function X5t(e){return this.__data__.has(e)}var Q5t=X5t,J5t=ow,Z5t=ql,ejt=J5t(Z5t,"Map"),kte=ejt,tjt=ow,njt=tjt(Object,"create"),H5=njt,T0e=H5;function rjt(){this.__data__=T0e?T0e(null):{},this.size=0}var ijt=rjt;function sjt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ojt=sjt,ajt=H5,ujt="__lodash_hash_undefined__",ljt=Object.prototype,cjt=ljt.hasOwnProperty;function fjt(e){var t=this.__data__;if(ajt){var n=t[e];return n===ujt?void 0:n}return cjt.call(t,e)?t[e]:void 0}var djt=fjt,hjt=H5,pjt=Object.prototype,mjt=pjt.hasOwnProperty;function gjt(e){var t=this.__data__;return hjt?t[e]!==void 0:mjt.call(t,e)}var yjt=gjt,vjt=H5,bjt="__lodash_hash_undefined__";function _jt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vjt&&t===void 0?bjt:t,this}var wjt=_jt,Ejt=ijt,xjt=ojt,Sjt=djt,Tjt=yjt,Cjt=wjt;function lC(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}lC.prototype.clear=Ejt;lC.prototype.delete=xjt;lC.prototype.get=Sjt;lC.prototype.has=Tjt;lC.prototype.set=Cjt;var Ajt=lC,C0e=Ajt,Ijt=V5,kjt=kte;function Rjt(){this.size=0,this.__data__={hash:new C0e,map:new(kjt||Ijt),string:new C0e}}var Njt=Rjt;function Pjt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ojt=Pjt,Djt=Ojt;function $jt(e,t){var n=e.__data__;return Djt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var q5=$jt,Mjt=q5;function Ljt(e){var t=Mjt(this,e).delete(e);return this.size-=t?1:0,t}var Fjt=Ljt,jjt=q5;function Bjt(e){return jjt(this,e).get(e)}var Ujt=Bjt,zjt=q5;function Vjt(e){return zjt(this,e).has(e)}var Hjt=Vjt,qjt=q5;function Wjt(e,t){var n=qjt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Gjt=Wjt,Yjt=Njt,Kjt=Fjt,Xjt=Ujt,Qjt=Hjt,Jjt=Gjt;function cC(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cC.prototype.clear=Yjt;cC.prototype.delete=Kjt;cC.prototype.get=Xjt;cC.prototype.has=Qjt;cC.prototype.set=Jjt;var Rte=cC,Zjt=V5,e8t=kte,t8t=Rte,n8t=200;function r8t(e,t){var n=this.__data__;if(n instanceof Zjt){var r=n.__data__;if(!e8t||r.length<n8t-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new t8t(r)}return n.set(e,t),this.size=n.size,this}var i8t=r8t,s8t=V5,o8t=q5t,a8t=G5t,u8t=K5t,l8t=Q5t,c8t=i8t;function fC(e){var t=this.__data__=new s8t(e);this.size=t.size}fC.prototype.clear=o8t;fC.prototype.delete=a8t;fC.prototype.get=u8t;fC.prototype.has=l8t;fC.prototype.set=c8t;var Nte=fC,A0e=Y3e;function f8t(e,t,n){t=="__proto__"&&A0e?A0e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Pte=f8t,d8t=Pte,h8t=Ite,p8t=Object.prototype,m8t=p8t.hasOwnProperty;function g8t(e,t,n){var r=e[t];(!(m8t.call(e,t)&&h8t(r,n))||n===void 0&&!(t in e))&&d8t(e,t,n)}var Ote=g8t,y8t=Ote,v8t=Pte;function b8t(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],u=r?r(n[a],e[a],a,n,e):void 0;u===void 0&&(u=e[a]),i?v8t(n,a,u):y8t(n,a,u)}return n}var LN=b8t;function _8t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var w8t=_8t,E8t=Xv,x8t=Jd,S8t="[object Arguments]";function T8t(e){return x8t(e)&&E8t(e)==S8t}var C8t=T8t,I0e=C8t,A8t=Jd,RLe=Object.prototype,I8t=RLe.hasOwnProperty,k8t=RLe.propertyIsEnumerable,R8t=I0e(function(){return arguments}())?I0e:function(e){return A8t(e)&&I8t.call(e,"callee")&&!k8t.call(e,"callee")},Dte=R8t,WL={exports:{}};function N8t(){return!1}var P8t=N8t;WL.exports;(function(e,t){var n=ql,r=P8t,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;e.exports=l})(WL,WL.exports);var $te=WL.exports,O8t=9007199254740991;function D8t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=O8t}var Mte=D8t,$8t=Xv,M8t=Mte,L8t=Jd,F8t="[object Arguments]",j8t="[object Array]",B8t="[object Boolean]",U8t="[object Date]",z8t="[object Error]",V8t="[object Function]",H8t="[object Map]",q8t="[object Number]",W8t="[object Object]",G8t="[object RegExp]",Y8t="[object Set]",K8t="[object String]",X8t="[object WeakMap]",Q8t="[object ArrayBuffer]",J8t="[object DataView]",Z8t="[object Float32Array]",eBt="[object Float64Array]",tBt="[object Int8Array]",nBt="[object Int16Array]",rBt="[object Int32Array]",iBt="[object Uint8Array]",sBt="[object Uint8ClampedArray]",oBt="[object Uint16Array]",aBt="[object Uint32Array]",Pi={};Pi[Z8t]=Pi[eBt]=Pi[tBt]=Pi[nBt]=Pi[rBt]=Pi[iBt]=Pi[sBt]=Pi[oBt]=Pi[aBt]=!0;Pi[F8t]=Pi[j8t]=Pi[Q8t]=Pi[B8t]=Pi[J8t]=Pi[U8t]=Pi[z8t]=Pi[V8t]=Pi[H8t]=Pi[q8t]=Pi[W8t]=Pi[G8t]=Pi[Y8t]=Pi[K8t]=Pi[X8t]=!1;function uBt(e){return L8t(e)&&M8t(e.length)&&!!Pi[$8t(e)]}var lBt=uBt;function cBt(e){return function(t){return e(t)}}var Lte=cBt,GL={exports:{}};GL.exports;(function(e,t){var n=M3e,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(GL,GL.exports);var Fte=GL.exports,fBt=lBt,dBt=Lte,k0e=Fte,R0e=k0e&&k0e.isTypedArray,hBt=R0e?dBt(R0e):fBt,NLe=hBt,pBt=w8t,mBt=Dte,gBt=zu,yBt=$te,vBt=ON,bBt=NLe,_Bt=Object.prototype,wBt=_Bt.hasOwnProperty;function EBt(e,t){var n=gBt(e),r=!n&&mBt(e),i=!n&&!r&&yBt(e),s=!n&&!r&&!i&&bBt(e),o=n||r||i||s,a=o?pBt(e.length,String):[],u=a.length;for(var l in e)(t||wBt.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||vBt(l,u)))&&a.push(l);return a}var PLe=EBt,xBt=Object.prototype;function SBt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||xBt;return e===n}var jte=SBt;function TBt(e,t){return function(n){return e(t(n))}}var OLe=TBt,CBt=OLe,ABt=CBt(Object.keys,Object),IBt=ABt,kBt=jte,RBt=IBt,NBt=Object.prototype,PBt=NBt.hasOwnProperty;function OBt(e){if(!kBt(e))return RBt(e);var t=[];for(var n in Object(e))PBt.call(e,n)&&n!="constructor"&&t.push(n);return t}var DBt=OBt,$Bt=yte,MBt=Mte;function LBt(e){return e!=null&&MBt(e.length)&&!$Bt(e)}var FN=LBt,FBt=PLe,jBt=DBt,BBt=FN;function UBt(e){return BBt(e)?FBt(e):jBt(e)}var uw=UBt,zBt=LN,VBt=uw;function HBt(e,t){return e&&zBt(t,VBt(t),e)}var qBt=HBt;function WBt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var GBt=WBt,YBt=a0,KBt=jte,XBt=GBt,QBt=Object.prototype,JBt=QBt.hasOwnProperty;function ZBt(e){if(!YBt(e))return XBt(e);var t=KBt(e),n=[];for(var r in e)r=="constructor"&&(t||!JBt.call(e,r))||n.push(r);return n}var e9t=ZBt,t9t=PLe,n9t=e9t,r9t=FN;function i9t(e){return r9t(e)?t9t(e,!0):n9t(e)}var Bte=i9t,s9t=LN,o9t=Bte;function a9t(e,t){return e&&s9t(t,o9t(t),e)}var u9t=a9t,YL={exports:{}};YL.exports;(function(e,t){var n=ql,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=a?a(f):new l.constructor(f);return l.copy(d),d}e.exports=u})(YL,YL.exports);var l9t=YL.exports;function c9t(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var f9t=c9t;function d9t(){return[]}var DLe=d9t,h9t=f9t,p9t=DLe,m9t=Object.prototype,g9t=m9t.propertyIsEnumerable,N0e=Object.getOwnPropertySymbols,y9t=N0e?function(e){return e==null?[]:(e=Object(e),h9t(N0e(e),function(t){return g9t.call(e,t)}))}:p9t,Ute=y9t,v9t=LN,b9t=Ute;function _9t(e,t){return v9t(e,b9t(e),t)}var w9t=_9t;function E9t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var zte=E9t,x9t=OLe,S9t=x9t(Object.getPrototypeOf,Object),Vte=S9t,T9t=zte,C9t=Vte,A9t=Ute,I9t=DLe,k9t=Object.getOwnPropertySymbols,R9t=k9t?function(e){for(var t=[];e;)T9t(t,A9t(e)),e=C9t(e);return t}:I9t,$Le=R9t,N9t=LN,P9t=$Le;function O9t(e,t){return N9t(e,P9t(e),t)}var D9t=O9t,$9t=zte,M9t=zu;function L9t(e,t,n){var r=t(e);return M9t(e)?r:$9t(r,n(e))}var MLe=L9t,F9t=MLe,j9t=Ute,B9t=uw;function U9t(e){return F9t(e,B9t,j9t)}var LLe=U9t,z9t=MLe,V9t=$Le,H9t=Bte;function q9t(e){return z9t(e,H9t,V9t)}var Hte=q9t,W9t=ow,G9t=ql,Y9t=W9t(G9t,"DataView"),K9t=Y9t,X9t=ow,Q9t=ql,J9t=X9t(Q9t,"Promise"),Z9t=J9t,eUt=ow,tUt=ql,nUt=eUt(tUt,"Set"),rUt=nUt,TW=K9t,CW=kte,AW=Z9t,IW=rUt,kW=j3e,FLe=Xv,dC=F3e,P0e="[object Map]",iUt="[object Object]",O0e="[object Promise]",D0e="[object Set]",$0e="[object WeakMap]",M0e="[object DataView]",sUt=dC(TW),oUt=dC(CW),aUt=dC(AW),uUt=dC(IW),lUt=dC(kW),z1=FLe;(TW&&z1(new TW(new ArrayBuffer(1)))!=M0e||CW&&z1(new CW)!=P0e||AW&&z1(AW.resolve())!=O0e||IW&&z1(new IW)!=D0e||kW&&z1(new kW)!=$0e)&&(z1=function(e){var t=FLe(e),n=t==iUt?e.constructor:void 0,r=n?dC(n):"";if(r)switch(r){case sUt:return M0e;case oUt:return P0e;case aUt:return O0e;case uUt:return D0e;case lUt:return $0e}return t});var W5=z1,cUt=Object.prototype,fUt=cUt.hasOwnProperty;function dUt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&fUt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var hUt=dUt,pUt=ql,mUt=pUt.Uint8Array,jLe=mUt,L0e=jLe;function gUt(e){var t=new e.constructor(e.byteLength);return new L0e(t).set(new L0e(e)),t}var qte=gUt,yUt=qte;function vUt(e,t){var n=t?yUt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var bUt=vUt,_Ut=/\w*$/;function wUt(e){var t=new e.constructor(e.source,_Ut.exec(e));return t.lastIndex=e.lastIndex,t}var EUt=wUt,F0e=aC,j0e=F0e?F0e.prototype:void 0,B0e=j0e?j0e.valueOf:void 0;function xUt(e){return B0e?Object(B0e.call(e)):{}}var SUt=xUt,TUt=qte;function CUt(e,t){var n=t?TUt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var AUt=CUt,IUt=qte,kUt=bUt,RUt=EUt,NUt=SUt,PUt=AUt,OUt="[object Boolean]",DUt="[object Date]",$Ut="[object Map]",MUt="[object Number]",LUt="[object RegExp]",FUt="[object Set]",jUt="[object String]",BUt="[object Symbol]",UUt="[object ArrayBuffer]",zUt="[object DataView]",VUt="[object Float32Array]",HUt="[object Float64Array]",qUt="[object Int8Array]",WUt="[object Int16Array]",GUt="[object Int32Array]",YUt="[object Uint8Array]",KUt="[object Uint8ClampedArray]",XUt="[object Uint16Array]",QUt="[object Uint32Array]";function JUt(e,t,n){var r=e.constructor;switch(t){case UUt:return IUt(e);case OUt:case DUt:return new r(+e);case zUt:return kUt(e,n);case VUt:case HUt:case qUt:case WUt:case GUt:case YUt:case KUt:case XUt:case QUt:return PUt(e,n);case $Ut:return new r;case MUt:case jUt:return new r(e);case LUt:return RUt(e);case FUt:return new r;case BUt:return NUt(e)}}var ZUt=JUt,e7t=L5,t7t=Vte,n7t=jte;function r7t(e){return typeof e.constructor=="function"&&!n7t(e)?e7t(t7t(e)):{}}var i7t=r7t,s7t=W5,o7t=Jd,a7t="[object Map]";function u7t(e){return o7t(e)&&s7t(e)==a7t}var l7t=u7t,c7t=l7t,f7t=Lte,U0e=Fte,z0e=U0e&&U0e.isMap,d7t=z0e?f7t(z0e):c7t,h7t=d7t,p7t=W5,m7t=Jd,g7t="[object Set]";function y7t(e){return m7t(e)&&p7t(e)==g7t}var v7t=y7t,b7t=v7t,_7t=Lte,V0e=Fte,H0e=V0e&&V0e.isSet,w7t=H0e?_7t(H0e):b7t,E7t=w7t,x7t=Nte,S7t=Ete,T7t=Ote,C7t=qBt,A7t=u9t,I7t=l9t,k7t=wte,R7t=w9t,N7t=D9t,P7t=LLe,O7t=Hte,D7t=W5,$7t=hUt,M7t=ZUt,L7t=i7t,F7t=zu,j7t=$te,B7t=h7t,U7t=a0,z7t=E7t,V7t=uw,H7t=Bte,q7t=1,W7t=2,G7t=4,BLe="[object Arguments]",Y7t="[object Array]",K7t="[object Boolean]",X7t="[object Date]",Q7t="[object Error]",ULe="[object Function]",J7t="[object GeneratorFunction]",Z7t="[object Map]",ezt="[object Number]",zLe="[object Object]",tzt="[object RegExp]",nzt="[object Set]",rzt="[object String]",izt="[object Symbol]",szt="[object WeakMap]",ozt="[object ArrayBuffer]",azt="[object DataView]",uzt="[object Float32Array]",lzt="[object Float64Array]",czt="[object Int8Array]",fzt="[object Int16Array]",dzt="[object Int32Array]",hzt="[object Uint8Array]",pzt="[object Uint8ClampedArray]",mzt="[object Uint16Array]",gzt="[object Uint32Array]",wi={};wi[BLe]=wi[Y7t]=wi[ozt]=wi[azt]=wi[K7t]=wi[X7t]=wi[uzt]=wi[lzt]=wi[czt]=wi[fzt]=wi[dzt]=wi[Z7t]=wi[ezt]=wi[zLe]=wi[tzt]=wi[nzt]=wi[rzt]=wi[izt]=wi[hzt]=wi[pzt]=wi[mzt]=wi[gzt]=!0;wi[Q7t]=wi[ULe]=wi[szt]=!1;function F$(e,t,n,r,i,s){var o,a=t&q7t,u=t&W7t,l=t&G7t;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!U7t(e))return e;var c=F7t(e);if(c){if(o=$7t(e),!a)return k7t(e,o)}else{var f=D7t(e),d=f==ULe||f==J7t;if(j7t(e))return I7t(e,a);if(f==zLe||f==BLe||d&&!i){if(o=u||d?{}:L7t(e),!a)return u?N7t(e,A7t(o,e)):R7t(e,C7t(o,e))}else{if(!wi[f])return i?e:{};o=M7t(e,f,a)}}s||(s=new x7t);var h=s.get(e);if(h)return h;s.set(e,o),z7t(e)?e.forEach(function(g){o.add(F$(g,t,n,g,e,s))}):B7t(e)&&e.forEach(function(g,y){o.set(y,F$(g,t,n,y,e,s))});var p=l?u?O7t:P7t:u?H7t:V7t,m=c?void 0:p(e);return S7t(m||e,function(g,y){m&&(y=g,g=e[y]),T7t(o,y,F$(g,t,n,y,e,s))}),o}var VLe=F$,yzt=zu,vzt=DN,bzt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_zt=/^\w*$/;function wzt(e,t){if(yzt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||vzt(e)?!0:_zt.test(e)||!bzt.test(e)||t!=null&&e in Object(t)}var Wte=wzt,HLe=Rte,Ezt="Expected a function";function Gte(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ezt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Gte.Cache||HLe),n}Gte.Cache=HLe;var xzt=Gte,Szt=xzt,Tzt=500;function Czt(e){var t=Szt(e,function(r){return n.size===Tzt&&n.clear(),r}),n=t.cache;return t}var Azt=Czt,Izt=Azt,kzt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rzt=/\\(\\)?/g,Nzt=Izt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kzt,function(n,r,i,s){t.push(i?s.replace(Rzt,"$1"):r||n)}),t}),Pzt=Nzt,Ozt=zu,Dzt=Wte,$zt=Pzt,Mzt=MN;function Lzt(e,t){return Ozt(e)?e:Dzt(e,t)?[e]:$zt(Mzt(e))}var hC=Lzt;function Fzt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jzt=Fzt,Bzt=DN,Uzt=1/0;function zzt(e){if(typeof e=="string"||Bzt(e))return e;var t=e+"";return t=="0"&&1/e==-Uzt?"-0":t}var pC=zzt,Vzt=hC,Hzt=pC;function qzt(e,t){t=Vzt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Hzt(t[n++])];return n&&n==r?e:void 0}var G5=qzt;function Wzt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var qLe=Wzt,Gzt=G5,Yzt=qLe;function Kzt(e,t){return t.length<2?e:Gzt(e,Yzt(t,0,-1))}var Xzt=Kzt,Qzt=hC,Jzt=jzt,Zzt=Xzt,eVt=pC;function tVt(e,t){return t=Qzt(t,e),e=Zzt(e,t),e==null||delete e[eVt(Jzt(t))]}var WLe=tVt,nVt=Xv,rVt=Vte,iVt=Jd,sVt="[object Object]",oVt=Function.prototype,aVt=Object.prototype,GLe=oVt.toString,uVt=aVt.hasOwnProperty,lVt=GLe.call(Object);function cVt(e){if(!iVt(e)||nVt(e)!=sVt)return!1;var t=rVt(e);if(t===null)return!0;var n=uVt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&GLe.call(n)==lVt}var fVt=cVt,dVt=fVt;function hVt(e){return dVt(e)?void 0:e}var pVt=hVt,q0e=aC,mVt=Dte,gVt=zu,W0e=q0e?q0e.isConcatSpreadable:void 0;function yVt(e){return gVt(e)||mVt(e)||!!(W0e&&e&&e[W0e])}var vVt=yVt,bVt=zte,_Vt=vVt;function YLe(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=_Vt),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?YLe(a,t-1,n,r,i):bVt(i,a):r||(i[i.length]=a)}return i}var wVt=YLe,EVt=wVt;function xVt(e){var t=e==null?0:e.length;return t?EVt(e,1):[]}var SVt=xVt,TVt=vte,G0e=Math.max;function CVt(e,t,n){return t=G0e(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=G0e(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),TVt(e,this,a)}}var AVt=CVt,IVt=SVt,kVt=AVt,RVt=K3e;function NVt(e){return RVt(kVt(e,void 0,IVt),e+"")}var KLe=NVt,PVt=U5,OVt=VLe,DVt=WLe,$Vt=hC,MVt=LN,LVt=pVt,FVt=KLe,jVt=Hte,BVt=1,UVt=2,zVt=4,VVt=FVt(function(e,t){var n={};if(e==null)return n;var r=!1;t=PVt(t,function(s){return s=$Vt(s,e),r||(r=s.length>1),s}),MVt(e,jVt(e),n),r&&(n=OVt(n,BVt|UVt|zVt,LVt));for(var i=t.length;i--;)DVt(n,t[i]);return n}),HVt=VVt;const Y5=On(HVt);var RW=function(){return Qv&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent)},qVt=function(){if(Qv){var t=window.navigator.userAgent.match(/Chrom(e|ium)\/([\d\.]+)\./);return t?parseFloat(t[2]):!1}return!1},WVt=function(){if(Qv){var t=window.navigator.userAgent.match(/Version\/([\d\.]+).*Safari/);return t?parseFloat(t[1]):!1}return!1},GVt=function(){if(typeof CSS<"u"&&typeof CSS.supports<"u")return CSS.supports("(gap: 1px)");if(RW())return!1;var t=qVt(),n=WVt();return t?t>=84:n?n>=14.1:!0};function YVt(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var u=o[e?a:++i];if(n(s[u],u,s)===!1)break}return t}}var KVt=YVt,XVt=KVt,QVt=XVt(),JVt=QVt,ZVt=JVt,eHt=uw;function tHt(e,t){return e&&ZVt(e,t,eHt)}var nHt=tHt,rHt=FN;function iHt(e,t){return function(n,r){if(n==null)return n;if(!rHt(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var sHt=iHt,oHt=nHt,aHt=sHt,uHt=aHt(oHt),XLe=uHt,lHt=M5;function cHt(e){return typeof e=="function"?e:lHt}var fHt=cHt,dHt=Ete,hHt=XLe,pHt=fHt,mHt=zu;function gHt(e,t){var n=mHt(e)?dHt:hHt;return n(e,pHt(t))}var yHt=gHt;const vHt=On(yHt);var bHt=Xv,_Ht=zu,wHt=Jd,EHt="[object String]";function xHt(e){return typeof e=="string"||!_Ht(e)&&wHt(e)&&bHt(e)==EHt}var QLe=xHt;const SHt=On(QLe);var THt=U5;function CHt(e,t){return THt(t,function(n){return e[n]})}var AHt=CHt,IHt=AHt,kHt=uw;function RHt(e){return e==null?[]:IHt(e,kHt(e))}var NHt=RHt,PHt=j5,OHt=FN,DHt=QLe,$Ht=Ste,MHt=NHt,LHt=Math.max;function FHt(e,t,n,r){e=OHt(e)?e:MHt(e),n=n&&!r?$Ht(n):0;var i=e.length;return n<0&&(n=LHt(i+n,0)),DHt(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&PHt(e,t,n)>-1}var jHt=FHt;const BHt=On(jHt);var UHt=["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],zHt=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],VHt=[].concat(UHt,zHt),JLe=function(t,n){n===void 0&&(n={});var r=n,i=r.htmlProps,s=i===void 0?VHt:i,o=r.includeAria,a=o===void 0?!0:o,u={},l={};return vHt(t,function(c,f){var d=a&&(/^aria-.*$/.test(f)||f==="role"),h=BHt(s,f)||d?u:l;h[f]=c}),[u,l]};function ZLe(e){var t=[],n=function r(i){de.Children.forEach(i.props.children,function(s){de.isValidElement(s)?r(s):typeof s=="string"&&t.push(s)})};return n(e),t}function HHt(e){if(typeof e=="string")return e;if(de.isValidElement(e)){var t=ZLe(e);return t.join("")}return""}function qHt(e){return e.replace(/([\^\$\.\|\*\+\?\{\\\[\(\)])/g,"\\$1")}function WHt(e){return e&&"setState"in e?VE.findDOMNode(e):e??null}var GHt=function(t){return t&&("current"in t?t.current:t)};function rg(e){var t=(e==null?void 0:e.root)||(e==null?void 0:e.child)||GHt(e);return t!=null&&t.nodeType&&typeof(t==null?void 0:t.nodeName)=="string"?t:WHt(t)}function YHt(){return"_"+Math.random().toString(36).substring(2,12)}function pu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r!==null&&typeof r<"u"}).reduce(function(r,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return r===void 0?i:function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];r.apply(this,a),i.apply(this,a)}},void 0)}function Qc(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}function KHt(e){if(typeof e=="object"&&e!==null)return e.type||e.$$typeof}function e6e(e){return de.Children.count(e)===1&&KHt(e)===Symbol.for("react.fragment")}function K5(e){return de.Children.toArray(de.Children.map(e,function(t){if(e6e(t)){var n;return de.Children.toArray(((n=t.props)===null||n===void 0?void 0:n.children)||[])}return t}))}function XHt(e,t,n){var r=0,i;return de.Children.forEach(K5(e),function(s){i||(r+=1,t.call(n,s,r)&&(i=s))}),i}function t6e(e,t,n){var r=0;return de.Children.map(K5(e),function(i){if(!de.isValidElement(i))return i;var s=t.call(n,i,r);return r+=1,s})}function QHt(e,t,n){return t6e(e,function(r,i){return de.cloneElement(r,wt({key:i},t(r,i)))},n)}function JHt(e){return de.Children.count(K5(e))}function ZHt(e,t,n){var r=0,i=!1;return de.Children.forEach(K5(e),function(s){i||de.isValidElement(s)&&t.call(n,s,r+=1)&&(i=!0)}),i}var Y0e={mapCloneElement:QHt,count:JHt,some:ZHt,map:t6e,find:XHt},K0e=function(t,n){return typeof t<"u"?de.createElement("span",{key:n},t):null};function eqt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.split(/\{(\d+)\}/).map(function(i,s){return s%2?K0e(n[+i],s):K0e(i,s)}).filter(function(i){return i!==""})}function n6e(e,t){return t===void 0&&(t=!1),typeof e=="string"?(t&&(e=e.replace(/left|right/,function(n){return n==="left"?"right":"left"})),e.replace(/Left|Top/,"Start").replace(/Right|Bottom/,"End")):e}var X0e=function(t){return!t||typeof t=="function"?t:function(n){t.current=n}};function gc(e,t){var n=X0e(e),r=X0e(t);return function(i){typeof n=="function"&&n(i),typeof r=="function"&&r(i)}}var tqt=Object.prototype.hasOwnProperty;function Q0e(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ef(e,t){if(Q0e(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i+=1)if(!tqt.call(t,n[i])||!Q0e(e[n[i]],t[n[i]]))return!1;return!0}function nqt(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}var rqt=nqt,iqt=XLe;function sqt(e,t,n,r){return iqt(e,function(i,s,o){t(r,i,n(i),o)}),r}var oqt=sqt,aqt="__lodash_hash_undefined__";function uqt(e){return this.__data__.set(e,aqt),this}var lqt=uqt;function cqt(e){return this.__data__.has(e)}var fqt=cqt,dqt=Rte,hqt=lqt,pqt=fqt;function KL(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dqt;++t<n;)this.add(e[t])}KL.prototype.add=KL.prototype.push=hqt;KL.prototype.has=pqt;var mqt=KL;function gqt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yqt=gqt;function vqt(e,t){return e.has(t)}var bqt=vqt,_qt=mqt,wqt=yqt,Eqt=bqt,xqt=1,Sqt=2;function Tqt(e,t,n,r,i,s){var o=n&xqt,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(e),c=s.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,h=n&Sqt?new _qt:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var p=e[f],m=t[f];if(r)var g=o?r(m,p,f,t,e,s):r(p,m,f,e,t,s);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!wqt(t,function(y,v){if(!Eqt(h,v)&&(p===y||i(p,y,n,r,s)))return h.push(v)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}var r6e=Tqt;function Cqt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Aqt=Cqt;function Iqt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kqt=Iqt,J0e=aC,Z0e=jLe,Rqt=Ite,Nqt=r6e,Pqt=Aqt,Oqt=kqt,Dqt=1,$qt=2,Mqt="[object Boolean]",Lqt="[object Date]",Fqt="[object Error]",jqt="[object Map]",Bqt="[object Number]",Uqt="[object RegExp]",zqt="[object Set]",Vqt="[object String]",Hqt="[object Symbol]",qqt="[object ArrayBuffer]",Wqt="[object DataView]",eye=J0e?J0e.prototype:void 0,i7=eye?eye.valueOf:void 0;function Gqt(e,t,n,r,i,s,o){switch(n){case Wqt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qqt:return!(e.byteLength!=t.byteLength||!s(new Z0e(e),new Z0e(t)));case Mqt:case Lqt:case Bqt:return Rqt(+e,+t);case Fqt:return e.name==t.name&&e.message==t.message;case Uqt:case Vqt:return e==t+"";case jqt:var a=Pqt;case zqt:var u=r&Dqt;if(a||(a=Oqt),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=$qt,o.set(e,t);var c=Nqt(a(e),a(t),r,i,s,o);return o.delete(e),c;case Hqt:if(i7)return i7.call(e)==i7.call(t)}return!1}var Yqt=Gqt,tye=LLe,Kqt=1,Xqt=Object.prototype,Qqt=Xqt.hasOwnProperty;function Jqt(e,t,n,r,i,s){var o=n&Kqt,a=tye(e),u=a.length,l=tye(t),c=l.length;if(u!=c&&!o)return!1;for(var f=u;f--;){var d=a[f];if(!(o?d in t:Qqt.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=o;++f<u;){d=a[f];var y=e[d],v=t[d];if(r)var b=o?r(v,y,d,t,e,s):r(y,v,d,e,t,s);if(!(b===void 0?y===v||i(y,v,n,r,s):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(m=!1)}return s.delete(e),s.delete(t),m}var Zqt=Jqt,s7=Nte,eWt=r6e,tWt=Yqt,nWt=Zqt,nye=W5,rye=zu,iye=$te,rWt=NLe,iWt=1,sye="[object Arguments]",oye="[object Array]",eD="[object Object]",sWt=Object.prototype,aye=sWt.hasOwnProperty;function oWt(e,t,n,r,i,s){var o=rye(e),a=rye(t),u=o?oye:nye(e),l=a?oye:nye(t);u=u==sye?eD:u,l=l==sye?eD:l;var c=u==eD,f=l==eD,d=u==l;if(d&&iye(e)){if(!iye(t))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new s7),o||rWt(e)?eWt(e,t,n,r,i,s):tWt(e,t,u,n,r,i,s);if(!(n&iWt)){var h=c&&aye.call(e,"__wrapped__"),p=f&&aye.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return s||(s=new s7),i(m,g,n,r,s)}}return d?(s||(s=new s7),nWt(e,t,n,r,i,s)):!1}var aWt=oWt,uWt=aWt,uye=Jd;function i6e(e,t,n,r,i){return e===t?!0:e==null||t==null||!uye(e)&&!uye(t)?e!==e&&t!==t:uWt(e,t,n,r,i6e,i)}var s6e=i6e,lWt=Nte,cWt=s6e,fWt=1,dWt=2;function hWt(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var u=a[0],l=e[u],c=a[1];if(o&&a[2]){if(l===void 0&&!(u in e))return!1}else{var f=new lWt;if(r)var d=r(l,c,u,e,t,f);if(!(d===void 0?cWt(c,l,fWt|dWt,r,f):d))return!1}}return!0}var pWt=hWt,mWt=a0;function gWt(e){return e===e&&!mWt(e)}var o6e=gWt,yWt=o6e,vWt=uw;function bWt(e){for(var t=vWt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,yWt(i)]}return t}var _Wt=bWt;function wWt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var a6e=wWt,EWt=pWt,xWt=_Wt,SWt=a6e;function TWt(e){var t=xWt(e);return t.length==1&&t[0][2]?SWt(t[0][0],t[0][1]):function(n){return n===e||EWt(n,e,t)}}var CWt=TWt,AWt=G5;function IWt(e,t,n){var r=e==null?void 0:AWt(e,t);return r===void 0?n:r}var u6e=IWt;const l6e=On(u6e);function kWt(e,t){return e!=null&&t in Object(e)}var RWt=kWt,NWt=hC,PWt=Dte,OWt=zu,DWt=ON,$Wt=Mte,MWt=pC;function LWt(e,t,n){t=NWt(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=MWt(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&$Wt(i)&&DWt(o,i)&&(OWt(e)||PWt(e)))}var FWt=LWt,jWt=RWt,BWt=FWt;function UWt(e,t){return e!=null&&BWt(e,t,jWt)}var c6e=UWt,zWt=s6e,VWt=u6e,HWt=c6e,qWt=Wte,WWt=o6e,GWt=a6e,YWt=pC,KWt=1,XWt=2;function QWt(e,t){return qWt(e)&&WWt(t)?GWt(YWt(e),t):function(n){var r=VWt(n,e);return r===void 0&&r===t?HWt(n,e):zWt(t,r,KWt|XWt)}}var JWt=QWt;function ZWt(e){return function(t){return t==null?void 0:t[e]}}var eGt=ZWt,tGt=G5;function nGt(e){return function(t){return tGt(t,e)}}var rGt=nGt,iGt=eGt,sGt=rGt,oGt=Wte,aGt=pC;function uGt(e){return oGt(e)?iGt(aGt(e)):sGt(e)}var lGt=uGt,cGt=CWt,fGt=JWt,dGt=M5,hGt=zu,pGt=lGt;function mGt(e){return typeof e=="function"?e:e==null?dGt:typeof e=="object"?hGt(e)?fGt(e[0],e[1]):cGt(e):pGt(e)}var lw=mGt,gGt=rqt,yGt=oqt,vGt=lw,bGt=zu;function _Gt(e,t){return function(n,r){var i=bGt(n)?gGt:yGt,s=t?t():{};return i(n,e,vGt(r),s)}}var wGt=_Gt,EGt=Pte,xGt=wGt,SGt=Object.prototype,TGt=SGt.hasOwnProperty,CGt=xGt(function(e,t,n){TGt.call(e,n)?e[n].push(t):EGt(e,n,[t])}),AGt=CGt;const IGt=On(AGt);function kGt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=RGt(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RGt(e,t){if(e){if(typeof e=="string")return lye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lye(e,t)}}function lye(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j$=function(e){return e[e.DFS=0]="DFS",e[e.BFS=1]="BFS",e}({});function NGt(e,t,n){n===void 0&&(n=j$.BFS);var r=[];return n===j$.BFS?PGt(e,t,function(i){return r.push(i)}):n===j$.DFS&&f6e(e,t,function(i){return r.push(i)}),r}function PGt(e,t,n){for(var r=[].concat(e);r.length>0;){var i=r.shift();n(i);var s=t(i);s&&r.push.apply(r,s)}}function f6e(e,t,n){for(var r=kGt(e),i;!(i=r()).done;){var s=i.value;n(s);var o=t(s);o&&f6e(o,t,n)}}var OGt=Symbol.for("rsuite.picker"),SE=Symbol.for("rsuite.picker_group_key"),NW="groupTitle";function DGt(e,t,n){var r=IGt(e,t),i=typeof n=="function",s=Object.entries(r).map(function(o){var a,u=o[0],l=o[1];return a={children:i?l.sort(n(!1)):l},a[NW]=u,a[SE]=!0,a});return i&&s.sort(n(!0)),NGt(s,function(o){return o.children},j$.DFS)}function $Gt(){var e=document.createElement("div").style;return"webkitAnimation"in e?"webkitAnimationEnd":"animationend"}var d6e={onEnter:be.func,onEntering:be.func,onEntered:be.func,onExit:be.func,onExiting:be.func,onExited:be.func},MGt=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],Cs=function(e){return e[e.UNMOUNTED=0]="UNMOUNTED",e[e.EXITED=1]="EXITED",e[e.ENTERING=2]="ENTERING",e[e.ENTERED=3]="ENTERED",e[e.EXITING=4]="EXITING",e}({}),h6e=wt({},d6e,{animation:be.bool,children:be.oneOfType([be.node,be.func]),className:be.string,in:be.bool,unmountOnExit:be.bool,transitionAppear:be.bool,timeout:be.number,exitedClassName:be.string,exitingClassName:be.string,enteredClassName:be.string,enteringClassName:be.string}),jN=function(e){function t(r){var i;i=e.call(this,r)||this,i.animationEventListener=null,i.instanceElement=null,i.nextCallback=null,i.needsUpdate=null,i.childRef=void 0;var s;return r.in?s=r.transitionAppear?Cs.EXITED:Cs.ENTERED:s=r.unmountOnExit?Cs.UNMOUNTED:Cs.EXITED,i.state={status:s},i.nextCallback=null,i.childRef=de.createRef(),i}g5t(t,e),t.getDerivedStateFromProps=function(i,s){return i.in&&i.unmountOnExit&&s.status===Cs.UNMOUNTED?{status:Cs.EXITED}:null};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){return(!this.props.in||!this.props.unmountOnExit)&&(this.needsUpdate=!0),null},n.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},n.componentDidUpdate=function(){var i=this.state.status,s=this.props.unmountOnExit;if(s&&i===Cs.EXITED){this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:Cs.UNMOUNTED});return}this.needsUpdate&&(this.needsUpdate=!1,this.props.in?(i===Cs.EXITING||i===Cs.EXITED)&&this.performEnter(this.props):(i===Cs.ENTERING||i===Cs.ENTERED)&&this.performExit(this.props))},n.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},n.onTransitionEnd=function(i,s){var o;if(this.setNextCallback(s),(o=this.animationEventListener)===null||o===void 0||o.off(),!!this.nextCallback)if(i){var a=this.props,u=a.timeout,l=a.animation;this.animationEventListener=$S(i,l?$Gt():v5t(),this.nextCallback),u!==null&&setTimeout(this.nextCallback,u)}else setTimeout(this.nextCallback,0)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){if(o){if(a){s.instanceElement===a.target&&(i(a),o=!1,s.nextCallback=null);return}i(a),o=!1,s.nextCallback=null}},this.nextCallback&&(this.nextCallback.cancel=function(){o=!1}),this.nextCallback},n.getChildElement=function(){return this.childRef.current?rg(this.childRef.current):rg(this)},n.performEnter=function(i){var s=this,o=i||this.props,a=o.onEnter,u=o.onEntering,l=o.onEntered;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,a==null||a(c),this.safeSetState({status:Cs.ENTERING},function(){u==null||u(c),s.onTransitionEnd(c,function(){s.safeSetState({status:Cs.ENTERED},function(){l==null||l(c)})})})},n.performExit=function(i){var s=this,o=i||this.props,a=o.onExit,u=o.onExiting,l=o.onExited;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,a==null||a(c),this.safeSetState({status:Cs.EXITING},function(){u==null||u(c),s.onTransitionEnd(c,function(){s.safeSetState({status:Cs.EXITED},function(){l==null||l(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){if(this.instanceElement){var o=this.setNextCallback(s);this.setState(i,function(){return o==null?void 0:o()})}},n.render=function(){var i,s=this.state.status;if(s===Cs.UNMOUNTED)return null;var o=this.props,a=o.children,u=o.className,l=o.exitedClassName,c=o.enteringClassName,f=o.enteredClassName,d=o.exitingClassName,h=ar(o,MGt),p=Y5(h,Object.keys(h6e)),m;if(s===Cs.EXITED?m=l:s===Cs.ENTERING?m=c:s===Cs.ENTERED?m=f:s===Cs.EXITING&&(m=d),Hm(a))return p.className=gf(u,m),a(p,this.childRef);var g=de.Children.only(a);return de.cloneElement(g,wt({},p,{ref:this.childRef,className:gf(u,(i=g.props)===null||i===void 0?void 0:i.className,m)}))},t}(de.Component);jN.propTypes=h6e;jN.displayName="Transition";jN.defaultProps={timeout:1e3};var p6e=de.createContext({});function vi(e){var t=A.useContext(p6e)||{},n=t.classPrefix,r=n===void 0?"rs":n,i=L$(r,e),s=A.useCallback(function(){var u=arguments.length?gf.apply(void 0,arguments).split(" ").map(function(l){return L$(i,l)}):[];return u.filter(function(l){return l}).join(" ")},[i]),o=A.useCallback(function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=s(l);return f?i+" "+f:i},[i,s]),a=function(){var l=arguments.length?gf.apply(void 0,arguments).split(" ").map(function(c){return L$(r,c)}):[];return l.filter(function(c){return c}).join(" ")};return{withClassPrefix:o,merge:gf,prefix:s,rootPrefix:a}}function XL(e,t){var n=A.useRef(!1);n.current=e!==void 0;var r=A.useState(t),i=r[0],s=r[1],o=n.current?e:i,a=A.useCallback(function(u){n.current||s(u)},[n]);return[o,a,n.current]}function Fl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function io(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function eu(e){io(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Dg(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function LGt(e,t){io(2,arguments);var n=eu(e).getTime(),r=Fl(t);return new Date(n+r)}var FGt={};function mC(){return FGt}function jGt(e){return io(1,arguments),e instanceof Date||Dg(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function m6e(e){if(io(1,arguments),!jGt(e)&&typeof e!="number")return!1;var t=eu(e);return!isNaN(Number(t))}function g6e(e,t){io(2,arguments);var n=Fl(t);return LGt(e,-n)}var BGt=864e5;function UGt(e){io(1,arguments);var t=eu(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/BGt)+1}function LS(e){io(1,arguments);var t=1,n=eu(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function y6e(e){io(1,arguments);var t=eu(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=LS(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=LS(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function zGt(e){io(1,arguments);var t=y6e(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=LS(n);return r}var VGt=6048e5;function v6e(e){io(1,arguments);var t=eu(e),n=LS(t).getTime()-zGt(t).getTime();return Math.round(n/VGt)+1}function f_(e,t){var n,r,i,s,o,a,u,l;io(1,arguments);var c=mC(),f=Fl((n=(r=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=eu(e),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Yte(e,t){var n,r,i,s,o,a,u,l;io(1,arguments);var c=eu(e),f=c.getUTCFullYear(),d=mC(),h=Fl((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var m=f_(p,t),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var y=f_(g,t);return c.getTime()>=m.getTime()?f+1:c.getTime()>=y.getTime()?f:f-1}function HGt(e,t){var n,r,i,s,o,a,u,l;io(1,arguments);var c=mC(),f=Fl((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Yte(e,t),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=f_(h,t);return p}var qGt=6048e5;function b6e(e,t){io(1,arguments);var n=eu(e),r=f_(n,t).getTime()-HGt(n,t).getTime();return Math.round(r/qGt)+1}function ei(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var w0={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return ei(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):ei(r+1,2)},d:function(t,n){return ei(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return ei(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ei(t.getUTCHours(),n.length)},m:function(t,n){return ei(t.getUTCMinutes(),n.length)},s:function(t,n){return ei(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return ei(s,n.length)}},Xw={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WGt={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return w0.y(t,n)},Y:function(t,n,r,i){var s=Yte(t,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return ei(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):ei(o,n.length)},R:function(t,n){var r=y6e(t);return ei(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return ei(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return ei(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return ei(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return w0.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return ei(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var s=b6e(t,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):ei(s,n.length)},I:function(t,n,r){var i=v6e(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):ei(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):w0.d(t,n)},D:function(t,n,r){var i=UGt(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):ei(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return ei(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return ei(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return ei(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),s;switch(i===12?s=Xw.noon:i===0?s=Xw.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),s;switch(i>=17?s=Xw.evening:i>=12?s=Xw.afternoon:i>=4?s=Xw.morning:s=Xw.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return w0.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):w0.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):ei(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):ei(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):w0.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):w0.s(t,n)},S:function(t,n){return w0.S(t,n)},X:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return fye(o);case"XXXX":case"XX":return V1(o);case"XXXXX":case"XXX":default:return V1(o,":")}},x:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return fye(o);case"xxxx":case"xx":return V1(o);case"xxxxx":case"xxx":default:return V1(o,":")}},O:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cye(o,":");case"OOOO":default:return"GMT"+V1(o,":")}},z:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cye(o,":");case"zzzz":default:return"GMT"+V1(o,":")}},t:function(t,n,r,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return ei(o,n.length)},T:function(t,n,r,i){var s=i._originalDate||t,o=s.getTime();return ei(o,n.length)}};function cye(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t;return n+String(i)+o+ei(s,2)}function fye(e,t){if(e%60===0){var n=e>0?"-":"+";return n+ei(Math.abs(e)/60,2)}return V1(e,t)}function V1(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=ei(Math.floor(i/60),2),o=ei(i%60,2);return r+s+n+o}var dye=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},_6e=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},GGt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return dye(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",dye(i,n)).replace("{{time}}",_6e(s,n))},PW={p:_6e,P:GGt};function w6e(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var YGt=["D","DD"],KGt=["YY","YYYY"];function E6e(e){return YGt.indexOf(e)!==-1}function x6e(e){return KGt.indexOf(e)!==-1}function QL(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var XGt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S6e=function(t,n,r){var i,s=XGt[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Nx(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var QGt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JGt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZGt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eYt={date:Nx({formats:QGt,defaultWidth:"full"}),time:Nx({formats:JGt,defaultWidth:"full"}),dateTime:Nx({formats:ZGt,defaultWidth:"full"})},tYt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T6e=function(t,n,r,i){return tYt[t]};function T2(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}var nYt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rYt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iYt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sYt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oYt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aYt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uYt=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},C6e={ordinalNumber:uYt,era:T2({values:nYt,defaultWidth:"wide"}),quarter:T2({values:rYt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:T2({values:iYt,defaultWidth:"wide"}),day:T2({values:sYt,defaultWidth:"wide"}),dayPeriod:T2({values:oYt,defaultWidth:"wide",formattingValues:aYt,defaultFormattingWidth:"wide"})};function C2(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(a)?cYt(a,function(f){return f.test(o)}):lYt(a,function(f){return f.test(o)}),l;l=e.valueCallback?e.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;var c=t.slice(o.length);return{value:l,rest:c}}}function lYt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function cYt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function fYt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var dYt=/^(\d+)(th|st|nd|rd)?/i,hYt=/\d+/i,pYt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mYt={any:[/^b/i,/^(a|c)/i]},gYt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yYt={any:[/1/i,/2/i,/3/i,/4/i]},vYt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bYt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Yt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wYt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EYt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xYt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},A6e={ordinalNumber:fYt({matchPattern:dYt,parsePattern:hYt,valueCallback:function(t){return parseInt(t,10)}}),era:C2({matchPatterns:pYt,defaultMatchWidth:"wide",parsePatterns:mYt,defaultParseWidth:"any"}),quarter:C2({matchPatterns:gYt,defaultMatchWidth:"wide",parsePatterns:yYt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:C2({matchPatterns:vYt,defaultMatchWidth:"wide",parsePatterns:bYt,defaultParseWidth:"any"}),day:C2({matchPatterns:_Yt,defaultMatchWidth:"wide",parsePatterns:wYt,defaultParseWidth:"any"}),dayPeriod:C2({matchPatterns:EYt,defaultMatchWidth:"any",parsePatterns:xYt,defaultParseWidth:"any"})},I6e={code:"en-US",formatDistance:S6e,formatLong:eYt,formatRelative:T6e,localize:C6e,match:A6e,options:{weekStartsOn:0,firstWeekContainsDate:1}},SYt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TYt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CYt=/^'([^]*?)'?$/,AYt=/''/g,IYt=/[a-zA-Z]/;function kYt(e,t,n){var r,i,s,o,a,u,l,c,f,d,h,p,m,g,y,v,b,w;io(2,arguments);var E=String(t),x=mC(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:I6e,C=Fl((s=(o=(a=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&o!==void 0?o:(f=x.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Fl((h=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:x.weekStartsOn)!==null&&p!==void 0?p:(b=x.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&h!==void 0?h:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=eu(e);if(!m6e(k))throw new RangeError("Invalid time value");var R=w6e(k),D=g6e(k,R),P={firstWeekContainsDate:C,weekStartsOn:I,locale:S,_originalDate:k},$=E.match(TYt).map(function(L){var M=L[0];if(M==="p"||M==="P"){var B=PW[M];return B(L,S.formatLong)}return L}).join("").match(SYt).map(function(L){if(L==="''")return"'";var M=L[0];if(M==="'")return RYt(L);var B=WGt[M];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&x6e(L)&&QL(L,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&E6e(L)&&QL(L,t,String(e)),B(D,L,S.localize,P);if(M.match(IYt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return L}).join("");return $}function RYt(e){var t=e.match(CYt);return t?t[1].replace(AYt,"'"):e}function hye(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NYt(e,t){if(e){if(typeof e=="string")return hye(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hye(e,t):void 0}}function pye(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=NYt(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function PYt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function $t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(e,t){return OW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},OW(e,t)}function kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OW(e,t)}function JL(e){return JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JL(e)}function k6e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6e=function(){return!!e})()}function OYt(e,t){if(t&&(Dg(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function Rr(e){var t=k6e();return function(){var n,r=JL(e);if(t){var i=JL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OYt(this,n)}}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DYt(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R6e(e){var t=DYt(e,"string");return Dg(t)=="symbol"?t:t+""}function $Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R6e(r.key),r)}}function br(e,t,n){return t&&$Yt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kt(e,t,n){return(t=R6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MYt=10,N6e=function(){function e(){vr(this,e),kt(this,"priority",void 0),kt(this,"subPriority",0)}return br(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),LYt=function(e){kr(n,e);var t=Rr(n);function n(r,i,s,o,a){var u;return vr(this,n),u=t.call(this),u.value=r,u.validateValue=i,u.setValue=s,u.priority=o,a&&(u.subPriority=a),u}return br(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(N6e),FYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",MYt),kt($t(r),"subPriority",-1),r}return br(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(N6e),Gr=function(){function e(){vr(this,e),kt(this,"incompatibleTokens",void 0),kt(this,"priority",void 0),kt(this,"subPriority",void 0)}return br(e,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new LYt(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),jYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",140),kt($t(r),"incompatibleTokens",["R","u","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),BYt=6e4,UYt=36e5,zYt=1e3,Ds={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function $s(e,t){return e&&{value:t(e.value),rest:e.rest}}function ss(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Vh(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*UYt+s*BYt+o*zYt),rest:t.slice(n[0].length)}}function P6e(e){return ss(Ds.anyDigitsSigned,e)}function Es(e,t){switch(e){case 1:return ss(Ds.singleDigit,t);case 2:return ss(Ds.twoDigits,t);case 3:return ss(Ds.threeDigits,t);case 4:return ss(Ds.fourDigits,t);default:return ss(new RegExp("^\\d{1,"+e+"}"),t)}}function ZL(e,t){switch(e){case 1:return ss(Ds.singleDigitSigned,t);case 2:return ss(Ds.twoDigitsSigned,t);case 3:return ss(Ds.threeDigitsSigned,t);case 4:return ss(Ds.fourDigitsSigned,t);default:return ss(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Kte(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function O6e(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var s=r+50,o=Math.floor(s/100)*100,a=e>=s%100;i=e+o-(a?100:0)}return n?i:1-i}function D6e(e){return e%400===0||e%4===0&&e%100!==0}var VYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",130),kt($t(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){var a=function(l){return{year:l,isTwoDigitYear:s==="yy"}};switch(s){case"y":return $s(Es(4,i),a);case"yo":return $s(o.ordinalNumber(i,{unit:"year"}),a);default:return $s(Es(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var u=O6e(o.year,a);return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}var l=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),HYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",130),kt($t(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){var a=function(l){return{year:l,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return $s(Es(4,i),a);case"Yo":return $s(o.ordinalNumber(i,{unit:"year"}),a);default:return $s(Es(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var u=Yte(i,a);if(o.isTwoDigitYear){var l=O6e(o.year,u);return i.setUTCFullYear(l,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),f_(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),f_(i,a)}}]),n}(Gr),qYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",130),kt($t(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s){return ZL(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),LS(a)}}]),n}(Gr),WYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",130),kt($t(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s){return ZL(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),GYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",120),kt($t(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Es(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),YYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",120),kt($t(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Es(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),KYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),kt($t(r),"priority",110),r}return br(n,[{key:"parse",value:function(i,s,o){var a=function(l){return l-1};switch(s){case"M":return $s(ss(Ds.month,i),a);case"MM":return $s(Es(2,i),a);case"Mo":return $s(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),XYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",110),kt($t(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){var a=function(l){return l-1};switch(s){case"L":return $s(ss(Ds.month,i),a);case"LL":return $s(Es(2,i),a);case"Lo":return $s(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gr);function QYt(e,t,n){io(2,arguments);var r=eu(e),i=Fl(t),s=b6e(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var JYt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",100),kt($t(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return ss(Ds.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return f_(QYt(i,o,a),a)}}]),n}(Gr);function ZYt(e,t){io(2,arguments);var n=eu(e),r=Fl(t),i=v6e(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var eKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",100),kt($t(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return ss(Ds.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return LS(ZYt(i,o))}}]),n}(Gr),tKt=[31,28,31,30,31,30,31,31,30,31,30,31],nKt=[31,29,31,30,31,30,31,31,30,31,30,31],rKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"subPriority",1),kt($t(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return ss(Ds.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=D6e(o),u=i.getUTCMonth();return a?s>=1&&s<=nKt[u]:s>=1&&s<=tKt[u]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),iKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"subpriority",1),kt($t(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return ss(Ds.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=D6e(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Gr);function Xte(e,t,n){var r,i,s,o,a,u,l,c;io(2,arguments);var f=mC(),d=Fl((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&i!==void 0?i:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=eu(e),p=Fl(t),m=h.getUTCDay(),g=p%7,y=(g+7)%7,v=(y<d?7:0)+p-m;return h.setUTCDate(h.getUTCDate()+v),h}var sKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Xte(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),oKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o,a){var u=function(c){var f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return $s(Es(s.length,i),u);case"eo":return $s(o.ordinalNumber(i,{unit:"day"}),u);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Xte(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),aKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o,a){var u=function(c){var f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return $s(Es(s.length,i),u);case"co":return $s(o.ordinalNumber(i,{unit:"day"}),u);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Xte(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Gr);function uKt(e,t){io(2,arguments);var n=Fl(t);n%7===0&&(n=n-7);var r=1,i=eu(e),s=i.getUTCDay(),o=n%7,a=(o+7)%7,u=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+u),i}var lKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",90),kt($t(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){var a=function(l){return l===0?7:l};switch(s){case"i":case"ii":return Es(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return $s(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return $s(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return $s(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return $s(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=uKt(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Gr),cKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",80),kt($t(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Kte(o),0,0,0),i}}]),n}(Gr),fKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",80),kt($t(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Kte(o),0,0,0),i}}]),n}(Gr),dKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",80),kt($t(r),"incompatibleTokens",["a","b","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Kte(o),0,0,0),i}}]),n}(Gr),hKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",70),kt($t(r),"incompatibleTokens",["H","K","k","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return ss(Ds.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Gr),pKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",70),kt($t(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return ss(Ds.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Gr),mKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",70),kt($t(r),"incompatibleTokens",["h","H","k","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return ss(Ds.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Gr),gKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",70),kt($t(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return ss(Ds.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Gr),yKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",60),kt($t(r),"incompatibleTokens",["t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return ss(Ds.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Gr),vKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",50),kt($t(r),"incompatibleTokens",["t","T"]),r}return br(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return ss(Ds.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Es(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Gr),bKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",30),kt($t(r),"incompatibleTokens",["t","T"]),r}return br(n,[{key:"parse",value:function(i,s){var o=function(u){return Math.floor(u*Math.pow(10,-s.length+3))};return $s(Es(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Gr),_Kt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",10),kt($t(r),"incompatibleTokens",["t","T","x"]),r}return br(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Vh(zh.basicOptionalMinutes,i);case"XX":return Vh(zh.basic,i);case"XXXX":return Vh(zh.basicOptionalSeconds,i);case"XXXXX":return Vh(zh.extendedOptionalSeconds,i);case"XXX":default:return Vh(zh.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Gr),wKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",10),kt($t(r),"incompatibleTokens",["t","T","X"]),r}return br(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Vh(zh.basicOptionalMinutes,i);case"xx":return Vh(zh.basic,i);case"xxxx":return Vh(zh.basicOptionalSeconds,i);case"xxxxx":return Vh(zh.extendedOptionalSeconds,i);case"xxx":default:return Vh(zh.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Gr),EKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",40),kt($t(r),"incompatibleTokens","*"),r}return br(n,[{key:"parse",value:function(i){return P6e(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Gr),xKt=function(e){kr(n,e);var t=Rr(n);function n(){var r;vr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),kt($t(r),"priority",20),kt($t(r),"incompatibleTokens","*"),r}return br(n,[{key:"parse",value:function(i){return P6e(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Gr),SKt={G:new jYt,y:new VYt,Y:new HYt,R:new qYt,u:new WYt,Q:new GYt,q:new YYt,M:new KYt,L:new XYt,w:new JYt,I:new eKt,d:new rKt,D:new iKt,E:new sKt,e:new oKt,c:new aKt,i:new lKt,a:new cKt,b:new fKt,B:new dKt,h:new hKt,H:new pKt,K:new mKt,k:new gKt,m:new yKt,s:new vKt,S:new bKt,X:new _Kt,x:new wKt,t:new EKt,T:new xKt},TKt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CKt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AKt=/^'([^]*?)'?$/,IKt=/''/g,kKt=/\S/,RKt=/[a-zA-Z]/;function NKt(e,t,n,r){var i,s,o,a,u,l,c,f,d,h,p,m,g,y,v,b,w,E;io(3,arguments);var x=String(e),S=String(t),C=mC(),I=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:C.locale)!==null&&i!==void 0?i:I6e;if(!I.match)throw new RangeError("locale must contain match property");var k=Fl((o=(a=(u=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&u!==void 0?u:C.firstWeekContainsDate)!==null&&a!==void 0?a:(d=C.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Fl((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(v=r.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(w=C.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return x===""?eu(n):new Date(NaN);var D={firstWeekContainsDate:k,weekStartsOn:R,locale:I},P=[new FYt],$=S.match(CKt).map(function(re){var ue=re[0];if(ue in PW){var pe=PW[ue];return pe(re,I.formatLong)}return re}).join("").match(TKt),L=[],M=pye($),B;try{var z=function(){var ue=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&x6e(ue)&&QL(ue,S,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&E6e(ue)&&QL(ue,S,e);var pe=ue[0],xe=SKt[pe];if(xe){var ve=xe.incompatibleTokens;if(Array.isArray(ve)){var We=L.find(function(ht){return ve.includes(ht.token)||ht.token===pe});if(We)throw new RangeError("The format string mustn't contain `".concat(We.fullToken,"` and `").concat(ue,"` at the same time"))}else if(xe.incompatibleTokens==="*"&&L.length>0)throw new RangeError("The format string mustn't contain `".concat(ue,"` and any other token at the same time"));L.push({token:pe,fullToken:ue});var Be=xe.run(x,ue,I.match,D);if(!Be)return{v:new Date(NaN)};P.push(Be.setter),x=Be.rest}else{if(pe.match(RKt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(ue==="''"?ue="'":pe==="'"&&(ue=PKt(ue)),x.indexOf(ue)===0)x=x.slice(ue.length);else return{v:new Date(NaN)}}};for(M.s();!(B=M.n()).done;){var H=z();if(Dg(H)==="object")return H.v}}catch(re){M.e(re)}finally{M.f()}if(x.length>0&&kKt.test(x))return new Date(NaN);var O=P.map(function(re){return re.priority}).sort(function(re,ue){return ue-re}).filter(function(re,ue,pe){return pe.indexOf(re)===ue}).map(function(re){return P.filter(function(ue){return ue.priority===re}).sort(function(ue,pe){return pe.subPriority-ue.subPriority})}).map(function(re){return re[0]}),U=eu(n);if(isNaN(U.getTime()))return new Date(NaN);var q=g6e(U,w6e(U)),F={},V=pye(O),G;try{for(V.s();!(G=V.n()).done;){var Z=G.value;if(!Z.validate(q,D))return new Date(NaN);var ae=Z.set(q,F,D);Array.isArray(ae)?(q=ae[0],PYt(F,ae[1])):q=ae}}catch(re){V.e(re)}finally{V.f()}return q}function PKt(e){return e.match(AKt)[1].replace(IKt,"'")}var OKt=Ote,DKt=hC,$Kt=ON,mye=a0,MKt=pC;function LKt(e,t,n,r){if(!mye(e))return e;t=DKt(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var u=MKt(t[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=o){var c=a[u];l=r?r(c,u,a):void 0,l===void 0&&(l=mye(c)?c:$Kt(t[i+1])?[]:{})}OKt(a,u,l),a=a[u]}return e}var FKt=LKt,jKt=G5,BKt=FKt,UKt=hC;function zKt(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=jKt(e,o);n(a,o)&&BKt(s,UKt(o,e),a)}return s}var $6e=zKt,VKt=U5,HKt=lw,qKt=$6e,WKt=Hte;function GKt(e,t){if(e==null)return{};var n=VKt(WKt(e),function(r){return[r]});return t=HKt(t),qKt(e,n,function(r,i){return t(r,i[0])})}var YKt=GKt;const KKt=On(YKt);var XKt=$6e,QKt=c6e;function JKt(e,t){return XKt(e,t,function(n,r){return QKt(e,r)})}var ZKt=JKt,eXt=ZKt,tXt=KLe,nXt=tXt(function(e,t){return e==null?{}:eXt(e,t)}),rXt=nXt;const M6e=On(rXt);var iXt={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},sXt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oXt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aXt={date:Nx({formats:iXt,defaultWidth:"full"}),time:Nx({formats:sXt,defaultWidth:"full"}),dateTime:Nx({formats:oXt,defaultWidth:"full"})},uXt={code:"en-GB",formatDistance:S6e,formatLong:aXt,formatRelative:T6e,localize:C6e,match:A6e,options:{weekStartsOn:1,firstWeekContainsDate:4}},o7={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM yyyy",formattedDayPattern:"dd MMM yyyy",dateLocale:uXt};const lXt={common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},Calendar:o7,DatePicker:wt({},o7),DateRangePicker:wt({},o7,{last7Days:"Last 7 Days"}),Picker:{noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},InputPicker:{newItem:"New item",createOption:'Create option "{0}"'},Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}};var gye=function(t){return t.reduce(function(n,r){return n=wt({},n,r),n},{})},cXt=function(){return typeof document<"u"&&(document.body.getAttribute("dir")||document.dir)==="rtl"};function Yp(e,t){var n,r,i=A.useContext(p6e),s=i.locale,o=s===void 0?lXt:s,a=i.rtl,u=a===void 0?cXt():a,l=i.formatDate,c=i.parseDate,f=i.toasters,d=i.disableRipple,h=wt({},o==null?void 0:o.common,typeof e=="string"?o==null?void 0:o[e]:typeof e=="object"?gye(e.map(function(g){return o==null?void 0:o[g]})):{});t&&(h=gye([h,t]));var p=A.useCallback(function(g,y,v){try{var b;return l?l(g,y,v):kYt(m6e(g)?g:new Date,y,wt({locale:o==null||(b=o.Calendar)===null||b===void 0?void 0:b.dateLocale},v))}catch{return"Error: Invalid date format"}},[l,o==null||(n=o.Calendar)===null||n===void 0?void 0:n.dateLocale]),m=A.useCallback(function(g,y,v,b){var w;return c?c(g,y,v,b):NKt(g,y,v||new Date,wt({locale:o==null||(w=o.Calendar)===null||w===void 0?void 0:w.dateLocale},b))},[c,o==null||(r=o.Calendar)===null||r===void 0?void 0:r.dateLocale]);return{locale:h,rtl:u,toasters:f,disableRipple:d,formatDate:p,parseDate:m}}var Db=[],fXt=function(){return Db.some(function(e){return e.activeTargets.length>0})},dXt=function(){return Db.some(function(e){return e.skippedTargets.length>0})},yye="ResizeObserver loop completed with undelivered notifications.",hXt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:yye}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=yye),window.dispatchEvent(e)},eR;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(eR||(eR={}));var $b=function(e){return Object.freeze(e)},pXt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,$b(this)}return e}(),L6e=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,$b(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,s=t.right,o=t.bottom,a=t.left,u=t.width,l=t.height;return{x:n,y:r,top:i,right:s,bottom:o,left:a,width:u,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Qte=function(e){return e instanceof SVGElement&&"getBBox"in e},F6e=function(e){if(Qte(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||e.getClientRects().length)},vye=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},mXt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},_I=typeof window<"u"?window:{},tD=new WeakMap,bye=/auto|scroll/,gXt=/^tb|vertical/,yXt=/msie|trident/i.test(_I.navigator&&_I.navigator.userAgent),hh=function(e){return parseFloat(e||"0")},Px=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new pXt((n?t:e)||0,(n?e:t)||0)},_ye=$b({devicePixelContentBoxSize:Px(),borderBoxSize:Px(),contentBoxSize:Px(),contentRect:new L6e(0,0,0,0)}),j6e=function(e,t){if(t===void 0&&(t=!1),tD.has(e)&&!t)return tD.get(e);if(F6e(e))return tD.set(e,_ye),_ye;var n=getComputedStyle(e),r=Qte(e)&&e.ownerSVGElement&&e.getBBox(),i=!yXt&&n.boxSizing==="border-box",s=gXt.test(n.writingMode||""),o=!r&&bye.test(n.overflowY||""),a=!r&&bye.test(n.overflowX||""),u=r?0:hh(n.paddingTop),l=r?0:hh(n.paddingRight),c=r?0:hh(n.paddingBottom),f=r?0:hh(n.paddingLeft),d=r?0:hh(n.borderTopWidth),h=r?0:hh(n.borderRightWidth),p=r?0:hh(n.borderBottomWidth),m=r?0:hh(n.borderLeftWidth),g=f+l,y=u+c,v=m+h,b=d+p,w=a?e.offsetHeight-b-e.clientHeight:0,E=o?e.offsetWidth-v-e.clientWidth:0,x=i?g+v:0,S=i?y+b:0,C=r?r.width:hh(n.width)-x-E,I=r?r.height:hh(n.height)-S-w,k=C+g+E+v,R=I+y+w+b,D=$b({devicePixelContentBoxSize:Px(Math.round(C*devicePixelRatio),Math.round(I*devicePixelRatio),s),borderBoxSize:Px(k,R,s),contentBoxSize:Px(C,I,s),contentRect:new L6e(f,u,C,I)});return tD.set(e,D),D},B6e=function(e,t,n){var r=j6e(e,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case eR.DEVICE_PIXEL_CONTENT_BOX:return o;case eR.BORDER_BOX:return i;default:return s}},vXt=function(){function e(t){var n=j6e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=$b([n.borderBoxSize]),this.contentBoxSize=$b([n.contentBoxSize]),this.devicePixelContentBoxSize=$b([n.devicePixelContentBoxSize])}return e}(),U6e=function(e){if(F6e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},bXt=function(){var e=1/0,t=[];Db.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(l){var c=new vXt(l.target),f=U6e(l.target);a.push(c),l.lastReportedSize=B6e(l.target,l.observedBox),f<e&&(e=f)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},wye=function(e){Db.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(U6e(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},_Xt=function(){var e=0;for(wye(e);fXt();)e=bXt(),wye(e);return dXt()&&hXt(),e>0},a7,z6e=[],wXt=function(){return z6e.splice(0).forEach(function(e){return e()})},EXt=function(e){if(!a7){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return wXt()}).observe(n,r),a7=function(){n.textContent="".concat(t?t--:t++)}}z6e.push(e),a7()},xXt=function(e){EXt(function(){requestAnimationFrame(e)})},B$=0,SXt=function(){return!!B$},TXt=250,CXt={attributes:!0,characterData:!0,childList:!0,subtree:!0},Eye=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],xye=function(e){return e===void 0&&(e=0),Date.now()+e},u7=!1,AXt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=TXt),!u7){u7=!0;var r=xye(t);xXt(function(){var i=!1;try{i=_Xt()}finally{if(u7=!1,t=r-xye(),!SXt())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,CXt)};document.body?n():_I.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Eye.forEach(function(n){return _I.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Eye.forEach(function(n){return _I.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),DW=new AXt,Sye=function(e){!B$&&e>0&&DW.start(),B$+=e,!B$&&DW.stop()},IXt=function(e){return!Qte(e)&&!mXt(e)&&getComputedStyle(e).display==="inline"},kXt=function(){function e(t,n){this.target=t,this.observedBox=n||eR.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=B6e(this.target,this.observedBox,!0);return IXt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),RXt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),nD=new WeakMap,Tye=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},rD=function(){function e(){}return e.connect=function(t,n){var r=new RXt(t,n);nD.set(t,r)},e.observe=function(t,n,r){var i=nD.get(t),s=i.observationTargets.length===0;Tye(i.observationTargets,n)<0&&(s&&Db.push(i),i.observationTargets.push(new kXt(n,r&&r.box)),Sye(1),DW.schedule())},e.unobserve=function(t,n){var r=nD.get(t),i=Tye(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&Db.splice(Db.indexOf(r),1),r.observationTargets.splice(i,1),Sye(-1))},e.disconnect=function(t){var n=this,r=nD.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),V6e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");rD.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vye(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");rD.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vye(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");rD.unobserve(this,t)},e.prototype.disconnect=function(){rD.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function H6e(e,t){var n=A.useRef();A.useEffect(function(){if(!n.current){var r=typeof e=="function"?e():e;r&&(n.current=new V6e(t),n.current.observe(r))}return function(){var i;(i=n.current)===null||i===void 0||i.disconnect()}},[e,t])}function kn(e){var t=A.useRef(e);return A.useEffect(function(){t.current=e}),A.useCallback(function(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(i))},[])}var NXt=MN,PXt=0;function OXt(e){var t=++PXt;return NXt(e)+t}var DXt=OXt;const $Xt=On(DXt);var Jte=function(t){var n=A.useRef(t);n.current=t,A.useEffect(function(){var r;(r=n.current)===null||r===void 0||r.call(n)},[])},MXt=de.memo(function(e){var t=e.children,n=e.container,r=A.useState(!1),i=r[0],s=r[1];return A.useEffect(function(){return s(!0)},[]),n&&i?U_.createPortal(t,n):null});function LXt(e){e===void 0&&(e={});var t=e,n=t.container,r=t.waitMount,i=r===void 0?!1:r,s=typeof n=="function"?n():n,o=A.useMemo(function(){return Qv?s||document.body:null},[s]),a=A.useCallback(function(l){var c=l.children;return o!=null?U_.createPortal(c,o):null},[o]),u=A.useCallback(function(l){return de.createElement(MXt,wt({container:o},l))},[o]);return{target:o,Portal:i?u:a}}var FXt=["top","bottom","right","left"],jXt=["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"],BXt=["auto","autoVertical","autoVerticalStart","autoVerticalEnd","autoHorizontal","autoHorizontalStart","autoHorizontalEnd"],UXt=[].concat(FXt,jXt,BXt),oa={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",ENTER:"Enter",TAB:"Tab",SPACE:" ",BACKSPACE:"Backspace",DELETE:"Delete",COMMA:",",ESC:"Escape"};function zXt(e){return(e==null?void 0:e.button)===0}function VXt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e!=null&&e.shiftKey)}function HXt(e,t){var n=t.disabled,r=t.triggerTarget,i=t.overlayTarget,s=t.listenEscape,o=s===void 0?!0:s,a=A.useCallback(function(l){o&&l.key===oa.ESC&&(e==null||e(l))},[o,e]),u=A.useCallback(function(l){var c=rg(r),f=rg(i);c&&qL(c,l.target)||f&&qL(f,l.target)||VXt(l)||!zXt(l)||e==null||e(l)},[e,r,i]);A.useEffect(function(){var l=rg(r);if(!(n||!l)){var c=MS(l),f=$S(c,"mousedown",u,!0),d=$S(c,"keyup",a);return function(){f==null||f.off(),d==null||d.off()}}},[r,n,e,u,a])}var q6e={},$W={exports:{}},W6e={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(W6e);var Bf=W6e.exports,iD={exports:{}},l7={exports:{}},Cye;function G6e(){return Cye||(Cye=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(l7)),l7.exports}var sD={exports:{}},c7={exports:{}},Aye;function qXt(){return Aye||(Aye=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(c7)),c7.exports}var f7={},Kf={},Iye;function Zte(){if(Iye)return Kf;Iye=1;var e=Bf;Kf.__esModule=!0,Kf.prefix=Kf.defaultClassPrefix=Kf.getClassNamePrefix=Kf.globalKey=void 0;var t=e(rLe),n=e($5()),r="rs-";Kf.globalKey=r;var i=function(){return r};Kf.getClassNamePrefix=i;var s=function(u){return u?""+i()+u:void 0};Kf.defaultClassPrefix=s;var o=(0,t.default)(function(a,u){return!a||!u?"":Array.isArray(u)?(0,n.default)(u.filter(function(l){return!!l}).map(function(l){return a+"-"+l})):a+"-"+u});return Kf.prefix=o,Kf}var oD={exports:{}},kye;function WXt(){return kye||(kye=1,function(e,t){var n=Bf;t.__esModule=!0,t.default=o;var r=Zte(),i=n($5()),s=A;function o(a){var u=(0,r.defaultClassPrefix)("icon"),l=(0,s.useCallback)(function(c){return(0,r.prefix)(u,c)},[]);return[(0,i.default)(u,(0,r.defaultClassPrefix)(a)),l]}e.exports=t.default}(oD,oD.exports)),oD.exports}var aD={exports:{}},Rye;function GXt(){return Rye||(Rye=1,function(e,t){t.__esModule=!0,t.default=n;function n(){return typeof document<"u"&&typeof window<"u"&&typeof document.createElement=="function"}e.exports=t.default}(aD,aD.exports)),aD.exports}var uD={exports:{}},lD={exports:{}},Nye;function Y6e(){if(Nye)return lD.exports;Nye=1;var e=[],t=[],n="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function r(s,o){if(o=o||{},s===void 0)throw new Error(n);var a=o.prepend===!0?"prepend":"append",u=o.container!==void 0?o.container:document.querySelector("head"),l=e.indexOf(u);l===-1&&(l=e.push(u)-1,t[l]={});var c;return t[l]!==void 0&&t[l][a]!==void 0?c=t[l][a]:(c=t[l][a]=i(),a==="prepend"?u.insertBefore(c,u.childNodes[0]):u.appendChild(c)),s.charCodeAt(0)===65279&&(s=s.substr(1,s.length)),c.styleSheet?c.styleSheet.cssText+=s:c.textContent+=s,c}function i(){var s=document.createElement("style");return s.setAttribute("type","text/css"),s}return lD.exports=r,lD.exports.insertCss=r,lD.exports}var Pye;function YXt(){return Pye||(Pye=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=Y6e(),r=Zte(),i=A,s=(0,r.getClassNamePrefix)(),o="."+s+`icon {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  vertical-align: middle;
}
.`+s+`icon[tabindex] {
  cursor: pointer;
}
.`+s+`icon-spin {
  -webkit-animation: icon-spin 2s infinite linear;
          animation: icon-spin 2s infinite linear;
}
.`+s+`icon-pulse {
  -webkit-animation: icon-spin 1s infinite steps(8);
          animation: icon-spin 1s infinite steps(8);
}
.`+s+`icon-flip-horizontal {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}
.`+s+`icon-flip-vertical {
  -webkit-transform: scaleY(-1);
      -ms-transform: scaleY(-1);
          transform: scaleY(-1);
}
@-webkit-keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}`,a=!1,u=function(f){f===void 0&&(f=o),(0,i.useEffect)(function(){a||((0,n.insertCss)(f,{prepend:!0}),a=!0)},[])},l=u;t.default=l,e.exports=t.default}(uD,uD.exports)),uD.exports}var Oye;function KXt(){return Oye||(Oye=1,function(e){var t=Bf;e.__esModule=!0;var n={useClassNames:!0,inBrowserEnv:!0,useInsertStyles:!0};e.useInsertStyles=e.inBrowserEnv=e.useClassNames=void 0;var r=Zte();Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(n,a)||a in e&&e[a]===r[a]||(e[a]=r[a])});var i=t(WXt());e.useClassNames=i.default;var s=t(GXt());e.inBrowserEnv=s.default;var o=t(YXt());e.useInsertStyles=o.default}(f7)),f7}var Dye;function XXt(){return Dye||(Dye=1,function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(G6e()),i=n(qXt()),s=n(A),o=n($5()),a=n($Ae),u=KXt(),l={as:"svg",fill:"currentColor",width:"1em",height:"1em"};function c(h){var p={};return Object.entries(h).forEach(function(m){var g=m[0],y=m[1];typeof y<"u"&&(p[g]=y)}),p}var f=s.default.forwardRef(function(h,p){var m,g=h.as,y=h.spin,v=h.pulse,b=h.flip,w=h.fill,E=h.className,x=h.rotate,S=h.children,C=h.viewBox,I=h.width,k=h.height,R=h.style,D=(0,i.default)(h,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),P=(0,u.useClassNames)(),$=P[0],L=P[1],M=(0,o.default)(E,$,(m={},m[L("spin")]=y,m[L("pulse")]=v,m[L("flip-"+b)]=!!b,m)),B={msTransform:"rotate("+x+"deg)",transform:"rotate("+x+"deg)"};(0,u.useInsertStyles)();var z=c({width:I,height:k,fill:w,viewBox:C,className:M,style:x?(0,r.default)({},B,R):R});return s.default.createElement(g,(0,r.default)({"aria-hidden":!0,focusable:!1,ref:p},z,D),S)});f.displayName="Icon",f.defaultProps=l,f.propTypes={spin:a.default.bool,pulse:a.default.bool,rotate:a.default.number,viewBox:a.default.string,as:a.default.oneOfType([a.default.elementType,a.default.string]),flip:a.default.oneOf(["horizontal","vertical"]),fill:a.default.string};var d=f;t.default=d,e.exports=t.default}(sD,sD.exports)),sD.exports}var $ye;function cw(){return $ye||($ye=1,function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(G6e()),i=n(A),s=n(XXt());function o(u){var l=u.as,c=u.ariaLabel,f=u.displayName,d=u.category,h=i.default.forwardRef(function(p,m){return i.default.createElement(s.default,(0,r.default)({"aria-label":c,"data-category":d,ref:m,as:l},p))});return h.displayName=f,h}var a=o;t.default=a,e.exports=t.default}(iD,iD.exports)),iD.exports}var d7={},Mye;function QXt(){return Mye||(Mye=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 21 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M19.196 13.143a.612.612 0 01-.179.411l-8.321 8.321c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-8.321-8.321c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l.893-.893a.582.582 0 01.411-.179c.143 0 .304.071.411.179l7.018 7.018 7.018-7.018c.107-.107.268-.179.411-.179s.304.071.411.179l.893.893a.617.617 0 01.179.411z"}))}var a=n.forwardRef(o),u=a;e.default=u}(d7)),d7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(QXt()),s=(0,r.default)({as:i.default,ariaLabel:"angle down",category:"legacy",displayName:"AngleDown"}),o=s;t.default=o,e.exports=t.default})($W,$W.exports);var JXt=$W.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(JXt);function n(r){return r&&r.__esModule?r:{default:r}}})(q6e);const ZXt=On(q6e);var K6e={},MW={exports:{}},h7={},Lye;function eQt(){return Lye||(Lye=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 21 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M19.196 21.143a.612.612 0 01-.179.411l-.893.893a.582.582 0 01-.411.179.612.612 0 01-.411-.179l-7.018-7.018-7.018 7.018c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-.893-.893c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l8.321-8.321c.107-.107.268-.179.411-.179s.304.071.411.179l8.321 8.321a.617.617 0 01.179.411z"}))}var a=n.forwardRef(o),u=a;e.default=u}(h7)),h7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(eQt()),s=(0,r.default)({as:i.default,ariaLabel:"angle up",category:"legacy",displayName:"AngleUp"}),o=s;t.default=o,e.exports=t.default})(MW,MW.exports);var tQt=MW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(tQt);function n(r){return r&&r.__esModule?r:{default:r}}})(K6e);const nQt=On(K6e);var X6e={},LW={exports:{}},p7={},Fye;function rQt(){return Fye||(Fye=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 12 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M11.196 9.714a.612.612 0 01-.179.411l-7.018 7.018 7.018 7.018c.107.107.179.268.179.411s-.071.304-.179.411l-.893.893c-.107.107-.268.179-.411.179s-.304-.071-.411-.179L.981 17.555c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l8.321-8.321c.107-.107.268-.179.411-.179s.304.071.411.179l.893.893c.107.107.179.25.179.411z"}))}var a=n.forwardRef(o),u=a;e.default=u}(p7)),p7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(rQt()),s=(0,r.default)({as:i.default,ariaLabel:"angle left",category:"legacy",displayName:"AngleLeft"}),o=s;t.default=o,e.exports=t.default})(LW,LW.exports);var iQt=LW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(iQt);function n(r){return r&&r.__esModule?r:{default:r}}})(X6e);const jye=On(X6e);var Q6e={},FW={exports:{}},m7={},Bye;function sQt(){return Bye||(Bye=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 11 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M10.625 17.143a.612.612 0 01-.179.411l-8.321 8.321c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-.893-.893a.582.582 0 01-.179-.411c0-.143.071-.304.179-.411l7.018-7.018L.41 10.124c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l.893-.893c.107-.107.268-.179.411-.179s.304.071.411.179l8.321 8.321a.617.617 0 01.179.411z"}))}var a=n.forwardRef(o),u=a;e.default=u}(m7)),m7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(sQt()),s=(0,r.default)({as:i.default,ariaLabel:"angle right",category:"legacy",displayName:"AngleRight"}),o=s;t.default=o,e.exports=t.default})(FW,FW.exports);var oQt=FW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(oQt);function n(r){return r&&r.__esModule?r:{default:r}}})(Q6e);const Uye=On(Q6e);function aQt(e){var t=Yp("Dropdown"),n=t.rtl;return A.useMemo(function(){switch(!0){case/^top/.test(e):return nQt;case/^right/.test(e):return n?jye:Uye;case/^left/.test(e):return n?Uye:jye;case/^bottom/.test(e):default:return ZXt}},[e,n])}var zye=YI.useId;function ene(e,t){var n=A.useRef();return zye!==void 0?t??""+e+zye():(n.current||(n.current=$Xt(e)),t??n.current)}var uQt=function(t,n){var r=A.useRef(!0);A.useEffect(function(){if(r.current){r.current=!1;return}t()},n)},_l=function(t){var n=be.oneOf(t);return n._argType_={type:"oneOf",value:t},n},lQt=be.oneOfType([be.func,be.any]);function cQt(e,t){var n=t.query,r=t.renderMark;if(!n||!e)return e;for(var i=Array.isArray(n)?n:[n],s=new RegExp(i.map(function(c){return qHt(c)}).join("|"),"ig"),o=[],a=e.split(s),u=e.match(s),l=0;l<a.length;l++)a[l]&&o.push(a[l]),u!=null&&u[l]&&o.push(r(u[l],l));return o}var fQt=["as","classPrefix","className","children","query","renderMark"];function dQt(e,t){return de.createElement("mark",{key:t,className:"rs-highlight-mark"},e)}var tne=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"highlight":i,o=e.className,a=e.children,u=e.query,l=e.renderMark,c=l===void 0?dQt:l,f=ar(e,fQt),d=vi(s),h=d.withClassPrefix,p=d.merge,m=p(o,h()),g=HHt(a);return de.createElement(r,wt({ref:t,className:m},f),cQt(g,{query:u,renderMark:c}))});tne.displayName="Highlight";tne.propTypes={className:be.string,classPrefix:be.string,as:be.elementType};var hQt=["as","href","disabled","onClick"];function Vye(e){return!e||e.trim()==="#"}var nne=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"a":n,i=e.href,s=e.disabled,o=e.onClick,a=ar(e,hQt),u=A.useCallback(function(c){if((s||Vye(i))&&c.preventDefault(),s){c.stopPropagation();return}o==null||o(c)},[s,i,o]),l=Vye(i)?{role:"button",href:"#"}:null;return s&&(a.tabIndex=-1,a["aria-disabled"]=!0),de.createElement(r,wt({ref:t,href:i},l,a,{onClick:u}))});nne.displayName="SafeAnchor";nne.propTypes={href:be.string,disabled:be.bool,as:be.elementType};function Ms(e,t){return t||(t=e.slice(0)),e.raw=t,e}var pQt=["as","className","classPrefix","onMouseDown"],mQt=["className"],gQt=function(t,n){var r=ng(t),i=(n.pageX||0)-r.left,s=(n.pageY||0)-r.top,o=Math.max(r.width-i,i),a=Math.max(r.height-s,s),u=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return{width:u*2,height:u*2,left:i-u,top:s-u}},rne=de.forwardRef(function(e,t){var n=Yp(),r=n.disableRipple,i=e.as,s=i===void 0?"span":i,o=e.className,a=e.classPrefix,u=a===void 0?"ripple":a,l=e.onMouseDown,c=ar(e,pQt),f=vi(u),d=f.merge,h=f.prefix,p=f.withClassPrefix,m=d(o,h("pond")),g=A.useRef(null),y=A.useState(!1),v=y[0],b=y[1],w=A.useState(),E=w[0],x=w[1],S=function(){b(!1)},C=A.useCallback(function(I){if(g.current){var k=gQt(g.current,I);b(!0),x(k),l==null||l(k,I)}},[l]);return A.useEffect(function(){var I,k=(I=g.current)===null||I===void 0?void 0:I.parentNode;if(k){var R=$S(k,"mousedown",C);return function(){R==null||R.off()}}},[C]),r?null:de.createElement(s,wt({},c,{className:m,ref:gc(g,t)}),de.createElement(jN,{in:v,enteringClassName:h("rippling"),onEntered:S},function(I,k){var R=I.className,D=ar(I,mQt);return de.createElement("span",wt({},D,{ref:k,className:d(p(),R),style:E}))}))});rne.displayName="Ripple";rne.propTypes={classPrefix:be.string,className:be.string,onMouseDown:be.func};var yQt=de.createContext(null),Hye,qye,Wye,vQt=["as","active","appearance","block","className","children","classPrefix","color","disabled","loading","ripple","size","startIcon","endIcon","type"],X5=de.forwardRef(function(e,t){var n=e.as,r=e.active,i=e.appearance,s=i===void 0?"default":i,o=e.block,a=e.className,u=e.children,l=e.classPrefix,c=l===void 0?"btn":l,f=e.color,d=e.disabled,h=e.loading,p=e.ripple,m=p===void 0?!0:p,g=e.size,y=e.startIcon,v=e.endIcon,b=e.type,w=ar(e,vQt),E=A.useContext(yQt),x=g??(E==null?void 0:E.size),S=vi(c),C=S.withClassPrefix,I=S.prefix,k=S.merge,R=k(a,C(s,f,x,{active:r,disabled:d,loading:h,block:o})),D=A.useCallback(function(){var M=de.createElement("span",{className:I(Hye||(Hye=Ms(["spin"])))}),B=m&&!Qc(s,["link","ghost"])?de.createElement(rne,null):null;return de.createElement(de.Fragment,null,h&&M,y?de.createElement("span",{className:I(qye||(qye=Ms(["start-icon"])))},y):null,u,v?de.createElement("span",{className:I(Wye||(Wye=Ms(["end-icon"])))},v):null,B)},[s,u,v,h,I,m,y]);if(w.href)return de.createElement(nne,wt({},w,{as:n,ref:t,"aria-disabled":d,disabled:d,className:R}),D());var P=n||"button",$=b||(P==="button"?"button":void 0),L=w.role||(P!=="button"?"button":void 0);return de.createElement(P,wt({},w,{role:L,type:$,ref:t,disabled:d,"aria-disabled":d,className:R}),D())});X5.displayName="Button";X5.propTypes={as:be.elementType,active:be.bool,appearance:_l(["default","primary","link","subtle","ghost"]),block:be.bool,children:be.node,color:_l(["red","orange","yellow","green","cyan","blue","violet"]),disabled:be.bool,href:be.string,loading:be.bool,ripple:be.bool,size:_l(["lg","md","sm","xs"]),type:_l(["button","reset","submit"])};var bQt=["as","style","className","alignSelf","flex","grow","shrink","order","basis"];function BN(e){var t=e.as,n=t===void 0?"div":t,r=e.style,i=e.className,s=e.alignSelf,o=e.flex,a=e.grow,u=e.shrink,l=e.order,c=e.basis,f=ar(e,bQt);return de.createElement(n,wt({className:i,style:wt({alignSelf:s,order:l},o?{flex:o}:{flexGrow:a,flexShrink:u,flexBasis:c},r)},f))}BN.displayName="StackItem";BN.propTypes={className:be.string,children:be.node,alignSelf:_l(["flex-start","flex-end","center","baseline","stretch"]),flex:be.oneOfType([be.string,be.number]),grow:be.number,shrink:be.number,order:be.number,basis:be.string};var _Qt=["as","alignItems","classPrefix","childrenRenderMode","className","children","direction","justifyContent","spacing","divider","style","wrap"];function wQt(e){var t;return e.type===BN||((t=e.type)===null||t===void 0?void 0:t.displayName)==="StackItem"}var iy=de.forwardRef(function(e,t){var n,r=e.as,i=r===void 0?"div":r,s=e.alignItems,o=s===void 0?"center":s,a=e.classPrefix,u=a===void 0?"stack":a,l=e.childrenRenderMode,c=l===void 0?"wrap":l,f=e.className,d=e.children,h=e.direction,p=e.justifyContent,m=e.spacing,g=e.divider,y=e.style,v=e.wrap,b=ar(e,_Qt),w=Yp("Stack"),E=w.rtl,x=vi(u),S=x.withClassPrefix,C=x.merge,I=x.prefix,k=C(f,S()),R=GVt(),D=Array.isArray(m)?m:[m,m],P=(n={},n[E?"marginLeft":"marginRight"]=D[0],n.marginBottom=D[1],n),$=wt({alignItems:o,justifyContent:p,flexDirection:h,flexWrap:v?"wrap":void 0,gap:R?m:void 0},y),L=de.Children.toArray(d),M=Y0e.count(L);return de.createElement(i,wt({},b,{ref:t,className:k,style:$}),Y0e.map(L,function(B,z){var H=c==="wrap"&&!wQt(B)?de.createElement(BN,{key:z,className:I("item"),style:R?void 0:P},B):de.cloneElement(B,{className:C(I("item"),B.props.className),style:R?B.props.style:wt({},P,B.props.style)});return[H,z<M-1?g:null]}))});iy.Item=BN;iy.displayName="Stack";iy.propTypes={className:be.string,children:be.node,classPrefix:be.string,direction:_l(["row","row-reverse","column","column-reverse"]),alignItems:_l(["flex-start","center","flex-end","stretch","baseline"]),justifyContent:_l(["flex-start","center","flex-end","space-between","space-around"]),spacing:be.oneOfType([be.number,be.string,be.array]),divider:be.node,wrap:be.bool};function EQt(e){return e===void 0}var xQt=EQt;const qm=On(xQt);function SQt(e){return e==null}var TQt=SQt;const Jc=On(TQt);var CQt=DN;function AQt(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(o!=null&&(a===void 0?o===o&&!CQt(o):n(o,a)))var a=o,u=s}return u}var J6e=AQt;function IQt(e,t){return e>t}var kQt=IQt,RQt=J6e,NQt=kQt,PQt=lw;function OQt(e,t){return e&&e.length?RQt(e,PQt(t),NQt):void 0}var DQt=OQt;const g7=On(DQt);function $Qt(e,t){return e<t}var MQt=$Qt,LQt=J6e,FQt=lw,jQt=MQt;function BQt(e,t){return e&&e.length?LQt(e,FQt(t),jQt):void 0}var UQt=BQt;const Gye=On(UQt);var zQt={left:"Start",right:"End",top:"Start",bottom:"End"};function Qw(e){var t,n,r,i;if(e.tagName==="BODY")t=window.innerWidth,n=window.innerHeight,i=Ny(MS(e).documentElement)||Ny(e),r=bI(MS(e).documentElement)||bI(e);else{var s=ng(e);t=s.width,n=s.height,i=Ny(e),r=bI(e)}return{width:t,height:n,scrollX:r,scrollY:i}}const VQt=function(e){var t=e.placement,n=e.preventOverflow,r=e.padding;function i(u,l,c){if(!n)return 0;var f=Qw(c),d=f.height,h=f.scrollY,p=u-r-h,m=u+r+l-h;return p<0?-p:m>d?d-m:0}function s(u,l,c){if(!n)return 0;var f=Qw(c),d=f.scrollX,h=f.width,p=u-r-d,m=u+r+l-d;return p<0?-p:m>h?h-m:0}function o(u,l,c){if(!n)return c;var f=Qw(u),d=f.scrollY,h=f.height;return l+c>h+d?h-l+d:Math.max(d,c)}function a(u,l,c){if(!n)return c;var f=Qw(u),d=f.scrollX,h=f.width;return l+c>h+d?h-l+d:Math.max(d,c)}return{getPosition:function(l,c){var f=c.tagName==="BODY"?ng(l):uLe(l,c,!1);return f},getCursorOffsetPosition:function(l,c,f){var d=f.left,h=f.top,p=f.clientLeft,m=f.clientTop,g={left:d,top:h,width:10,height:10};if(Uh(l,"position")==="fixed")return g.left=p,g.top=m,g;if(c.tagName==="BODY")return g;var y={top:0,left:0};if(Ate(c)!=="html"){var v=ng(c);v&&(y.top=v.top,y.left=v.left)}return y.top+=parseInt(Uh(c,"borderTopWidth"),10)-Ny(c)||0,y.left+=parseInt(Uh(c,"borderLeftWidth"),10)-bI(c)||0,g.left=d-y.left,g.top=h-y.top,g},calcAutoPlacement:function(l,c,f){var d=Qw(c),h=d.width,p=d.height,m=d.scrollX,g=d.scrollY,y=l.left-m-f.width,v=l.top-g-f.height,b=h-l.left-l.width+m-f.width,w=p-l.top-l.height+g-f.height,E=[{key:"left",value:y},{key:"right",value:b}],x=[{key:"top",value:v},{key:"bottom",value:w}],S="autoVertical",C="autoHorizontal",I,k;return t.indexOf(S)!==-1?(I=g7(x,function(R){return R.value}),t===S?I.key:""+I.key+t.replace(S,"")):t.indexOf(C)!==-1?(I=g7(E,function(R){return R.value}),t===C?I.key:""+I.key+t.replace(C,"")):(I=g7([].concat(x,E),function(R){return R.value}),I.key==="left"||I.key==="right"?k=Gye(x,function(R){return R.value}):k=Gye(E,function(R){return R.value}),""+I.key+zQt[k.key])},calcOverlayPosition:function(l,c,f,d){var h=d?this.getCursorOffsetPosition(c,f,d):this.getPosition(c,f),p=ng(l),m=p.height,g=p.width,y=h.top,v=h.left,b=t;t&&t.indexOf("auto")>=0&&(b=this.calcAutoPlacement(h,f,{height:m,width:g}));var w,E,x,S;if(b==="left"||b==="right"){E=h.top+(h.height-m)/2;var C=i(E,m,f);E+=C,S=50*(1-2*C/m)+"%",x=void 0}else if(b==="top"||b==="bottom"){w=v+(h.width-g)/2;var I=s(w,g,f);w+=I,x=50*(1-2*I/g)+"%",S=void 0}if((b==="top"||b==="topStart"||b==="topEnd")&&(E=o(f,m,h.top-m)),(b==="bottom"||b==="bottomStart"||b==="bottomEnd")&&(E=o(f,m,h.top+h.height)),(b==="left"||b==="leftStart"||b==="leftEnd")&&(w=a(f,g,h.left-g)),(b==="right"||b==="rightStart"||b==="rightEnd")&&(w=a(f,g,h.left+h.width)),document.dir==="rtl"&&(b==="left"||b==="leftStart"||b==="leftEnd"||b==="right"||b==="rightStart"||b==="rightEnd")){var k=Qw(f),R=k.width;f.scrollWidth>R&&(w=R+w-f.scrollWidth)}if(b==="topStart"||b==="bottomStart")if(document.dir==="rtl"){var D=v+(h.width-g);w=D+s(D,g,f)}else w=v+s(v,g,f);if(b==="topEnd"||b==="bottomEnd")if(document.dir==="rtl")w=v+s(v,g,f);else{var P=v+(h.width-g);w=P+s(P,g,f)}if((b==="leftStart"||b==="rightStart")&&(E=y+i(y,m,f)),b==="leftEnd"||b==="rightEnd"){var $=y+(h.height-m);E=$+i($,m,f)}return{positionLeft:w,positionTop:E,arrowOffsetLeft:x,arrowOffsetTop:S,positionClassName:"placement-"+kLe(b)}}}};var HQt=function(t,n){var r=t.placement,i=r===void 0?"right":r,s=t.preventOverflow,o=s===void 0?!1:s,a=t.containerPadding,u=a===void 0?0:a,l=t.container,c=t.triggerTarget,f=t.followCursor,d=t.cursorPosition,h=A.useRef(null),p=A.useRef(null),m=A.useRef(),g={positionLeft:0,positionTop:0,arrowOffsetLeft:void 0,arrowOffsetTop:void 0},y=A.useState(g),v=y[0],b=y[1],w=A.useMemo(function(){return VQt({placement:i,preventOverflow:o,padding:u})},[i,o,u]),E=A.useCallback(function(x,S){if(x===void 0&&(x=!0),!!(c!=null&&c.current)){var C=rg(c);if(!Q4t(C))throw new Error("`target` should return an HTMLElement");if(!(C===p.current&&!x)){var I=rg(n.current),k=F4t(typeof l=="function"?l():l??null,MS(n.current).body),R=w.calcOverlayPosition(I,C,k,f?d:void 0);if(S&&I){var D,P,$=I==null||(D=I.className)===null||D===void 0||(P=D.match(/(placement-\S+)/))===null||P===void 0?void 0:P[0];L4t(I,$),R.positionClassName&&M4t(I,R.positionClassName),fLe(I,{left:R.positionLeft+"px",top:R.positionTop+"px"})}else b(R);h.current=k,p.current=C}}},[l,n,c,w,f,d]);return A.useEffect(function(){E(!1);var x=rg(n.current),S;if(h.current&&o){var C;S=$S(((C=h.current)===null||C===void 0?void 0:C.tagName)==="BODY"?window:h.current,"scroll",function(){return E(!0,!0)})}var I=$S(window,"resize",function(){return E(!0,!0)});return x&&(m.current=new V6e(function(){return E(!0,!0)}),m.current.observe(x)),function(){var k,R;p.current=null,(k=S)===null||k===void 0||k.off(),I==null||I.off(),(R=m.current)===null||R===void 0||R.disconnect()}},[o,n,E]),uQt(function(){return E()},[E,i]),[v,E]},ine=de.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.followCursor,s=e.cursorPosition,o=de.useRef(null),a=HQt(e,o),u=a[0],l=a[1],c=u.positionClassName,f=u.arrowOffsetLeft,d=u.arrowOffsetTop,h=u.positionLeft,p=u.positionTop;if(A.useImperativeHandle(t,function(){return{get child(){return o.current},updatePosition:l}}),A.useEffect(function(){!i||!s||l()},[i,s,l]),typeof n=="function"){var m={className:gf(r,c),arrowOffsetLeft:f,arrowOffsetTop:d,left:h,top:p};return n(m,o)}return n});ine.displayName="Position";ine.propTypes={className:be.string,children:be.func.isRequired,container:be.oneOfType([be.func,be.any]),containerPadding:be.number,placement:be.any,preventOverflow:be.bool,triggerTarget:be.any};var qQt=["timeout","className"],Z6e=de.forwardRef(function(e,t){var n=e.timeout,r=n===void 0?300:n,i=e.className,s=ar(e,qQt),o=vi("anim"),a=o.prefix,u=o.merge;return de.createElement(jN,wt({},s,{ref:t,timeout:r,className:u(i,a("fade")),enteredClassName:a("in"),enteringClassName:a("in")}))});Z6e.displayName="Fade";var sne=de.createContext({});sne.displayName="OverlayContext";var WQt={container:be.any,children:be.any,childrenProps:be.object,className:be.string,containerPadding:be.number,placement:be.any,preventOverflow:be.bool,open:be.bool,rootClose:be.bool,transition:be.any,triggerTarget:be.any,onClose:be.func,onEnter:be.func,onEntering:be.func,onEntered:be.func,onExit:be.func,onExiting:be.func,onExited:be.func},one=de.forwardRef(function(e,t){var n=A.useContext(sne),r=n.overlayContainer,i=e.container,s=i===void 0?r:i,o=e.containerPadding,a=e.placement,u=e.rootClose,l=e.children,c=e.childrenProps,f=e.transition,d=f===void 0?Z6e:f,h=e.open,p=e.preventOverflow,m=e.triggerTarget,g=e.onClose,y=e.onExited,v=e.onExit,b=e.onExiting,w=e.onEnter,E=e.onEntering,x=e.onEntered,S=e.followCursor,C=e.cursorPosition,I=A.useState(!h),k=I[0],R=I[1],D=A.useRef(null);h?k&&R(!1):!d&&!k&&R(!0);var P=h||d&&!k,$=A.useCallback(function(B){R(!0),y==null||y(B)},[y]);if(HXt(g,{triggerTarget:m,overlayTarget:D,disabled:!u||!P}),!P)return null;var L={container:s,containerPadding:o,triggerTarget:m,placement:a,preventOverflow:p,followCursor:S,cursorPosition:C},M=function(z,H){return de.createElement(ine,wt({},L,z,{ref:gc(t,H)}),function(O,U){if(typeof l=="function")return l(Object.assign(O,c),gc(U,D));var q=O.left,F=O.top,V=O.className;return de.cloneElement(l,wt({},c,l.props,{className:gf(V,l.props.className),style:wt({left:q,top:F},l.props.style),ref:gc(U,D)}))})};return d?de.createElement(d,{in:h,transitionAppear:!0,onExit:v,onExiting:b,onExited:$,onEnter:w,onEntering:E,onEntered:x},M):M()});one.displayName="Overlay";one.propTypes=WQt;var GQt=["children","container","controlId","defaultOpen","trigger","disabled","followCursor","readOnly","plaintext","open","delay","delayOpen","delayClose","enterable","placement","speaker","rootClose","onClick","onMouseOver","onMouseMove","onMouseOut","onContextMenu","onFocus","onBlur","onOpen","onClose","onExited"];function YQt(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};return Object.keys(e).forEach(function(r){if(e[r]){var i;n[r]=pu(e[r],(i=t)===null||i===void 0?void 0:i[r])}}),n}var y7=function(e){return e[e.ClickOutside=0]="ClickOutside",e[e.ImperativeHandle=1]="ImperativeHandle",e}({});function Yye(e,t,n){var r=t.currentTarget,i=t.relatedTarget||l6e(t,["nativeEvent","toElement"]);(!i||i!==r)&&!qL(r,i)&&e(t,n)}var KQt=["hover","focus"],e4e=de.forwardRef(function(e,t){var n=A.useContext(sne),r=n.overlayContainer,i=e.children,s=e.container,o=s===void 0?r:s,a=e.controlId,u=e.defaultOpen,l=e.trigger,c=l===void 0?KQt:l,f=e.disabled,d=e.followCursor,h=e.readOnly,p=e.plaintext,m=e.open,g=e.delay,y=e.delayOpen,v=e.delayClose,b=e.enterable,w=e.placement,E=w===void 0?"bottomStart":w,x=e.speaker,S=e.rootClose,C=S===void 0?!0:S,I=e.onClick,k=e.onMouseOver,R=e.onMouseMove,D=e.onMouseOut,P=e.onContextMenu,$=e.onFocus,L=e.onBlur,M=e.onOpen,B=e.onClose,z=e.onExited,H=ar(e,GQt),O=LXt({container:o}),U=O.Portal,q=O.target,F=A.useRef(null),V=A.useRef(),G=XL(m,u),Z=G[0],ae=G[1],re=A.useState(null),ue=re[0],pe=re[1],xe=A.useRef(null),ve=A.useRef(null),We=Jc(y)?g:y,Be=Jc(v)?g:v,ht=A.useRef(!1),Je=A.useRef(!1);A.useEffect(function(){return function(){Jc(xe.current)||clearTimeout(xe.current),Jc(ve.current)||clearTimeout(ve.current)}},[]);var we=A.useRef(!1),Ae=A.useCallback(function(mt,Lt){mt!==Z&&(mt?M==null||M():B==null||B(Lt),ae(mt))},[Z,M,B,ae]),ze=A.useCallback(function(mt){var Lt=qm(mt)?We:mt;if(Lt&&typeof Lt=="number")return xe.current=setTimeout(function(){xe.current=null,we.current&&Ae(!0)},Lt);Ae(!0)},[We,Ae]),et=A.useCallback(function(mt,Lt){var vt=qm(mt)?Be:mt;if(vt&&typeof vt=="number")return ve.current=setTimeout(function(){ve.current=null,Ae(!1,Lt)},vt);Ae(!1,Lt)},[Be,Ae]),Ot=A.useCallback(function(){pe(null)},[]);A.useImperativeHandle(t,function(){return{get root(){return F.current},get overlay(){var mt;return(mt=V.current)===null||mt===void 0?void 0:mt.child},getState:function(){return{open:Z}},open:ze,close:function(Lt){return et(Lt,y7.ImperativeHandle)},updatePosition:function(){var Lt,vt;(Lt=V.current)===null||Lt===void 0||(vt=Lt.updatePosition)===null||vt===void 0||vt.call(Lt)}}});var Oe=A.useCallback(function(){!ht.current&&!Je.current&&et(void 0,y7.ClickOutside)},[et]),fe=A.useCallback(function(){if(we.current=!0,!b)return ze();if(Je.current=!0,!Jc(ve.current))return clearTimeout(ve.current),ve.current=null,ze();Z||ze()},[b,Z,ze]),Xe=A.useCallback(function(){Z?Oe():fe()},[Z,Oe,fe]),nt=A.useCallback(function(){if(we.current=!1,!b)return et();if(Je.current=!1,!Jc(xe.current)){clearTimeout(xe.current),xe.current=null;return}!Z||!Jc(ve.current)||(ve.current=setTimeout(function(){Jc(ve.current)||(clearTimeout(ve.current),ve.current=null),Oe()},200))},[b,Z,et,Oe]),ge=A.useCallback(function(){ht.current=!0},[]),ke=A.useCallback(function(){ht.current=!1,!Qc("click",c)&&!Qc("contextMenu",c)&&!Qc("active",c)&&Oe()},[Oe,c]),Ve=A.useCallback(function(mt){pe(function(){return{top:mt.pageY,left:mt.pageX,clientTop:mt.clientX,clientLeft:mt.clientY}})},[]),Ye=A.useCallback(function(mt){mt.preventDefault()},[]),pt=A.useMemo(function(){var mt={onClick:I,onContextMenu:P,onMouseOver:k,onMouseOut:D,onFocus:$,onBlur:L,onMouseMove:R};if(f||h||p||c==="none")return mt;if(d&&(mt.onMouseMove=pu(Ve,R)),Qc("click",c))return mt.onClick=pu(Xe,mt.onClick),mt;if(Qc("active",c))return mt.onClick=pu(fe,mt.onClick),mt;if(Qc("hover",c)){var Lt=function(Sn){return Yye(fe,Sn)},vt=function(Sn){return Yye(nt,Sn)};mt.onMouseOver=pu(Lt,mt.onMouseOver),mt.onMouseOut=pu(vt,mt.onMouseOut)}return Qc("focus",c)&&(mt.onFocus=pu(fe,mt.onFocus),mt.onBlur=pu(nt,mt.onBlur)),Qc("contextMenu",c)&&(mt.onContextMenu=pu(Ye,Xe,mt.onContextMenu)),mt},[f,d,nt,fe,Xe,Ve,L,I,P,$,R,D,k,p,Ye,h,c]),xn=function(){var Lt=wt({},H,{rootClose:C,triggerTarget:F,onClose:c!=="none"?function(){return et(void 0,y7.ClickOutside)}:void 0,onExited:pu(d?Ot:void 0,z),placement:E,container:q,open:Z}),vt={id:a};return c!=="none"&&b&&(vt.onMouseEnter=ge,vt.onMouseLeave=ke),de.createElement(one,wt({},Lt,{ref:V,childrenProps:vt,followCursor:d,cursorPosition:ue}),typeof x=="function"?function(rn,Sn){return x(wt({},rn,{onClose:et}),Sn)}:x)},nr=A.useMemo(function(){return typeof i=="function"?i(pt,F):e6e(i)||!A.isValidElement(i)?de.createElement("span",wt({ref:F,"aria-describedby":a},pt),i):A.cloneElement(i,wt({ref:F,"aria-describedby":a},YQt(pt,i.props)))},[i,a,pt]);return de.createElement(de.Fragment,null,nr,de.createElement(U,null,xn()))});e4e.displayName="OverlayTrigger";var t4e={},jW={exports:{}},v7={},Kye;function XQt(){return Kye||(Kye=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M2.784 2.089l.069.058 5.146 5.147 5.146-5.147a.5.5 0 01.765.638l-.058.069L8.705 8l5.147 5.146a.5.5 0 01-.638.765l-.069-.058-5.146-5.147-5.146 5.147a.5.5 0 01-.765-.638l.058-.069L7.293 8 2.146 2.854a.5.5 0 01.638-.765z"}))}var a=n.forwardRef(o),u=a;e.default=u}(v7)),v7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(XQt()),s=(0,r.default)({as:i.default,ariaLabel:"close",category:"application",displayName:"Close"}),o=s;t.default=o,e.exports=t.default})(jW,jW.exports);var QQt=jW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(QQt);function n(r){return r&&r.__esModule?r:{default:r}}})(t4e);const JQt=On(t4e);var ZQt=["as","classPrefix","className","locale"],ane=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"button":n,i=e.classPrefix,s=i===void 0?"btn-close":i,o=e.className,a=e.locale,u=ar(e,ZQt),l=vi(s),c=l.withClassPrefix,f=l.merge,d=Yp("CloseButton",a),h=d.locale,p=f(o,c());return de.createElement(r,wt({type:"button",ref:t,className:p,"aria-label":h==null?void 0:h.closeLabel},u),de.createElement(JQt,null))});ane.displayName="CloseButton";var eJt=WLe,tJt=ON,nJt=Array.prototype,rJt=nJt.splice;function iJt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;tJt(i)?rJt.call(e,i,1):eJt(e,i)}}return e}var sJt=iJt,oJt=lw,aJt=sJt;function uJt(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],s=e.length;for(t=oJt(t);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return aJt(e,i),n}var lJt=uJt;const b7=On(lJt);var cJt=qLe;function fJt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:cJt(e,t,n)}var dJt=fJt,hJt="\\ud800-\\udfff",pJt="\\u0300-\\u036f",mJt="\\ufe20-\\ufe2f",gJt="\\u20d0-\\u20ff",yJt=pJt+mJt+gJt,vJt="\\ufe0e\\ufe0f",bJt="\\u200d",_Jt=RegExp("["+bJt+hJt+yJt+vJt+"]");function wJt(e){return _Jt.test(e)}var EJt=wJt;function xJt(e){return e.split("")}var SJt=xJt,n4e="\\ud800-\\udfff",TJt="\\u0300-\\u036f",CJt="\\ufe20-\\ufe2f",AJt="\\u20d0-\\u20ff",IJt=TJt+CJt+AJt,kJt="\\ufe0e\\ufe0f",RJt="["+n4e+"]",BW="["+IJt+"]",UW="\\ud83c[\\udffb-\\udfff]",NJt="(?:"+BW+"|"+UW+")",r4e="[^"+n4e+"]",i4e="(?:\\ud83c[\\udde6-\\uddff]){2}",s4e="[\\ud800-\\udbff][\\udc00-\\udfff]",PJt="\\u200d",o4e=NJt+"?",a4e="["+kJt+"]?",OJt="(?:"+PJt+"(?:"+[r4e,i4e,s4e].join("|")+")"+a4e+o4e+")*",DJt=a4e+o4e+OJt,$Jt="(?:"+[r4e+BW+"?",BW,i4e,s4e,RJt].join("|")+")",MJt=RegExp(UW+"(?="+UW+")|"+$Jt+DJt,"g");function LJt(e){return e.match(MJt)||[]}var FJt=LJt,jJt=SJt,BJt=EJt,UJt=FJt;function zJt(e){return BJt(e)?UJt(e):jJt(e)}var VJt=zJt,HJt=["as","classPrefix","className","inverse","backdrop","speed","center","vertical","content","size"],une=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"loader":i,o=e.className,a=e.inverse,u=e.backdrop,l=e.speed,c=l===void 0?"normal":l,f=e.center,d=e.vertical,h=e.content,p=e.size,m=ar(e,HJt),g=vi(s),y=g.merge,v=g.withClassPrefix,b=g.prefix,w=ene("loader-label-"),E=y(o,b("wrapper","speed-"+c,p,{"backdrop-wrapper":u,vertical:d,inverse:a,center:f}));return de.createElement(r,wt({role:"status","aria-labelledby":h?w:void 0},m,{ref:t,className:E}),u&&de.createElement("div",{className:b("backdrop")}),de.createElement("div",{className:v()},de.createElement("span",{className:b("spin")}),h&&de.createElement("span",{id:w,className:b("content")},h)))});une.displayName="Loader";une.propTypes={as:be.elementType,className:be.string,classPrefix:be.string,center:be.bool,backdrop:be.bool,inverse:be.bool,vertical:be.bool,content:be.node,size:_l(["lg","md","sm","xs"]),speed:_l(["normal","fast","slow","paused"])};var qJt=["as","classPrefix","className","disabled"],lne=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"span":n,i=e.classPrefix,s=i===void 0?"input-group-addon":i,o=e.className,a=e.disabled,u=ar(e,qJt),l=vi(s),c=l.withClassPrefix,f=l.merge,d=f(o,c({disabled:a}));return de.createElement(r,wt({},u,{ref:t,className:d}))});lne.displayName="InputGroupAddon";lne.propTypes={className:be.string,classPrefix:be.string,disabled:be.bool};var WJt=["classPrefix","className"],u4e=de.forwardRef(function(e,t){var n=e.classPrefix,r=n===void 0?"input-group-btn":n,i=e.className,s=ar(e,WJt),o=vi(r),a=o.withClassPrefix,u=o.merge,l=vi("input-group-addon"),c=l.withClassPrefix,f=u(c(),i,a());return de.createElement(X5,wt({},s,{ref:t,className:f}))});u4e.displayName="InputGroupButton";var GJt=["as","classPrefix","className","disabled","inside","size","children"],YJt=de.createContext(null),d_=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"input-group":i,o=e.className,a=e.disabled,u=e.inside,l=e.size,c=e.children,f=ar(e,GJt),d=A.useState(!1),h=d[0],p=d[1],m=A.useCallback(function(){p(!0)},[]),g=A.useCallback(function(){p(!1)},[]),y=vi(s),v=y.withClassPrefix,b=y.merge,w=b(o,v(l,{inside:u,focus:h,disabled:a})),E=A.useCallback(function(){return de.Children.map(c,function(S){return de.isValidElement(S)&&de.isValidElement(S)&&a?de.cloneElement(S,{disabled:a}):S})},[c,a]),x=A.useMemo(function(){return{onFocus:m,onBlur:g}},[m,g]);return de.createElement(YJt.Provider,{value:x},de.createElement(r,wt({},f,{ref:t,className:w}),E()))});d_.displayName="InputGroup";d_.propTypes={className:be.string,classPrefix:be.string,children:be.node,disabled:be.bool,inside:be.bool,size:_l(["lg","md","sm","xs"])};d_.Addon=lne;d_.Button=u4e;var KJt=["as","classPrefix","className","children","localeKey","placeholder"],cne=de.forwardRef(function(e,t){var n=Yp("Plaintext"),r=n.locale,i=e.as,s=i===void 0?"div":i,o=e.classPrefix,a=o===void 0?"plaintext":o,u=e.className,l=e.children,c=e.localeKey,f=c===void 0?"":c,d=e.placeholder,h=d===void 0?r[f]:d,p=ar(e,KJt),m=vi(a),g=m.withClassPrefix,y=m.merge,v=y(u,g({empty:!l}));return de.createElement(s,wt({role:"text"},p,{ref:t,className:v}),l||h)});cne.displayName="Plaintext";var XJt=["pickerProps","speaker","placement","trigger","id","multiple","popupType"],l4e=["onEntered","onExited","onEnter","onEntering","onExit","onExiting","open","onOpen","defaultOpen","onClose","container","containerPadding","preventOverflow"],c4e=[].concat(l4e,["disabled","plaintext","readOnly","loading","label"]),f4e=de.createContext({popupType:"listbox"}),d4e=de.forwardRef(function(e,t){var n=e.pickerProps,r=e.speaker,i=e.placement,s=e.trigger,o=s===void 0?"click":s,a=e.id,u=e.multiple,l=e.popupType,c=l===void 0?"listbox":l,f=ar(e,XJt),d=M6e(n,c4e),h=ene("rs-",a),p=Yp(),m=p.rtl;return de.createElement(f4e.Provider,{value:{id:h,hasLabel:typeof d.label<"u",multiple:u,popupType:c}},de.createElement(e4e,wt({},d,f,{disabled:d.disabled||d.loading,ref:t,trigger:o,placement:n6e(i,m),speaker:r})))});d4e.displayName="PickerToggleTrigger";var QJt=Xv,JJt=Jd,ZJt="[object Number]";function eZt(e){return typeof e=="number"||JJt(e)&&QJt(e)==ZJt}var tZt=eZt;const nZt=On(tZt);var rZt=X3e,iZt=lw,sZt=Ste,oZt=Math.max;function aZt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:sZt(n);return i<0&&(i=oZt(r+i,0)),rZt(e,iZt(t),i)}var h4e=aZt;const uZt=On(h4e);var lZt=["children","className","disableHeight","disableWidth","defaultHeight","defaultWidth","style","onResize"],cZt=de.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.disableHeight,s=e.disableWidth,o=e.defaultHeight,a=e.defaultWidth,u=e.style,l=e.onResize,c=ar(e,lZt),f=A.useState(o||0),d=f[0],h=f[1],p=A.useState(a||0),m=p[0],g=p[1],y=A.useRef(null),v=A.useCallback(function(){var x;return(x=y.current)!==null&&x!==void 0&&x.parentNode&&y.current.parentNode.ownerDocument&&y.current.parentNode.ownerDocument.defaultView&&y.current.parentNode instanceof y.current.parentNode.ownerDocument.defaultView.HTMLElement?y.current.parentNode:null},[]),b=A.useCallback(function(){var x=v();if(x){var S=x.offsetHeight||0,C=x.offsetWidth||0,I=Uh(x),k=parseInt(I.paddingLeft,10)||0,R=parseInt(I.paddingRight,10)||0,D=parseInt(I.paddingTop,10)||0,P=parseInt(I.paddingBottom,10)||0,$=S-D-P,L=C-k-R;(!i&&d!==$||!s&&m!==L)&&(h(S-D-P),g(C-k-R),l==null||l({height:S,width:C}))}},[i,s,v,d,l,m]);Jte(b),H6e(v(),b);var w={overflow:"visible"},E={width:0,height:0};return i||(w.height=0,E.height=d),s||(w.width=0,E.width=m),de.createElement("div",wt({className:r,ref:gc(y,t),style:wt({},w,u)},c),n(E))});function zW(){return zW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zW.apply(null,arguments)}function Xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(e,t){return VW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},VW(e,t)}function fZt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,VW(e,t)}var Qye=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function dZt(e,t){return!!(e===t||Qye(e)&&Qye(t))}function hZt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!dZt(e[n],t[n]))return!1;return!0}function _7(e,t){t===void 0&&(t=hZt);var n,r=[],i,s=!1;function o(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s&&n===this&&t(a,r)||(i=e.apply(this,a),s=!0,n=this,r=a),i}return o}var pZt=typeof performance=="object"&&typeof performance.now=="function",Jye=pZt?function(){return performance.now()}:function(){return Date.now()};function Zye(e){cancelAnimationFrame(e.id)}function mZt(e,t){var n=Jye();function r(){Jye()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var w7=-1;function eve(e){if(e===void 0&&(e=!1),w7===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),w7=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return w7}var Jw=null;function tve(e){if(e===void 0&&(e=!1),Jw===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Jw="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Jw="negative":Jw="positive-ascending"),document.body.removeChild(t),Jw}return Jw}var gZt=150,yZt=function(t,n){return t};function vZt(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,s=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,u=e.initInstanceProps,l=e.shouldResetStyleCacheOnItemSizeChange,c=e.validateProps;return t=function(f){fZt(d,f);function d(p){var m;return m=f.call(this,p)||this,m._instanceProps=u(m.props,Xye(m)),m._outerRef=void 0,m._resetIsScrollingTimeoutId=null,m.state={instance:Xye(m),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof m.props.initialScrollOffset=="number"?m.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},m._callOnItemsRendered=void 0,m._callOnItemsRendered=_7(function(g,y,v,b){return m.props.onItemsRendered({overscanStartIndex:g,overscanStopIndex:y,visibleStartIndex:v,visibleStopIndex:b})}),m._callOnScroll=void 0,m._callOnScroll=_7(function(g,y,v){return m.props.onScroll({scrollDirection:g,scrollOffset:y,scrollUpdateWasRequested:v})}),m._getItemStyle=void 0,m._getItemStyle=function(g){var y=m.props,v=y.direction,b=y.itemSize,w=y.layout,E=m._getItemStyleCache(l&&b,l&&w,l&&v),x;if(E.hasOwnProperty(g))x=E[g];else{var S=n(m.props,g,m._instanceProps),C=i(m.props,g,m._instanceProps),I=v==="horizontal"||w==="horizontal",k=v==="rtl",R=I?S:0;E[g]=x={position:"absolute",left:k?void 0:R,right:k?R:void 0,top:I?0:S,height:I?"100%":C,width:I?C:"100%"}}return x},m._getItemStyleCache=void 0,m._getItemStyleCache=_7(function(g,y,v){return{}}),m._onScrollHorizontal=function(g){var y=g.currentTarget,v=y.clientWidth,b=y.scrollLeft,w=y.scrollWidth;m.setState(function(E){if(E.scrollOffset===b)return null;var x=m.props.direction,S=b;if(x==="rtl")switch(tve()){case"negative":S=-b;break;case"positive-descending":S=w-v-b;break}return S=Math.max(0,Math.min(S,w-v)),{isScrolling:!0,scrollDirection:E.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._onScrollVertical=function(g){var y=g.currentTarget,v=y.clientHeight,b=y.scrollHeight,w=y.scrollTop;m.setState(function(E){if(E.scrollOffset===w)return null;var x=Math.max(0,Math.min(w,b-v));return{isScrolling:!0,scrollDirection:E.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(g){var y=m.props.outerRef;m._outerRef=g,typeof y=="function"?y(g):y!=null&&typeof y=="object"&&y.hasOwnProperty("current")&&(y.current=g)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&Zye(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=mZt(m._resetIsScrolling,gZt)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1,null)})},m}d.getDerivedStateFromProps=function(m,g){return bZt(m,g),c(m),null};var h=d.prototype;return h.scrollTo=function(m){m=Math.max(0,m),this.setState(function(g){return g.scrollOffset===m?null:{scrollDirection:g.scrollOffset<m?"forward":"backward",scrollOffset:m,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},h.scrollToItem=function(m,g){g===void 0&&(g="auto");var y=this.props,v=y.itemCount,b=y.layout,w=this.state.scrollOffset;m=Math.max(0,Math.min(m,v-1));var E=0;if(this._outerRef){var x=this._outerRef;b==="vertical"?E=x.scrollWidth>x.clientWidth?eve():0:E=x.scrollHeight>x.clientHeight?eve():0}this.scrollTo(s(this.props,m,g,w,this._instanceProps,E))},h.componentDidMount=function(){var m=this.props,g=m.direction,y=m.initialScrollOffset,v=m.layout;if(typeof y=="number"&&this._outerRef!=null){var b=this._outerRef;g==="horizontal"||v==="horizontal"?b.scrollLeft=y:b.scrollTop=y}this._callPropsCallbacks()},h.componentDidUpdate=function(){var m=this.props,g=m.direction,y=m.layout,v=this.state,b=v.scrollOffset,w=v.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var E=this._outerRef;if(g==="horizontal"||y==="horizontal")if(g==="rtl")switch(tve()){case"negative":E.scrollLeft=-b;break;case"positive-ascending":E.scrollLeft=b;break;default:var x=E.clientWidth,S=E.scrollWidth;E.scrollLeft=S-x-b;break}else E.scrollLeft=b;else E.scrollTop=b}this._callPropsCallbacks()},h.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Zye(this._resetIsScrollingTimeoutId)},h.render=function(){var m=this.props,g=m.children,y=m.className,v=m.direction,b=m.height,w=m.innerRef,E=m.innerElementType,x=m.innerTagName,S=m.itemCount,C=m.itemData,I=m.itemKey,k=I===void 0?yZt:I,R=m.layout,D=m.outerElementType,P=m.outerTagName,$=m.style,L=m.useIsScrolling,M=m.width,B=this.state.isScrolling,z=v==="horizontal"||R==="horizontal",H=z?this._onScrollHorizontal:this._onScrollVertical,O=this._getRangeToRender(),U=O[0],q=O[1],F=[];if(S>0)for(var V=U;V<=q;V++)F.push(A.createElement(g,{data:C,key:k(V,C),index:V,isScrolling:L?B:void 0,style:this._getItemStyle(V)}));var G=r(this.props,this._instanceProps);return A.createElement(D||P||"div",{className:y,onScroll:H,ref:this._outerRefSetter,style:zW({position:"relative",height:b,width:M,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},$)},A.createElement(E||x||"div",{children:F,ref:w,style:{height:z?"100%":G,pointerEvents:B?"none":void 0,width:z?G:"100%"}}))},h._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var m=this.props.itemCount;if(m>0){var g=this._getRangeToRender(),y=g[0],v=g[1],b=g[2],w=g[3];this._callOnItemsRendered(y,v,b,w)}}if(typeof this.props.onScroll=="function"){var E=this.state,x=E.scrollDirection,S=E.scrollOffset,C=E.scrollUpdateWasRequested;this._callOnScroll(x,S,C)}},h._getRangeToRender=function(){var m=this.props,g=m.itemCount,y=m.overscanCount,v=this.state,b=v.isScrolling,w=v.scrollDirection,E=v.scrollOffset;if(g===0)return[0,0,0,0];var x=o(this.props,E,this._instanceProps),S=a(this.props,x,E,this._instanceProps),C=!b||w==="backward"?Math.max(1,y):1,I=!b||w==="forward"?Math.max(1,y):1;return[Math.max(0,x-C),Math.max(0,Math.min(g-1,S+I)),x,S]},d}(A.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var bZt=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},_Zt=50,ZE=function(t,n,r){var i=t,s=i.itemSize,o=r.itemMetadataMap,a=r.lastMeasuredIndex;if(n>a){var u=0;if(a>=0){var l=o[a];u=l.offset+l.size}for(var c=a+1;c<=n;c++){var f=s(c);o[c]={offset:u,size:f},u+=f}r.lastMeasuredIndex=n}return o[n]},wZt=function(t,n,r){var i=n.itemMetadataMap,s=n.lastMeasuredIndex,o=s>0?i[s].offset:0;return o>=r?p4e(t,n,s,0,r):EZt(t,n,Math.max(0,s),r)},p4e=function(t,n,r,i,s){for(;i<=r;){var o=i+Math.floor((r-i)/2),a=ZE(t,o,n).offset;if(a===s)return o;a<s?i=o+1:a>s&&(r=o-1)}return i>0?i-1:0},EZt=function(t,n,r,i){for(var s=t.itemCount,o=1;r<s&&ZE(t,r,n).offset<i;)r+=o,o*=2;return p4e(t,n,Math.min(r,s-1),Math.floor(r/2),i)},nve=function(t,n){var r=t.itemCount,i=n.itemMetadataMap,s=n.estimatedItemSize,o=n.lastMeasuredIndex,a=0;if(o>=r&&(o=r-1),o>=0){var u=i[o];a=u.offset+u.size}var l=r-o-1,c=l*s;return a+c},HW=vZt({getItemOffset:function(t,n,r){return ZE(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:nve,getOffsetForIndexAndAlignment:function(t,n,r,i,s,o){var a=t.direction,u=t.height,l=t.layout,c=t.width,f=a==="horizontal"||l==="horizontal",d=f?c:u,h=ZE(t,n,s),p=nve(t,s),m=Math.max(0,Math.min(p-d,h.offset)),g=Math.max(0,h.offset-d+h.size+o);switch(r==="smart"&&(i>=g-d&&i<=m+d?r="auto":r="center"),r){case"start":return m;case"end":return g;case"center":return Math.round(g+(m-g)/2);case"auto":default:return i>=g&&i<=m?i:i<g?g:m}},getStartIndexForOffset:function(t,n,r){return wZt(t,r,n)},getStopIndexForStartIndex:function(t,n,r,i){for(var s=t.direction,o=t.height,a=t.itemCount,u=t.layout,l=t.width,c=s==="horizontal"||u==="horizontal",f=c?l:o,d=ZE(t,n,i),h=r+f,p=d.offset+d.size,m=n;m<a-1&&p<h;)m++,p+=ZE(t,m,i).size;return m},initInstanceProps:function(t,n){var r=t,i=r.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:i||_Zt,lastMeasuredIndex:-1};return n.resetAfterIndex=function(o,a){a===void 0&&(a=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,o-1),n._getItemStyleCache(-1),a&&n.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});function E7(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return n<=r?null:t===0?"top":t+r===n?"bottom":"middle"}function xZt(e){var t=A.useRef(null),n=A.useState(null),r=n[0],i=n[1];Jte(function(){var o;if(t.current&&e){var a=t.current;i(E7(a));var u=a.scrollHeight;o=new MutationObserver(function(){var l=a==null?void 0:a.scrollHeight;l&&l!==u&&(i(E7(a)),u=l)}),o.observe(a,{attributes:!0,childList:!0,subtree:!0})}return function(){var l;(l=o)===null||l===void 0||l.disconnect()}});var s=kn(function(o){var a=o.currentTarget;i(E7(a))});return{scrollState:r,handleScroll:e?s:void 0,bodyRef:t}}var SZt=["as","classPrefix","className","children","scrollShadow","customScrollbar","height","width","style","onScroll","data-testid"],m4e=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"scroll-view":i,o=e.className,a=e.children,u=e.scrollShadow,l=e.customScrollbar,c=e.height,f=e.width,d=e.style,h=e.onScroll,p=e["data-testid"],m=ar(e,SZt),g=vi(s),y=g.merge,v=g.withClassPrefix,b=xZt(u),w=b.scrollState,E=b.handleScroll,x=b.bodyRef,S=wt({height:c,width:f},d),C=y(o,v({shadow:u,"thumb-top":w==="top","thumb-middle":w==="middle","thumb-bottom":w==="bottom","custom-scrollbar":l}));return de.createElement(r,wt({},m,{ref:gc(t,x),className:C,style:S,onScroll:pu(E,h),"data-testid":p||"scroll-view"}),a)});m4e.displayName="ScrollView";var TZt=["rowHeight","as","itemSize","scrollShadow"],CZt=de.forwardRef(function(e,t){return de.createElement(m4e,wt({scrollShadow:!0,ref:t},e))}),AZt=de.forwardRef(function(e,t){var n=e.rowHeight,r=e.as,i=r===void 0?HW:r,s=e.itemSize,o=e.scrollShadow,a=ar(e,TZt),u=A.useRef(null),l=Yp(),c=l.rtl;A.useImperativeHandle(t,function(){return{resetAfterIndex:function(m,g){var y,v;(y=u.current)===null||y===void 0||(v=y.resetAfterIndex)===null||v===void 0||v.call(y,m,g)},scrollTo:function(m){var g,y;(g=u.current)===null||g===void 0||(y=g.scrollTo)===null||y===void 0||y.call(g,m)},scrollToItem:function(m,g){var y,v;(y=u.current)===null||y===void 0||(v=y.scrollToItem)===null||v===void 0||v.call(y,m,g)},scrollToRow:function(m){var g,y;(g=u.current)===null||g===void 0||(y=g.scrollToItem)===null||y===void 0||y.call(g,m)}}});var f=A.useCallback(function(p){return typeof n=="function"?n({index:p}):n||0},[n]),d=A.useMemo(function(){return typeof s=="function"?s:function(){return s}},[s]),h=wt({itemSize:d},a);return n&&(h.itemSize=i===HW?f:n),de.createElement(i,wt({ref:u,direction:c?"rtl":"ltr"},h,{outerElementType:o?CZt:void 0}))}),g4e={},qW={exports:{}},x7={},rve;function IZt(){return rve||(rve=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M0 3.5l7 7 7-7z"}))}var a=n.forwardRef(o),u=a;e.default=u}(x7)),x7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(IZt()),s=(0,r.default)({as:i.default,ariaLabel:"arrow down",category:"legacy",displayName:"ArrowDown"}),o=s;t.default=o,e.exports=t.default})(qW,qW.exports);var kZt=qW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(kZt);function n(r){return r&&r.__esModule?r:{default:r}}})(g4e);const RZt=On(g4e);var ive,sve,NZt=["as","classPrefix","children","className"],y4e=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"dropdown-menu-group":i,o=e.children,a=e.className,u=ar(e,NZt),l=vi(s),c=l.withClassPrefix,f=l.prefix,d=l.merge,h=d(a,c());return de.createElement(r,wt({role:"group"},u,{ref:t,className:h}),de.createElement("div",{className:f(ive||(ive=Ms(["title"]))),tabIndex:-1},de.createElement("span",null,o),de.createElement(RZt,{"aria-hidden":!0,className:f(sve||(sve=Ms(["caret"])))})))});y4e.displayName="ListItemGroup";function UN(){var e=A.useContext(f4e),t=e.id,n=e.hasLabel,r=e.popupType,i=e.multiple;return{id:t,popupType:r,multiple:i,labelId:n?t+"-label":void 0}}var PZt=["data","groupBy","maxHeight","activeItemValues","disabledItemValues","classPrefix","valueKey","labelKey","virtualized","listProps","listRef","className","style","focusItemValue","listItemClassPrefix","listItemAs","listItemProps","rowHeight","rowGroupHeight","query","renderMenuGroup","renderMenuItem","onGroupTitleClick","onSelect"],OZt=void 0,v4e=de.forwardRef(function(e,t){var n=e.data,r=n===void 0?[]:n,i=e.groupBy,s=e.maxHeight,o=s===void 0?320:s,a=e.activeItemValues,u=a===void 0?[]:a,l=e.disabledItemValues,c=l===void 0?[]:l,f=e.classPrefix,d=f===void 0?"listbox":f,h=e.valueKey,p=h===void 0?"value":h,m=e.labelKey,g=m===void 0?"label":m,y=e.virtualized,v=e.listProps,b=e.listRef,w=e.className,E=e.style,x=e.focusItemValue,S=e.listItemClassPrefix,C=e.listItemAs,I=e.listItemProps,k=e.rowHeight,R=k===void 0?36:k,D=e.rowGroupHeight,P=D===void 0?48:D,$=e.query,L=e.renderMenuGroup,M=e.renderMenuItem,B=e.onGroupTitleClick,z=e.onSelect,H=ar(e,PZt),O=vi(d),U=O.withClassPrefix,q=O.prefix,F=O.merge,V=typeof i<"u",G=F(w,U("items",{grouped:V})),Z=UN(),ae=Z.id,re=Z.labelId,ue=Z.popupType,pe=Z.multiple,xe=A.useRef(null),ve=A.useRef(null),We=A.useState([]),Be=We[0],ht=We[1],Je=kn(function(Oe,fe){var Xe=Be.filter(function(nt){return nt!==Oe});Xe.length===Be.length&&Xe.push(Oe),ht(Xe),B==null||B(fe)}),we=kn(function(Oe,fe,Xe,nt){z==null||z(fe,Oe,Xe,nt)}),Ae=function(fe,Xe){var nt=fe[Xe];return V&&nt[SE]&&Xe!==0?P:R};A.useEffect(function(){var Oe=xe.current;if(Oe){var fe=Oe.querySelector("."+q("item-focus"));if(fe||(fe=Oe.querySelector("."+q("item-active"))),!!fe){var Xe=uLe(fe,Oe),nt=Ny(Oe),ge=lLe(Oe);nt>Xe.top?Ny(Oe,Math.max(0,Xe.top-20)):Xe.top>nt+ge&&Ny(Oe,Math.max(0,Xe.top-ge+32))}}},[x,xe,q]);var ze=V?r.filter(function(Oe){var fe;if(Oe[SE])return!0;var Xe=l6e(Oe,i,"")||((fe=Oe.parent)===null||fe===void 0?void 0:fe[NW]);return!Be.includes(Xe)}):r,et=ze.length,Ot=function(fe){var Xe=fe.index,nt=Xe===void 0?0:Xe,ge=fe.style,ke=fe.data,Ve=fe.item,Ye=Ve||ke[nt],pt=Ye[p],xn=Ye[g],nr=$?de.createElement(tne,{query:$,as:"span"},xn):xn;if(qm(nr)&&!Ye[SE])throw Error('labelKey "'+g+'" is not defined in "data" : '+nt);var mt=SHt(pt)||nZt(pt)?pt:nt;if(V&&Ye[SE]){var Lt=Ye[NW];return de.createElement(y4e,{style:ge,classPrefix:"picker-menu-group",className:gf({folded:Be.some(function(sn){return sn===Lt})}),key:"group-"+Lt,onClick:Je.bind(null,Lt)},L?L(Lt,Ye):Lt)}else if(qm(pt)&&!qm(Ye[SE]))throw Error('valueKey "'+p+'" is not defined in "data" : '+nt+" ");var vt=c==null?void 0:c.some(function(sn){return ef(sn,pt)}),rn=u==null?void 0:u.some(function(sn){return ef(sn,pt)}),Sn=!qm(x)&&ef(x,pt);return de.createElement(C,wt({"aria-posinset":nt+1,"aria-setsize":et,style:ge,key:mt,disabled:vt,active:rn,focus:Sn,value:pt,classPrefix:S,onSelect:we.bind(null,Ye)},KKt(I,function(sn){return sn!==void 0})),M?M(nr,Ye):nr)};return Jte(function(){var Oe,fe,Xe=uZt(ze,function(nt){return nt[p]===(u==null?void 0:u[0])});(Oe=ve.current)===null||Oe===void 0||(fe=Oe.scrollToItem)===null||fe===void 0||fe.call(Oe,Xe)}),de.createElement("div",wt({role:"listbox",id:ae+"-"+ue,"aria-labelledby":re,"aria-multiselectable":pe},H,{className:G,ref:gc(xe,t),style:wt({},E,{maxHeight:o})}),y?de.createElement(cZt,{defaultHeight:o,style:{width:"auto",height:"auto"}},function(Oe){var fe=Oe.height;return de.createElement(AZt,wt({as:HW,ref:gc(ve,b),height:fe||o,itemCount:et,itemData:ze,itemSize:Ae.bind(OZt,ze)},v),Ot)}):ze.map(function(Oe,fe){return Ot({index:fe,item:Oe})}))});v4e.displayName="Listbox";var ove,DZt=["as","role","classPrefix","active","children","className","disabled","focus","value","onKeyDown","onSelect","renderItem"],b4e=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.role,s=i===void 0?"option":i,o=e.classPrefix,a=o===void 0?"dropdown-menu-item":o,u=e.active,l=e.children,c=e.className,f=e.disabled,d=e.focus,h=e.value,p=e.onKeyDown,m=e.onSelect,g=e.renderItem,y=ar(e,DZt),v=UN(),b=v.id,w=kn(function(k){k.preventDefault(),f||m==null||m(h,k)}),E=vi(a),x=E.withClassPrefix,S=E.merge,C=E.rootPrefix,I=x({active:u,focus:d,disabled:f});return de.createElement(r,wt({role:s,"aria-selected":u,"aria-disabled":f,id:b?b+"-opt-"+h:void 0,"data-key":h},y,{ref:t,className:S(c,C(ove||(ove=Ms(["picker-list-item"])))),tabIndex:-1,onKeyDown:f?null:p,onClick:w}),de.createElement("span",{className:I},g?g(h):l))});b4e.displayName="ListItem";var $Zt=de.createContext(void 0),ave,uve,lve,cve,MZt=["as","checked","className","children","classPrefix","checkable","color","defaultChecked","title","inputRef","inputProps","indeterminate","labelClickable","tabIndex","disabled","readOnly","plaintext","inline","name","value","onClick","onCheckboxClick","onChange"],fne=de.forwardRef(function(e,t){var n=A.useContext($Zt),r=n??{},i=r.inline,s=r.name,o=r.disabled,a=r.readOnly,u=r.plaintext,l=r.onChange,c=e.as,f=c===void 0?"div":c,d=e.checked,h=e.className,p=e.children,m=e.classPrefix,g=m===void 0?"checkbox":m,y=e.checkable,v=y===void 0?!0:y,b=e.color,w=e.defaultChecked,E=w===void 0?!1:w,x=e.title,S=e.inputRef,C=e.inputProps,I=e.indeterminate,k=e.labelClickable,R=k===void 0?!0:k,D=e.tabIndex,P=D===void 0?0:D,$=e.disabled,L=$===void 0?o:$,M=e.readOnly,B=M===void 0?a:M,z=e.plaintext,H=z===void 0?u:z,O=e.inline,U=O===void 0?i:O,q=e.name,F=q===void 0?s:q,V=e.value,G=e.onClick,Z=e.onCheckboxClick,ae=e.onChange,re=ar(e,MZt),ue=XL(d,E),pe=ue[0],xe=ue[1],ve=ue[2],We=A.useMemo(function(){var Ve,Ye;return n?(Ve=(Ye=n.value)===null||Ye===void 0?void 0:Ye.some(function(pt){return pt===V}))!==null&&Ve!==void 0?Ve:!1:pe},[n,pe,V]),Be=vi(g),ht=Be.merge,Je=Be.prefix,we=Be.withClassPrefix,Ae=ht(h,we(b,{inline:U,indeterminate:I,disabled:L,checked:We})),ze=JLe(re),et=ze[0],Ot=ze[1],Oe=n?!0:ve;typeof Oe<"u"&&(et[Oe?"checked":"defaultChecked"]=We);var fe=A.useRef(null),Xe=kn(function(Ve){var Ye=Ve.target.checked;L||B||(xe(Ye),ae==null||ae(V,Ye,Ve),l==null||l(V,Ye,Ve))}),nt=kn(function(Ve){!R&&Ve.target!==fe.current&&Ve.preventDefault()}),ge=ene("label-");if(H)return We?de.createElement(f,wt({},Ot,{ref:t,className:Ae}),p):null;var ke=de.createElement("span",{className:Je(ave||(ave=Ms(["control"])))},de.createElement("input",wt({},et,C,{"aria-disabled":L,"aria-checked":I?"mixed":We,"aria-labelledby":ge,name:F,value:V,type:"checkbox",ref:gc(fe,S),tabIndex:P,readOnly:B,disabled:L,onClick:Z,onChange:Xe})),de.createElement("span",{className:Je(uve||(uve=Ms(["inner"]))),"aria-hidden":!0,"data-testid":"checkbox-control-inner"}));return de.createElement(f,wt({},Ot,{ref:t,onClick:G,className:Ae}),de.createElement("div",{className:Je(lve||(lve=Ms(["checker"])))},de.createElement("label",{title:x,onClick:nt},v?ke:null,de.createElement("span",{className:Je(cve||(cve=Ms(["label"]))),id:ge},p))))});fne.displayName="Checkbox";fne.propTypes={as:be.elementType,checked:be.bool,checkable:be.bool,className:be.string,children:be.node,classPrefix:be.string,disabled:be.bool,defaultChecked:be.bool,inline:be.bool,indeterminate:be.bool,inputProps:be.any,inputRef:lQt,value:be.any,onChange:be.func,onClick:be.func,onCheckboxClick:be.func};var fve,LZt=["active","as","checkboxAs","classPrefix","checkable","disabled","value","focus","children","className","indeterminate","labelClickable","onKeyDown","onSelect","onCheck","onSelectItem","renderCheckbox"],_4e=de.forwardRef(function(e,t){var n=e.active,r=n===void 0?!1:n,i=e.as,s=i===void 0?"div":i,o=e.checkboxAs,a=o===void 0?fne:o,u=e.classPrefix,l=u===void 0?"check-item":u,c=e.checkable,f=c===void 0?!0:c,d=e.disabled,h=e.value,p=e.focus,m=e.children,g=e.className,y=e.indeterminate,v=e.labelClickable,b=e.onKeyDown,w=e.onSelect,E=e.onCheck,x=e.onSelectItem,S=e.renderCheckbox,C=ar(e,LZt),I=kn(function(O,U,q){w==null||w(O,q,U)}),k=kn(function(O){d||E==null||E(h,O,!r)}),R=kn(function(O){d||x==null||x(h,O,!r)}),D=UN(),P=D.id,$=vi(l),L=$.withClassPrefix,M=$.merge,B=$.rootPrefix,z=L({focus:p}),H={checkable:f,children:m,checked:r,className:z,disabled:d,value:h,indeterminate:y,labelClickable:v,onKeyDown:d?void 0:b,onChange:I,onClick:R,onCheckboxClick:k};return de.createElement(s,wt({role:"option","aria-selected":r,"aria-disabled":d,id:P?P+"-opt-"+h:void 0,"data-key":h},C,{ref:t,className:M(g,B(fve||(fve=Ms(["picker-list-item"])))),tabIndex:-1}),S?S(H):de.createElement(a,wt({role:"checkbox"},H)))});_4e.displayName="ListCheckItem";var FZt=["as","classPrefix","autoWidth","className","placement","target"],jZt=["placement","arrowOffsetLeft","arrowOffsetTop","positionLeft","positionTop","getPositionInstance","getToggleInstance","autoWidth"],BZt=["topStart","topEnd","leftEnd","rightEnd","auto","autoVerticalStart","autoVerticalEnd","autoHorizontalEnd"],WW=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"picker-popup":i,o=e.autoWidth,a=e.className,u=e.placement,l=u===void 0?"bottomStart":u,c=e.target,f=ar(e,FZt),d=A.useRef(null),h=kn(function(){var v=c==null?void 0:c.current;v&&BZt.includes(l)&&v.updatePosition()});H6e(A.useCallback(function(){return d.current},[]),h),A.useEffect(function(){var v=c==null?void 0:c.current;if(o&&v!==null&&v!==void 0&&v.root){var b=cLe(rg(v.root));d.current&&fLe(d.current,"min-width",b+"px")}},[o,c,d]);var p=vi(s),m=p.withClassPrefix,g=p.merge,y=g(a,m());return de.createElement(r,wt({"data-testid":"picker-popup"},Y5(f,jZt),{ref:gc(d,t),className:y}))});WW.displayName="PickerPopup";var w4e=de.forwardRef(function(e,t){return de.createElement(X5,wt({},e,{ref:t,as:"div",ripple:!1}))});w4e.displayName="ToggleButton";function e6(){return e6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e6.apply(null,arguments)}function UZt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var zZt="rs-",E4e=function(){return zZt},dve=function(t){return t?""+E4e()+t:void 0},VZt=iLe(function(e,t){return!e||!t?"":Array.isArray(t)?gf(t.filter(function(n){return!!n}).map(function(n){return e+"-"+n})):e+"-"+t});function HZt(e){var t=dve("icon"),n=A.useCallback(function(r){return VZt(t,r)},[]);return[gf(t,dve(e)),n]}var qZt=Y6e(),Zw=E4e(),WZt="."+Zw+`icon {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  vertical-align: middle;
}
.`+Zw+`icon[tabindex] {
  cursor: pointer;
}
.`+Zw+`icon-spin {
  -webkit-animation: icon-spin 2s infinite linear;
          animation: icon-spin 2s infinite linear;
}
.`+Zw+`icon-pulse {
  -webkit-animation: icon-spin 1s infinite steps(8);
          animation: icon-spin 1s infinite steps(8);
}
.`+Zw+`icon-flip-horizontal {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}
.`+Zw+`icon-flip-vertical {
  -webkit-transform: scaleY(-1);
      -ms-transform: scaleY(-1);
          transform: scaleY(-1);
}
@-webkit-keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}`,hve=!1,GZt=function(t){t===void 0&&(t=WZt),A.useEffect(function(){hve||(qZt.insertCss(t,{prepend:!0}),hve=!0)},[])},YZt={as:"svg",fill:"currentColor",width:"1em",height:"1em"};function KZt(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];typeof i<"u"&&(t[r]=i)}),t}var Q5=de.forwardRef(function(e,t){var n,r=e.as,i=e.spin,s=e.pulse,o=e.flip,a=e.fill,u=e.className,l=e.rotate,c=e.children,f=e.viewBox,d=e.width,h=e.height,p=e.style,m=UZt(e,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),g=HZt(),y=g[0],v=g[1],b=gf(u,y,(n={},n[v("spin")]=i,n[v("pulse")]=s,n[v("flip-"+o)]=!!o,n)),w={msTransform:"rotate("+l+"deg)",transform:"rotate("+l+"deg)"};GZt();var E=KZt({width:d,height:h,fill:a,viewBox:f,className:b,style:l?e6({},w,p):p});return de.createElement(r,e6({"aria-hidden":!0,focusable:!1,ref:t},E,m),c)});Q5.displayName="Icon";Q5.defaultProps=YZt;Q5.propTypes={spin:be.bool,pulse:be.bool,rotate:be.number,viewBox:be.string,as:be.oneOfType([be.elementType,be.string]),flip:be.oneOf(["horizontal","vertical"]),fill:be.string};var XZt=function(t){var n=t.loading,r=t.caretAs,i=t.onClose,s=t.showCleanButton,o=t.as,a=o===void 0?d_.Addon:o,u=t.disabled,l=Yp(),c=l.locale,f=vi("picker"),d=f.prefix,h=function(){return n?de.createElement(une,{className:d("loader"),"data-testid":"spinner"}):s&&!u?de.createElement(ane,{className:d("clean"),tabIndex:-1,locale:{closeLabel:c==null?void 0:c.clear},onClick:i}):r&&de.createElement(Q5,{as:r,className:d("caret-icon")})},p=a===d_.Addon?{disabled:u}:void 0;return de.createElement(a,p,h())},QZt=["children","className","as"],JZt=function(t){var n=t.children,r=t.className,i=t.as,s=i===void 0?d_.Addon:i,o=ar(t,QZt);return n?de.createElement(s,wt({"data-testid":"picker-label",className:r},o),n):null},pve,ZZt=["active","as","classPrefix","children","caret","className","disabled","readOnly","plaintext","hasValue","loading","cleanable","tabIndex","inputValue","focusItemValue","onClean","placement","caretComponent","caretAs","label","name"],x4e=de.forwardRef(function(e,t){var n=e.active,r=e.as,i=r===void 0?w4e:r,s=e.classPrefix,o=s===void 0?"picker-toggle":s,a=e.children,u=e.caret,l=u===void 0?!0:u,c=e.className,f=e.disabled,d=e.readOnly,h=e.plaintext,p=e.hasValue,m=e.loading,g=m===void 0?!1:m,y=e.cleanable,v=e.tabIndex,b=v===void 0?0:v,w=e.inputValue,E=e.focusItemValue,x=e.onClean,S=e.placement,C=S===void 0?"bottomStart":S,I=e.caretComponent,k=e.caretAs,R=k===void 0?I:k,D=e.label,P=e.name,$=ar(e,ZZt),L=A.useRef(null),M=vi(o),B=M.withClassPrefix,z=M.merge,H=M.prefix,O=UN(),U=O.id,q=O.labelId,F=O.popupType,V=A.useMemo(function(){return typeof w=="number"||typeof w=="string"?w:Array.isArray(w)?w.join(","):""},[w]),G=z(c,B({active:n})),Z=kn(function(pe){var xe;pe.stopPropagation(),x==null||x(pe),(xe=L.current)===null||xe===void 0||xe.focus()}),ae=aQt(C),re=R??ae;if(h)return de.createElement(cne,{ref:t,localeKey:"notSelected"},p?a:null);var ue=y&&p&&!d;return de.createElement(i,wt({role:"combobox",id:U,"aria-haspopup":F,"aria-expanded":n,"aria-disabled":f,"aria-controls":U+"-"+F,"aria-labelledby":q,"aria-describedby":U+"-describe","aria-activedescendant":n&&E?U+"-opt-"+E:void 0},$,{ref:gc(L,t),disabled:f,tabIndex:f?void 0:b,className:G}),de.createElement(iy,null,D&&de.createElement(iy.Item,null,de.createElement(JZt,{as:"span",className:H("label"),id:q},D)),de.createElement(iy.Item,{grow:1,style:{overflow:"hidden"}},de.createElement("input",{readOnly:!0,"aria-hidden":!0,tabIndex:-1,"data-testid":"picker-toggle-input",name:P,value:V,className:H("textbox","read-only"),style:{pointerEvents:"none"}}),a?de.createElement("span",{className:H(p?"value":"placeholder"),id:U+"-describe","data-testid":"picker-describe"},a):null),de.createElement(iy.Item,{className:H(pve||(pve=Ms(["indicator"])))},de.createElement(XZt,{as:de.Fragment,loading:g,caretAs:l?re:null,onClose:Z,showCleanButton:ue}))))});x4e.displayName="PickerToggle";function een(e){var t=A.useRef(null),n=A.useRef(null),r=A.useRef(null),i=A.useRef(null),s=A.useRef(null),o=A.useRef(null),a=A.useRef(null),u=kn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.open()}),l=kn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.close()}),c=kn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.updatePosition()});return A.useImperativeHandle(e,function(){return{get root(){var f,d;return(f=(n==null?void 0:n.current)||(t==null||(d=t.current)===null||d===void 0?void 0:d.root))!==null&&f!==void 0?f:null},get overlay(){var f;if(!(i!=null&&i.current))throw new Error("The overlay is not found. Please confirm whether the picker is open.");return(f=i==null?void 0:i.current)!==null&&f!==void 0?f:null},get target(){var f;return(f=r==null?void 0:r.current)!==null&&f!==void 0?f:null},get list(){if(!(s!=null&&s.current))throw new Error(`
            The list is not found.
            1.Please set virtualized for the component.
            2.Please confirm whether the picker is open.
          `);return s==null?void 0:s.current},type:OGt,updatePosition:c,open:u,close:l}}),{trigger:t,root:n,overlay:i,target:r,list:s,searchInput:o,treeView:a}}var ten=lw,nen=FN,ren=uw;function ien(e){return function(t,n,r){var i=Object(t);if(!nen(t)){var s=ten(n);t=ren(t),n=function(a){return s(i[a],a,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}var sen=ien,oen=sen,aen=h4e,uen=oen(aen),len=uen;const cen=On(len);function fen(e,t){var n=function r(i){i===void 0&&(i=[]);for(var s=0;s<i.length;s+=1){var o=i[s];if(Array.isArray(o.children)){var a=r(o.children);if(a)return a}if(t(o))return o}};return n(e)}var den=VLe,hen=4;function pen(e){return den(e,hen)}var men=pen;const S4e=On(men);function gen(e,t){var n=function r(i){i===void 0&&(i=[]);for(var s=[],o=0;o<i.length;o+=1){if(Array.isArray(i[o].children)){var a=r(i[o].children);if(a.length){var u=S4e(i[o]);u.children=a,s.push(u);continue}}t(i[o])&&s.push(i[o])}return s};return n(e)}var yen=j5;function ven(e,t){for(var n=e.length;n--&&yen(t,e[n],0)>-1;);return n}var ben=ven,_en=j5;function wen(e,t){for(var n=-1,r=e.length;++n<r&&_en(t,e[n],0)>-1;);return n}var Een=wen,xen=mLe,Sen=nLe,Ten=dJt,Cen=ben,Aen=Een,mve=VJt,Ien=MN;function ken(e,t,n){if(e=Ien(e),e&&(n||t===void 0))return Sen(e);if(!e||!(t=xen(t)))return e;var r=mve(e),i=mve(t),s=Aen(r,i),o=Cen(r,i)+1;return Ten(r,s,o).join("")}var Ren=ken;const Nen=On(Ren);function Pen(e,t){if(!Nen(t))return!0;var n=t.toLocaleLowerCase();if(typeof e=="string"||typeof e=="number")return(""+e).toLocaleLowerCase().indexOf(n)>=0;if(de.isValidElement(e)){var r=ZLe(e);return r.join("").toLocaleLowerCase().indexOf(n)>=0}return!1}function Oen(e,t){var n=t.down,r=t.up,i=t.enter,s=t.del,o=t.esc,a=t.right,u=t.left;switch(e.key){case oa.DOWN:n==null||n(e),e.preventDefault();break;case oa.UP:r==null||r(e),e.preventDefault();break;case oa.ENTER:i==null||i(e),e.preventDefault();break;case oa.BACKSPACE:s==null||s(e);break;case oa.ESC:case oa.TAB:o==null||o(e);break;case oa.LEFT:u==null||u(e);break;case oa.RIGHT:a==null||a(e);break}}var Den=function(t,n){var r=n.valueKey,i=r===void 0?"value":r,s=n.focusableQueryKey,o=s===void 0?'[data-key][aria-disabled="false"]':s,a=n.defaultLayer,u=a===void 0?0:a,l=n.focusToOption,c=l===void 0?!0:l,f=n.data,d=n.target,h=n.rtl,p=n.callback,m=n.getParent,g=m===void 0?function(U){return U==null?void 0:U.parent}:m,y=A.useState(t),v=y[0],b=y[1],w=A.useState(u),E=w[0],x=w[1],S=A.useState([]),C=S[0],I=S[1],k=kn(function(U,q){if(c){var F=Hm(d)?d():d,V=F==null?void 0:F.querySelector('[data-key="'+U+'"]');V==null||V.focus()}p==null||p(U,q)}),R=kn(function(){var U=Hm(d)?d():d,q=U==null?void 0:U.querySelector('[data-layer="'+E+'"]');return q||(U==null?void 0:U.querySelector('[role="listbox"]'))}),D=function(){if(!d)return[];var q=C;if(E<1){var F=Hm(d)?d():d,V=F==null?void 0:F.querySelector('[data-layer="0"]');if(V){var G;q=Array.from((G=V.querySelectorAll(o))!==null&&G!==void 0?G:[]).map(function(ae){var re;return(re=ae.dataset)===null||re===void 0?void 0:re.key})}else{var Z;q=Array.from((Z=F==null?void 0:F.querySelectorAll(o))!==null&&Z!==void 0?Z:[]).map(function(ae){var re;return(re=ae.dataset)===null||re===void 0?void 0:re.key})}}return q.map(function(ae){return cen(f,function(re){return""+re[i]===ae})})},P=kn(function(U){for(var q=D(),F=0;F<q.length;F+=1){var V;if(ef(v,(V=q[F])===null||V===void 0?void 0:V[i])){U(q,F);return}}U(q,-1)}),$=kn(function(U,q,F){var V=R(),G=V==null?void 0:V.querySelector('[data-key="'+q+'"]');if(F&&V){var Z=V.scrollHeight,ae=V.clientHeight;V.scrollTop=U==="top"?Z-ae:0;return}if(G&&V&&!Len(G,V,U)){var re=lLe(G);$en(V,U,re)}}),L=kn(function(U){P(function(q,F){var V=F+2>q.length,G=V?0:F+1,Z=q[G];qm(Z)||(b(Z[i]),k(Z[i],U),$("bottom",Z[i],V))})}),M=kn(function(U){P(function(q,F){var V=F===0,G=V?q.length-1:F-1,Z=q[G];qm(Z)||(b(Z[i]),k(Z[i],U),$("top",Z[i],V))})}),B=function(q){var F=Hm(d)?d():d,V=F==null?void 0:F.querySelector('[data-layer="'+q+'"]');if(V){var G;return(G=Array.from(V.querySelectorAll(o)))===null||G===void 0?void 0:G.map(function(Z){var ae;return(ae=Z.dataset)===null||ae===void 0?void 0:ae.key})}return null},z=kn(function(U){var q=E+1,F=B(q);F&&(I(F),x(q),b(F[0]),k(F[0],U))}),H=kn(function(U){var q=E-1,F=B(q);if(F){var V;I(F),x(q);var G=fen(f,function(ae){return ae[i]===v}),Z=(V=g(G))===null||V===void 0?void 0:V[i];Z&&(b(Z),k(Z,U))}}),O=kn(function(U){var q;Oen(U,(q={down:L,up:M},q[h?"left":"right"]=z,q[h?"right":"left"]=H,q))});return{focusItemValue:v,setFocusItemValue:b,layer:E,setLayer:x,keys:C,setKeys:I,onKeyDown:O}};function $en(e,t,n){var r=e.scrollTop;e.scrollTop=t==="top"?r-n:r+n}function Men(e){var t=e.scrollHeight,n=e.clientHeight;return t>n}function Len(e,t,n){if(!Men(t))return!0;var r=e.getBoundingClientRect(),i=r.top,s=r.bottom,o=r.height,a=t.getBoundingClientRect(),u=a.top,l=a.bottom;return n==="top"?i+o>u:s-o<l}var Fen=function(t){var n=t.toggle,r=n===void 0?!0:n,i=t.trigger,s=t.target,o=t.overlay,a=t.searchInput,u=t.active,l=t.readOnly,c=t.disabled,f=t.loading,d=t.onExit,h=t.onKeyDown,p=t.onMenuKeyDown,m=t.onMenuPressEnter,g=t.onMenuPressBackspace,y=kn(function(){var E,x,S,C;(E=i.current)===null||E===void 0||(x=E.close)===null||x===void 0||x.call(E),(S=i.current)===null||S===void 0||(C=S.focus)===null||C===void 0||C.call(S)}),v=kn(function(){var E,x;(E=i.current)===null||E===void 0||(x=E.open)===null||x===void 0||x.call(E)}),b=kn(function(){if(u){y();return}v()}),w=kn(function(E){if(!(l||c||f)){if(E.target===(s==null?void 0:s.current)&&(r&&E.key===oa.ENTER&&b(),E.key===oa.BACKSPACE&&(d==null||d(E))),o!=null&&o.current&&(p==null||p(E),E.key===oa.ENTER&&(m==null||m(E)),E.key===oa.BACKSPACE&&E.target!==(a==null?void 0:a.current)&&(g==null||g(E)),E.key.length===1&&/\w/.test(E.key))){var x;if(((x=E.target)===null||x===void 0?void 0:x.tagName)!=="INPUT"){var S;a==null||(S=a.current)===null||S===void 0||S.focus()}}(E.key===oa.ESC||E.key===oa.TAB)&&y(),h==null||h(E)}});return w};function jen(e,t){var n=t.labelKey,r=t.searchBy,i=t.callback,s=A.useState(""),o=s[0],a=s[1],u=A.useCallback(function(){a("")},[]),l=A.useCallback(function(d,h){var p=typeof d=="object"?d==null?void 0:d[n]:String(d),m=qm(h)?o:h;return typeof r=="function"?r(m,p,d):Pen(p,m)},[n,r,o]),c=A.useMemo(function(){return e.filter(function(d){return l(d,o)})},[l,e,o]),f=function(h,p){var m=e.filter(function(g){return l(g,h)});a(h),i==null||i(h,m,p)};return{searchKeyword:o,filteredData:c,checkShouldDisplay:l,handleSearch:f,resetSearch:u}}var Ben=["name","classPrefix","className","placement","appearance","cleanable","block","disabled","countable","readOnly","plaintext","hasValue"];function Uen(e){var t,n=e.name,r=e.classPrefix,i=e.className,s=e.placement,o=e.appearance,a=e.cleanable,u=e.block,l=e.disabled,c=e.countable,f=e.readOnly,d=e.plaintext,h=e.hasValue,p=ar(e,Ben),m=vi(r),g=m.withClassPrefix,y=m.merge,v=y(i,g(n,o,"toggle-wrapper",(t={},t["placement-"+kLe(n6e(s))]=s,t["read-only"]=f,t["has-value"]=h,t.cleanable=a,t.block=u,t.disabled=l,t.countable=c,t.plaintext=d,t))),b=Object.keys(Y5(e,[].concat(Object.keys(p||{}),["disabled","readOnly","plaintext","name"])));return[v,b]}var zen=wt({},d6e,{classPrefix:be.string,className:be.string,style:be.object,locale:be.any,appearance:_l(["default","subtle"]),block:be.bool,containerPadding:be.number,container:be.oneOfType([be.any,be.func]),disabled:be.bool,menuClassName:be.string,menuStyle:be.object,placeholder:be.node,placement:_l(UXt),preventOverflow:be.bool,open:be.bool,defaultOpen:be.bool,cleanable:be.bool,renderExtraFooter:be.func,renderValue:be.func,onOpen:be.func,onClose:be.func,onClean:be.func,listProps:be.any}),Ven=wt({},zen,{data:be.array.isRequired,valueKey:be.string,labelKey:be.string,childrenKey:be.string,disabledItemValues:be.array,value:be.any,defaultValue:be.any,onChange:be.func}),gve,yve,Hen=["as","classPrefix","size","color","children","closable","className","onClose"],dne=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,s=i===void 0?"tag":i,o=e.size,a=o===void 0?"md":o,u=e.color,l=u===void 0?"default":u,c=e.children,f=e.closable,d=e.className,h=e.onClose,p=ar(e,Hen),m=vi(s),g=m.withClassPrefix,y=m.prefix,v=m.merge,b=v(d,g(a,l,{closable:f})),w=Yp(),E=w.locale;return de.createElement(r,wt({},p,{ref:t,className:b}),de.createElement("span",{className:y(gve||(gve=Ms(["text"])))},c),f&&de.createElement(ane,{className:y(yve||(yve=Ms(["icon-close"]))),onClick:h,tabIndex:-1,locale:{closeLabel:E==null?void 0:E.remove}}))});dne.displayName="Tag";dne.propTypes={closable:be.bool,classPrefix:be.string,onClose:be.func,children:be.node,className:be.string,as:be.elementType};var vve,qen=["children"],Wen=de.forwardRef(function(e,t){var n=e.children,r=ar(e,qen),i=vi("picker"),s=i.prefix,o=UN(),a=o.id;return de.createElement("div",wt({ref:t,role:"listbox",id:a+"-describe",className:s(vve||(vve=Ms(["tag-list"])))},r),n)}),bve,Gen=["as","classPrefix","children","className","value","inputRef","style","readOnly","onChange"],T4e=de.forwardRef(function(e,t){var n=e.as,r=n===void 0?"input":n,i=e.classPrefix,s=i===void 0?"picker-search":i,o=e.children,a=e.className,u=e.value,l=e.inputRef,c=e.style,f=e.readOnly,d=e.onChange,h=ar(e,Gen),p=kn(function(w){var E;d==null||d(w==null||(E=w.target)===null||E===void 0?void 0:E.value,w)}),m=vi(s),g=m.withClassPrefix,y=m.merge,v=m.prefix,b=y(a,g());return de.createElement("div",{ref:t,className:b,style:c},de.createElement(r,wt({},h,{ref:l,readOnly:f,className:v(bve||(bve=Ms(["input"]))),value:u,onChange:p})),o)});T4e.displayName="InputSearch";var _ve,Yen=["tags","inputProps","readOnly","disabled","multiple","onBlur","onFocus","onChange","inputValue","inputRef","editable","showTagList"],Ken=de.forwardRef(function(e,t){var n=e.tags,r=e.inputProps,i=e.readOnly,s=e.disabled,o=e.multiple,a=e.onBlur,u=e.onFocus,l=e.onChange,c=e.inputValue,f=e.inputRef,d=e.editable,h=e.showTagList,p=ar(e,Yen),m=vi("picker"),g=m.prefix;return!o&&s?null:de.createElement("div",wt({className:g(_ve||(_ve=Ms(["textbox"]))),ref:t},p),h?de.createElement(Wen,null,n):null,d&&de.createElement(T4e,wt({},r,{tabIndex:-1,readOnly:i,onBlur:a,onFocus:u,inputRef:f,onChange:l,value:c})))}),C4e=de.createContext({tagProps:{},trigger:"Enter"});function Xen(){return de.useContext(C4e)}var Qen=C4e.Provider;function Jen(e){var t=A.useState(100),n=t[0],r=t[1];return A.useEffect(function(){var i;if((i=e.current)!==null&&i!==void 0&&i.root){var s;r(cLe((s=e.current)===null||s===void 0?void 0:s.root))}},[]),n}var wve={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Eve=function(t,n){n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.letterSpacing=t.letterSpacing,n.style.textTransform=t.textTransform},Zen=function(t,n,r){var i=t.minWidth,s=i===void 0?1:i,o=t.placeholder,a=t.value,u=t.onAutosize,l=A.useState(s),c=l[0],f=l[1];return A.useEffect(function(){if(!(!n.current||typeof n.current.scrollWidth>"u")){var d;o&&!a&&r.current?d=Math.max(n.current.scrollWidth,r.current.scrollWidth)+10:d=n.current.scrollWidth+10,d<s&&(d=s),d!==c&&(f(d),u==null||u(d))}},[s,o,c,a,r,n,u]),c},hne=de.forwardRef(function(e,t){var n=A.useMemo(function(){return YHt()},[]),r=e.defaultValue,i=e.value,s=e.style,o=e.className,a=e.placeholder,u=e.inputClassName,l=e.inputStyle,c=e.inputId,f=c===void 0?n:c,d=e.tabIndex,h=A.useRef(null),p=A.useRef(null),m=A.useRef(null),g=A.useRef(null);A.useImperativeHandle(t,function(){return{root:h.current,input:p.current}});var y=[r,i,""].reduce(function(S,C){return S??C}),v=Zen(e,m,g),b=wt({display:"inline-block"},s),w=wt({boxSizing:"content-box",width:v+"px"},l);A.useEffect(function(){if(window.getComputedStyle){var S=p.current,C=S&&window.getComputedStyle(S);C&&(m.current&&Eve(C,m.current),g.current&&Eve(C,g.current))}},[]);var E=JLe(e),x=E[0];return x.className=u,x.style=w,x.tabIndex=d,RW()&&(x.id=f),de.createElement("div",{ref:h,className:o,style:b},RW()?de.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+f+"::-ms-clear {display: none;}"}}):null,de.createElement("input",wt({},x,{ref:p,type:"text"})),de.createElement("div",{ref:m,style:wve},y),a?de.createElement("div",{ref:g,style:wve},a):null)});hne.displayName="InputAutosize";hne.propTypes={className:be.string,defaultValue:be.any,inputId:be.string,inputClassName:be.string,inputStyle:be.object,minWidth:be.number,onChange:be.func,placeholder:be.string,style:be.object,value:be.any,onAutosize:be.func};var etn=60;function ttn(e){var t=e.multi,n=e.triggerRef,r=A.useRef(),i=Jen(n),s=A.useCallback(function(){var l;return t?(l=r.current)===null||l===void 0?void 0:l.input:r.current},[t]),o=A.useCallback(function(){var l;(l=s())===null||l===void 0||l.focus()},[s]),a=A.useCallback(function(){var l;(l=s())===null||l===void 0||l.blur()},[s]),u=A.useMemo(function(){return t?{inputStyle:{maxWidth:i-etn},as:hne}:{as:"input"}},[i,t]);return{inputProps:u,inputRef:r,focus:o,blur:a}}function ntn(e){var t=e.controlledData,n=t===void 0?[]:t,r=e.cacheData,i=r===void 0?[]:r,s=e.onChange,o=A.useState(n),a=o[0],u=o[1],l=A.useState([]),c=l[0],f=l[1],d=A.useMemo(function(){return[].concat(a,c)},[c,a]),h=A.useMemo(function(){return[].concat(d,i)},[d,i]);return A.useEffect(function(){n&&!ef(n,a)&&(u(n),f([]),s==null||s(n))},[n,a,s]),{data:d,dataWithCache:h,newData:c,setNewData:f}}var rtn=function(t){switch(t){case"lg":return"lg";case"sm":case"xs":return"sm";default:return"md"}},xve,Sve,Tve,Cve,itn=["as","appearance","cleanable","cacheData","classPrefix","data","disabled","readOnly","plaintext","defaultValue","defaultOpen","disabledItemValues","locale","toggleAs","style","size","searchable","open","placeholder","placement","groupBy","menuClassName","menuStyle","menuAutoWidth","menuMaxHeight","creatable","shouldDisplayCreateOption","value","valueKey","virtualized","labelKey","listProps","id","tabIndex","sort","renderMenu","renderExtraFooter","renderValue","renderMenuItem","renderMenuGroup","onEnter","onEntered","onExit","onExited","onChange","onClean","onCreate","onSearch","onSelect","onBlur","onFocus","searchBy"],stn=["closable","onClose"],pne=de.forwardRef(function(e,t){var n,r=e.as,i=r===void 0?"div":r,s=e.appearance,o=s===void 0?"default":s,a=e.cleanable,u=a===void 0?!0:a,l=e.cacheData,c=l===void 0?[]:l,f=e.classPrefix,d=f===void 0?"picker":f,h=e.data,p=h===void 0?[]:h,m=e.disabled,g=e.readOnly,y=e.plaintext,v=e.defaultValue,b=e.defaultOpen,w=b===void 0?!1:b,E=e.disabledItemValues,x=E===void 0?[]:E,S=e.locale,C=e.toggleAs,I=e.style,k=e.size,R=e.searchable,D=R===void 0?!0:R,P=e.open,$=e.placeholder,L=e.placement,M=L===void 0?"bottomStart":L,B=e.groupBy,z=e.menuClassName,H=e.menuStyle,O=e.menuAutoWidth,U=O===void 0?!0:O,q=e.menuMaxHeight,F=q===void 0?320:q,V=e.creatable,G=e.shouldDisplayCreateOption,Z=e.value,ae=e.valueKey,re=ae===void 0?"value":ae,ue=e.virtualized,pe=e.labelKey,xe=pe===void 0?"label":pe,ve=e.listProps,We=e.id,Be=e.tabIndex,ht=e.sort,Je=e.renderMenu,we=e.renderExtraFooter,Ae=e.renderValue,ze=e.renderMenuItem,et=e.renderMenuGroup,Ot=e.onEnter,Oe=e.onEntered,fe=e.onExit,Xe=e.onExited,nt=e.onChange,ge=e.onClean,ke=e.onCreate,Ve=e.onSearch,Ye=e.onSelect,pt=e.onBlur,xn=e.onFocus,nr=e.searchBy,mt=ar(e,itn),Lt=Xen(),vt=Lt.multi,rn=Lt.tagProps,Sn=Lt.trigger,sn=Lt.disabledOptions,Hs=Lt.onTagRemove,Ui=Lt.renderCheckbox;if(B===re||B===xe)throw Error("`groupBy` can not be equal to `valueKey` and `labelKey`");var Tn=een(t),Nr=Tn.trigger,Ur=Tn.root,ki=Tn.target,Hu=Tn.overlay,au=Tn.list,jc=Yp(["Picker","InputPicker"],S),Bn=jc.locale,bi=vi(d),xr=bi.prefix,Yo=bi.merge,xo=XL(P,w),qs=xo[0],ce=xo[1],ne=ttn({multi:vt,triggerRef:Nr}),he=ne.inputRef,Ne=ne.inputProps,Re=ne.focus,ct=ne.blur,Dt=function(bt){var X;Qr(bt==null||(X=bt[0])===null||X===void 0?void 0:X[re])},Qt=ntn({controlledData:p,cacheData:c,onChange:Dt}),Dn=Qt.data,Yn=Qt.dataWithCache,Cn=Qt.newData,lr=Qt.setNewData,Sr=XL(Z,vt?v||[]:v),Ct=Sr[0],Un=Sr[1],Xr=Sr[2],Kn=function(){return vt?S4e(Ct)||[]:Ct},_i=kn(function(){var At,bt,X;Nr==null||(At=Nr.current)===null||At===void 0||At.close(),(bt=ki.current)===null||bt===void 0||(X=bt.focus)===null||X===void 0||X.call(bt)}),Ws={data:Yn,valueKey:re,target:function(){return Hu.current}},Yr=Den(vt?Ct==null?void 0:Ct[0]:Ct,Ws),si=Yr.focusItemValue,Qr=Yr.setFocusItemValue,zi=Yr.onKeyDown,So=kn(function(At,bt,X){if(!sn){var oe,Se=bt==null||(oe=bt[0])===null||oe===void 0?void 0:oe[re];!Se&&V&&(Se=At),Qr(Se)}Ve==null||Ve(At,X)}),Ko={labelKey:xe,searchBy:nr,callback:So},ns=jen(Dn,Ko),Ri=ns.searchKeyword,Xo=ns.resetSearch,Y=ns.checkShouldDisplay,le=ns.handleSearch;A.useEffect(function(){var At,bt;(At=Nr.current)===null||At===void 0||(bt=At.updatePosition)===null||bt===void 0||bt.call(At)},[Ri,Ct]);var ee=function(bt){var X=Yn.find(function(Se){return ef(Se[re],bt)}),oe=$;return X!=null&&X[xe]&&(oe=X==null?void 0:X[xe]),{isValid:!!X,activeItem:X,itemNode:oe}},ye=function(bt){var X,oe=(X={create:!0},X[re]=bt,X[xe]=bt,X);if(B){var Se;return wt((Se={},Se[B]=Bn==null?void 0:Bn.newItem,Se),oe)}return oe},_e=kn(function(At,bt){nt==null||nt(At,bt)}),me=kn(function(At,bt){bt.stopPropagation();var X=Kn();b7(X,function(oe){return ef(oe,At)}),Un(X),_e(X,bt),Hs==null||Hs(At,bt)}),Le=kn(function(At,bt,X){Ye==null||Ye(At,bt,X),V&&bt.create&&(delete bt.create,ke==null||ke(At,bt,X),lr(Cn.concat(bt)))}),Ke=kn(function(At,bt,X){Un(At),Qr(At),Xo(),Le(At,bt,X),_e(At,X),_i()}),Ze=kn(function(At,bt,X,oe){var Se=Kn();oe?Se.push(At):b7(Se,function(Nt){return ef(Nt,At)}),Un(Se),Xo(),Qr(At),Le(Se,bt,X),_e(Se,X),Re()}),Qe=kn(function(At){if(!At.nativeEvent.isComposing){var bt=Kn(),X=si||"";if(vt&&sn&&(X=Ri),!(!X||!Dn)&&!(x!=null&&x.some(function(Se){return Se===X}))){bt.some(function(Se){return ef(Se,X)})?sn||b7(bt,function(Se){return ef(Se,X)}):bt.push(X);var oe=Dn.find(function(Se){return ef(Se==null?void 0:Se[re],X)});oe||(oe=ye(X)),Un(bt),Xo(),Le(bt,oe,At),_e(bt,At)}}}),ut=kn(function(At){if(!(!si||!p)&&!(x!=null&&x.some(function(X){return X===si}))){var bt=Dn.find(function(X){return ef(X[re],si)});!bt&&si===Ri&&(bt=ye(Ri)),Un(si),Xo(),bt&&Le(si,bt,At),_e(si,At),_i()}}),Rt=kn(function(At){var bt=At==null?void 0:At.target;if((bt==null?void 0:bt.tagName)!=="INPUT"){Re();return}if(!((bt==null?void 0:bt.tagName)==="INPUT"&&bt!==null&&bt!==void 0&&bt.value)){var X=Kn();X.pop(),Un(X),_e(X,At)}}),vn=kn(function(At){m||Ri!==""||(Un(null),Qr(null),Xo(),_e(vt?[]:null,At),ge==null||ge(At))}),jt={onMenuPressBackspace:vt?Rt:vn,onMenuKeyDown:zi,onMenuPressEnter:void 0,onKeyDown:void 0},Jn=kn(function(At){Qc("Space",Sn)&&At.key===oa.SPACE&&(Qe(At),At.preventDefault()),Qc("Comma",Sn)&&At.key===oa.COMMA&&(Qe(At),At.preventDefault())});vt?(Qc("Enter",Sn)&&(jt.onMenuPressEnter=Qe),V&&(jt.onKeyDown=Jn)):jt.onMenuPressEnter=ut;var Pr=Fen(wt({trigger:Nr,target:ki,overlay:Hu},jt,mt)),zr=kn(function(){Qr(vt?Ct==null?void 0:Ct[0]:Ct),Xo()}),To=kn(function(At){if(!g){var bt;ce(!0),(bt=Nr.current)===null||bt===void 0||bt.open()}xn==null||xn(At)}),Bc=kn(function(){Re(),ce(!0)}),Hf=kn(function(){ct(),ce(!1)}),d1=function(bt,X){var oe=X.create?de.createElement("span",null,eqt(Bn.createOption,bt)):bt;return ze?ze(oe,X):oe},am=function(){if(vt)return{isValid:!1,itemNode:null};var bt=ee(Ct),X=bt.itemNode;return!Jc(Ct)&&Hm(Ae)&&(X=Ae(Ct,bt.activeItem,X)),{isValid:bt.isValid,itemNode:X}},Rw=function(){if(!vt)return null;var bt=rn.closable,X=bt===void 0?!0:bt,oe=rn.onClose,Se=ar(rn,stn),Nt=Ct||[],$n=[],cr=Nt.map(function(fr){var tn=ee(fr),Or=tn.isValid,hi=tn.itemNode,Co=tn.activeItem;return $n.push(Co),Or?de.createElement(dne,wt({role:"option"},Se,{key:fr,size:rtn(k),closable:!m&&X&&!g&&!y,title:typeof hi=="string"?hi:void 0,onClose:pu(me.bind(null,fr),oe)}),hi):null}).filter(function(fr){return fr!==null});return(Nt.length>0||Xr)&&Hm(Ae)?Ae(Ct,$n,cr):cr},qu=function(bt,X){var oe=bt.left,Se=bt.top,Nt=bt.className,$n=vt?"picker-check-menu":"picker-select-menu",cr=Yo(Nt,z,xr(vt?"check-menu":"select-menu")),fr=wt({},H,{left:oe,top:Se}),tn=gen(Dn,Y);if(V&&(typeof G=="function"?G(Ri,tn):Ri&&!tn.find(function(hi){return hi[re]===Ri}))&&(tn=[].concat(tn,[ye(Ri)])),B?tn=DGt(tn,B,ht):typeof ht=="function"&&(tn=tn.sort(ht(!1))),sn)return de.createElement(WW,{ref:gc(Hu,X)});var Or=tn.length?de.createElement(v4e,{listProps:ve,listRef:au,disabledItemValues:x,valueKey:re,labelKey:xe,classPrefix:$n,listItemClassPrefix:vt?void 0:$n+"-item",listItemAs:vt?_4e:b4e,listItemProps:{renderCheckbox:Ui},activeItemValues:vt?Ct:[Ct],focusItemValue:si,maxHeight:F,data:tn,query:Ri,groupBy:B,onSelect:vt?Ze:Ke,renderMenuGroup:et,renderMenuItem:d1,virtualized:ue}):de.createElement("div",{className:xr(xve||(xve=Ms(["none"])))},Bn==null?void 0:Bn.noResultsText);return de.createElement(WW,{ref:gc(Hu,X),autoWidth:U,className:cr,style:fr,target:Nr,onKeyDown:Pr},Je?Je(Or):Or,we==null?void 0:we())},Qo=am(),qf=Qo.isValid,ah=Qo.itemNode,Wu=Rw(),Wf=!Jc(Ct)&&Hm(Ae)&&!Jc(ah),h1=E3t(Ct)&&Ct.length>0&&Hm(Ae)&&!Jc(Wu),uh=vt?!!(Wu!=null&&Wu.length)||h1:qf||Wf,Uc=Uen(wt({},e,{classPrefix:d,appearance:o,hasValue:uh,name:"input",cleanable:u})),Sa=Uc[0],GC=Uc[1],Nw=Yo(Sa,(n={},n[xr(Sve||(Sve=Ms(["tag"])))]=vt,n[xr((vt?"tag":"input")+"-"+k)]=k,n[xr(Tve||(Tve=Ms(["focused"])))]=qs,n[xr(Cve||(Cve=Ms(["disabled-options"])))]=sn,n)),um=!!Ri&&qs,lm=D&&!m&&!mt.loading;if(y){var lh={};return vt&&uh&&(lh.as=iy,lh.spacing=6,lh.wrap=!0,lh.childrenRenderMode="clone"),de.createElement(cne,wt({localeKey:"notSelected",ref:ki},lh),ah||(Wu!=null&&Wu.length?Wu:null)||$)}var cm=$||(sn?null:Bn==null?void 0:Bn.placeholder);return de.createElement(d4e,{id:We,multiple:vt,pickerProps:M6e(e,c4e),ref:Nr,trigger:"active",onEnter:pu(Bc,Ot),onEntered:Oe,onExit:pu(Hf,fe),onExited:pu(zr,Xe),speaker:qu,placement:M},de.createElement(i,{className:Nw,style:I,onClick:Re,onKeyDown:Pr,ref:Ur},de.createElement(x4e,wt({},Y5(mt,[].concat(l4e,GC)),{appearance:o,readOnly:g,plaintext:y,ref:ki,as:C,tabIndex:Be,onClean:vn,cleanable:u&&!m,hasValue:uh,active:qs,disabled:m,placement:M,inputValue:Ct,focusItemValue:si,caret:!sn,size:k}),um||vt&&uh?null:ah||cm),de.createElement(Ken,{showTagList:uh&&vt,inputRef:he,inputValue:qs?Ri:"",inputProps:Ne,tags:Wu,editable:lm,readOnly:g,disabled:m,multiple:vt,onBlur:pt,onFocus:To,onChange:le})))});pne.displayName="InputPicker";pne.propTypes=wt({},Ven,{locale:be.any,appearance:_l(["default","subtle"]),cacheData:be.array,menuAutoWidth:be.bool,menuMaxHeight:be.number,searchable:be.bool,creatable:be.bool,groupBy:be.any,sort:be.func,renderMenu:be.func,renderMenuItem:be.func,renderMenuGroup:be.func,onCreate:be.func,onSelect:be.func,onGroupTitleClick:be.func,onSearch:be.func,virtualized:be.bool,searchBy:be.func});var otn=["tagProps","trigger","onTagRemove","renderMenuItemCheckbox"],A4e=de.forwardRef(function(e,t){var n=e.tagProps,r=n===void 0?{}:n,i=e.trigger,s=i===void 0?"Enter":i,o=e.onTagRemove,a=e.renderMenuItemCheckbox,u=ar(e,otn),l=A.useMemo(function(){return{multi:!0,trigger:s,tagProps:r,onTagRemove:o,renderCheckbox:a}},[o,a,r,s]);return de.createElement(Qen,{value:l},de.createElement(pne,wt({},u,{ref:t})))});A4e.displayName="TagPicker";var I4e={},GW={exports:{}},S7={},Ave;function atn(){return Ave||(Ave=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(A);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function s(){return s=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},s.apply(this,arguments)}function o(l,c){return n.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M9.393 24.893a2.29 2.29 0 01-2.286 2.286 2.302 2.302 0 01-2.286-2.286 2.29 2.29 0 012.286-2.286 2.279 2.279 0 012.286 2.286zm8.893 3.678c0 1.268-1.018 2.286-2.286 2.286s-2.286-1.018-2.286-2.286 1.018-2.286 2.286-2.286 2.286 1.018 2.286 2.286zM5.714 16c0 1.268-1.018 2.286-2.286 2.286S1.142 17.268 1.142 16s1.018-2.286 2.286-2.286S5.714 14.732 5.714 16zm21.465 8.893a2.302 2.302 0 01-2.286 2.286 2.29 2.29 0 01-2.286-2.286 2.279 2.279 0 012.286-2.286 2.29 2.29 0 012.286 2.286zM9.964 7.107c0 1.571-1.286 2.857-2.857 2.857S4.25 8.678 4.25 7.107 5.536 4.25 7.107 4.25s2.857 1.286 2.857 2.857zM30.857 16c0 1.268-1.018 2.286-2.286 2.286S26.285 17.268 26.285 16s1.018-2.286 2.286-2.286 2.286 1.018 2.286 2.286zM19.429 3.429a3.43 3.43 0 01-6.858 0 3.43 3.43 0 016.858 0zm9.464 3.678c0 2.214-1.804 4-4 4-2.214 0-4-1.786-4-4 0-2.196 1.786-4 4-4 2.196 0 4 1.804 4 4z"}))}var a=n.forwardRef(o),u=a;e.default=u}(S7)),S7}(function(e,t){var n=Bf;t.__esModule=!0,t.default=void 0;var r=n(cw()),i=n(atn()),s=(0,r.default)({as:i.default,ariaLabel:"spinner",category:"legacy",displayName:"Spinner"}),o=s;t.default=o,e.exports=t.default})(GW,GW.exports);var utn=GW.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(utn);function n(r){return r&&r.__esModule?r:{default:r}}})(I4e);const ltn=On(I4e);var Ive={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ctn=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},mne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(k4e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ctn(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new ftn;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ftn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dtn=function(e){const t=k4e(e);return mne.encodeByteArray(t,!0)},t6=function(e){return dtn(e).replace(/\./g,"")},R4e=function(e){try{return mne.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const htn=()=>N4e().__FIREBASE_DEFAULTS__,ptn=()=>{if(typeof process>"u"||typeof Ive>"u")return;const e=Ive.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mtn=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&R4e(e[1]);return t&&JSON.parse(t)},J5=()=>{try{return htn()||ptn()||mtn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},P4e=e=>{var t,n;return(n=(t=J5())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},gtn=e=>{const t=P4e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},O4e=()=>{var e;return(e=J5())===null||e===void 0?void 0:e.config},D4e=e=>{var t;return(t=J5())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ytn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[t6(JSON.stringify(n)),t6(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vtn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_a())}function btn(){var e;const t=(e=J5())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _tn(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function wtn(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Etn(){const e=_a();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xtn(){return!btn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gne(){try{return typeof indexedDB=="object"}catch{return!1}}function Stn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ttn="FirebaseError";class Kp extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ttn,Object.setPrototypeOf(this,Kp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gC.prototype.create)}}class gC{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Ctn(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kp(i,a,r)}}function Ctn(e,t){return e.replace(Atn,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Atn=/\{\$([^}]+)}/g;function Itn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nR(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(kve(s)&&kve(o)){if(!nR(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kve(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ktn(e,t){const n=new Rtn(e,t);return n.subscribe.bind(n)}class Rtn{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ntn(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=T7),i.error===void 0&&(i.error=T7),i.complete===void 0&&(i.complete=T7);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ntn(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function T7(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ptn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Otn=1e3,Dtn=2,$tn=4*60*60*1e3,Mtn=.5;function Ltn(e,t=Otn,n=Dtn){const r=t*Math.pow(n,e),i=Math.round(Mtn*r*(Math.random()-.5)*2);return Math.min($tn,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){return e&&e._delegate?e._delegate:e}class Ap{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ftn{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new tR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Btn(t))try{this.getOrInitializeService({instanceIdentifier:H1})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=H1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=H1){return this.instances.has(t)}getOptions(t=H1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jtn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=H1){return this.component?this.component.multipleInstances?t:H1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jtn(e){return e===H1?void 0:e}function Btn(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Utn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ftn(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(hr||(hr={}));const ztn={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},Vtn=hr.INFO,Htn={[hr.DEBUG]:"log",[hr.VERBOSE]:"log",[hr.INFO]:"info",[hr.WARN]:"warn",[hr.ERROR]:"error"},qtn=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Htn[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Z5{constructor(t){this.name=t,this._logLevel=Vtn,this._logHandler=qtn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in hr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ztn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,hr.DEBUG,...t),this._logHandler(this,hr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,hr.VERBOSE,...t),this._logHandler(this,hr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,hr.INFO,...t),this._logHandler(this,hr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,hr.WARN,...t),this._logHandler(this,hr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,hr.ERROR,...t),this._logHandler(this,hr.ERROR,...t)}}const Wtn=(e,t)=>t.some(n=>e instanceof n);let Rve,Nve;function Gtn(){return Rve||(Rve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ytn(){return Nve||(Nve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $4e=new WeakMap,YW=new WeakMap,M4e=new WeakMap,C7=new WeakMap,yne=new WeakMap;function Ktn(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Py(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$4e.set(n,e)}).catch(()=>{}),yne.set(t,e),t}function Xtn(e){if(YW.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});YW.set(e,t)}let KW={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return YW.get(e);if(t==="objectStoreNames")return e.objectStoreNames||M4e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Py(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Qtn(e){KW=e(KW)}function Jtn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(A7(this),t,...n);return M4e.set(r,t.sort?t.sort():[t]),Py(r)}:Ytn().includes(e)?function(...t){return e.apply(A7(this),t),Py($4e.get(this))}:function(...t){return Py(e.apply(A7(this),t))}}function Ztn(e){return typeof e=="function"?Jtn(e):(e instanceof IDBTransaction&&Xtn(e),Wtn(e,Gtn())?new Proxy(e,KW):e)}function Py(e){if(e instanceof IDBRequest)return Ktn(e);if(C7.has(e))return C7.get(e);const t=Ztn(e);return t!==e&&(C7.set(e,t),yne.set(t,e)),t}const A7=e=>yne.get(e);function enn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Py(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Py(o.result),u.oldVersion,u.newVersion,Py(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const tnn=["get","getKey","getAll","getAllKeys","count"],nnn=["put","add","delete","clear"],I7=new Map;function Pve(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(I7.get(t))return I7.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nnn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tnn.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return I7.set(t,s),s}Qtn(e=>({...e,get:(t,n,r)=>Pve(t,n)||e.get(t,n,r),has:(t,n)=>!!Pve(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rnn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(inn(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function inn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const XW="@firebase/app",Ove="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Z5("@firebase/app"),snn="@firebase/app-compat",onn="@firebase/analytics-compat",ann="@firebase/analytics",unn="@firebase/app-check-compat",lnn="@firebase/app-check",cnn="@firebase/auth",fnn="@firebase/auth-compat",dnn="@firebase/database",hnn="@firebase/database-compat",pnn="@firebase/functions",mnn="@firebase/functions-compat",gnn="@firebase/installations",ynn="@firebase/installations-compat",vnn="@firebase/messaging",bnn="@firebase/messaging-compat",_nn="@firebase/performance",wnn="@firebase/performance-compat",Enn="@firebase/remote-config",xnn="@firebase/remote-config-compat",Snn="@firebase/storage",Tnn="@firebase/storage-compat",Cnn="@firebase/firestore",Ann="@firebase/vertexai-preview",Inn="@firebase/firestore-compat",knn="firebase",Rnn="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="[DEFAULT]",Nnn={[XW]:"fire-core",[snn]:"fire-core-compat",[ann]:"fire-analytics",[onn]:"fire-analytics-compat",[lnn]:"fire-app-check",[unn]:"fire-app-check-compat",[cnn]:"fire-auth",[fnn]:"fire-auth-compat",[dnn]:"fire-rtdb",[hnn]:"fire-rtdb-compat",[pnn]:"fire-fn",[mnn]:"fire-fn-compat",[gnn]:"fire-iid",[ynn]:"fire-iid-compat",[vnn]:"fire-fcm",[bnn]:"fire-fcm-compat",[_nn]:"fire-perf",[wnn]:"fire-perf-compat",[Enn]:"fire-rc",[xnn]:"fire-rc-compat",[Snn]:"fire-gcs",[Tnn]:"fire-gcs-compat",[Cnn]:"fire-fst",[Inn]:"fire-fst-compat",[Ann]:"fire-vertex","fire-js":"fire-js",[knn]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Map,Pnn=new Map,JW=new Map;function Dve(e,t){try{e.container.addComponent(t)}catch(n){h_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $g(e){const t=e.name;if(JW.has(t))return h_.debug(`There were multiple attempts to register component ${t}.`),!1;JW.set(t,e);for(const n of n6.values())Dve(n,e);for(const n of Pnn.values())Dve(n,e);return!0}function yC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xh(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Onn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oy=new gC("app","Firebase",Onn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dnn{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ap("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oy.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=Rnn;function L4e(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:QW,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Oy.create("bad-app-name",{appName:String(i)});if(n||(n=O4e()),!n)throw Oy.create("no-options");const s=n6.get(i);if(s){if(nR(n,s.options)&&nR(r,s.config))return s;throw Oy.create("duplicate-app",{appName:i})}const o=new Utn(i);for(const u of JW.values())o.addComponent(u);const a=new Dnn(n,r,o);return n6.set(i,a),a}function vne(e=QW){const t=n6.get(e);if(!t&&e===QW&&O4e())return L4e();if(!t)throw Oy.create("no-app",{appName:e});return t}function Nd(e,t,n){var r;let i=(r=Nnn[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),h_.warn(a.join(" "));return}$g(new Ap(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $nn="firebase-heartbeat-database",Mnn=1,rR="firebase-heartbeat-store";let k7=null;function F4e(){return k7||(k7=enn($nn,Mnn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(rR)}catch(n){console.warn(n)}}}}).catch(e=>{throw Oy.create("idb-open",{originalErrorMessage:e.message})})),k7}async function Lnn(e){try{const n=(await F4e()).transaction(rR),r=await n.objectStore(rR).get(j4e(e));return await n.done,r}catch(t){if(t instanceof Kp)h_.warn(t.message);else{const n=Oy.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});h_.warn(n.message)}}}async function $ve(e,t){try{const r=(await F4e()).transaction(rR,"readwrite");await r.objectStore(rR).put(t,j4e(e)),await r.done}catch(n){if(n instanceof Kp)h_.warn(n.message);else{const r=Oy.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});h_.warn(r.message)}}}function j4e(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fnn=1024,jnn=30*24*60*60*1e3;class Bnn{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new znn(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mve();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=jnn}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mve(),{heartbeatsToSend:r,unsentEntries:i}=Unn(this._heartbeatsCache.heartbeats),s=t6(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Mve(){return new Date().toISOString().substring(0,10)}function Unn(e,t=Fnn){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lve(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lve(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class znn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gne()?Stn().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lnn(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $ve(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $ve(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Lve(e){return t6(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vnn(e){$g(new Ap("platform-logger",t=>new rnn(t),"PRIVATE")),$g(new Ap("heartbeat",t=>new Bnn(t),"PRIVATE")),Nd(XW,Ove,e),Nd(XW,Ove,"esm2017"),Nd("fire-js","")}Vnn("");var Fve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mb,B4e;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(k,R,D){for(var P=Array(arguments.length-2),$=2;$<arguments.length;$++)P[$-2]=arguments[$];return C.prototype[R].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var k=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)k[R]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(R=0;16>R;++R)k[R]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],R=S.g[2];var D=S.g[3],P=C+(D^I&(R^D))+k[0]+3614090360&4294967295;C=I+(P<<7&4294967295|P>>>25),P=D+(R^C&(I^R))+k[1]+3905402710&4294967295,D=C+(P<<12&4294967295|P>>>20),P=R+(I^D&(C^I))+k[2]+606105819&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(C^R&(D^C))+k[3]+3250441966&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(D^I&(R^D))+k[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(R^C&(I^R))+k[5]+1200080426&4294967295,D=C+(P<<12&4294967295|P>>>20),P=R+(I^D&(C^I))+k[6]+2821735955&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(C^R&(D^C))+k[7]+4249261313&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(D^I&(R^D))+k[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(R^C&(I^R))+k[9]+2336552879&4294967295,D=C+(P<<12&4294967295|P>>>20),P=R+(I^D&(C^I))+k[10]+4294925233&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(C^R&(D^C))+k[11]+2304563134&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(D^I&(R^D))+k[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(R^C&(I^R))+k[13]+4254626195&4294967295,D=C+(P<<12&4294967295|P>>>20),P=R+(I^D&(C^I))+k[14]+2792965006&4294967295,R=D+(P<<17&4294967295|P>>>15),P=I+(C^R&(D^C))+k[15]+1236535329&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(R^D&(I^R))+k[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(C^I))+k[6]+3225465664&4294967295,D=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(D^C))+k[11]+643717713&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(R^D))+k[0]+3921069994&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^D&(I^R))+k[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(C^I))+k[10]+38016083&4294967295,D=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(D^C))+k[15]+3634488961&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(R^D))+k[4]+3889429448&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^D&(I^R))+k[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(C^I))+k[14]+3275163606&4294967295,D=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(D^C))+k[3]+4107603335&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(R^D))+k[8]+1163531501&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^D&(I^R))+k[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^R&(C^I))+k[2]+4243563512&4294967295,D=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(D^C))+k[7]+1735328473&4294967295,R=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(R^D))+k[12]+2368359562&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(I^R^D)+k[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^R)+k[8]+2272392833&4294967295,D=C+(P<<11&4294967295|P>>>21),P=R+(D^C^I)+k[11]+1839030562&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^C)+k[14]+4259657740&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^D)+k[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^R)+k[4]+1272893353&4294967295,D=C+(P<<11&4294967295|P>>>21),P=R+(D^C^I)+k[7]+4139469664&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^C)+k[10]+3200236656&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^D)+k[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^R)+k[0]+3936430074&4294967295,D=C+(P<<11&4294967295|P>>>21),P=R+(D^C^I)+k[3]+3572445317&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^C)+k[6]+76029189&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^D)+k[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^R)+k[12]+3873151461&4294967295,D=C+(P<<11&4294967295|P>>>21),P=R+(D^C^I)+k[15]+530742520&4294967295,R=D+(P<<16&4294967295|P>>>16),P=I+(R^D^C)+k[2]+3299628645&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(R^(I|~D))+k[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~R))+k[7]+1126891415&4294967295,D=C+(P<<10&4294967295|P>>>22),P=R+(C^(D|~I))+k[14]+2878612391&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~C))+k[5]+4237533241&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~D))+k[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~R))+k[3]+2399980690&4294967295,D=C+(P<<10&4294967295|P>>>22),P=R+(C^(D|~I))+k[10]+4293915773&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~C))+k[1]+2240044497&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~D))+k[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~R))+k[15]+4264355552&4294967295,D=C+(P<<10&4294967295|P>>>22),P=R+(C^(D|~I))+k[6]+2734768916&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~C))+k[13]+1309151649&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~D))+k[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~R))+k[11]+3174756917&4294967295,D=C+(P<<10&4294967295|P>>>22),P=R+(C^(D|~I))+k[2]+718787259&4294967295,R=D+(P<<15&4294967295|P>>>17),P=I+(D^(R|~C))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,k=this.B,R=this.h,D=0;D<C;){if(R==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(k[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,k),R=0;break}}else for(;D<C;)if(k[R++]=S[D++],R==this.blockSize){i(this,k),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var k=0;32>k;k+=8)S[I++]=this.g[C]>>>k&255;return S};function s(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function o(S,C){this.h=C;for(var I=[],k=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;k&&D==C||(I[R]=D,k=!1)}this.g=I}var a={};function u(S){return-128<=S&&128>S?s(S,function(C){return new o([C|0],0>C?-1:0)}):new o([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return g(l(-S));for(var C=[],I=1,k=0;S>=I;k++)C[k]=S/I|0,I*=4294967296;return new o(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return g(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(C,8)),k=f,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),P=parseInt(S.substring(R,R+D),C);8>D?(D=l(Math.pow(C,D)),k=k.j(D).add(l(P))):(k=k.j(I),k=k.add(l(P)))}return k}var f=u(0),d=u(1),h=u(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var k=this.i(I);S+=(0<=k?k:4294967296+k)*C,C*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(m(this))return"-"+g(this).toString(S);for(var C=l(Math.pow(S,6)),I=this,k="";;){var R=w(I,C).g;I=y(I,R.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,p(I))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function m(S){return S.h==-1}e.l=function(S){return S=y(this,S),m(S)?-1:p(S)?0:1};function g(S){for(var C=S.g.length,I=[],k=0;k<C;k++)I[k]=~S.g[k];return new o(I,~S.h).add(d)}e.abs=function(){return m(this)?g(this):this},e.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],k=0,R=0;R<=C;R++){var D=k+(this.i(R)&65535)+(S.i(R)&65535),P=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);k=P>>>16,D&=65535,P&=65535,I[R]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(S,C){return S.add(g(C))}e.j=function(S){if(p(this)||p(S))return f;if(m(this))return m(S)?g(this).j(g(S)):g(g(this).j(S));if(m(S))return g(this.j(g(S)));if(0>this.l(h)&&0>S.l(h))return l(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<S.g.length;R++){var D=this.i(k)>>>16,P=this.i(k)&65535,$=S.i(R)>>>16,L=S.i(R)&65535;I[2*k+2*R]+=P*L,v(I,2*k+2*R),I[2*k+2*R+1]+=D*L,v(I,2*k+2*R+1),I[2*k+2*R+1]+=P*$,v(I,2*k+2*R+1),I[2*k+2*R+2]+=D*$,v(I,2*k+2*R+2)}for(k=0;k<C;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=C;k<2*C;k++)I[k]=0;return new o(I,0)};function v(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function w(S,C){if(p(C))throw Error("division by zero");if(p(S))return new b(f,f);if(m(S))return C=w(g(S),C),new b(g(C.g),g(C.h));if(m(C))return C=w(S,g(C)),new b(g(C.g),C.h);if(30<S.g.length){if(m(S)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var I=d,k=C;0>=k.l(S);)I=E(I),k=E(k);var R=x(I,1),D=x(k,1);for(k=x(k,2),I=x(I,2);!p(k);){var P=D.add(k);0>=P.l(S)&&(R=R.add(I),D=P),k=x(k,1),I=x(I,1)}return C=y(S,R.j(C)),new b(R,C)}for(R=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=l(I),P=D.j(C);m(P)||0<P.l(S);)I-=k,D=l(I),P=D.j(C);p(D)&&(D=d),R=R.add(D),S=y(S,P)}return new b(R,S)}e.A=function(S){return w(this,S).h},e.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)&S.i(k);return new o(I,this.h&S.h)},e.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)|S.i(k);return new o(I,this.h|S.h)},e.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)^S.i(k);return new o(I,this.h^S.h)};function E(S){for(var C=S.g.length+1,I=[],k=0;k<C;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(I,S.h)}function x(S,C){var I=C>>5;C%=32;for(var k=S.g.length-I,R=[],D=0;D<k;D++)R[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B4e=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,Mb=o}).apply(typeof Fve<"u"?Fve:typeof self<"u"?self:typeof window<"u"?window:{});var cD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U4e,z4e,SA,V4e,U$,ZW,H4e,q4e,W4e;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,j,W){return T==Array.prototype||T==Object.prototype||(T[j]=W.value),T};function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof cD=="object"&&cD];for(var j=0;j<T.length;++j){var W=T[j];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(T,j){if(j)e:{var W=r;T=T.split(".");for(var J=0;J<T.length-1;J++){var Te=T[J];if(!(Te in W))break e;W=W[Te]}T=T[T.length-1],J=W[T],j=j(J),j!=J&&j!=null&&t(W,T,{configurable:!0,writable:!0,value:j})}}function s(T,j){T instanceof String&&(T+="");var W=0,J=!1,Te={next:function(){if(!J&&W<T.length){var Me=W++;return{value:j(Me,T[Me]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}i("Array.prototype.values",function(T){return T||function(){return s(this,function(j,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(T){var j=typeof T;return j=j!="object"?j:T?Array.isArray(T)?"array":j:"null",j=="array"||j=="object"&&typeof T.length=="number"}function l(T){var j=typeof T;return j=="object"&&T!=null||j=="function"}function c(T,j,W){return T.call.apply(T.bind,arguments)}function f(T,j,W){if(!T)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,J),T.apply(j,Te)}}return function(){return T.apply(j,arguments)}}function d(T,j,W){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(T,j){var W=Array.prototype.slice.call(arguments,1);return function(){var J=W.slice();return J.push.apply(J,arguments),T.apply(this,J)}}function p(T,j){function W(){}W.prototype=j.prototype,T.aa=j.prototype,T.prototype=new W,T.prototype.constructor=T,T.Qb=function(J,Te,Me){for(var _t=Array(arguments.length-2),pi=2;pi<arguments.length;pi++)_t[pi-2]=arguments[pi];return j.prototype[Te].apply(J,_t)}}function m(T){const j=T.length;if(0<j){const W=Array(j);for(let J=0;J<j;J++)W[J]=T[J];return W}return[]}function g(T,j){for(let W=1;W<arguments.length;W++){const J=arguments[W];if(u(J)){const Te=T.length||0,Me=J.length||0;T.length=Te+Me;for(let _t=0;_t<Me;_t++)T[Te+_t]=J[_t]}else T.push(J)}}class y{constructor(j,W){this.i=j,this.j=W,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function v(T){return/^[\s\xa0]*$/.test(T)}function b(){var T=a.navigator;return T&&(T=T.userAgent)?T:""}function w(T){return w[" "](T),T}w[" "]=function(){};var E=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function x(T,j,W){for(const J in T)j.call(W,T[J],J,T)}function S(T,j){for(const W in T)j.call(void 0,T[W],W,T)}function C(T){const j={};for(const W in T)j[W]=T[W];return j}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(T,j){let W,J;for(let Te=1;Te<arguments.length;Te++){J=arguments[Te];for(W in J)T[W]=J[W];for(let Me=0;Me<I.length;Me++)W=I[Me],Object.prototype.hasOwnProperty.call(J,W)&&(T[W]=J[W])}}function R(T){var j=1;T=T.split(":");const W=[];for(;0<j&&T.length;)W.push(T.shift()),j--;return T.length&&W.push(T.join(":")),W}function D(T){a.setTimeout(()=>{throw T},0)}function P(){var T=H;let j=null;return T.g&&(j=T.g,T.g=T.g.next,T.g||(T.h=null),j.next=null),j}class ${constructor(){this.h=this.g=null}add(j,W){const J=L.get();J.set(j,W),this.h?this.h.next=J:this.g=J,this.h=J}}var L=new y(()=>new M,T=>T.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,W){this.h=j,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,H=new $,O=()=>{const T=a.Promise.resolve(void 0);B=()=>{T.then(U)}};var U=()=>{for(var T;T=P();){try{T.h.call(T.g)}catch(W){D(W)}var j=L;j.j(T),100>j.h&&(j.h++,T.next=j.g,j.g=T)}z=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(T,j){this.type=T,this.g=this.target=j,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var T=!1,j=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const W=()=>{};a.addEventListener("test",W,j),a.removeEventListener("test",W,j)}catch{}return T}();function G(T,j){if(F.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var W=this.type=T.type,J=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=j,j=T.relatedTarget){if(E){e:{try{w(j.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(j=null)}}else W=="mouseover"?j=T.fromElement:W=="mouseout"&&(j=T.toElement);this.relatedTarget=j,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:Z[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&G.aa.h.call(this)}}p(G,F);var Z={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),re=0;function ue(T,j,W,J,Te){this.listener=T,this.proxy=null,this.src=j,this.type=W,this.capture=!!J,this.ha=Te,this.key=++re,this.da=this.fa=!1}function pe(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function xe(T){this.src=T,this.g={},this.h=0}xe.prototype.add=function(T,j,W,J,Te){var Me=T.toString();T=this.g[Me],T||(T=this.g[Me]=[],this.h++);var _t=We(T,j,J,Te);return-1<_t?(j=T[_t],W||(j.fa=!1)):(j=new ue(j,this.src,Me,!!J,Te),j.fa=W,T.push(j)),j};function ve(T,j){var W=j.type;if(W in T.g){var J=T.g[W],Te=Array.prototype.indexOf.call(J,j,void 0),Me;(Me=0<=Te)&&Array.prototype.splice.call(J,Te,1),Me&&(pe(j),T.g[W].length==0&&(delete T.g[W],T.h--))}}function We(T,j,W,J){for(var Te=0;Te<T.length;++Te){var Me=T[Te];if(!Me.da&&Me.listener==j&&Me.capture==!!W&&Me.ha==J)return Te}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),ht={};function Je(T,j,W,J,Te){if(Array.isArray(j)){for(var Me=0;Me<j.length;Me++)Je(T,j[Me],W,J,Te);return null}return W=nt(W),T&&T[ae]?T.K(j,W,l(J)?!!J.capture:!!J,Te):we(T,j,W,!1,J,Te)}function we(T,j,W,J,Te,Me){if(!j)throw Error("Invalid event type");var _t=l(Te)?!!Te.capture:!!Te,pi=fe(T);if(pi||(T[Be]=pi=new xe(T)),W=pi.add(j,W,J,_t,Me),W.proxy)return W;if(J=Ae(),W.proxy=J,J.src=T,J.listener=W,T.addEventListener)V||(Te=_t),Te===void 0&&(Te=!1),T.addEventListener(j.toString(),J,Te);else if(T.attachEvent)T.attachEvent(Ot(j.toString()),J);else if(T.addListener&&T.removeListener)T.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return W}function Ae(){function T(W){return j.call(T.src,T.listener,W)}const j=Oe;return T}function ze(T,j,W,J,Te){if(Array.isArray(j))for(var Me=0;Me<j.length;Me++)ze(T,j[Me],W,J,Te);else J=l(J)?!!J.capture:!!J,W=nt(W),T&&T[ae]?(T=T.i,j=String(j).toString(),j in T.g&&(Me=T.g[j],W=We(Me,W,J,Te),-1<W&&(pe(Me[W]),Array.prototype.splice.call(Me,W,1),Me.length==0&&(delete T.g[j],T.h--)))):T&&(T=fe(T))&&(j=T.g[j.toString()],T=-1,j&&(T=We(j,W,J,Te)),(W=-1<T?j[T]:null)&&et(W))}function et(T){if(typeof T!="number"&&T&&!T.da){var j=T.src;if(j&&j[ae])ve(j.i,T);else{var W=T.type,J=T.proxy;j.removeEventListener?j.removeEventListener(W,J,T.capture):j.detachEvent?j.detachEvent(Ot(W),J):j.addListener&&j.removeListener&&j.removeListener(J),(W=fe(j))?(ve(W,T),W.h==0&&(W.src=null,j[Be]=null)):pe(T)}}}function Ot(T){return T in ht?ht[T]:ht[T]="on"+T}function Oe(T,j){if(T.da)T=!0;else{j=new G(j,this);var W=T.listener,J=T.ha||T.src;T.fa&&et(T),T=W.call(J,j)}return T}function fe(T){return T=T[Be],T instanceof xe?T:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function nt(T){return typeof T=="function"?T:(T[Xe]||(T[Xe]=function(j){return T.handleEvent(j)}),T[Xe])}function ge(){q.call(this),this.i=new xe(this),this.M=this,this.F=null}p(ge,q),ge.prototype[ae]=!0,ge.prototype.removeEventListener=function(T,j,W,J){ze(this,T,j,W,J)};function ke(T,j){var W,J=T.F;if(J)for(W=[];J;J=J.F)W.push(J);if(T=T.M,J=j.type||j,typeof j=="string")j=new F(j,T);else if(j instanceof F)j.target=j.target||T;else{var Te=j;j=new F(J,T),k(j,Te)}if(Te=!0,W)for(var Me=W.length-1;0<=Me;Me--){var _t=j.g=W[Me];Te=Ve(_t,J,!0,j)&&Te}if(_t=j.g=T,Te=Ve(_t,J,!0,j)&&Te,Te=Ve(_t,J,!1,j)&&Te,W)for(Me=0;Me<W.length;Me++)_t=j.g=W[Me],Te=Ve(_t,J,!1,j)&&Te}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var T=this.i,j;for(j in T.g){for(var W=T.g[j],J=0;J<W.length;J++)pe(W[J]);delete T.g[j],T.h--}}this.F=null},ge.prototype.K=function(T,j,W,J){return this.i.add(String(T),j,!1,W,J)},ge.prototype.L=function(T,j,W,J){return this.i.add(String(T),j,!0,W,J)};function Ve(T,j,W,J){if(j=T.i.g[String(j)],!j)return!0;j=j.concat();for(var Te=!0,Me=0;Me<j.length;++Me){var _t=j[Me];if(_t&&!_t.da&&_t.capture==W){var pi=_t.listener,Jo=_t.ha||_t.src;_t.fa&&ve(T.i,_t),Te=pi.call(Jo,J)!==!1&&Te}}return Te&&!J.defaultPrevented}function Ye(T,j,W){if(typeof T=="function")W&&(T=d(T,W));else if(T&&typeof T.handleEvent=="function")T=d(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:a.setTimeout(T,j||0)}function pt(T){T.g=Ye(()=>{T.g=null,T.i&&(T.i=!1,pt(T))},T.l);const j=T.h;T.h=null,T.m.apply(null,j)}class xn extends q{constructor(j,W){super(),this.m=j,this.l=W,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(T){q.call(this),this.h=T,this.g={}}p(nr,q);var mt=[];function Lt(T){x(T.g,function(j,W){this.g.hasOwnProperty(W)&&et(j)},T),T.g={}}nr.prototype.N=function(){nr.aa.N.call(this),Lt(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=a.JSON.stringify,rn=a.JSON.parse,Sn=class{stringify(T){return a.JSON.stringify(T,void 0)}parse(T){return a.JSON.parse(T,void 0)}};function sn(){}sn.prototype.h=null;function Hs(T){return T.h||(T.h=T.i())}function Ui(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){F.call(this,"d")}p(Nr,F);function Ur(){F.call(this,"c")}p(Ur,F);var ki={},Hu=null;function au(){return Hu=Hu||new ge}ki.La="serverreachability";function jc(T){F.call(this,ki.La,T)}p(jc,F);function Bn(T){const j=au();ke(j,new jc(j))}ki.STAT_EVENT="statevent";function bi(T,j){F.call(this,ki.STAT_EVENT,T),this.stat=j}p(bi,F);function xr(T){const j=au();ke(j,new bi(j,T))}ki.Ma="timingevent";function Yo(T,j){F.call(this,ki.Ma,T),this.size=j}p(Yo,F);function xo(T,j){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){T()},j)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function ce(T,j,W,J,Te,Me){T.info(function(){if(T.g)if(Me)for(var _t="",pi=Me.split("&"),Jo=0;Jo<pi.length;Jo++){var Dr=pi[Jo].split("=");if(1<Dr.length){var Ta=Dr[0];Dr=Dr[1];var Ca=Ta.split("_");_t=2<=Ca.length&&Ca[1]=="type"?_t+(Ta+"="+Dr+"&"):_t+(Ta+"=redacted&")}}else _t=null;else _t=Me;return"XMLHTTP REQ ("+J+") [attempt "+Te+"]: "+j+`
`+W+`
`+_t})}function ne(T,j,W,J,Te,Me,_t){T.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Te+"]: "+j+`
`+W+`
`+Me+" "+_t})}function he(T,j,W,J){T.info(function(){return"XMLHTTP TEXT ("+j+"): "+Re(T,W)+(J?" "+J:"")})}function Ne(T,j){T.info(function(){return"TIMEOUT: "+j})}qs.prototype.info=function(){};function Re(T,j){if(!T.g)return j;if(!j)return null;try{var W=JSON.parse(j);if(W){for(T=0;T<W.length;T++)if(Array.isArray(W[T])){var J=W[T];if(!(2>J.length)){var Te=J[1];if(Array.isArray(Te)&&!(1>Te.length)){var Me=Te[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var _t=1;_t<Te.length;_t++)Te[_t]=""}}}}return vt(W)}catch{return j}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qt;function Dn(){}p(Dn,sn),Dn.prototype.g=function(){return new XMLHttpRequest},Dn.prototype.i=function(){return{}},Qt=new Dn;function Yn(T,j,W,J){this.j=T,this.i=j,this.l=W,this.R=J||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var lr={},Sr={};function Ct(T,j,W){T.L=1,T.v=Jn(Qe(j)),T.m=W,T.P=!0,Un(T,null)}function Un(T,j){T.F=Date.now(),_i(T),T.A=Qe(T.v);var W=T.A,J=T.R;Array.isArray(J)||(J=[String(J)]),Wu(W.i,"t",J),T.C=0,W=T.j.J,T.h=new Cn,T.g=ple(T.j,W?j:null,!T.m),0<T.O&&(T.M=new xn(d(T.Y,T,T.g),T.O)),j=T.U,W=T.g,J=T.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(mt[0]=Te.toString()),Te=mt);for(var Me=0;Me<Te.length;Me++){var _t=Je(W,Te[Me],J||j.handleEvent,!1,j.h||j);if(!_t)break;j.g[_t.key]=_t}j=T.H?C(T.H):{},T.m?(T.u||(T.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,j)):(T.u="GET",T.g.ea(T.A,T.u,null,j)),Bn(),ce(T.i,T.u,T.A,T.l,T.R,T.m)}Yn.prototype.ca=function(T){T=T.target;const j=this.M;j&&hi(T)==3?j.j():this.Y(T)},Yn.prototype.Y=function(T){try{if(T==this.g)e:{const Ca=hi(this.g);var j=this.g.Ba();const $w=this.g.Z();if(!(3>Ca)&&(Ca!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||Ca!=4||j==7||(j==8||0>=$w?Bn(3):Bn(2)),Yr(this);var W=this.g.Z();this.X=W;t:if(Xr(this)){var J=Co(this.g);T="";var Te=J.length,Me=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),si(this);var _t="";break t}this.h.i=new a.TextDecoder}for(j=0;j<Te;j++)this.h.h=!0,T+=this.h.i.decode(J[j],{stream:!(Me&&j==Te-1)});J.length=0,this.h.g+=T,this.C=0,_t=this.h.g}else _t=this.g.oa();if(this.o=W==200,ne(this.i,this.u,this.A,this.l,this.R,Ca,W),this.o){if(this.T&&!this.K){t:{if(this.g){var pi,Jo=this.g;if((pi=Jo.g?Jo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(pi)){var Dr=pi;break t}}Dr=null}if(W=Dr)he(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zi(this,W);else{this.o=!1,this.s=3,xr(12),Qr(this),si(this);break e}}if(this.P){W=!0;let Gf;for(;!this.J&&this.C<_t.length;)if(Gf=Kn(this,_t),Gf==Sr){Ca==4&&(this.s=4,xr(14),W=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Gf==lr){this.s=4,xr(15),he(this.i,this.l,_t,"[Invalid Chunk]"),W=!1;break}else he(this.i,this.l,Gf,null),zi(this,Gf);if(Xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ca!=4||_t.length!=0||this.h.h||(this.s=1,xr(16),W=!1),this.o=this.o&&W,!W)he(this.i,this.l,_t,"[Invalid Chunked Response]"),Qr(this),si(this);else if(0<_t.length&&!this.W){this.W=!0;var Ta=this.j;Ta.g==this&&Ta.ba&&!Ta.M&&(Ta.j.info("Great, no buffering proxy detected. Bytes received: "+_t.length),IB(Ta),Ta.M=!0,xr(11))}}else he(this.i,this.l,_t,null),zi(this,_t);Ca==4&&Qr(this),this.o&&!this.J&&(Ca==4?cle(this.j,this):(this.o=!1,_i(this)))}else p1(this.g),W==400&&0<_t.indexOf("Unknown SID")?(this.s=3,xr(12)):(this.s=0,xr(13)),Qr(this),si(this)}}}catch{}finally{}};function Xr(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function Kn(T,j){var W=T.C,J=j.indexOf(`
`,W);return J==-1?Sr:(W=Number(j.substring(W,J)),isNaN(W)?lr:(J+=1,J+W>j.length?Sr:(j=j.slice(J,J+W),T.C=J+W,j)))}Yn.prototype.cancel=function(){this.J=!0,Qr(this)};function _i(T){T.S=Date.now()+T.I,Ws(T,T.I)}function Ws(T,j){if(T.B!=null)throw Error("WatchDog timer not null");T.B=xo(d(T.ba,T),j)}function Yr(T){T.B&&(a.clearTimeout(T.B),T.B=null)}Yn.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(Ne(this.i,this.A),this.L!=2&&(Bn(),xr(17)),Qr(this),this.s=2,si(this)):Ws(this,this.S-T)};function si(T){T.j.G==0||T.J||cle(T.j,T)}function Qr(T){Yr(T);var j=T.M;j&&typeof j.ma=="function"&&j.ma(),T.M=null,Lt(T.U),T.g&&(j=T.g,T.g=null,j.abort(),j.ma())}function zi(T,j){try{var W=T.j;if(W.G!=0&&(W.g==T||Xo(W.h,T))){if(!T.K&&Xo(W.h,T)&&W.G==3){try{var J=W.Da.g.parse(j)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Te=J;if(Te[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<T.F)XP(W),YP(W);else break e;AB(W),xr(18)}}else W.za=Te[1],0<W.za-W.T&&37500>Te[2]&&W.F&&W.v==0&&!W.C&&(W.C=xo(d(W.Za,W),6e3));if(1>=Ri(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else m1(W,11)}else if((T.K||W.g==T)&&XP(W),!v(j))for(Te=W.Da.g.parse(j),j=0;j<Te.length;j++){let Dr=Te[j];if(W.T=Dr[0],Dr=Dr[1],W.G==2)if(Dr[0]=="c"){W.K=Dr[1],W.ia=Dr[2];const Ta=Dr[3];Ta!=null&&(W.la=Ta,W.j.info("VER="+W.la));const Ca=Dr[4];Ca!=null&&(W.Aa=Ca,W.j.info("SVER="+W.Aa));const $w=Dr[5];$w!=null&&typeof $w=="number"&&0<$w&&(J=1.5*$w,W.L=J,W.j.info("backChannelRequestTimeoutMs_="+J)),J=W;const Gf=T.g;if(Gf){const JP=Gf.g?Gf.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(JP){var Me=J.h;Me.g||JP.indexOf("spdy")==-1&&JP.indexOf("quic")==-1&&JP.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Y(Me,Me.h),Me.h=null))}if(J.D){const kB=Gf.g?Gf.g.getResponseHeader("X-HTTP-Session-Id"):null;kB&&(J.ya=kB,jt(J.I,J.D,kB))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-T.F,W.j.info("Handshake RTT: "+W.R+"ms")),J=W;var _t=T;if(J.qa=hle(J,J.J?J.ia:null,J.W),_t.K){le(J.h,_t);var pi=_t,Jo=J.L;Jo&&(pi.I=Jo),pi.B&&(Yr(pi),_i(pi)),J.g=_t}else ule(J);0<W.i.length&&KP(W)}else Dr[0]!="stop"&&Dr[0]!="close"||m1(W,7);else W.G==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?m1(W,7):Ow(W):Dr[0]!="noop"&&W.l&&W.l.ta(Dr),W.v=0)}}Bn(4)}catch{}}var So=class{constructor(T,j){this.g=T,this.map=j}};function Ko(T){this.l=T||10,a.PerformanceNavigationTiming?(T=a.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ns(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Ri(T){return T.h?1:T.g?T.g.size:0}function Xo(T,j){return T.h?T.h==j:T.g?T.g.has(j):!1}function Y(T,j){T.g?T.g.add(j):T.h=j}function le(T,j){T.h&&T.h==j?T.h=null:T.g&&T.g.has(j)&&T.g.delete(j)}Ko.prototype.cancel=function(){if(this.i=ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function ee(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let j=T.i;for(const W of T.g.values())j=j.concat(W.D);return j}return m(T.i)}function ye(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(u(T)){for(var j=[],W=T.length,J=0;J<W;J++)j.push(T[J]);return j}j=[],W=0;for(J in T)j[W++]=T[J];return j}function _e(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(u(T)||typeof T=="string"){var j=[];T=T.length;for(var W=0;W<T;W++)j.push(W);return j}j=[],W=0;for(const J in T)j[W++]=J;return j}}}function me(T,j){if(T.forEach&&typeof T.forEach=="function")T.forEach(j,void 0);else if(u(T)||typeof T=="string")Array.prototype.forEach.call(T,j,void 0);else for(var W=_e(T),J=ye(T),Te=J.length,Me=0;Me<Te;Me++)j.call(void 0,J[Me],W&&W[Me],T)}var Le=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ke(T,j){if(T){T=T.split("&");for(var W=0;W<T.length;W++){var J=T[W].indexOf("="),Te=null;if(0<=J){var Me=T[W].substring(0,J);Te=T[W].substring(J+1)}else Me=T[W];j(Me,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function Ze(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof Ze){this.h=T.h,ut(this,T.j),this.o=T.o,this.g=T.g,Rt(this,T.s),this.l=T.l;var j=T.i,W=new qu;W.i=j.i,j.g&&(W.g=new Map(j.g),W.h=j.h),vn(this,W),this.m=T.m}else T&&(j=String(T).match(Le))?(this.h=!1,ut(this,j[1]||"",!0),this.o=Pr(j[2]||""),this.g=Pr(j[3]||"",!0),Rt(this,j[4]),this.l=Pr(j[5]||"",!0),vn(this,j[6]||"",!0),this.m=Pr(j[7]||"")):(this.h=!1,this.i=new qu(null,this.h))}Ze.prototype.toString=function(){var T=[],j=this.j;j&&T.push(zr(j,Bc,!0),":");var W=this.g;return(W||j=="file")&&(T.push("//"),(j=this.o)&&T.push(zr(j,Bc,!0),"@"),T.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&T.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&T.push("/"),T.push(zr(W,W.charAt(0)=="/"?d1:Hf,!0))),(W=this.i.toString())&&T.push("?",W),(W=this.m)&&T.push("#",zr(W,Rw)),T.join("")};function Qe(T){return new Ze(T)}function ut(T,j,W){T.j=W?Pr(j,!0):j,T.j&&(T.j=T.j.replace(/:$/,""))}function Rt(T,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);T.s=j}else T.s=null}function vn(T,j,W){j instanceof qu?(T.i=j,h1(T.i,T.h)):(W||(j=zr(j,am)),T.i=new qu(j,T.h))}function jt(T,j,W){T.i.set(j,W)}function Jn(T){return jt(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Pr(T,j){return T?j?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function zr(T,j,W){return typeof T=="string"?(T=encodeURI(T).replace(j,To),W&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function To(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var Bc=/[#\/\?@]/g,Hf=/[#\?:]/g,d1=/[#\?]/g,am=/[#\?@]/g,Rw=/#/g;function qu(T,j){this.h=this.g=null,this.i=T||null,this.j=!!j}function Qo(T){T.g||(T.g=new Map,T.h=0,T.i&&Ke(T.i,function(j,W){T.add(decodeURIComponent(j.replace(/\+/g," ")),W)}))}e=qu.prototype,e.add=function(T,j){Qo(this),this.i=null,T=Wf(this,T);var W=this.g.get(T);return W||this.g.set(T,W=[]),W.push(j),this.h+=1,this};function qf(T,j){Qo(T),j=Wf(T,j),T.g.has(j)&&(T.i=null,T.h-=T.g.get(j).length,T.g.delete(j))}function ah(T,j){return Qo(T),j=Wf(T,j),T.g.has(j)}e.forEach=function(T,j){Qo(this),this.g.forEach(function(W,J){W.forEach(function(Te){T.call(j,Te,J,this)},this)},this)},e.na=function(){Qo(this);const T=Array.from(this.g.values()),j=Array.from(this.g.keys()),W=[];for(let J=0;J<j.length;J++){const Te=T[J];for(let Me=0;Me<Te.length;Me++)W.push(j[J])}return W},e.V=function(T){Qo(this);let j=[];if(typeof T=="string")ah(this,T)&&(j=j.concat(this.g.get(Wf(this,T))));else{T=Array.from(this.g.values());for(let W=0;W<T.length;W++)j=j.concat(T[W])}return j},e.set=function(T,j){return Qo(this),this.i=null,T=Wf(this,T),ah(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[j]),this.h+=1,this},e.get=function(T,j){return T?(T=this.V(T),0<T.length?String(T[0]):j):j};function Wu(T,j,W){qf(T,j),0<W.length&&(T.i=null,T.g.set(Wf(T,j),m(W)),T.h+=W.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],j=Array.from(this.g.keys());for(var W=0;W<j.length;W++){var J=j[W];const Me=encodeURIComponent(String(J)),_t=this.V(J);for(J=0;J<_t.length;J++){var Te=Me;_t[J]!==""&&(Te+="="+encodeURIComponent(String(_t[J]))),T.push(Te)}}return this.i=T.join("&")};function Wf(T,j){return j=String(j),T.j&&(j=j.toLowerCase()),j}function h1(T,j){j&&!T.j&&(Qo(T),T.i=null,T.g.forEach(function(W,J){var Te=J.toLowerCase();J!=Te&&(qf(this,J),Wu(this,Te,W))},T)),T.j=j}function uh(T,j){const W=new qs;if(a.Image){const J=new Image;J.onload=h(Sa,W,"TestLoadImage: loaded",!0,j,J),J.onerror=h(Sa,W,"TestLoadImage: error",!1,j,J),J.onabort=h(Sa,W,"TestLoadImage: abort",!1,j,J),J.ontimeout=h(Sa,W,"TestLoadImage: timeout",!1,j,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=T}else j(!1)}function Uc(T,j){const W=new qs,J=new AbortController,Te=setTimeout(()=>{J.abort(),Sa(W,"TestPingServer: timeout",!1,j)},1e4);fetch(T,{signal:J.signal}).then(Me=>{clearTimeout(Te),Me.ok?Sa(W,"TestPingServer: ok",!0,j):Sa(W,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Te),Sa(W,"TestPingServer: error",!1,j)})}function Sa(T,j,W,J,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),J(W)}catch{}}function GC(){this.g=new Sn}function Nw(T,j,W){const J=W||"";try{me(T,function(Te,Me){let _t=Te;l(Te)&&(_t=vt(Te)),j.push(J+Me+"="+encodeURIComponent(_t))})}catch(Te){throw j.push(J+"type="+encodeURIComponent("_badmap")),Te}}function um(T){this.l=T.Ub||null,this.j=T.eb||!1}p(um,sn),um.prototype.g=function(){return new lm(this.l,this.j)},um.prototype.i=function(T){return function(){return T}}({});function lm(T,j){ge.call(this),this.D=T,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(lm,ge),e=lm.prototype,e.open=function(T,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=j,this.readyState=1,At(this)},e.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(j.body=T),(this.D||a).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cm(this)),this.readyState=0},e.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}e.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var j=T.value?T.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!T.done}))&&(this.response=this.responseText+=j)}T.done?cm(this):At(this),this.readyState==3&&lh(this)}},e.Ra=function(T){this.g&&(this.response=this.responseText=T,cm(this))},e.Qa=function(T){this.g&&(this.response=T,cm(this))},e.ga=function(){this.g&&cm(this)};function cm(T){T.readyState=4,T.l=null,T.j=null,T.v=null,At(T)}e.setRequestHeader=function(T,j){this.u.append(T,j)},e.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],j=this.h.entries();for(var W=j.next();!W.done;)W=W.value,T.push(W[0]+": "+W[1]),W=j.next();return T.join(`\r
`)};function At(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(lm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function bt(T){let j="";return x(T,function(W,J){j+=J,j+=":",j+=W,j+=`\r
`}),j}function X(T,j,W){e:{for(J in W){var J=!1;break e}J=!0}J||(W=bt(W),typeof T=="string"?W!=null&&encodeURIComponent(String(W)):jt(T,j,W))}function oe(T){ge.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(oe,ge);var Se=/^https?$/i,Nt=["POST","PUT"];e=oe.prototype,e.Ha=function(T){this.J=T},e.ea=function(T,j,W,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);j=j?j.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qt.g(),this.v=this.o?Hs(this.o):Hs(Qt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(j,String(T),!0),this.B=!1}catch(Me){$n(this,Me);return}if(T=W||"",W=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Te in J)W.set(Te,J[Te]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Me of J.keys())W.set(Me,J.get(Me));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(W.keys()).find(Me=>Me.toLowerCase()=="content-type"),Te=a.FormData&&T instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Nt,j,void 0))||J||Te||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,_t]of W)this.g.setRequestHeader(Me,_t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Or(this),this.u=!0,this.g.send(T),this.u=!1}catch(Me){$n(this,Me)}};function $n(T,j){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=j,T.m=5,cr(T),tn(T)}function cr(T){T.A||(T.A=!0,ke(T,"complete"),ke(T,"error"))}e.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,ke(this,"complete"),ke(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),oe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?fr(this):this.bb())},e.bb=function(){fr(this)};function fr(T){if(T.h&&typeof o<"u"&&(!T.v[1]||hi(T)!=4||T.Z()!=2)){if(T.u&&hi(T)==4)Ye(T.Ea,0,T);else if(ke(T,"readystatechange"),hi(T)==4){T.h=!1;try{const _t=T.Z();e:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var W;if(!(W=j)){var J;if(J=_t===0){var Te=String(T.D).match(Le)[1]||null;!Te&&a.self&&a.self.location&&(Te=a.self.location.protocol.slice(0,-1)),J=!Se.test(Te?Te.toLowerCase():"")}W=J}if(W)ke(T,"complete"),ke(T,"success");else{T.m=6;try{var Me=2<hi(T)?T.g.statusText:""}catch{Me=""}T.l=Me+" ["+T.Z()+"]",cr(T)}}finally{tn(T)}}}}function tn(T,j){if(T.g){Or(T);const W=T.g,J=T.v[0]?()=>{}:null;T.g=null,T.v=null,j||ke(T,"ready");try{W.onreadystatechange=J}catch{}}}function Or(T){T.I&&(a.clearTimeout(T.I),T.I=null)}e.isActive=function(){return!!this.g};function hi(T){return T.g?T.g.readyState:0}e.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(T){if(this.g){var j=this.g.responseText;return T&&j.indexOf(T)==0&&(j=j.substring(T.length)),rn(j)}};function Co(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function p1(T){const j={};T=(T.g&&2<=hi(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<T.length;J++){if(v(T[J]))continue;var W=R(T[J]);const Te=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Me=j[Te]||[];j[Te]=Me,Me.push(W)}S(j,function(J){return J.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fm(T,j,W){return W&&W.internalChannelParams&&W.internalChannelParams[T]||j}function Pw(T){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fm("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fm("baseRetryDelayMs",5e3,T),this.cb=fm("retryDelaySeedMs",1e4,T),this.Wa=fm("forwardChannelMaxRetries",2,T),this.wa=fm("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(T&&T.concurrentRequestLimit),this.Da=new GC,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Pw.prototype,e.la=8,e.G=1,e.connect=function(T,j,W,J){xr(0),this.W=T,this.H=j||{},W&&J!==void 0&&(this.H.OSID=W,this.H.OAID=J),this.F=this.X,this.I=hle(this,null,this.W),KP(this)};function Ow(T){if(sle(T),T.G==3){var j=T.U++,W=Qe(T.I);if(jt(W,"SID",T.K),jt(W,"RID",j),jt(W,"TYPE","terminate"),YC(T,W),j=new Yn(T,T.j,j),j.L=2,j.v=Jn(Qe(W)),W=!1,a.navigator&&a.navigator.sendBeacon)try{W=a.navigator.sendBeacon(j.v.toString(),"")}catch{}!W&&a.Image&&(new Image().src=j.v,W=!0),W||(j.g=ple(j.j,null),j.g.ea(j.v)),j.F=Date.now(),_i(j)}dle(T)}function YP(T){T.g&&(IB(T),T.g.cancel(),T.g=null)}function sle(T){YP(T),T.u&&(a.clearTimeout(T.u),T.u=null),XP(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&a.clearTimeout(T.s),T.s=null)}function KP(T){if(!ns(T.h)&&!T.s){T.s=!0;var j=T.Ga;B||O(),z||(B(),z=!0),H.add(j,T),T.B=0}}function lGe(T,j){return Ri(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=j.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=xo(d(T.Ga,T,j),fle(T,T.B)),T.B++,!0)}e.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Te=new Yn(this,this.j,T);let Me=this.o;if(this.S&&(Me?(Me=C(Me),k(Me,this.S)):Me=this.S),this.m!==null||this.O||(Te.H=Me,Me=null),this.P)e:{for(var j=0,W=0;W<this.i.length;W++){t:{var J=this.i[W];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(j+=J,4096<j){j=W;break e}if(j===4096||W===this.i.length-1){j=W+1;break e}}j=1e3}else j=1e3;j=ale(this,Te,j),W=Qe(this.I),jt(W,"RID",T),jt(W,"CVER",22),this.D&&jt(W,"X-HTTP-Session-Id",this.D),YC(this,W),Me&&(this.O?j="headers="+encodeURIComponent(String(bt(Me)))+"&"+j:this.m&&X(W,this.m,Me)),Y(this.h,Te),this.Ua&&jt(W,"TYPE","init"),this.P?(jt(W,"$req",j),jt(W,"SID","null"),Te.T=!0,Ct(Te,W,null)):Ct(Te,W,j),this.G=2}}else this.G==3&&(T?ole(this,T):this.i.length==0||ns(this.h)||ole(this))};function ole(T,j){var W;j?W=j.l:W=T.U++;const J=Qe(T.I);jt(J,"SID",T.K),jt(J,"RID",W),jt(J,"AID",T.T),YC(T,J),T.m&&T.o&&X(J,T.m,T.o),W=new Yn(T,T.j,W,T.B+1),T.m===null&&(W.H=T.o),j&&(T.i=j.D.concat(T.i)),j=ale(T,W,1e3),W.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),Y(T.h,W),Ct(W,J,j)}function YC(T,j){T.H&&x(T.H,function(W,J){jt(j,J,W)}),T.l&&me({},function(W,J){jt(j,J,W)})}function ale(T,j,W){W=Math.min(T.i.length,W);var J=T.l?d(T.l.Na,T.l,T):null;e:{var Te=T.i;let Me=-1;for(;;){const _t=["count="+W];Me==-1?0<W?(Me=Te[0].g,_t.push("ofs="+Me)):Me=0:_t.push("ofs="+Me);let pi=!0;for(let Jo=0;Jo<W;Jo++){let Dr=Te[Jo].g;const Ta=Te[Jo].map;if(Dr-=Me,0>Dr)Me=Math.max(0,Te[Jo].g-100),pi=!1;else try{Nw(Ta,_t,"req"+Dr+"_")}catch{J&&J(Ta)}}if(pi){J=_t.join("&");break e}}}return T=T.i.splice(0,W),j.D=T,J}function ule(T){if(!T.g&&!T.u){T.Y=1;var j=T.Fa;B||O(),z||(B(),z=!0),H.add(j,T),T.v=0}}function AB(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=xo(d(T.Fa,T),fle(T,T.v)),T.v++,!0)}e.Fa=function(){if(this.u=null,lle(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=xo(d(this.ab,this),T)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xr(10),YP(this),lle(this))};function IB(T){T.A!=null&&(a.clearTimeout(T.A),T.A=null)}function lle(T){T.g=new Yn(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var j=Qe(T.qa);jt(j,"RID","rpc"),jt(j,"SID",T.K),jt(j,"AID",T.T),jt(j,"CI",T.F?"0":"1"),!T.F&&T.ja&&jt(j,"TO",T.ja),jt(j,"TYPE","xmlhttp"),YC(T,j),T.m&&T.o&&X(j,T.m,T.o),T.L&&(T.g.I=T.L);var W=T.g;T=T.ia,W.L=1,W.v=Jn(Qe(j)),W.m=null,W.P=!0,Un(W,T)}e.Za=function(){this.C!=null&&(this.C=null,YP(this),AB(this),xr(19))};function XP(T){T.C!=null&&(a.clearTimeout(T.C),T.C=null)}function cle(T,j){var W=null;if(T.g==j){XP(T),IB(T),T.g=null;var J=2}else if(Xo(T.h,j))W=j.D,le(T.h,j),J=1;else return;if(T.G!=0){if(j.o)if(J==1){W=j.m?j.m.length:0,j=Date.now()-j.F;var Te=T.B;J=au(),ke(J,new Yo(J,W)),KP(T)}else ule(T);else if(Te=j.s,Te==3||Te==0&&0<j.X||!(J==1&&lGe(T,j)||J==2&&AB(T)))switch(W&&0<W.length&&(j=T.h,j.i=j.i.concat(W)),Te){case 1:m1(T,5);break;case 4:m1(T,10);break;case 3:m1(T,6);break;default:m1(T,2)}}}function fle(T,j){let W=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(W*=2),W*j}function m1(T,j){if(T.j.info("Error code "+j),j==2){var W=d(T.fb,T),J=T.Xa;const Te=!J;J=new Ze(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ut(J,"https"),Jn(J),Te?uh(J.toString(),W):Uc(J.toString(),W)}else xr(2);T.G=0,T.l&&T.l.sa(j),dle(T),sle(T)}e.fb=function(T){T?(this.j.info("Successfully pinged google.com"),xr(2)):(this.j.info("Failed to ping google.com"),xr(1))};function dle(T){if(T.G=0,T.ka=[],T.l){const j=ee(T.h);(j.length!=0||T.i.length!=0)&&(g(T.ka,j),g(T.ka,T.i),T.h.i.length=0,m(T.i),T.i.length=0),T.l.ra()}}function hle(T,j,W){var J=W instanceof Ze?Qe(W):new Ze(W);if(J.g!="")j&&(J.g=j+"."+J.g),Rt(J,J.s);else{var Te=a.location;J=Te.protocol,j=j?j+"."+Te.hostname:Te.hostname,Te=+Te.port;var Me=new Ze(null);J&&ut(Me,J),j&&(Me.g=j),Te&&Rt(Me,Te),W&&(Me.l=W),J=Me}return W=T.D,j=T.ya,W&&j&&jt(J,W,j),jt(J,"VER",T.la),YC(T,J),J}function ple(T,j,W){if(j&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=T.Ca&&!T.pa?new oe(new um({eb:W})):new oe(T.pa),j.Ha(T.J),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function mle(){}e=mle.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function QP(){}QP.prototype.g=function(T,j){return new Yl(T,j)};function Yl(T,j){ge.call(this),this.g=new Pw(j),this.l=T,this.h=j&&j.messageUrlParams||null,T=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(T?T["X-WebChannel-Content-Type"]=j.messageContentType:T={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(T?T["X-WebChannel-Client-Profile"]=j.va:T={"X-WebChannel-Client-Profile":j.va}),this.g.S=T,(T=j&&j.Sb)&&!v(T)&&(this.g.m=T),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!v(j)&&(this.g.D=j,T=this.h,T!==null&&j in T&&(T=this.h,j in T&&delete T[j])),this.j=new Dw(this)}p(Yl,ge),Yl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yl.prototype.close=function(){Ow(this.g)},Yl.prototype.o=function(T){var j=this.g;if(typeof T=="string"){var W={};W.__data__=T,T=W}else this.u&&(W={},W.__data__=vt(T),T=W);j.i.push(new So(j.Ya++,T)),j.G==3&&KP(j)},Yl.prototype.N=function(){this.g.l=null,delete this.j,Ow(this.g),delete this.g,Yl.aa.N.call(this)};function gle(T){Nr.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var j=T.__sm__;if(j){e:{for(const W in j){T=W;break e}T=void 0}(this.i=T)&&(T=this.i,j=j!==null&&T in j?j[T]:void 0),this.data=j}else this.data=T}p(gle,Nr);function yle(){Ur.call(this),this.status=1}p(yle,Ur);function Dw(T){this.g=T}p(Dw,mle),Dw.prototype.ua=function(){ke(this.g,"a")},Dw.prototype.ta=function(T){ke(this.g,new gle(T))},Dw.prototype.sa=function(T){ke(this.g,new yle)},Dw.prototype.ra=function(){ke(this.g,"b")},QP.prototype.createWebChannel=QP.prototype.g,Yl.prototype.send=Yl.prototype.o,Yl.prototype.open=Yl.prototype.m,Yl.prototype.close=Yl.prototype.close,W4e=function(){return new QP},q4e=function(){return au()},H4e=ki,ZW={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,U$=ct,Dt.COMPLETE="complete",V4e=Dt,Ui.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",ge.prototype.listen=ge.prototype.K,SA=Ui,z4e=um,oe.prototype.listenOnce=oe.prototype.L,oe.prototype.getLastError=oe.prototype.Ka,oe.prototype.getLastErrorCode=oe.prototype.Ba,oe.prototype.getStatus=oe.prototype.Z,oe.prototype.getResponseJson=oe.prototype.Oa,oe.prototype.getResponseText=oe.prototype.oa,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Ha,U4e=oe}).apply(typeof cD<"u"?cD:typeof self<"u"?self:typeof window<"u"?window:{});const jve="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nl.UNAUTHENTICATED=new nl(null),nl.GOOGLE_CREDENTIALS=new nl("google-credentials-uid"),nl.FIRST_PARTY=new nl("first-party-uid"),nl.MOCK_USER=new nl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vC="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Z5("@firebase/firestore");function A2(){return p_.logLevel}function Ut(e,...t){if(p_.logLevel<=hr.DEBUG){const n=t.map(bne);p_.debug(`Firestore (${vC}): ${e}`,...n)}}function Mg(e,...t){if(p_.logLevel<=hr.ERROR){const n=t.map(bne);p_.error(`Firestore (${vC}): ${e}`,...n)}}function iR(e,...t){if(p_.logLevel<=hr.WARN){const n=t.map(bne);p_.warn(`Firestore (${vC}): ${e}`,...n)}}function bne(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e="Unexpected state"){const t=`FIRESTORE (${vC}) INTERNAL ASSERTION FAILED: `+e;throw Mg(t),new Error(t)}function Ci(e,t){e||wn()}function Pn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Kp{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hnn{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qnn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nl.UNAUTHENTICATED))}shutdown(){}}class Wnn{constructor(t){this.t=t,this.currentUser=nl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ig;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ig,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ig)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ci(typeof r.accessToken=="string"),new Hnn(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ci(t===null||typeof t=="string"),new nl(t)}}class Gnn{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=nl.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ynn{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gnn(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(nl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Knn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xnn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ut("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ci(typeof n.token=="string"),this.R=n.token,new Knn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qnn(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4e{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Qnn(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Vr(e,t){return e<t?-1:e>t?1:0}function FS(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new It(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new It(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new It(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new It(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return go.fromMillis(Date.now())}static fromDate(t){return go.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new go(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vr(this.nanoseconds,t.nanoseconds):Vr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nn(t)}static min(){return new Nn(new go(0,0))}static max(){return new Nn(new go(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n,r){n===void 0?n=0:n>t.length&&wn(),r===void 0?r=t.length-n:r>t.length-n&&wn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return sR.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sR?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Oi extends sR{construct(t,n,r){return new Oi(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new It(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oi(n)}static emptyPath(){return new Oi([])}}const Jnn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ca extends sR{construct(t,n,r){return new ca(t,n,r)}static isValidIdentifier(t){return Jnn.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ca.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ca(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new It(Ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new It(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new It(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new It(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ca(n)}static emptyPath(){return new ca([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(Oi.fromString(t))}static fromName(t){return new Zt(Oi.fromString(t).popFirst(5))}static empty(){return new Zt(Oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oi.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new Oi(t.slice()))}}function Znn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nn.fromTimestamp(r===1e9?new go(n+1,0):new go(n,r));return new hv(i,Zt.empty(),t)}function ern(e){return new hv(e.readTime,e.key,-1)}class hv{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new hv(Nn.min(),Zt.empty(),-1)}static max(){return new hv(Nn.max(),Zt.empty(),-1)}}function trn(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Zt.comparator(e.documentKey,t.documentKey),n!==0?n:Vr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nrn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rrn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(e){if(e.code!==Ge.FAILED_PRECONDITION||e.message!==nrn)throw e;Ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.reject(n)}static resolve(t){return new rt((n,r)=>{n(t)})}static reject(t){return new rt((n,r)=>{r(t)})}static waitFor(t){return new rt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=rt.resolve(!1);for(const r of t)n=n.next(i=>i?rt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new rt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new rt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function irn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function HN(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}_ne.oe=-1;function ej(e){return e==null}function r6(e){return e===0&&1/e==-1/0}function srn(e){return typeof e=="number"&&Number.isInteger(e)&&!r6(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bve(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Y4e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n){this.comparator=t,this.root=n||aa.EMPTY}insert(t,n){return new us(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,aa.BLACK,null,null))}remove(t){return new us(this.comparator,this.root.remove(t,this.comparator).copy(null,null,aa.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fD(this.root,t,this.comparator,!1)}getReverseIterator(){return new fD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fD(this.root,t,this.comparator,!0)}}class fD{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class aa{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??aa.RED,this.left=i??aa.EMPTY,this.right=s??aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new aa(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return aa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return aa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const t=this.left.check();if(t!==this.right.check())throw wn();return t+(this.isRed()?0:1)}}aa.EMPTY=null,aa.RED=!0,aa.BLACK=!1;aa.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(t,n,r,i,s){return this}insert(t,n,r){return new aa(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.comparator=t,this.data=new us(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uve(this.data.getIterator())}getIteratorFrom(t){return new Uve(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ga)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ga(this.comparator);return n.data=t,n}}class Uve{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t){this.fields=t,t.sort(ca.comparator)}static empty(){return new fc([])}unionWith(t){let n=new ga(ca.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fc(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return FS(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K4e("Invalid base64 string: "+s):s}}(t);return new tu(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new tu(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tu.EMPTY_BYTE_STRING=new tu("");const orn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pv(e){if(Ci(!!e),typeof e=="string"){let t=0;const n=orn.exec(e);if(Ci(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xs(e.seconds),nanos:Xs(e.nanos)}}function Xs(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function m_(e){return typeof e=="string"?tu.fromBase64String(e):tu.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ene(e){const t=e.mapValue.fields.__previous_value__;return wne(t)?Ene(t):t}function oR(e){const t=pv(e.mapValue.fields.__local_write_time__.timestampValue);return new go(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class arn{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class aR{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new aR("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof aR&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function g_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wne(e)?4:urn(e)?9007199254740991:10:wn()}function Ip(e,t){if(e===t)return!0;const n=g_(e);if(n!==g_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oR(e).isEqual(oR(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pv(i.timestampValue),a=pv(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return m_(i.bytesValue).isEqual(m_(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Xs(i.geoPointValue.latitude)===Xs(s.geoPointValue.latitude)&&Xs(i.geoPointValue.longitude)===Xs(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xs(i.integerValue)===Xs(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xs(i.doubleValue),a=Xs(s.doubleValue);return o===a?r6(o)===r6(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return FS(e.arrayValue.values||[],t.arrayValue.values||[],Ip);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bve(o)!==Bve(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ip(o[u],a[u])))return!1;return!0}(e,t);default:return wn()}}function uR(e,t){return(e.values||[]).find(n=>Ip(n,t))!==void 0}function jS(e,t){if(e===t)return 0;const n=g_(e),r=g_(t);if(n!==r)return Vr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vr(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Xs(s.integerValue||s.doubleValue),u=Xs(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return zve(e.timestampValue,t.timestampValue);case 4:return zve(oR(e),oR(t));case 5:return Vr(e.stringValue,t.stringValue);case 6:return function(s,o){const a=m_(s),u=m_(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Vr(a[l],u[l]);if(c!==0)return c}return Vr(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Vr(Xs(s.latitude),Xs(o.latitude));return a!==0?a:Vr(Xs(s.longitude),Xs(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=jS(a[l],u[l]);if(c)return c}return Vr(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===dD.mapValue&&o===dD.mapValue)return 0;if(s===dD.mapValue)return 1;if(o===dD.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Vr(u[f],c[f]);if(d!==0)return d;const h=jS(a[u[f]],l[c[f]]);if(h!==0)return h}return Vr(u.length,c.length)}(e.mapValue,t.mapValue);default:throw wn()}}function zve(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vr(e,t);const n=pv(e),r=pv(t),i=Vr(n.seconds,r.seconds);return i!==0?i:Vr(n.nanos,r.nanos)}function BS(e){return eG(e)}function eG(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=pv(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return m_(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Zt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=eG(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${eG(n.fields[o])}`;return i+"}"}(e.mapValue):wn()}function Vve(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tG(e){return!!e&&"integerValue"in e}function xne(e){return!!e&&"arrayValue"in e}function Hve(e){return!!e&&"nullValue"in e}function qve(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function z$(e){return!!e&&"mapValue"in e}function wI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dw(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=wI(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wI(e.arrayValue.values[n]);return t}return Object.assign({},e)}function urn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t){this.value=t}static empty(){return new dl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!z$(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wI(n)}setAll(t){let n=ca.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wI(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());z$(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ip(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];z$(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){dw(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new dl(wI(this.value))}}function X4e(e){const t=[];return dw(e.fields,(n,r)=>{const i=new ca([n]);if(z$(r)){const s=X4e(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new fc(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new za(t,0,Nn.min(),Nn.min(),Nn.min(),dl.empty(),0)}static newFoundDocument(t,n,r,i){return new za(t,1,n,Nn.min(),r,i,0)}static newNoDocument(t,n){return new za(t,2,n,Nn.min(),Nn.min(),dl.empty(),0)}static newUnknownDocument(t,n){return new za(t,3,n,Nn.min(),Nn.min(),dl.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof za&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new za(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i6=class{constructor(t,n){this.position=t,this.inclusive=n}};function Wve(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Zt.comparator(Zt.fromName(o.referenceValue),n.key):r=jS(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gve(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ip(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n="asc"){this.field=t,this.dir=n}}function lrn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q4e=class{};class Js extends Q4e{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new frn(t,n,r):n==="array-contains"?new prn(t,r):n==="in"?new mrn(t,r):n==="not-in"?new grn(t,r):n==="array-contains-any"?new yrn(t,r):new Js(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new drn(t,r):new hrn(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jS(n,this.value)):n!==null&&g_(this.value)===g_(n)&&this.matchesComparison(jS(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ud extends Q4e{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Ud(t,n)}matches(t){return J4e(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function J4e(e){return e.op==="and"}function Z4e(e){return crn(e)&&J4e(e)}function crn(e){for(const t of e.filters)if(t instanceof Ud)return!1;return!0}function nG(e){if(e instanceof Js)return e.field.canonicalString()+e.op.toString()+BS(e.value);if(Z4e(e))return e.filters.map(t=>nG(t)).join(",");{const t=e.filters.map(n=>nG(n)).join(",");return`${e.op}(${t})`}}function eFe(e,t){return e instanceof Js?function(r,i){return i instanceof Js&&r.op===i.op&&r.field.isEqual(i.field)&&Ip(r.value,i.value)}(e,t):e instanceof Ud?function(r,i){return i instanceof Ud&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&eFe(o,i.filters[a]),!0):!1}(e,t):void wn()}function tFe(e){return e instanceof Js?function(n){return`${n.field.canonicalString()} ${n.op} ${BS(n.value)}`}(e):e instanceof Ud?function(n){return n.op.toString()+" {"+n.getFilters().map(tFe).join(" ,")+"}"}(e):"Filter"}class frn extends Js{constructor(t,n,r){super(t,n,r),this.key=Zt.fromName(r.referenceValue)}matches(t){const n=Zt.comparator(t.key,this.key);return this.matchesComparison(n)}}class drn extends Js{constructor(t,n){super(t,"in",n),this.keys=nFe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class hrn extends Js{constructor(t,n){super(t,"not-in",n),this.keys=nFe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function nFe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Zt.fromName(r.referenceValue))}class prn extends Js{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xne(n)&&uR(n.arrayValue,this.value)}}class mrn extends Js{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uR(this.value.arrayValue,n)}}class grn extends Js{constructor(t,n){super(t,"not-in",n)}matches(t){if(uR(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!uR(this.value.arrayValue,n)}}class yrn extends Js{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xne(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uR(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vrn{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Yve(e,t=null,n=[],r=[],i=null,s=null,o=null){return new vrn(e,t,n,r,i,s,o)}function Sne(e){const t=Pn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>nG(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ej(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>BS(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>BS(r)).join(",")),t.ue=n}return t.ue}function Tne(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lrn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!eFe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gve(e.startAt,t.startAt)&&Gve(e.endAt,t.endAt)}function rG(e){return Zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function brn(e,t,n,r,i,s,o,a){return new bC(e,t,n,r,i,s,o,a)}function Cne(e){return new bC(e)}function Kve(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function rFe(e){return e.collectionGroup!==null}function EI(e){const t=Pn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ga(ca.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new lR(s,r))}),n.has(ca.keyField().canonicalString())||t.ce.push(new lR(ca.keyField(),r))}return t.ce}function cp(e){const t=Pn(e);return t.le||(t.le=_rn(t,EI(e))),t.le}function _rn(e,t){if(e.limitType==="F")return Yve(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lR(i.field,s)});const n=e.endAt?new i6(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new i6(e.startAt.position,e.startAt.inclusive):null;return Yve(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iG(e,t){const n=e.filters.concat([t]);return new bC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function s6(e,t,n){return new bC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tj(e,t){return Tne(cp(e),cp(t))&&e.limitType===t.limitType}function iFe(e){return`${Sne(cp(e))}|lt:${e.limitType}`}function TE(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tFe(i)).join(", ")}]`),ej(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>BS(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>BS(i)).join(",")),`Target(${r})`}(cp(e))}; limitType=${e.limitType})`}function nj(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Zt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of EI(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Wve(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,EI(r),i)||r.endAt&&!function(o,a,u){const l=Wve(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,EI(r),i))}(e,t)}function wrn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sFe(e){return(t,n)=>{let r=!1;for(const i of EI(e)){const s=Ern(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ern(e,t,n){const r=e.field.isKeyField()?Zt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?jS(u,l):wn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){dw(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Y4e(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xrn=new us(Zt.comparator);function Lg(){return xrn}const oFe=new us(Zt.comparator);function TA(...e){let t=oFe;for(const n of e)t=t.insert(n.key,n);return t}function aFe(e){let t=oFe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function xb(){return xI()}function uFe(){return xI()}function xI(){return new _C(e=>e.toString(),(e,t)=>e.isEqual(t))}const Srn=new us(Zt.comparator),Trn=new ga(Zt.comparator);function ir(...e){let t=Trn;for(const n of e)t=t.add(n);return t}const Crn=new ga(Vr);function Arn(){return Crn}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lFe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r6(t)?"-0":t}}function cFe(e){return{integerValue:""+e}}function fFe(e,t){return srn(t)?cFe(t):lFe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this._=void 0}}function Irn(e,t,n){return e instanceof cR?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wne(s)&&(s=Ene(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof fR?hFe(e,t):e instanceof dR?pFe(e,t):function(i,s){const o=dFe(i,s),a=Xve(o)+Xve(i.Pe);return tG(o)&&tG(i.Pe)?cFe(a):lFe(i.serializer,a)}(e,t)}function krn(e,t,n){return e instanceof fR?hFe(e,t):e instanceof dR?pFe(e,t):n}function dFe(e,t){return e instanceof hR?function(r){return tG(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class cR extends rj{}class fR extends rj{constructor(t){super(),this.elements=t}}function hFe(e,t){const n=mFe(t);for(const r of e.elements)n.some(i=>Ip(i,r))||n.push(r);return{arrayValue:{values:n}}}class dR extends rj{constructor(t){super(),this.elements=t}}function pFe(e,t){let n=mFe(t);for(const r of e.elements)n=n.filter(i=>!Ip(i,r));return{arrayValue:{values:n}}}class hR extends rj{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Xve(e){return Xs(e.integerValue||e.doubleValue)}function mFe(e){return xne(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gFe{constructor(t,n){this.field=t,this.transform=n}}function Rrn(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof fR&&i instanceof fR||r instanceof dR&&i instanceof dR?FS(r.elements,i.elements,Ip):r instanceof hR&&i instanceof hR?Ip(r.Pe,i.Pe):r instanceof cR&&i instanceof cR}(e.transform,t.transform)}class Nrn{constructor(t,n){this.version=t,this.transformResults=n}}class Au{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Au}static exists(t){return new Au(void 0,t)}static updateTime(t){return new Au(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function V$(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ij{}function yFe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sj(e.key,Au.none()):new qN(e.key,e.data,Au.none());{const n=e.data,r=dl.empty();let i=new ga(ca.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jv(e.key,r,new fc(i.toArray()),Au.none())}}function Prn(e,t,n){e instanceof qN?function(i,s,o){const a=i.value.clone(),u=Jve(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Jv?function(i,s,o){if(!V$(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Jve(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(vFe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function SI(e,t,n,r){return e instanceof qN?function(s,o,a,u){if(!V$(s.precondition,o))return a;const l=s.value.clone(),c=Zve(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jv?function(s,o,a,u){if(!V$(s.precondition,o))return a;const l=Zve(s.fieldTransforms,u,o),c=o.data;return c.setAll(vFe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return V$(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Orn(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=dFe(r.transform,i||null);s!=null&&(n===null&&(n=dl.empty()),n.set(r.field,s))}return n||null}function Qve(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&FS(r,i,(s,o)=>Rrn(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qN extends ij{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jv extends ij{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vFe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Jve(e,t,n){const r=new Map;Ci(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,krn(o,a,n[i]))}return r}function Zve(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Irn(s,o,t))}return r}class sj extends ij{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Drn extends ij{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $rn{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Prn(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=SI(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=SI(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=uFe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=yFe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ir())}isEqual(t){return this.batchId===t.batchId&&FS(this.mutations,t.mutations,(n,r)=>Qve(n,r))&&FS(this.baseMutations,t.baseMutations,(n,r)=>Qve(n,r))}}class Ane{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ci(t.mutations.length===r.length);let i=function(){return Srn}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ane(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mrn{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lrn{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs,_r;function Frn(e){switch(e){default:return wn();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function bFe(e){if(e===void 0)return Mg("GRPC error has no .code"),Ge.UNKNOWN;switch(e){case Gs.OK:return Ge.OK;case Gs.CANCELLED:return Ge.CANCELLED;case Gs.UNKNOWN:return Ge.UNKNOWN;case Gs.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Gs.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Gs.INTERNAL:return Ge.INTERNAL;case Gs.UNAVAILABLE:return Ge.UNAVAILABLE;case Gs.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Gs.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Gs.NOT_FOUND:return Ge.NOT_FOUND;case Gs.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Gs.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Gs.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Gs.ABORTED:return Ge.ABORTED;case Gs.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Gs.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Gs.DATA_LOSS:return Ge.DATA_LOSS;default:return wn()}}(_r=Gs||(Gs={}))[_r.OK=0]="OK",_r[_r.CANCELLED=1]="CANCELLED",_r[_r.UNKNOWN=2]="UNKNOWN",_r[_r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_r[_r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_r[_r.NOT_FOUND=5]="NOT_FOUND",_r[_r.ALREADY_EXISTS=6]="ALREADY_EXISTS",_r[_r.PERMISSION_DENIED=7]="PERMISSION_DENIED",_r[_r.UNAUTHENTICATED=16]="UNAUTHENTICATED",_r[_r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_r[_r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_r[_r.ABORTED=10]="ABORTED",_r[_r.OUT_OF_RANGE=11]="OUT_OF_RANGE",_r[_r.UNIMPLEMENTED=12]="UNIMPLEMENTED",_r[_r.INTERNAL=13]="INTERNAL",_r[_r.UNAVAILABLE=14]="UNAVAILABLE",_r[_r.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jrn(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Brn=new Mb([4294967295,4294967295],0);function e1e(e){const t=jrn().encode(e),n=new B4e;return n.update(t),new Uint8Array(n.digest())}function t1e(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Mb([n,r],0),new Mb([i,s],0)]}class Ine{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new CA(`Invalid padding: ${n}`);if(r<0)throw new CA(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new CA(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new CA(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Mb.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Mb.fromNumber(r)));return i.compare(Brn)===1&&(i=new Mb([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=e1e(t),[r,i]=t1e(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Ine(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=e1e(t),[r,i]=t1e(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class CA extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,WN.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new oj(Nn.min(),i,new us(Vr),Lg(),ir())}}class WN{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new WN(r,n,ir(),ir(),ir())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _Fe{constructor(t,n){this.targetId=t,this.me=n}}class wFe{constructor(t,n,r=tu.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n1e{constructor(){this.fe=0,this.ge=i1e(),this.pe=tu.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=ir(),n=ir(),r=ir();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wn()}}),new WN(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=i1e()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ci(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Urn{constructor(t){this.Le=t,this.Be=new Map,this.ke=Lg(),this.qe=r1e(),this.Qe=new us(Vr)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:wn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(rG(s))if(r===0){const o=new Zt(s.path);this.Ue(n,o,za.newNoDocument(o,Nn.min()))}else Ci(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(t),u=a?this.Xe(a,t,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=m_(r).toUint8Array()}catch(u){if(u instanceof K4e)return iR("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ine(o,i,s)}catch(u){return iR(u instanceof CA?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&rG(a.target)){const u=new Zt(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,za.newNoDocument(u,t))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ir();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new oj(t,n,this.Qe,this.ke,r);return this.ke=Lg(),this.qe=r1e(),this.Qe=new us(Vr),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new n1e,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ga(Vr),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Ut("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new n1e),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function r1e(){return new us(Zt.comparator)}function i1e(){return new us(Zt.comparator)}const zrn={asc:"ASCENDING",desc:"DESCENDING"},Vrn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hrn={and:"AND",or:"OR"};class qrn{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sG(e,t){return e.useProto3Json||ej(t)?t:{value:t}}function o6(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EFe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wrn(e,t){return o6(e,t.toTimestamp())}function fp(e){return Ci(!!e),Nn.fromTimestamp(function(n){const r=pv(n);return new go(r.seconds,r.nanos)}(e))}function kne(e,t){return oG(e,t).canonicalString()}function oG(e,t){const n=function(i){return new Oi(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function xFe(e){const t=Oi.fromString(e);return Ci(IFe(t)),t}function aG(e,t){return kne(e.databaseId,t.path)}function R7(e,t){const n=xFe(t);if(n.get(1)!==e.databaseId.projectId)throw new It(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new It(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zt(TFe(n))}function SFe(e,t){return kne(e.databaseId,t)}function Grn(e){const t=xFe(e);return t.length===4?Oi.emptyPath():TFe(t)}function uG(e){return new Oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function TFe(e){return Ci(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function s1e(e,t,n){return{name:aG(e,t),fields:n.value.mapValue.fields}}function Yrn(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:wn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ci(c===void 0||typeof c=="string"),tu.fromBase64String(c||"")):(Ci(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tu.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Ge.UNKNOWN:bFe(l.code);return new It(c,l.message||"")}(o);n=new wFe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=R7(e,r.document.name),s=fp(r.document.updateTime),o=r.document.createTime?fp(r.document.createTime):Nn.min(),a=new dl({mapValue:{fields:r.document.fields}}),u=za.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new H$(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=R7(e,r.document),s=r.readTime?fp(r.readTime):Nn.min(),o=za.newNoDocument(i,s),a=r.removedTargetIds||[];n=new H$([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=R7(e,r.document),s=r.removedTargetIds||[];n=new H$([],s,i,null)}else{if(!("filter"in t))return wn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Lrn(i,s),a=r.targetId;n=new _Fe(a,o)}}return n}function Krn(e,t){let n;if(t instanceof qN)n={update:s1e(e,t.key,t.value)};else if(t instanceof sj)n={delete:aG(e,t.key)};else if(t instanceof Jv)n={update:s1e(e,t.key,t.data),updateMask:iin(t.fieldMask)};else{if(!(t instanceof Drn))return wn();n={verify:aG(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cR)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fR)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dR)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hR)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw wn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Wrn(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wn()}(e,t.precondition)),n}function Xrn(e,t){return e&&e.length>0?(Ci(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?fp(i.updateTime):fp(s);return o.isEqual(Nn.min())&&(o=fp(s)),new Nrn(o,i.transformResults||[])}(n,t))):[]}function Qrn(e,t){return{documents:[SFe(e,t.path)]}}function Jrn(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SFe(e,i);const s=function(l){if(l.length!==0)return AFe(Ud.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:CE(d.field),direction:tin(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sG(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:n,parent:i}}function Zrn(e){let t=Grn(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ci(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=CFe(f);return d instanceof Ud&&Z4e(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new lR(AE(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,ej(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new i6(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new i6(h,d)}(n.endAt)),brn(t,i,o,s,a,"F",u,l)}function ein(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function CFe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=AE(n.unaryFilter.field);return Js.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=AE(n.unaryFilter.field);return Js.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=AE(n.unaryFilter.field);return Js.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=AE(n.unaryFilter.field);return Js.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}(e):e.fieldFilter!==void 0?function(n){return Js.create(AE(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ud.create(n.compositeFilter.filters.map(r=>CFe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wn()}}(n.compositeFilter.op))}(e):wn()}function tin(e){return zrn[e]}function nin(e){return Vrn[e]}function rin(e){return Hrn[e]}function CE(e){return{fieldPath:e.canonicalString()}}function AE(e){return ca.fromServerFormat(e.fieldPath)}function AFe(e){return e instanceof Js?function(n){if(n.op==="=="){if(qve(n.value))return{unaryFilter:{field:CE(n.field),op:"IS_NAN"}};if(Hve(n.value))return{unaryFilter:{field:CE(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qve(n.value))return{unaryFilter:{field:CE(n.field),op:"IS_NOT_NAN"}};if(Hve(n.value))return{unaryFilter:{field:CE(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:CE(n.field),op:nin(n.op),value:n.value}}}(e):e instanceof Ud?function(n){const r=n.getFilters().map(i=>AFe(i));return r.length===1?r[0]:{compositeFilter:{op:rin(n.op),filters:r}}}(e):wn()}function iin(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function IFe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,n,r,i,s=Nn.min(),o=Nn.min(),a=tu.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new sy(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new sy(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sin{constructor(t){this.ct=t}}function oin(e){const t=Zrn({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?s6(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ain{constructor(){this._n=new uin}addToCollectionParentIndex(t,n){return this._n.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(hv.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(hv.min())}updateCollectionGroup(t,n,r){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class uin{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ga(Oi.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ga(Oi.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new US(0)}static Ln(){return new US(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lin{constructor(){this.changes=new _C(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,za.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?rt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cin{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fin{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&SI(r.mutation,i,fc.empty(),go.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ir()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ir()){const i=xb();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=TA();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=xb();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ir()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Lg();const o=xI(),a=function(){return xI()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Jv)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),SI(c.mutation,l,c.mutation.getFieldMask(),go.now())):o.set(l.key,fc.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new cin(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=xI();let i=new us((o,a)=>o-a),s=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||fc.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||ir()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=uFe();c.forEach(d=>{if(!s.has(d)){const h=yFe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return rt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Zt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):rFe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):rt.resolve(xb());let a=-1,u=s;return o.next(l=>rt.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?rt.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,ir())).next(c=>({batchId:a,changes:aFe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Zt(n)).next(r=>{let i=TA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=TA();return this.indexManager.getCollectionParents(t,s).next(a=>rt.forEach(a,u=>{const l=function(f,d){return new bC(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,za.newInvalidDocument(c)))});let a=TA();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&SI(c.mutation,l,fc.empty(),go.now()),nj(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class din{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return rt.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fp(i.createTime)}}(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oin(i.bundledQuery),readTime:fp(i.readTime)}}(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hin{constructor(){this.overlays=new us(Zt.comparator),this.hr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xb();return rt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),rt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),rt.resolve()}getOverlaysForCollection(t,n,r){const i=xb(),s=n.length+1,o=new Zt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return rt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new us((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=xb(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=xb(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return rt.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mrn(n,r));let s=this.hr.get(n);s===void 0&&(s=ir(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.Pr=new ga(Ro.Ir),this.Tr=new ga(Ro.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Ro(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Ro(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new Zt(new Oi([])),r=new Ro(n,t),i=new Ro(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Zt(new Oi([])),r=new Ro(n,t),i=new Ro(n,t+1);let s=ir();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ro(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ro{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Zt.comparator(t.key,n.key)||Vr(t.pr,n.pr)}static Er(t,n){return Vr(t.pr,n.pr)||Zt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pin{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ga(Ro.Ir)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $rn(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Ro(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return rt.resolve(o)}lookupMutationBatch(t,n){return rt.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return rt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ro(n,0),i=new Ro(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),rt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ga(Vr);return n.forEach(i=>{const s=new Ro(i,0),o=new Ro(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),rt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Zt.isDocumentKey(s)||(s=s.child(""));const o=new Ro(new Zt(s),0);let a=new ga(Vr);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),rt.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ci(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return rt.forEach(n.mutations,i=>{const s=new Ro(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Ro(n,0),i=this.wr.firstAfterOrEqual(r);return rt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class min{constructor(t){this.vr=t,this.docs=function(){return new us(Zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return rt.resolve(r?r.document.mutableCopy():za.newInvalidDocument(n))}getEntries(t,n){let r=Lg();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():za.newInvalidDocument(i))}),rt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Lg();const o=n.path,a=new Zt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||trn(ern(c),r)<=0||(i.has(c.key)||nj(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return rt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){wn()}Fr(t,n){return rt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new gin(this)}getSize(t){return rt.resolve(this.size)}}class gin extends lin{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),rt.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yin{constructor(t){this.persistence=t,this.Mr=new _C(n=>Sne(n),Tne),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rne,this.targetCount=0,this.Lr=US.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),rt.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new US(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.qn(n),rt.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),rt.waitFor(s).next(()=>i)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return rt.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),rt.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),rt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return rt.resolve(r)}containsKey(t,n){return rt.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vin{constructor(t,n){this.Br={},this.overlays={},this.kr=new _ne(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new yin(this),this.indexManager=new ain,this.remoteDocumentCache=function(i){return new min(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sin(n),this.$r=new din(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hin,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new pin(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ut("MemoryPersistence","Starting transaction:",t);const i=new bin(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return rt.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class bin extends rrn{constructor(t){super(),this.currentSequenceNumber=t}}class Nne{constructor(t){this.persistence=t,this.zr=new Rne,this.jr=null}static Hr(t){return new Nne(t)}get Jr(){if(this.jr)return this.jr;throw wn()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),rt.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),rt.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Jr,r=>{const i=Zt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Nn.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return rt.or([()=>rt.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=ir(),i=ir();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pne(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _in{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class win{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xtn()?8:irn(_a())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _in;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(A2()<=hr.DEBUG&&Ut("QueryEngine","SDK will not create cache indexes for query:",TE(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),rt.resolve()):(A2()<=hr.DEBUG&&Ut("QueryEngine","Query:",TE(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(A2()<=hr.DEBUG&&Ut("QueryEngine","The SDK decides to create cache indexes for query:",TE(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cp(n))):rt.resolve())}ji(t,n){if(Kve(n))return rt.resolve(null);let r=cp(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=s6(n,null,"F"),r=cp(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ir(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,s6(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return Kve(n)||i.isEqual(Nn.min())?rt.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?rt.resolve(null):(A2()<=hr.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TE(n)),this.es(t,o,n,Znn(i,-1)).next(a=>a))})}Zi(t,n){let r=new ga(sFe(t));return n.forEach((i,s)=>{nj(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return A2()<=hr.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",TE(n)),this.zi.getDocumentsMatchingQuery(t,n,hv.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ein{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new us(Vr),this.rs=new _C(s=>Sne(s),Tne),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fin(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function xin(e,t,n,r){return new Ein(e,t,n,r)}async function kFe(e,t){const n=Pn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ir();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function Sin(e,t){const n=Pn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=rt.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const g=l.docVersions.get(p);Ci(g!==null),m.version.compareTo(g)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ir();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function RFe(e){const t=Pn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function Tin(e,t){const n=Pn(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(tu.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=Lg(),l=ir();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Cin(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Nn.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return rt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function Cin(e,t,n){let r=ir(),i=ir();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Lg();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Nn.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ut("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function Ain(e,t){const n=Pn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Iin(e,t){const n=Pn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,rt.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new sy(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function lG(e,t,n){const r=Pn(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!HN(o))throw o;Ut("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function o1e(e,t,n){const r=Pn(e);let i=Nn.min(),s=ir();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Pn(u),d=f.rs.get(c);return d!==void 0?rt.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,cp(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Nn.min(),n?s:ir())).next(a=>(kin(r,wrn(t),a),{documents:a,hs:s})))}function kin(e,t,n){let r=e.ss.get(t)||Nn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class a1e{constructor(){this.activeTargetIds=Arn()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Rin{constructor(){this.no=new a1e,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new a1e,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nin{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1e{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hD=null;function N7(){return hD===null?hD=function(){return 268435456+Math.round(2147483648*Math.random())}():hD++,"0x"+hD.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pin={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oin{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="WebChannelConnection";class Din extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=N7(),u=this.vo(n,r.toUriEncodedString());Ut("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(c=>(Ut("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw iR("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vC}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=Pin[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,i){const s=N7();return new Promise((o,a)=>{const u=new U4e;u.setWithCredentials(!0),u.listenOnce(V4e.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case U$.NO_ERROR:const c=u.getResponseJson();Ut(Oa,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case U$.TIMEOUT:Ut(Oa,`RPC '${t}' ${s} timed out`),a(new It(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case U$.HTTP_ERROR:const f=u.getStatus();if(Ut(Oa,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(y)>=0?y:Ge.UNKNOWN}(h.status);a(new It(p,h.message))}else a(new It(Ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new It(Ge.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{Ut(Oa,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ut(Oa,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(t,n,r){const i=N7(),s=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=W4e(),a=q4e(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new z4e({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ut(Oa,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new Oin({lo:g=>{h?Ut(Oa,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(d||(Ut(Oa,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ut(Oa,`RPC '${t}' stream ${i} sending:`,g),f.send(g))},ho:()=>f.close()}),m=(g,y,v)=>{g.listen(y,b=>{try{v(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(f,SA.EventType.OPEN,()=>{h||(Ut(Oa,`RPC '${t}' stream ${i} transport opened.`),p.mo())}),m(f,SA.EventType.CLOSE,()=>{h||(h=!0,Ut(Oa,`RPC '${t}' stream ${i} transport closed`),p.po())}),m(f,SA.EventType.ERROR,g=>{h||(h=!0,iR(Oa,`RPC '${t}' stream ${i} transport errored:`,g),p.po(new It(Ge.UNAVAILABLE,"The operation could not be completed")))}),m(f,SA.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];Ci(!!v);const b=v,w=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(w){Ut(Oa,`RPC '${t}' stream ${i} received error:`,w);const E=w.status;let x=function(I){const k=Gs[I];if(k!==void 0)return bFe(k)}(E),S=w.message;x===void 0&&(x=Ge.INTERNAL,S="Unknown error status: "+E+" with message "+w.message),h=!0,p.po(new It(x,S)),f.close()}else Ut(Oa,`RPC '${t}' stream ${i} received:`,v),p.yo(v)}}),m(a,H4e.STAT_EVENT,g=>{g.stat===ZW.PROXY?Ut(Oa,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===ZW.NOPROXY&&Ut(Oa,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function P7(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){return new qrn(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NFe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PFe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new NFe(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(Mg(n.toString()),Mg("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{t(()=>{const i=new It(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Ut("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $in extends PFe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=Yrn(this.serializer,t),r=function(s){if(!("targetChange"in s))return Nn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Nn.min():o.readTime?fp(o.readTime):Nn.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=uG(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=rG(u)?{documents:Qrn(s,u)}:{query:Jrn(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EFe(s,o.resumeToken);const l=sG(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Nn.min())>0){a.readTime=o6(s,o.snapshotVersion.toTimestamp());const l=sG(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=ein(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=uG(this.serializer),n.removeTarget=t,this.i_(n)}}class Min extends PFe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(Ci(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=Xrn(t.writeResults,t.commitTime),r=fp(t.commitTime);return this.listener.A_(r,n)}return Ci(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=uG(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Krn(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lin extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new It(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,oG(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new It(Ge.UNKNOWN,s.toString())})}xo(t,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(t,oG(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new It(Ge.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Fin{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mg(n),this.y_=!1):Ut("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jin{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{hw(this)&&(Ut("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Pn(u);l.M_.add(4),await YN(l),l.N_.set("Unknown"),l.M_.delete(4),await GN(l)}(this))})}),this.N_=new Fin(r,i)}}async function GN(e){if(hw(e))for(const t of e.x_)await t(!0)}async function YN(e){for(const t of e.x_)await t(!1)}function OFe(e,t){const n=Pn(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Mne(n)?$ne(n):wC(n).Xo()&&Dne(n,t))}function One(e,t){const n=Pn(e),r=wC(n);n.F_.delete(t),r.Xo()&&DFe(n,t),n.F_.size===0&&(r.Xo()?r.n_():hw(n)&&n.N_.set("Unknown"))}function Dne(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wC(e).P_(t)}function DFe(e,t){e.L_.xe(t),wC(e).I_(t)}function $ne(e){e.L_=new Urn({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wC(e).start(),e.N_.w_()}function Mne(e){return hw(e)&&!wC(e).Zo()&&e.F_.size>0}function hw(e){return Pn(e).M_.size===0}function $Fe(e){e.L_=void 0}async function Bin(e){e.N_.set("Online")}async function Uin(e){e.F_.forEach((t,n)=>{Dne(e,t)})}async function zin(e,t){$Fe(e),Mne(e)?(e.N_.D_(t),$ne(e)):e.N_.set("Unknown")}async function Vin(e,t,n){if(e.N_.set("Online"),t instanceof wFe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){Ut("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await a6(e,r)}else if(t instanceof H$?e.L_.Ke(t):t instanceof _Fe?e.L_.He(t):e.L_.We(t),!n.isEqual(Nn.min()))try{const r=await RFe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.F_.get(l);c&&s.F_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.F_.get(u);if(!c)return;s.F_.set(u,c.withResumeToken(tu.EMPTY_BYTE_STRING,c.snapshotVersion)),DFe(s,u);const f=new sy(c.target,u,l,c.sequenceNumber);Dne(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ut("RemoteStore","Failed to raise snapshot:",r),await a6(e,r)}}async function a6(e,t,n){if(!HN(t))throw t;e.M_.add(1),await YN(e),e.N_.set("Offline"),n||(n=()=>RFe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ut("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await GN(e)})}function MFe(e,t){return t().catch(n=>a6(e,n,t))}async function uj(e){const t=Pn(e),n=mv(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Hin(t);)try{const i=await Ain(t.localStore,r);if(i===null){t.v_.length===0&&n.n_();break}r=i.batchId,qin(t,i)}catch(i){await a6(t,i)}LFe(t)&&FFe(t)}function Hin(e){return hw(e)&&e.v_.length<10}function qin(e,t){e.v_.push(t);const n=mv(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function LFe(e){return hw(e)&&!mv(e).Zo()&&e.v_.length>0}function FFe(e){mv(e).start()}async function Win(e){mv(e).V_()}async function Gin(e){const t=mv(e);for(const n of e.v_)t.d_(n.mutations)}async function Yin(e,t,n){const r=e.v_.shift(),i=Ane.from(r,t,n);await MFe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await uj(e)}async function Kin(e,t){t&&mv(e).E_&&await async function(r,i){if(function(o){return Frn(o)&&o!==Ge.ABORTED}(i.code)){const s=r.v_.shift();mv(r).t_(),await MFe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await uj(r)}}(e,t),LFe(e)&&FFe(e)}async function l1e(e,t){const n=Pn(e);n.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const r=hw(n);n.M_.add(3),await YN(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await GN(n)}async function Xin(e,t){const n=Pn(e);t?(n.M_.delete(2),await GN(n)):t||(n.M_.add(2),await YN(n),n.N_.set("Unknown"))}function wC(e){return e.B_||(e.B_=function(n,r,i){const s=Pn(n);return s.f_(),new $in(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Bin.bind(null,e),To:Uin.bind(null,e),Ao:zin.bind(null,e),h_:Vin.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),Mne(e)?$ne(e):e.N_.set("Unknown")):(await e.B_.stop(),$Fe(e))})),e.B_}function mv(e){return e.k_||(e.k_=function(n,r,i){const s=Pn(n);return s.f_(),new Min(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Win.bind(null,e),Ao:Kin.bind(null,e),R_:Gin.bind(null,e),A_:Yin.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await uj(e)):(await e.k_.stop(),e.v_.length>0&&(Ut("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ig,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Lne(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(Ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fne(e,t){if(Mg("AsyncQueue",`${t}: ${e}`),HN(e))return new It(Ge.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Zt.comparator(n.key,r.key):(n,r)=>Zt.comparator(n.key,r.key),this.keyedMap=TA(),this.sortedSet=new us(this.comparator)}static emptySet(t){return new Ox(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ox)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ox;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1e{constructor(){this.q_=new us(Zt.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):wn():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class zS{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zS(t,n,Ox.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tj(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qin{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class Jin{constructor(){this.queries=new _C(t=>iFe(t),tj),this.onlineState="Unknown",this.z_=new Set}}async function jFe(e,t){const n=Pn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Qin,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Fne(o,`Initialization of query '${TE(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&jne(n)}async function BFe(e,t){const n=Pn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(t);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zin(e,t){const n=Pn(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&jne(n)}function esn(e,t,n){const r=Pn(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function jne(e){e.z_.forEach(t=>{t.next()})}var cG,f1e;(f1e=cG||(cG={})).J_="default",f1e.Cache="cache";class UFe{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new zS(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=zS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==cG.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zFe{constructor(t){this.key=t}}class VFe{constructor(t){this.key=t}}class tsn{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ir(),this.mutatedKeys=ir(),this.Ia=sFe(t),this.Ta=new Ox(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new c1e,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=nj(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),g=!0,(u&&this.Ia(h,u)>0||l&&this.Ia(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),g=!0):d&&!h&&(r.track({type:1,doc:d}),g=!0,(u||l)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const o=t.Aa.Q_();o.sort((c,f)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return m(h)-m(p)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new zS(this.query,t.Ta,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new c1e,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=ir(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new VFe(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new zFe(r))}),n}pa(t){this.la=t.hs,this.Pa=ir();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return zS.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class nsn{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class rsn{constructor(t){this.key=t,this.wa=!1}}class isn{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new _C(a=>iFe(a),tj),this.Da=new Map,this.Ca=new Set,this.va=new us(Zt.comparator),this.Fa=new Map,this.Ma=new Rne,this.xa={},this.Oa=new Map,this.Na=US.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ssn(e,t,n=!0){const r=KFe(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await HFe(r,t,n,!0),i}async function osn(e,t){const n=KFe(e);await HFe(n,t,!0,!1)}async function HFe(e,t,n,r){const i=await Iin(e.localStore,cp(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await asn(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&OFe(e.remoteStore,i),a}async function asn(e,t,n,r,i){e.Ba=(f,d,h)=>async function(m,g,y,v){let b=g.view.da(y);b.Xi&&(b=await o1e(m.localStore,g.query,!1).then(({documents:S})=>g.view.da(S,b)));const w=v&&v.targetChanges.get(g.targetId),E=v&&v.targetMismatches.get(g.targetId)!=null,x=g.view.applyChanges(b,m.isPrimaryClient,w,E);return h1e(m,g.targetId,x.fa),x.snapshot}(e,f,d,h);const s=await o1e(e.localStore,t,!0),o=new tsn(t,s.hs),a=o.da(s.documents),u=WN.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);h1e(e,n,l.fa);const c=new nsn(t,n,o);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function usn(e,t,n){const r=Pn(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!tj(o,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lG(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&One(r.remoteStore,i.targetId),fG(r,i.targetId)}).catch(VN)):(fG(r,i.targetId),await lG(r.localStore,i.targetId,!0))}async function lsn(e,t){const n=Pn(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),One(n.remoteStore,r.targetId))}async function csn(e,t,n){const r=ysn(e);try{const i=await function(o,a){const u=Pn(o),l=go.now(),c=a.reduce((h,p)=>h.add(p.key),ir());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Lg(),m=ir();return u.os.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(g=>{f=g;const y=[];for(const v of a){const b=Orn(v,f.get(v.key).overlayedDocument);b!=null&&y.push(new Jv(v.key,b,X4e(b.value.mapValue),Au.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,y,a)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:aFe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new us(Vr)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),await KN(r,i.changes),await uj(r.remoteStore)}catch(i){const s=Fne(i,"Failed to persist write");n.reject(s)}}async function qFe(e,t){const n=Pn(e);try{const r=await Tin(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Ci(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ci(o.wa):i.removedDocuments.size>0&&(Ci(o.wa),o.wa=!1))}),await KN(n,r,t)}catch(r){await VN(r)}}function d1e(e,t,n){const r=Pn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Pn(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(l=!0)}),l&&jne(u)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fsn(e,t,n){const r=Pn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let o=new us(Zt.comparator);o=o.insert(s,za.newNoDocument(s,Nn.min()));const a=ir().add(s),u=new oj(Nn.min(),new Map,new us(Vr),o,a);await qFe(r,u),r.va=r.va.remove(s),r.Fa.delete(t),Bne(r)}else await lG(r.localStore,t,!1).then(()=>fG(r,t,n)).catch(VN)}async function dsn(e,t){const n=Pn(e),r=t.batch.batchId;try{const i=await Sin(n.localStore,t);GFe(n,r,null),WFe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await KN(n,i)}catch(i){await VN(i)}}async function hsn(e,t,n){const r=Pn(e);try{const i=await function(o,a){const u=Pn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ci(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);GFe(r,t,n),WFe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await KN(r,i)}catch(i){await VN(i)}}function WFe(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function GFe(e,t,n){const r=Pn(e);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function fG(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||YFe(e,r)})}function YFe(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(One(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Bne(e))}function h1e(e,t,n){for(const r of n)r instanceof zFe?(e.Ma.addReference(r.key,t),psn(e,r)):r instanceof VFe?(Ut("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||YFe(e,r.key)):wn()}function psn(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ut("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Bne(e))}function Bne(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Zt(Oi.fromString(t)),r=e.Na.next();e.Fa.set(r,new rsn(n)),e.va=e.va.insert(n,r),OFe(e.remoteStore,new sy(cp(Cne(n.path)),r,"TargetPurposeLimboResolution",_ne.oe))}}async function KN(e,t,n){const r=Pn(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient){const c=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,c?"current":"not-current")}if(l){i.push(l);const c=Pne.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,l){const c=Pn(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>rt.forEach(l,d=>rt.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>rt.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!HN(f))throw f;Ut("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,s))}async function msn(e,t){const n=Pn(e);if(!n.currentUser.isEqual(t)){Ut("SyncEngine","User change. New user:",t.toKey());const r=await kFe(n.localStore,t);n.currentUser=t,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new It(Ge.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await KN(n,r.us)}}function gsn(e,t){const n=Pn(e),r=n.Fa.get(t);if(r&&r.wa)return ir().add(r.key);{let i=ir();const s=n.Da.get(t);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function KFe(e){const t=Pn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qFe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gsn.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fsn.bind(null,t),t.Sa.h_=Zin.bind(null,t.eventManager),t.Sa.ka=esn.bind(null,t.eventManager),t}function ysn(e){const t=Pn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dsn.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hsn.bind(null,t),t}class p1e{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=aj(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return xin(this.persistence,new win,t.initialUser,this.serializer)}createPersistence(t){return new vin(Nne.Hr,this.serializer)}createSharedClientState(t){return new Rin}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vsn{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d1e(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=msn.bind(null,this.syncEngine),await Xin(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Jin}()}createDatastore(t){const n=aj(t.databaseInfo.databaseId),r=function(s){return new Din(s)}(t.databaseInfo);return function(s,o,a,u){return new Lin(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new jin(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>d1e(this.syncEngine,n,0),function(){return u1e.D()?new u1e:new Nin}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new isn(i,s,o,a,u,l);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Pn(r);Ut("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await YN(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XFe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Mg("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bsn{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nl.UNAUTHENTICATED,this.clientId=G4e.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ut("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ut("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ig;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Fne(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function O7(e,t){e.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kFe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function m1e(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QFe(e);Ut("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>l1e(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>l1e(t.remoteStore,i)),e._onlineComponents=t}function _sn(e){return e.name==="FirebaseError"?e.code===Ge.FAILED_PRECONDITION||e.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function QFe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{await O7(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_sn(n))throw n;iR("Error using user provided cache. Falling back to memory cache: "+n),await O7(e,new p1e)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),await O7(e,new p1e);return e._offlineComponents}async function Une(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),await m1e(e,e._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),await m1e(e,new vsn))),e._onlineComponents}function wsn(e){return QFe(e).then(t=>t.persistence)}function Esn(e){return Une(e).then(t=>t.remoteStore)}function xsn(e){return Une(e).then(t=>t.syncEngine)}async function JFe(e){const t=await Une(e),n=t.eventManager;return n.onListen=ssn.bind(null,t.syncEngine),n.onUnlisten=usn.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=osn.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lsn.bind(null,t.syncEngine),n}function Ssn(e){return e.asyncQueue.enqueue(async()=>{const t=await wsn(e),n=await Esn(e);return t.setNetworkEnabled(!0),function(i){const s=Pn(i);return s.M_.delete(0),GN(s)}(n)})}function Tsn(e,t,n={}){const r=new ig;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new XFe({next:d=>{o.enqueueAndForget(()=>BFe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new It(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new It(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new UFe(Cne(a.path),c,{includeMetadataChanges:!0,ra:!0});return jFe(s,f)}(await JFe(e),e.asyncQueue,t,n,r)),r.promise}function Csn(e,t,n={}){const r=new ig;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new XFe({next:d=>{o.enqueueAndForget(()=>BFe(s,f)),d.fromCache&&u.source==="server"?l.reject(new It(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new UFe(a,c,{includeMetadataChanges:!0,ra:!0});return jFe(s,f)}(await JFe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZFe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1e=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5e(e,t,n){if(!n)throw new It(Ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Asn(e,t,n,r){if(t===!0&&r===!0)throw new It(Ge.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function y1e(e){if(!Zt.isDocumentKey(e))throw new It(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function v1e(e){if(Zt.isDocumentKey(e))throw new It(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lj(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wn()}function Tf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new It(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lj(e);throw new It(Ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1e{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new It(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new It(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Asn("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZFe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new It(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new It(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new It(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zne{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1e({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new It(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new It(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1e(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qnn;switch(r.type){case"firstParty":return new Ynn(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g1e.get(n);r&&(Ut("ComponentProvider","Removing Datastore"),g1e.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zv(this.firestore,t,this._query)}}class Iu{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dy(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Iu(this.firestore,t,this._key)}}class Dy extends Zv{constructor(t,n,r){super(t,n,Cne(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Iu(this.firestore,null,new Zt(t))}withConverter(t){return new Dy(this.firestore,t,this._path)}}function el(e,t,...n){if(e=Ai(e),e5e("collection","path",t),e instanceof zne){const r=Oi.fromString(t,...n);return v1e(r),new Dy(e,null,r)}{if(!(e instanceof Iu||e instanceof Dy))throw new It(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Oi.fromString(t,...n));return v1e(r),new Dy(e.firestore,null,r)}}function As(e,t,...n){if(e=Ai(e),arguments.length===1&&(t=G4e.newId()),e5e("doc","path",t),e instanceof zne){const r=Oi.fromString(t,...n);return y1e(r),new Iu(e,null,new Zt(r))}{if(!(e instanceof Iu||e instanceof Dy))throw new It(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Oi.fromString(t,...n));return y1e(r),new Iu(e.firestore,e instanceof Dy?e.converter:null,new Zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Isn{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new NFe(this,"async_queue_retry"),this.hu=()=>{const n=P7();n&&Ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=P7();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=P7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ig;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!HN(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mg("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=Lne.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&wn()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class u0 extends zne{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Isn}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t5e(this),this._firestoreClient.terminate()}}function ksn(e,t,n){n||(n="(default)");const r=yC(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(nR(s,t))return i;throw new It(Ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new It(Ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new It(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function XN(e){return e._firestoreClient||t5e(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function t5e(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new arn(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ZFe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new bsn(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Rsn(e){return Ssn(XN(e=Tf(e,u0)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this._byteString=t}static fromBase64String(t){try{return new VS(tu.fromBase64String(t))}catch(n){throw new It(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new VS(tu.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new It(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vne=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new It(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new It(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vr(this._lat,t._lat)||Vr(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nsn=/^__.*__$/;class Psn{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Jv(t,this.data,this.fieldMask,n,this.fieldTransforms):new qN(t,this.data,n,this.fieldTransforms)}}class n5e{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Jv(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function r5e(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class Hne{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Hne(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return u6(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(r5e(this.fu)&&Nsn.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class Osn{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||aj(t)}Fu(t,n,r,i=!1){return new Hne({fu:t,methodName:n,vu:r,path:ca.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZN(e){const t=e._freezeSettings(),n=aj(e._databaseId);return new Osn(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qne(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Yne("Data must be an object, but it was:",o,r);const a=o5e(r,o);let u,l;if(s.merge)u=new fc(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=dG(t,f,n);if(!o.contains(d))throw new It(Ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);u5e(c,d)||c.push(d)}u=new fc(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Psn(new dl(a),u,l)}class cj extends JN{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cj}}class Wne extends JN{_toFieldTransform(t){return new gFe(t.path,new cR)}isEqual(t){return t instanceof Wne}}class Gne extends JN{constructor(t,n){super(t),this.xu=n}_toFieldTransform(t){const n=new hR(t.serializer,fFe(t.serializer,this.xu));return new gFe(t.path,n)}isEqual(t){return t instanceof Gne&&this.xu===t.xu}}function i5e(e,t,n,r){const i=e.Fu(1,t,n);Yne("Data must be an object, but it was:",i,r);const s=[],o=dl.empty();dw(r,(u,l)=>{const c=Kne(t,u,n);l=Ai(l);const f=i.Su(c);if(l instanceof cj)s.push(c);else{const d=eP(l,f);d!=null&&(s.push(c),o.set(c,d))}});const a=new fc(s);return new n5e(o,a,i.fieldTransforms)}function s5e(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[dG(t,r,n)],u=[i];if(s.length%2!=0)throw new It(Ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(dG(t,s[d])),u.push(s[d+1]);const l=[],c=dl.empty();for(let d=a.length-1;d>=0;--d)if(!u5e(l,a[d])){const h=a[d];let p=u[d];p=Ai(p);const m=o.Su(h);if(p instanceof cj)l.push(h);else{const g=eP(p,m);g!=null&&(l.push(h),c.set(h,g))}}const f=new fc(l);return new n5e(c,f,o.fieldTransforms)}function Dsn(e,t,n,r=!1){return eP(n,e.Fu(r?4:3,t))}function eP(e,t){if(a5e(e=Ai(e)))return Yne("Unsupported field value:",t,e),o5e(e,t);if(e instanceof JN)return function(r,i){if(!r5e(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=eP(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fFe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=go.fromDate(r);return{timestampValue:o6(i.serializer,s)}}if(r instanceof go){const s=new go(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:o6(i.serializer,s)}}if(r instanceof Vne)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof VS)return{bytesValue:EFe(i.serializer,r._byteString)};if(r instanceof Iu){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kne(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${lj(r)}`)}(e,t)}function o5e(e,t){const n={};return Y4e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dw(e,(r,i)=>{const s=eP(i,t.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a5e(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof go||e instanceof Vne||e instanceof VS||e instanceof Iu||e instanceof JN)}function Yne(e,t,n){if(!a5e(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lj(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function dG(e,t,n){if((t=Ai(t))instanceof QN)return t._internalPath;if(typeof t=="string")return Kne(e,t);throw u6("Field path arguments must be of type string or ",e,!1,void 0,n)}const $sn=new RegExp("[~\\*/\\[\\]]");function Kne(e,t,n){if(t.search($sn)>=0)throw u6(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new QN(...t.split("."))._internalPath}catch{throw u6(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function u6(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new It(Ge.INVALID_ARGUMENT,a+e+u)}function u5e(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5e{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Iu(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Msn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fj("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Msn extends l5e{data(){return super.data()}}function fj(e,t){return typeof t=="string"?Kne(e,t):t instanceof QN?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lsn(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new It(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xne{}class Qne extends Xne{}function hG(e,t,...n){let r=[];t instanceof Xne&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Jne).length,a=s.filter(u=>u instanceof dj).length;if(o>1||o>0&&a>0)throw new It(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class dj extends Qne{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new dj(t,n,r)}_apply(t){const n=this._parse(t);return f5e(t._query,n),new Zv(t.firestore,t.converter,iG(t._query,n))}_parse(t){const n=ZN(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new It(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){w1e(f,c);const h=[];for(const p of f)h.push(_1e(u,s,p));d={arrayValue:{values:h}}}else d=_1e(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||w1e(f,c),d=Dsn(a,o,f,c==="in"||c==="not-in");return Js.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function c5e(e,t,n){const r=t,i=fj("where",e);return dj._create(i,r,n)}class Jne extends Xne{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Jne(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ud.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)f5e(o,u),o=iG(o,u)}(t._query,n),new Zv(t.firestore,t.converter,iG(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zne extends Qne{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zne(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new It(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new It(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lR(s,o)}(t._query,this._field,this._direction);return new Zv(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new bC(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Fsn(e,t="asc"){const n=t,r=fj("orderBy",e);return Zne._create(r,n)}class ere extends Qne{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new ere(t,n,r)}_apply(t){return new Zv(t.firestore,t.converter,s6(t._query,this._limit,this._limitType))}}function jsn(e){return ere._create("limit",e,"F")}function _1e(e,t,n){if(typeof(n=Ai(n))=="string"){if(n==="")throw new It(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rFe(t)&&n.indexOf("/")!==-1)throw new It(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Oi.fromString(n));if(!Zt.isDocumentKey(r))throw new It(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vve(e,new Zt(r))}if(n instanceof Iu)return Vve(e,n._key);throw new It(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lj(n)}.`)}function w1e(e,t){if(!Array.isArray(e)||e.length===0)throw new It(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function f5e(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new It(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new It(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Bsn{convertValue(t,n="none"){switch(g_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(m_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw wn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return dw(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Vne(Xs(t.latitude),Xs(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ene(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oR(t));default:return null}}convertTimestamp(t){const n=pv(t);return new go(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Oi.fromString(t);Ci(IFe(r));const i=new aR(r.get(1),r.get(3)),s=new Zt(r.popFirst(5));return i.isEqual(n)||Mg(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class d5e extends l5e{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new q$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(fj("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class q$ extends d5e{data(t={}){return super.data(t)}}class Usn{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AA(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new q$(this._firestore,this._userDataWriter,r.key,r,new AA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new It(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new q$(i._firestore,i._userDataWriter,a.doc.key,a.doc,new AA(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new q$(i._firestore,i._userDataWriter,a.doc.key,a.doc,new AA(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:zsn(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zsn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(e){e=Tf(e,Iu);const t=Tf(e.firestore,u0);return Tsn(XN(t),e._key).then(n=>qsn(t,e,n))}class h5e extends Bsn{constructor(t){super(),this.firestore=t}convertBytes(t){return new VS(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Iu(this.firestore,null,n)}}function J1(e){e=Tf(e,Zv);const t=Tf(e.firestore,u0),n=XN(t),r=new h5e(t);return Lsn(e._query),Csn(n,e._query).then(i=>new Usn(t,r,e,i))}function Xu(e,t,n){e=Tf(e,Iu);const r=Tf(e.firestore,u0),i=tre(e.converter,t,n);return tP(r,[qne(ZN(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Au.none())])}function p5e(e,t,n,...r){e=Tf(e,Iu);const i=Tf(e.firestore,u0),s=ZN(i);let o;return o=typeof(t=Ai(t))=="string"||t instanceof QN?s5e(s,"updateDoc",e._key,t,n,r):i5e(s,"updateDoc",e._key,t),tP(i,[o.toMutation(e._key,Au.exists(!0))])}function Vsn(e){return tP(Tf(e.firestore,u0),[new sj(e._key,Au.none())])}function Hsn(e,t){const n=Tf(e.firestore,u0),r=As(e),i=tre(e.converter,t);return tP(n,[qne(ZN(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Au.exists(!1))]).then(()=>r)}function tP(e,t){return function(r,i){const s=new ig;return r.asyncQueue.enqueueAndForget(async()=>csn(await xsn(r),i,s)),s.promise}(XN(e),t)}function qsn(e,t,n){const r=n.docs.get(t._key),i=new h5e(e);return new d5e(e,i,t._key,r,new AA(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wsn{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ZN(t)}set(t,n,r){this._verifyNotCommitted();const i=$7(t,this._firestore),s=tre(i.converter,n,r),o=qne(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Au.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=$7(t,this._firestore);let o;return o=typeof(n=Ai(n))=="string"||n instanceof QN?s5e(this._dataReader,"WriteBatch.update",s._key,n,r,i):i5e(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Au.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=$7(t,this._firestore);return this._mutations=this._mutations.concat(new sj(n._key,Au.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $7(e,t){if((e=Ai(e)).firestore!==t)throw new It(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Gsn(){return new Wne("serverTimestamp")}function Ysn(e){return new Gne("increment",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1e(e){return XN(e=Tf(e,u0)),new Wsn(e,t=>tP(e,t))}(function(t,n=!0){(function(i){vC=i})(fw),$g(new Ap("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new u0(new Wnn(r.getProvider("auth-internal")),new Xnn(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new It(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aR(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nd(jve,"4.6.3",t),Nd(jve,"4.6.3","esm2017")})();const Ksn={},Xsn=Object.freeze(Object.defineProperty({__proto__:null,default:Ksn},Symbol.toStringTag,{value:"Module"})),Qsn=pGe(Xsn);var Jsn=Qsn;function Zsn(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function eon(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function ton(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function non(e){return e.__COMMENTS__}function ron(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var hj={EOL:Jsn.EOL||`
`,tryParseNumber:Zsn,createComment:eon,removeComment:ton,getComment:non,forceComment:ron},ion="3.2.1";function son(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return x1e}else if(e.length===0)return x1e;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return aon(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),oon.bind(null,n)}function oon(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function x1e(){}function aon(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function m5e(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}m5e.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function g5e(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}g5e.description="parse hexadecimal numbers prefixed with 0x";function y5e(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}y5e.description="support ISO dates";var nre={loadDsf:son,std:{math:m5e,hex:g5e,date:y5e}},uon=function(e,t){var n=hj,r=nre,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f($){return $==="{"||$==="}"||$==="["||$==="]"||$===","||$===":"}function d($){var L,M=0,B=1;for(L=s-1;L>0&&i[L]!==`
`;L--,M++);for(;L>0;L--)i[L]===`
`&&B++;throw new Error($+" at line "+B+","+M+" >>>"+i.substr(s-M,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p($){return i.charAt(s+$)}function m($){for(var L="",M=o;h();){if(o===M)return h(),$&&M==="'"&&o==="'"&&L.length===0?(h(),g()):L;if(o==="\\")if(h(),o==="u"){for(var B=0,z=0;z<4;z++){h();var H=o.charCodeAt(0),O;o>="0"&&o<="9"?O=H-48:o>="a"&&o<="f"?O=H-97+10:o>="A"&&o<="F"?O=H-65+10:d("Bad \\u char "+o),B=B*16+O}L+=String.fromCharCode(B)}else if(typeof a[o]=="string")L+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):L+=o}d("Bad string")}function g(){for(var $="",L=0,M=0;;){var B=p(-M-5);if(!B||B===`
`)break;M++}function z(){for(var H=M;o&&o<=" "&&o!==`
`&&H-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),z());;){if(!o)d("Bad multiline string");else if(o==="'"){if(L++,h(),L===3)return $.slice(-1)===`
`&&($=$.slice(0,-1)),$;continue}else for(;L>0;)$+="'",L--;o===`
`?($+=`
`,h(),z()):(o!=="\r"&&($+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var $="",L=s,M=-1;;){if(o===":")return $?M>=0&&M!==$.length&&(s=L+M,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),$;o<=" "?o?M<0&&(M=$.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):$+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function b(){var $=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var L=o==="\r"||o===`
`||o==="";if(L||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var M=$[0];switch(M){case"f":if($.trim()==="false")return!1;break;case"n":if($.trim()==="null")return null;break;case"t":if($.trim()==="true")return!0;break;default:if(M==="-"||M>="0"&&M<="9"){var B=n.tryParseNumber($);if(B!==void 0)return B}}if(L){$=$.trim();var z=l($);return z!==void 0?z:$}}$+=o}}function w($,L){var M;for($--,M=s-2;M>$&&i[M]<=" "&&i[M]!==`
`;M--);i[M]===`
`&&M--,i[M]==="\r"&&M--;var B=i.substr($,M-$+1);for(M=0;M<B.length;M++)if(B[M]>" "){var z=B.indexOf(`
`);if(z>=0){var H=[B.substr(0,z),B.substr(z+1)];return L&&H[0].trim().length===0&&H.shift(),H}else return[B]}return[]}function E($){function L(B,z){var H,O,U,q;switch(typeof B){case"string":B.indexOf(z)>=0&&(q=B);break;case"object":if(Object.prototype.toString.apply(B)==="[object Array]")for(H=0,U=B.length;H<U;H++)q=L(B[H],z)||q;else for(O in B)Object.prototype.hasOwnProperty.call(B,O)&&(q=L(B[O],z)||q)}return q}function M(B){var z=L($,B);return z?"found '"+B+`' in a string value, your mistake could be with:
  > `+z+`
  (unquoted strings contain everything up to the next line!)`:""}return M("}")||M("]")}function x(){var $=[],L,M,B;try{if(u&&(L=n.createComment($,{a:[]})),h(),M=s,v(),L&&(B=w(M,!0).join(`
`)),o==="]")return h(),L&&(L.e=[B]),$;for(;o;){if($.push(C()),M=s,v(),o===","&&(h(),M=s,v()),L){var z=w(M);L.a.push([B||"",z[0]||""]),B=z[1]}if(o==="]")return h(),L&&(L.a[L.a.length-1][1]+=B||""),$;v()}d("End of input while parsing an array (missing ']')")}catch(H){throw H.hint=H.hint||E($),H}}function S($){var L="",M={},B,z,H;try{if(u&&(B=n.createComment(M,{c:{},o:[]})),$?z=1:(h(),z=s),v(),B&&(H=w(z,!0).join(`
`)),o==="}"&&!$)return B&&(B.e=[H]),h(),M;for(;o;){if(L=y(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),M[L]=C(),z=s,v(),o===","&&(h(),z=s,v()),B){var O=w(z);B.c[L]=[H||"",O[0]||""],H=O[1],B.o.push(L)}if(o==="}"&&!$)return h(),B&&(B.c[L][1]+=H||""),M;v()}if($)return M;d("End of input while parsing an object (missing '}')")}catch(U){throw U.hint=U.hint||E(M),U}}function C(){switch(v(),o){case"{":return S();case"[":return x();case"'":case'"':return m(!0);default:return b()}}function I($,L){var M=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var B=L.join(`
`),z=w(M).join(`
`);if(z||B){var H=n.createComment($,n.getComment($));H.r=[B,z]}}return $}function k(){v();var $=u?w(1):null;switch(o){case"{":return I(S(),$);case"[":return I(x(),$);default:return I(C(),$)}}function R(){v();var $=u?w(1):null;switch(o){case"{":return I(S(),$);case"[":return I(x(),$)}try{return I(S(!0),$)}catch(L){c();try{return I(C(),$)}catch{throw L}}}if(typeof e!="string")throw new Error("source is not a string");var D=null,P=!0;return t&&typeof t=="object"&&(u=t.keepWsc,D=t.dsf,P=t.legacyRoot!==!1),l=r.loadDsf(D,"parse"),i=e,c(),P?R():k()},lon=function(e,t){var n=hj,r=nre,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var b=v[y];g[b].push(i[b][0].length,i[b][1].length)}}var w,E="---\u2028--\uFEFF-",x=new RegExp('[\\\\\\"\0-'+E+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+E+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+E+"]","g"),I=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),k={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},R=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,D="",P=0;function $(q,F){return P+=q[0].length+q[1].length-q[2]-q[3],q[0]+F+q[1]}function L(q){return q.replace(x,function(F){var V=k[F];return typeof V=="string"?$(g.esc,V):$(g.uni,("0000"+F.charCodeAt(0).toString(16)).slice(-4))})}function M(q,F,V,G){return q?(S.lastIndex=0,I.lastIndex=0,c||V||S.test(q)||n.tryParseNumber(q,!0)!==void 0||I.test(q)?(x.lastIndex=0,C.lastIndex=0,x.test(q)?!C.test(q)&&!G&&d?B(q,F):$(g.qstr,L(q)):$(g.qstr,q)):$(g.str,q)):$(g.qstr,"")}function B(q,F){var V,G=q.replace(/\r/g,"").split(`
`);if(F+=o,G.length===1)return $(g.mstr,G[0]);var Z=s+F+g.mstr[0];for(V=0;V<G.length;V++)Z+=s,G[V]&&(Z+=F+G[V]);return Z+s+F+g.mstr[1]}function z(q){return q?l||R.test(q)?(x.lastIndex=0,$(g.qkey,x.test(q)?L(q):q)):$(g.key,q):'""'}function H(q,F,V,G){function Z(vt){return vt&&vt[vt[0]==="\r"?1:0]===`
`}function ae(vt){return vt&&!Z(vt)}function re(vt,rn,Sn){if(!vt)return"";vt=n.forceComment(vt);var sn,Hs=vt.length;for(sn=0;sn<Hs&&vt[sn]<=" ";sn++);return Sn&&sn>0&&(vt=vt.substr(sn)),sn<Hs?rn+$(g.rem,vt):vt}var ue=w(q);if(ue!==void 0)return $(g.dsf,ue);switch(typeof q){case"string":return M(q,D,F,G);case"number":return isFinite(q)?$(g.num,String(q)):$(g.lit,"null");case"boolean":return $(g.lit,String(q));case"object":if(!q)return $(g.lit,"null");var pe;a&&(pe=n.getComment(q));var xe=Object.prototype.toString.apply(q)==="[object Array]",ve=D;D+=o;var We=s+ve,Be=s+D,ht=V||u?"":We,Je=[],we,Ae=f?[]:null,ze=c,et=d,Ot=h?"":g.com[0],Oe=0,fe,Xe,nt,ge,ke,Ve,Ye,pt,xn;if(xe){for(fe=0,Xe=q.length;fe<Xe;fe++){if(we=fe<Xe-1,pe?(Ve=pe.a[fe]||[],Ye=ae(Ve[1]),Je.push(re(Ve[0],`
`)+Be),Ae&&(Ve[0]||Ve[1]||Ye)&&(Ae=null)):Je.push(Be),P=0,ge=q[fe],Je.push(H(ge,pe?Ye:!1,!0)+(we?h:"")),Ae){switch(typeof ge){case"string":P=0,c=!0,d=0,Ae.push(H(ge,!1,!0)+(we?g.com[0]:"")),c=ze,d=et;break;case"object":if(ge){Ae=null;break}default:Ae.push(Je[Je.length-1]+(we?Ot:""));break}we&&(P+=g.com[0].length-g.com[2]),Oe+=P}pe&&Ve[1]&&Je.push(re(Ve[1],Ye?" ":`
`,Ye))}Xe===0?pe&&pe.e&&Je.push(re(pe.e[0],`
`)+We):Je.push(We),Je.length===0?pt=$(g.arr,""):(pt=ht+$(g.arr,Je.join("")),Ae&&(xn=Ae.join(" "),xn.length-Oe<=f&&(pt=$(g.arr,xn))))}else{var nr=pe?pe.o.slice():[],mt=[];for(nt in q)Object.prototype.hasOwnProperty.call(q,nt)&&nr.indexOf(nt)<0&&mt.push(nt);m&&mt.sort();var Lt=nr.concat(mt);for(fe=0,Xe=Lt.length;fe<Xe;fe++)if(we=fe<Xe-1,nt=Lt[fe],pe?(Ve=pe.c[nt]||[],Ye=ae(Ve[1]),Je.push(re(Ve[0],`
`)+Be),Ae&&(Ve[0]||Ve[1]||Ye)&&(Ae=null)):Je.push(Be),P=0,ge=q[nt],ke=H(ge,pe&&Ye),Je.push(z(nt)+g.col[0]+(Z(ke)?"":" ")+ke+(we?h:"")),pe&&Ve[1]&&Je.push(re(Ve[1],Ye?" ":`
`,Ye)),Ae){switch(typeof ge){case"string":P=0,c=!0,d=0,ke=H(ge,!1),c=ze,d=et,Ae.push(z(nt)+g.col[0]+" "+ke+(we?g.com[0]:""));break;case"object":if(ge){Ae=null;break}default:Ae.push(Je[Je.length-1]+(we?Ot:""));break}P+=g.col[0].length-g.col[2],we&&(P+=g.com[0].length-g.com[2]),Oe+=P}Xe===0?pe&&pe.e&&Je.push(re(pe.e[0],`
`)+We):Je.push(We),Je.length===0?pt=$(g.obj,""):(pt=ht+$(g.obj,Je.join("")),Ae&&(xn=Ae.join(" "),xn.length-Oe<=f&&(pt=$(g.obj,xn))))}return D=ve,pt}}w=r.loadDsf(p,"stringify");var O="",U=a?U=(n.getComment(e)||{}).r:null;return U&&U[0]&&(O=U[0]+`
`),O+=H(e,null,!0,!0),U&&(O+=U[1]||""),O},Dx=hj;function TI(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function pG(e,t){if(!(e===null||typeof e!="object")){var n=Dx.getComment(e);n&&Dx.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)S1e(o.a,r,n.a[r],pG(e[r]))&&(s=!0);!s&&n.e&&(o.e=TI(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];S1e(o.s,l,n.c[l],pG(e[l]))&&(s=!0)}!s&&n.e&&(o.e=TI(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=TI(n.r[0],n.r[1])),s?o:void 0}}function con(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function fon(e,t){var n=[];if(mG(e,t,n,[]),n.length>0){var r=l6(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+con(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),l6(t,r,1)}}function S1e(e,t,n,r){var i=TI(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function CI(e,t){var n=TI(t.b,t.a);return n.path=e,n}function AI(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(CI(s,o)),AI(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(CI(u,l)),AI(l.x,t,u))});e.e&&t.push(CI(n,e.e))}}function mG(e,t,n,r){if(e){if(t===null||typeof t!="object"){AI(e,n,r);return}var i,s=Dx.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],mG(u.x,t[i],n,l)):(n.push(CI(l,u)),AI(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],mG(d.x,t[c],n,f))):d&&(n.push(CI(f,d)),AI(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function l6(e,t,n){var r=Dx.createComment(e,Dx.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Dx.forceComment(t)),r.r[n]||""}var don={extract:function(e){return pG(e,!0)},merge:fon,header:function(e,t){return l6(e,t,0)},footer:function(e,t){return l6(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var T1e=hj,hon=ion,C1e=uon,A1e=lon,pon=don,mon=nre,rre={parse:C1e,stringify:A1e,endOfLine:function(){return T1e.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(T1e.EOL=e)},version:hon,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,C1e(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,A1e(e,t)}},comments:pon,dsf:mon.std},gon="firebase",yon="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nd(gon,yon,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5e="firebasestorage.googleapis.com",b5e="storageBucket",von=2*60*1e3,bon=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Kp{constructor(t,n,r=0){super(M7(t),`Firebase Storage: ${n} (${M7(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return M7(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xs;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xs||(xs={}));function M7(e){return"storage/"+e}function ire(){const e="An unknown error occurred, please check the error payload for server response.";return new Ss(xs.UNKNOWN,e)}function _on(e){return new Ss(xs.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function won(e){return new Ss(xs.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eon(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ss(xs.UNAUTHENTICATED,e)}function xon(){return new Ss(xs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Son(e){return new Ss(xs.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Ton(){return new Ss(xs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Con(){return new Ss(xs.CANCELED,"User canceled the upload/download.")}function Aon(e){return new Ss(xs.INVALID_URL,"Invalid URL '"+e+"'.")}function Ion(e){return new Ss(xs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function kon(){return new Ss(xs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b5e+"' property when initializing the app?")}function Ron(){return new Ss(xs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Non(){return new Ss(xs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Pon(e){return new Ss(xs.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gG(e){return new Ss(xs.INVALID_ARGUMENT,e)}function _5e(){return new Ss(xs.APP_DELETED,"The Firebase app was deleted.")}function Oon(e){return new Ss(xs.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function II(e,t){return new Ss(xs.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function I2(e){throw new Ss(xs.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Su.makeFromUrl(t,n)}catch{return new Su(t,"")}if(r.path==="")return r;throw Ion(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===v5e?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<b.length;w++){const E=b[w],x=E.regex.exec(t);if(x){const S=x[E.indices.bucket];let C=x[E.indices.path];C||(C=""),r=new Su(S,C),E.postModify(r);break}}if(r==null)throw Aon(t);return r}}class Don{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $on(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...g){l||(l=!0,t.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,e(h,u())},g)}function d(){s&&clearTimeout(s)}function h(g,...y){if(l){d();return}if(g){d(),c.call(null,g,...y);return}if(u()||o){d(),c.call(null,g,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(g){p||(p=!0,d(),!l&&(i!==null?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Mon(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lon(e){return e!==void 0}function Fon(e){return typeof e=="object"&&!Array.isArray(e)}function sre(e){return typeof e=="string"||e instanceof String}function I1e(e){return ore()&&e instanceof Blob}function ore(){return typeof Blob<"u"}function yG(e,t,n,r){if(r<t)throw gG(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gG(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function w5e(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lb;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lb||(Lb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jon(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bon{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new pD(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Lb.NO_ERROR,u=s.getStatus();if(!a||jon(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Lb.ABORT;r(!1,new pD(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new pD(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Lon(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=ire();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?_5e():Con();o(u)}else{const u=Ton();o(u)}};this.canceled_?n(!1,new pD(!1,null,!0)):this.backoffId_=$on(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Mon(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pD{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Uon(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function zon(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Von(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Hon(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qon(e,t,n,r,i,s,o=!0){const a=w5e(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Von(l,t),Uon(l,n),zon(l,s),Hon(l,r),new Bon(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Won(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gon(...e){const t=Won();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(ore())return new Blob(e);throw new Ss(xs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yon(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kon(e){if(typeof atob>"u")throw Pon("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L7{constructor(t,n){this.data=t,this.contentType=n||null}}function Xon(e,t){switch(e){case Qh.RAW:return new L7(E5e(t));case Qh.BASE64:case Qh.BASE64URL:return new L7(x5e(e,t));case Qh.DATA_URL:return new L7(Jon(t),Zon(t))}throw ire()}function E5e(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Qon(e){let t;try{t=decodeURIComponent(e)}catch{throw II(Qh.DATA_URL,"Malformed data URL.")}return E5e(t)}function x5e(e,t){switch(e){case Qh.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw II(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qh.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw II(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Kon(t)}catch(i){throw i.message.includes("polyfill")?i:II(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class S5e{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw II(Qh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ean(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Jon(e){const t=new S5e(e);return t.base64?x5e(Qh.BASE64,t.rest):Qon(t.rest)}function Zon(e){return new S5e(e).contentType}function ean(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){let r=0,i="";I1e(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(I1e(this.data_)){const r=this.data_,i=Yon(r,t,n);return i===null?null:new G0(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new G0(r,!0)}}static getBlob(...t){if(ore()){const n=t.map(r=>r instanceof G0?r.data_:r);return new G0(Gon.apply(null,n))}else{const n=t.map(o=>sre(o)?Xon(Qh.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new G0(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(e){let t;try{t=JSON.parse(e)}catch{return null}return Fon(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tan(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function nan(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function T5e(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ran(e,t){return t}class cu{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ran}}let mD=null;function ian(e){return!sre(e)||e.length<2?e:T5e(e)}function C5e(){if(mD)return mD;const e=[];e.push(new cu("bucket")),e.push(new cu("generation")),e.push(new cu("metageneration")),e.push(new cu("name","fullPath",!0));function t(s,o){return ian(o)}const n=new cu("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cu("size");return i.xform=r,e.push(i),e.push(new cu("timeCreated")),e.push(new cu("updated")),e.push(new cu("md5Hash",null,!0)),e.push(new cu("cacheControl",null,!0)),e.push(new cu("contentDisposition",null,!0)),e.push(new cu("contentEncoding",null,!0)),e.push(new cu("contentLanguage",null,!0)),e.push(new cu("contentType",null,!0)),e.push(new cu("metadata","customMetadata",!0)),mD=e,mD}function san(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Su(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function oan(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return san(r,e),r}function A5e(e,t,n){const r=are(t);return r===null?null:oan(e,r,n)}function aan(e,t,n,r){const i=are(t);if(i===null||!sre(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=nP(d,n,r),p=w5e({alt:"media",token:l});return h+p})[0]}function uan(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1e="prefixes",R1e="items";function lan(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[k1e])for(const i of n[k1e]){const s=i.replace(/\/$/,""),o=e._makeStorageReference(new Su(t,s));r.prefixes.push(o)}if(n[R1e])for(const i of n[R1e]){const s=e._makeStorageReference(new Su(t,i.name));r.items.push(s)}return r}function can(e,t,n){const r=are(n);return r===null?null:lan(e,t,r)}class pj{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(e){if(!e)throw ire()}function fan(e,t){function n(r,i){const s=A5e(e,i,t);return ure(s!==null),s}return n}function dan(e,t){function n(r,i){const s=can(e,t,i);return ure(s!==null),s}return n}function han(e,t){function n(r,i){const s=A5e(e,i,t);return ure(s!==null),aan(s,i,e.host,e._protocol)}return n}function lre(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xon():i=Eon():n.getStatus()===402?i=won(e.bucket):n.getStatus()===403?i=Son(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function I5e(e){const t=lre(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=_on(e.path)),s.serverResponse=i.serverResponse,s}return n}function pan(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=t.bucketOnlyServerUrl(),a=nP(o,e.host,e._protocol),u="GET",l=e.maxOperationRetryTime,c=new pj(a,u,dan(e,t.bucket),l);return c.urlParams=s,c.errorHandler=lre(t),c}function man(e,t,n){const r=t.fullServerUrl(),i=nP(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new pj(i,s,han(e,n),o);return a.errorHandler=I5e(t),a}function gan(e,t){const n=t.fullServerUrl(),r=nP(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(u,l){}const a=new pj(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=I5e(t),a}function yan(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function van(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=yan(null,t)),r}function ban(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=van(t,r,i),c=uan(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=G0.getBlob(f,r,d);if(h===null)throw Ron();const p={name:l.fullPath},m=nP(s,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new pj(m,g,fan(e,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=lre(t),v}class _an{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw I2("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw I2("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw I2("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw I2("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw I2("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class wan extends _an{initXhr(){this.xhr_.responseType="text"}}function mj(){return new wan}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,n){this._service=t,n instanceof Su?this._location=n:this._location=Su.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new y_(t,n)}get root(){const t=new Su(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T5e(this._location.path)}get storage(){return this._service}get parent(){const t=tan(this._location.path);if(t===null)return null;const n=new Su(this._location.bucket,t);return new y_(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Oon(t)}}function Ean(e,t,n){e._throwIfRoot("uploadBytes");const r=ban(e.storage,e._location,C5e(),new G0(t,!0),n);return e.storage.makeRequestWithTokens(r,mj).then(i=>({metadata:i,ref:e}))}function xan(e){const t={prefixes:[],items:[]};return k5e(e,t).then(()=>t)}async function k5e(e,t,n){const i=await San(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await k5e(e,t,i.nextPageToken)}function San(e,t){t!=null&&typeof t.maxResults=="number"&&yG("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=pan(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,mj)}function Tan(e){e._throwIfRoot("getDownloadURL");const t=man(e.storage,e._location,C5e());return e.storage.makeRequestWithTokens(t,mj).then(n=>{if(n===null)throw Non();return n})}function Can(e){e._throwIfRoot("deleteObject");const t=gan(e.storage,e._location);return e.storage.makeRequestWithTokens(t,mj)}function Aan(e,t){const n=nan(e._location.path,t),r=new Su(e._location.bucket,n);return new y_(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ian(e){return/^[A-Za-z]+:\/\//.test(e)}function kan(e,t){return new y_(e,t)}function R5e(e,t){if(e instanceof cre){const n=e;if(n._bucket==null)throw kon();const r=new y_(n,n._bucket);return t!=null?R5e(r,t):r}else return t!==void 0?Aan(e,t):e}function Ran(e,t){if(t&&Ian(t)){if(e instanceof cre)return kan(e,t);throw gG("To use ref(service, url), the first argument must be a Storage instance.")}else return R5e(e,t)}function N1e(e,t){const n=t==null?void 0:t[b5e];return n==null?null:Su.makeFromBucketSpec(n,e)}function Nan(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:ytn(i,e.app.options.projectId))}class cre{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=v5e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=von,this._maxUploadRetryTime=bon,this._requests=new Set,i!=null?this._bucket=Su.makeFromBucketSpec(i,this._host):this._bucket=N1e(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Su.makeFromBucketSpec(this._url,t):this._bucket=N1e(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yG("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yG("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new y_(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Don(_5e());{const o=qon(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const P1e="@firebase/storage",O1e="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5e="storage";function F7(e,t,n){return e=Ai(e),Ean(e,t,n)}function k2(e){return e=Ai(e),xan(e)}function j7(e){return e=Ai(e),Tan(e)}function D1e(e){return e=Ai(e),Can(e)}function qc(e,t){return e=Ai(e),Ran(e,t)}function Pan(e=vne(),t){e=Ai(e);const r=yC(e,N5e).getImmediate({identifier:t}),i=gtn("storage");return i&&Oan(r,...i),r}function Oan(e,t,n,r={}){Nan(e,t,n,r)}function Dan(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cre(n,r,i,t,fw)}function $an(){$g(new Ap(N5e,Dan,"PUBLIC").setMultipleInstances(!0)),Nd(P1e,O1e,""),Nd(P1e,O1e,"esm2017")}$an();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=new Map,P5e={activated:!1,tokenObservers:[]},Man={initialized:!1,enabled:!1};function yo(e){return vG.get(e)||Object.assign({},P5e)}function Lan(e,t){return vG.set(e,t),vG.get(e)}function gj(){return Man}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5e="https://content-firebaseappcheck.googleapis.com/v1",Fan="exchangeRecaptchaV3Token",jan="exchangeDebugToken",$1e={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ban=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uan{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new tR,this.pending.promise.catch(n=>{}),await zan(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new tR,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function zan(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Van={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},wl=new gC("appCheck","AppCheck",Van);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1e(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function fre(e){if(!yo(e).activated)throw wl.create("use-before-activation",{appName:e.name})}function D5e(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=gD(n)+"d:"),r&&(o+=gD(r)+"h:"),o+=gD(i)+"m:"+gD(s)+"s",o}function gD(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dre({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw wl.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw wl.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw wl.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw wl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Han(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${O5e}/projects/${n}/apps/${r}:${Fan}?key=${i}`,body:{recaptcha_v3_token:t}}}function $5e(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${O5e}/projects/${n}/apps/${r}:${jan}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qan="firebase-app-check-database",Wan=1,pR="firebase-app-check-store",M5e="debug-token";let yD=null;function L5e(){return yD||(yD=new Promise((e,t)=>{try{const n=indexedDB.open(qan,Wan);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(wl.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pR,{keyPath:"compositeKey"})}}}catch(n){t(wl.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),yD)}function Gan(e){return j5e(B5e(e))}function Yan(e,t){return F5e(B5e(e),t)}function Kan(e){return F5e(M5e,e)}function Xan(){return j5e(M5e)}async function F5e(e,t){const r=(await L5e()).transaction(pR,"readwrite"),s=r.objectStore(pR).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(wl.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function j5e(e){const n=(await L5e()).transaction(pR,"readonly"),i=n.objectStore(pR).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(wl.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function B5e(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Z5("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qan(e){if(gne()){let t;try{t=await Gan(e)}catch(n){mR.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function B7(e,t){return gne()?Yan(e,t).catch(n=>{mR.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Jan(){let e;try{e=await Xan()}catch{}if(e)return e;{const t=Ptn();return Kan(t).catch(n=>mR.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(){return gj().enabled}async function pre(){const e=gj();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Zan(){const e=N4e(),t=gj();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new tR;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Jan())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eun={error:"UNKNOWN_ERROR"};function tun(e){return mne.encodeString(JSON.stringify(e),!1)}async function bG(e,t=!1){const n=e.app;fre(n);const r=yo(n);let i=r.token,s;if(i&&!ex(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(ex(u)?i=u:await B7(n,void 0))}if(!t&&i&&ex(i))return{token:i.token};let o=!1;if(hre()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dre($5e(n,await pre()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await B7(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await yo(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?mR.warn(u.message):mR.error(u),s=u}let a;return i?s?ex(i)?a={token:i.token,internalError:s}:a=F1e(s):(a={token:i.token},r.token=i,await B7(n,i)):a=F1e(s),o&&V5e(n,a),a}async function nun(e){const t=e.app;fre(t);const{provider:n}=yo(t);if(hre()){const r=await pre(),{token:i}=await dre($5e(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function U5e(e,t,n,r){const{app:i}=e,s=yo(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ex(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),L1e(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>L1e(e))}function z5e(e,t){const n=yo(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function L1e(e){const{app:t}=e,n=yo(t);let r=n.tokenRefresher;r||(r=run(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function run(e){const{app:t}=e;return new Uan(async()=>{const n=yo(t);let r;if(n.token?r=await bG(e,!0):r=await bG(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=yo(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$1e.RETRIAL_MIN_WAIT,$1e.RETRIAL_MAX_WAIT)}function V5e(e,t){const n=yo(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ex(e){return e.expireTimeMillis-Date.now()>0}function F1e(e){return{token:tun(eun),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iun{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=yo(this.app);for(const n of t)z5e(this.app,n.next);return Promise.resolve()}}function sun(e,t){return new iun(e,t)}function oun(e){return{getToken:t=>bG(e,t),getLimitedUseToken:()=>nun(e),addTokenListener:t=>U5e(e,"INTERNAL",t),removeTokenListener:t=>z5e(e.app,t)}}const aun="@firebase/app-check",uun="0.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lun="https://www.google.com/recaptcha/api.js";function cun(e,t){const n=new tR,r=yo(e);r.reCAPTCHAState={initialized:n};const i=fun(e),s=M1e(!1);return s?j1e(e,t,s,i,n):pun(()=>{const o=M1e(!1);if(!o)throw new Error("no recaptcha");j1e(e,t,o,i,n)}),n.promise}function j1e(e,t,n,r,i){n.ready(()=>{hun(e,t,n,r),i.resolve(n)})}function fun(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function dun(e){fre(e);const n=await yo(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=yo(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function hun(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{yo(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{yo(e).reCAPTCHAState.succeeded=!1}}),s=yo(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function pun(e){const t=document.createElement("script");t.src=lun,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;gun(this._throttleData);const i=await dun(this._app).catch(o=>{throw wl.create("recaptcha-error")});if(!(!((t=yo(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw wl.create("recaptcha-error");let s;try{s=await dre(Han(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=mun(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),wl.create("throttled",{time:D5e(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=yC(t,"heartbeat"),cun(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof mre?this._siteKey===t._siteKey:!1}}function mun(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Ban,httpStatus:e};{const n=t?t.backoffCount:0,r=Ltn(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function gun(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw wl.create("throttled",{time:D5e(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yun(e=vne(),t){e=Ai(e);const n=yC(e,"app-check");if(gj().initialized||Zan(),hre()&&pre().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw wl.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return vun(e,t.provider,t.isTokenAutoRefreshEnabled),yo(e).isTokenAutoRefreshEnabled&&U5e(r,"INTERNAL",()=>{}),r}function vun(e,t,n){const r=Lan(e,Object.assign({},P5e));r.activated=!0,r.provider=t,r.cachedTokenPromise=Qan(e).then(i=>(i&&ex(i)&&(r.token=i,V5e(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const bun="app-check",B1e="app-check-internal";function _un(){$g(new Ap(bun,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return sun(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(B1e).initialize()})),$g(new Ap(B1e,e=>{const t=e.getProvider("app-check").getImmediate();return oun(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Nd(aun,uun)}_un();function H5e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wun=H5e,q5e=new gC("auth","Firebase",H5e());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Z5("@firebase/auth");function Eun(e,...t){c6.logLevel<=hr.WARN&&c6.warn(`Auth (${fw}): ${e}`,...t)}function W$(e,...t){c6.logLevel<=hr.ERROR&&c6.error(`Auth (${fw}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e,...t){throw yre(e,...t)}function Pd(e,...t){return yre(e,...t)}function gre(e,t,n){const r=Object.assign(Object.assign({},wun()),{[t]:n});return new gC("auth","Firebase",r).create(t,{appName:e.name})}function $y(e){return gre(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xun(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&kp(e,"argument-error"),gre(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yre(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return q5e.create(e,...t)}function _n(e,t,...n){if(!e)throw yre(t,...n)}function Wm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw W$(t),new Error(t)}function Fg(e,t){e||Wm(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Sun(){return U1e()==="http:"||U1e()==="https:"}function U1e(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tun(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sun()||_tn()||"connection"in navigator)?navigator.onLine:!0}function Cun(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fg(n>t,"Short delay should be less than long delay!"),this.isMobile=vtn()||wtn()}get(){return Tun()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(e,t){Fg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5e{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aun={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iun=new rP(3e4,6e4);function yj(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function EC(e,t,n,r,i={}){return G5e(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=zN(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),W5e.fetch()(K5e(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function G5e(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Aun),t);try{const i=new kun(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vD(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vD(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw vD(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw vD(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gre(e,c,l);kp(e,c)}}catch(i){if(i instanceof Kp)throw i;kp(e,"network-request-failed",{message:String(i)})}}async function Y5e(e,t,n,r,i={}){const s=await EC(e,t,n,r,i);return"mfaPendingCredential"in s&&kp(e,"multi-factor-auth-required",{_serverResponse:s}),s}function K5e(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?vre(e.config,i):`${e.config.apiScheme}://${i}`}class kun{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pd(this.auth,"network-request-failed")),Iun.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vD(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pd(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Run(e,t){return EC(e,"POST","/v1/accounts:delete",t)}async function X5e(e,t){return EC(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nun(e,t=!1){const n=Ai(e),r=await n.getIdToken(t),i=bre(r);_n(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:kI(U7(i.auth_time)),issuedAtTime:kI(U7(i.iat)),expirationTime:kI(U7(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function U7(e){return Number(e)*1e3}function bre(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return W$("JWT malformed, contained fewer than 3 sections"),null;try{const i=R4e(n);return i?JSON.parse(i):(W$("Failed to decode base64 JWT payload"),null)}catch(i){return W$("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z1e(e){const t=bre(e);return _n(t,"internal-error"),_n(typeof t.exp<"u","internal-error"),_n(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Kp&&Pun(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Pun({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oun{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kI(this.lastLoginAt),this.creationTime=kI(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gR(e,X5e(n,{idToken:r}));_n(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Q5e(s.providerUserInfo):[],a=$un(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wG(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function Dun(e){const t=Ai(e);await f6(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $un(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Q5e(e){return e.map(t=>{var{providerId:n}=t,r=WR(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mun(e,t){const n=await G5e(e,{},async()=>{const r=zN({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=K5e(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",W5e.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lun(e,t){return EC(e,"POST","/v2/accounts:revokeToken",yj(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_n(t.idToken,"internal-error"),_n(typeof t.idToken<"u","internal-error"),_n(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z1e(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_n(t.length!==0,"internal-error");const n=z1e(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_n(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Mun(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $x;return r&&(_n(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(_n(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(_n(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $x,this.toJSON())}_performRefresh(){return Wm("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(e,t){_n(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Gm{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=WR(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oun(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wG(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await gR(this,this.stsTokenManager.getToken(this.auth,t));return _n(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Nun(this,t)}reload(){return Dun(this)}_assign(t){this!==t&&(_n(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gm(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_n(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await f6(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xh(this.auth.app))return Promise.reject($y(this.auth));const t=await this.getIdToken();return await gR(this,Run(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:x,stsTokenManager:S}=n;_n(b&&S,t,"internal-error");const C=$x.fromJSON(this.name,S);_n(typeof b=="string",t,"internal-error"),E0(f,t.name),E0(d,t.name),_n(typeof w=="boolean",t,"internal-error"),_n(typeof E=="boolean",t,"internal-error"),E0(h,t.name),E0(p,t.name),E0(m,t.name),E0(g,t.name),E0(y,t.name),E0(v,t.name);const I=new Gm({uid:b,auth:t,email:d,emailVerified:w,displayName:f,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return x&&Array.isArray(x)&&(I.providerData=x.map(k=>Object.assign({},k))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new $x;i.updateFromServerResponse(n);const s=new Gm({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await f6(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];_n(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Q5e(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $x;a.updateFromIdToken(r);const u=new Gm({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wG(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1e=new Map;function Ym(e){Fg(e instanceof Function,"Expected a class definition");let t=V1e.get(e);return t?(Fg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,V1e.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}J5e.type="NONE";const H1e=J5e;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(e,t,n){return`firebase:${e}:${t}:${n}`}class Mx{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=G$(this.userKey,i.apiKey,s),this.fullPersistenceKey=G$("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Gm._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Mx(Ym(H1e),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Ym(H1e);const o=G$(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Gm._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Mx(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Mx(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1e(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tje(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Z5e(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rje(t))return"Blackberry";if(ije(t))return"Webos";if(_re(t))return"Safari";if((t.includes("chrome/")||eje(t))&&!t.includes("edge/"))return"Chrome";if(nje(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Z5e(e=_a()){return/firefox\//i.test(e)}function _re(e=_a()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eje(e=_a()){return/crios\//i.test(e)}function tje(e=_a()){return/iemobile/i.test(e)}function nje(e=_a()){return/android/i.test(e)}function rje(e=_a()){return/blackberry/i.test(e)}function ije(e=_a()){return/webos/i.test(e)}function vj(e=_a()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fun(e=_a()){var t;return vj(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function jun(){return Etn()&&document.documentMode===10}function sje(e=_a()){return vj(e)||nje(e)||ije(e)||rje(e)||/windows phone/i.test(e)||tje(e)}function Bun(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oje(e,t=[]){let n;switch(e){case"Browser":n=q1e(_a());break;case"Worker":n=`${q1e(_a())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fw}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uun{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zun(e,t={}){return EC(e,"GET","/v2/passwordPolicy",yj(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vun=6;class Hun{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Vun,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qun{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1e(this),this.idTokenSubscription=new W1e(this),this.beforeStateQueue=new Uun(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q5e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ym(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mx.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await X5e(this,{idToken:t}),r=await Gm._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Xh(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _n(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await f6(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Cun()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xh(this.app))return Promise.reject($y(this));const n=t?Ai(t):null;return n&&_n(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_n(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xh(this.app)?Promise.reject($y(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xh(this.app)?Promise.reject($y(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ym(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zun(this),n=new Hun(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gC("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lun(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ym(t)||this._popupRedirectResolver;_n(n,this,"argument-error"),this.redirectPersistenceManager=await Mx.create(this,[Ym(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_n(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _n(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oje(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Eun(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function iP(e){return Ai(e)}class W1e{constructor(t){this.auth=t,this.observer=null,this.addObserver=ktn(n=>this.observer=n)}get next(){return _n(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wre={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wun(e){wre=e}function Gun(e){return wre.loadJS(e)}function Yun(){return wre.gapiScript}function Kun(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xun(e,t){const n=yC(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(nR(s,t??{}))return i;kp(i,"already-initialized")}return n.initialize({options:t})}function Qun(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ym);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Jun(e,t,n){const r=iP(e);_n(r._canInitEmulator,r,"emulator-config-failed"),_n(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=aje(t),{host:o,port:a}=Zun(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eln()}function aje(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zun(e){const t=aje(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G1e(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:G1e(o)}}}function G1e(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function eln(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uje{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wm("not implemented")}_getIdTokenResponse(t){return Wm("not implemented")}_linkToIdToken(t,n){return Wm("not implemented")}_getReauthenticationResolver(t){return Wm("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(e,t){return Y5e(e,"POST","/v1/accounts:signInWithIdp",yj(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tln="http://localhost";class v_ extends uje{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new v_(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):kp("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=WR(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new v_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Lx(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Lx(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Lx(t,n)}buildRequest(){const t={requestUri:tln,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zN(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP extends Ere{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends sP{constructor(){super("facebook.com")}static credential(t){return v_._fromParams({providerId:Y0.PROVIDER_ID,signInMethod:Y0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Y0.credentialFromTaggedObject(t)}static credentialFromError(t){return Y0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Y0.credential(t.oauthAccessToken)}catch{return null}}}Y0.FACEBOOK_SIGN_IN_METHOD="facebook.com";Y0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends sP{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return v_._fromParams({providerId:Mm.PROVIDER_ID,signInMethod:Mm.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Mm.credentialFromTaggedObject(t)}static credentialFromError(t){return Mm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Mm.credential(n,r)}catch{return null}}}Mm.GOOGLE_SIGN_IN_METHOD="google.com";Mm.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends sP{constructor(){super("github.com")}static credential(t){return v_._fromParams({providerId:K0.PROVIDER_ID,signInMethod:K0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return K0.credentialFromTaggedObject(t)}static credentialFromError(t){return K0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return K0.credential(t.oauthAccessToken)}catch{return null}}}K0.GITHUB_SIGN_IN_METHOD="github.com";K0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends sP{constructor(){super("twitter.com")}static credential(t,n){return v_._fromParams({providerId:X0.PROVIDER_ID,signInMethod:X0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return X0.credentialFromTaggedObject(t)}static credentialFromError(t){return X0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return X0.credential(n,r)}catch{return null}}}X0.TWITTER_SIGN_IN_METHOD="twitter.com";X0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nln(e,t){return Y5e(e,"POST","/v1/accounts:signUp",yj(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Gm._fromIdTokenResponse(t,r,i),o=Y1e(r);return new gv({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Y1e(r);return new gv({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Y1e(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rln(e){var t;if(Xh(e.app))return Promise.reject($y(e));const n=iP(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new gv({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await nln(n,{returnSecureToken:!0}),i=await gv._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6 extends Kp{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,d6.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new d6(t,n,r,i)}}function lje(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?d6._fromErrorAndOperation(e,s,t,r):s})}async function iln(e,t,n=!1){const r=await gR(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gv._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sln(e,t,n=!1){const{auth:r}=e;if(Xh(r.app))return Promise.reject($y(r));const i="reauthenticate";try{const s=await gR(e,lje(r,i,t,e),n);_n(s.idToken,r,"internal-error");const o=bre(s.idToken);_n(o,r,"internal-error");const{sub:a}=o;return _n(e.uid===a,r,"user-mismatch"),gv._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kp(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oln(e,t,n=!1){if(Xh(e.app))return Promise.reject($y(e));const r="signIn",i=await lje(e,r,t),s=await gv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function aln(e,t,n,r){return Ai(e).onIdTokenChanged(t,n,r)}function uln(e,t,n){return Ai(e).beforeAuthStateChanged(t,n)}function lln(e,t,n,r){return Ai(e).onAuthStateChanged(t,n,r)}function cln(e){return Ai(e).signOut()}const h6="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cje{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h6,"1"),this.storage.removeItem(h6),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fln(){const e=_a();return _re(e)||vj(e)}const dln=1e3,hln=10;class fje extends cje{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fln()&&Bun(),this.fallbackToPolling=sje(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);jun()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,hln):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},dln)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fje.type="LOCAL";const pln=fje;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dje extends cje{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dje.type="SESSION";const hje=dje;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mln(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new bj(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await mln(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bj.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xre(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gln{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=xre("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return window}function yln(e){dp().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pje(){return typeof dp().WorkerGlobalScope<"u"&&typeof dp().importScripts=="function"}async function vln(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bln(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function _ln(){return pje()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mje="firebaseLocalStorageDb",wln=1,p6="firebaseLocalStorage",gje="fbase_key";class oP{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _j(e,t){return e.transaction([p6],t?"readwrite":"readonly").objectStore(p6)}function Eln(){const e=indexedDB.deleteDatabase(mje);return new oP(e).toPromise()}function EG(){const e=indexedDB.open(mje,wln);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(p6,{keyPath:gje})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(p6)?t(r):(r.close(),await Eln(),t(await EG()))})})}async function K1e(e,t,n){const r=_j(e,!0).put({[gje]:t,value:n});return new oP(r).toPromise()}async function xln(e,t){const n=_j(e,!1).get(t),r=await new oP(n).toPromise();return r===void 0?null:r.value}function X1e(e,t){const n=_j(e,!0).delete(t);return new oP(n).toPromise()}const Sln=800,Tln=3;class yje{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await EG(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Tln)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pje()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bj._getInstance(_ln()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await vln(),!this.activeServiceWorker)return;this.sender=new gln(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bln()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await EG();return await K1e(t,h6,"1"),await X1e(t,h6),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1e(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>xln(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>X1e(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=_j(i,!1).getAll();return new oP(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sln)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yje.type="LOCAL";const Cln=yje;new rP(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vje(e,t){return t?Ym(t):(_n(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre extends uje{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lx(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Lx(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Lx(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Aln(e){return oln(e.auth,new Sre(e),e.bypassAuthState)}function Iln(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),sln(n,new Sre(e),e.bypassAuthState)}async function kln(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),iln(n,new Sre(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bje{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aln;case"linkViaPopup":case"linkViaRedirect":return kln;case"reauthViaPopup":case"reauthViaRedirect":return Iln;default:kp(this.auth,"internal-error")}}resolve(t){Fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rln=new rP(2e3,1e4);async function Nln(e,t,n){if(Xh(e.app))return Promise.reject(Pd(e,"operation-not-supported-in-this-environment"));const r=iP(e);xun(e,t,Ere);const i=vje(r,n);return new Sb(r,"signInViaPopup",t,i).executeNotNull()}class Sb extends bje{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Sb.currentPopupAction&&Sb.currentPopupAction.cancel(),Sb.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _n(t,this.auth,"internal-error"),t}async onExecution(){Fg(this.filter.length===1,"Popup operations only handle one event");const t=xre();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sb.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pd(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rln.get())};t()}}Sb.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pln="pendingRedirect",Y$=new Map;class Oln extends bje{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Y$.get(this.auth._key());if(!t){try{const r=await Dln(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Y$.set(this.auth._key(),t)}return this.bypassAuthState||Y$.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dln(e,t){const n=Lln(t),r=Mln(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ln(e,t){Y$.set(e._key(),t)}function Mln(e){return Ym(e._redirectPersistence)}function Lln(e){return G$(Pln,e.config.apiKey,e.name)}async function Fln(e,t,n=!1){if(Xh(e.app))return Promise.reject($y(e));const r=iP(e),i=vje(r,t),o=await new Oln(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jln=10*60*1e3;class Bln{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uln(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!_je(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pd(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jln&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q1e(t))}saveEventToCache(t){this.cachedEventUids.add(Q1e(t)),this.lastProcessedEventTime=Date.now()}}function Q1e(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _je({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Uln(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _je(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zln(e,t={}){return EC(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vln=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hln=/^https?/;async function qln(e){if(e.config.emulator)return;const{authorizedDomains:t}=await zln(e);for(const n of t)try{if(Wln(n))return}catch{}kp(e,"unauthorized-domain")}function Wln(e){const t=_G(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Hln.test(n))return!1;if(Vln.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gln=new rP(3e4,6e4);function J1e(){const e=dp().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Yln(e){return new Promise((t,n)=>{var r,i,s;function o(){J1e(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J1e(),n(Pd(e,"network-request-failed"))},timeout:Gln.get()})}if(!((i=(r=dp().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=dp().gapi)===null||s===void 0)&&s.load)o();else{const a=Kun("iframefcb");return dp()[a]=()=>{gapi.load?o():n(Pd(e,"network-request-failed"))},Gun(`${Yun()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw K$=null,t})}let K$=null;function Kln(e){return K$=K$||Yln(e),K$}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xln=new rP(5e3,15e3),Qln="__/auth/iframe",Jln="emulator/auth/iframe",Zln={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ecn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tcn(e){const t=e.config;_n(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vre(t,Jln):`https://${e.config.authDomain}/${Qln}`,r={apiKey:t.apiKey,appName:e.name,v:fw},i=ecn.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zN(r).slice(1)}`}async function ncn(e){const t=await Kln(e),n=dp().gapi;return _n(n,e,"internal-error"),t.open({where:document.body,url:tcn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zln,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pd(e,"network-request-failed"),a=dp().setTimeout(()=>{s(o)},Xln.get());function u(){dp().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rcn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},icn=500,scn=600,ocn="_blank",acn="http://localhost";class Z1e{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ucn(e,t,n,r=icn,i=scn){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},rcn),{width:r.toString(),height:i.toString(),top:s,left:o}),l=_a().toLowerCase();n&&(a=eje(l)?ocn:n),Z5e(l)&&(t=t||acn,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Fun(l)&&a!=="_self")return lcn(t||"",a),new Z1e(null);const f=window.open(t||"",a,c);_n(f,e,"popup-blocked");try{f.focus()}catch{}return new Z1e(f)}function lcn(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ccn="__/auth/handler",fcn="emulator/auth/handler",dcn=encodeURIComponent("fac");async function ebe(e,t,n,r,i,s){_n(e.config.authDomain,e,"auth-domain-config-required"),_n(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fw,eventId:i};if(t instanceof Ere){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Itn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(t instanceof sP){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${dcn}=${encodeURIComponent(u)}`:"";return`${hcn(e)}?${zN(a).slice(1)}${l}`}function hcn({config:e}){return e.emulator?vre(e,fcn):`https://${e.authDomain}/${ccn}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="webStorageSupport";class pcn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hje,this._completeRedirectFn=Fln,this._overrideRedirectResult=$ln}async _openPopup(t,n,r,i){var s;Fg((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ebe(t,n,r,_G(),i);return ucn(t,o,xre())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await ebe(t,n,r,_G(),i);return yln(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fg(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ncn(t),r=new Bln(t);return n.register("authEvent",i=>(_n(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(z7,{type:z7},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[z7];o!==void 0&&n(!!o),kp(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qln(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sje()||_re()||vj()}}const wje=pcn;var tbe="@firebase/auth",nbe="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mcn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_n(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gcn(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ycn(e){$g(new Ap("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_n(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oje(e)},l=new qun(r,i,s,u);return Qun(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),$g(new Ap("auth-internal",t=>{const n=iP(t.getProvider("auth").getImmediate());return(r=>new mcn(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nd(tbe,nbe,gcn(e)),Nd(tbe,nbe,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vcn=5*60,bcn=D4e("authIdTokenMaxAge")||vcn;let rbe=null;const _cn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bcn)return;const i=n==null?void 0:n.token;rbe!==i&&(rbe=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m6(e=vne()){const t=yC(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Xun(e,{popupRedirectResolver:wje,persistence:[Cln,pln,hje]}),r=D4e("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_cn(s.toString());uln(n,o,()=>o(n.currentUser)),aln(n,a=>o(a))}}const i=P4e("auth");return i&&Jun(n,`http://${i}`),n}function wcn(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Wun({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Pd("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wcn().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ycn("Browser");function bD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Eje={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof bD=="function"&&bD;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof bD=="function"&&bD,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}d=!1}r.exports=m;function m(g){h.push(g)===1&&!d&&a()}}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==o&&m(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,x){if(typeof E!="function"&&this.state===l||typeof x!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var C=this.state===l?E:x;h(S,C,this.outcome)}else this.queue.push(new d(S,E,x));return S};function d(E,x,S){this.promise=E,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(E){a.resolve(this.promise,E)},d.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},d.prototype.callRejected=function(E){a.reject(this.promise,E)},d.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,x,S){s(function(){var C;try{C=x(S)}catch(I){return a.reject(E,I)}C===E?a.reject(E,new TypeError("Cannot resolve promise with itself")):a.resolve(E,C)})}a.resolve=function(E,x){var S=g(p,x);if(S.status==="error")return a.reject(E,S.value);var C=S.value;if(C)m(E,C);else{E.state=l,E.outcome=x;for(var I=-1,k=E.queue.length;++I<k;)E.queue[I].callFulfilled(x)}return E},a.reject=function(E,x){E.state=u,E.outcome=x;for(var S=-1,C=E.queue.length;++S<C;)E.queue[S].callRejected(x);return E};function p(E){var x=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof x=="function")return function(){x.apply(E,arguments)}}function m(E,x){var S=!1;function C(D){S||(S=!0,a.reject(E,D))}function I(D){S||(S=!0,a.resolve(E,D))}function k(){x(I,C)}var R=g(k);R.status==="error"&&C(R.value)}function g(E,x){var S={};try{S.value=E(x),S.status="success"}catch(C){S.status="error",S.value=C}return S}f.resolve=y;function y(E){return E instanceof this?E:a.resolve(new this(o),E)}f.reject=v;function v(E){var x=new this(o);return a.reject(x,E)}f.all=b;function b(E){var x=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=E.length,C=!1;if(!S)return this.resolve([]);for(var I=new Array(S),k=0,R=-1,D=new this(o);++R<S;)P(E[R],R);return D;function P($,L){x.resolve($).then(M,function(B){C||(C=!0,a.reject(D,B))});function M(B){I[L]=B,++k===S&&!C&&(C=!0,a.resolve(D,I))}}}f.race=w;function w(E){var x=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=E.length,C=!1;if(!S)return this.resolve([]);for(var I=-1,k=new this(o);++I<S;)R(E[I]);return k;function R(D){x.resolve(D).then(function(P){C||(C=!0,a.resolve(k,P))},function(P){C||(C=!0,a.reject(k,P))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};function o(Y,le){if(!(Y instanceof le))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var Y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),le=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Y||le)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(Y,le){Y=Y||[],le=le||{};try{return new Blob(Y,le)}catch(me){if(me.name!=="TypeError")throw me;for(var ee=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ye=new ee,_e=0;_e<Y.length;_e+=1)ye.append(Y[_e]);return ye.getBlob(le.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(Y,le){le&&Y.then(function(ee){le(null,ee)},function(ee){le(ee)})}function h(Y,le,ee){typeof le=="function"&&Y.then(le),typeof ee=="function"&&Y.catch(ee)}function p(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,w="readonly",E="readwrite";function x(Y){for(var le=Y.length,ee=new ArrayBuffer(le),ye=new Uint8Array(ee),_e=0;_e<le;_e++)ye[_e]=Y.charCodeAt(_e);return ee}function S(Y){return new f(function(le){var ee=Y.transaction(g,E),ye=c([""]);ee.objectStore(g).put(ye,"key"),ee.onabort=function(_e){_e.preventDefault(),_e.stopPropagation(),le(!1)},ee.oncomplete=function(){var _e=navigator.userAgent.match(/Chrome\/(\d+)/),me=navigator.userAgent.match(/Edge\//);le(me||!_e||parseInt(_e[1],10)>=43)}}).catch(function(){return!1})}function C(Y){return typeof y=="boolean"?f.resolve(y):S(Y).then(function(le){return y=le,y})}function I(Y){var le=v[Y.name],ee={};ee.promise=new f(function(ye,_e){ee.resolve=ye,ee.reject=_e}),le.deferredOperations.push(ee),le.dbReady?le.dbReady=le.dbReady.then(function(){return ee.promise}):le.dbReady=ee.promise}function k(Y){var le=v[Y.name],ee=le.deferredOperations.pop();if(ee)return ee.resolve(),ee.promise}function R(Y,le){var ee=v[Y.name],ye=ee.deferredOperations.pop();if(ye)return ye.reject(le),ye.promise}function D(Y,le){return new f(function(ee,ye){if(v[Y.name]=v[Y.name]||q(),Y.db)if(le)I(Y),Y.db.close();else return ee(Y.db);var _e=[Y.name];le&&_e.push(Y.version);var me=u.open.apply(u,_e);le&&(me.onupgradeneeded=function(Le){var Ke=me.result;try{Ke.createObjectStore(Y.storeName),Le.oldVersion<=1&&Ke.createObjectStore(g)}catch(Ze){if(Ze.name==="ConstraintError")console.warn('The database "'+Y.name+'" has been upgraded from version '+Le.oldVersion+" to version "+Le.newVersion+', but the storage "'+Y.storeName+'" already exists.');else throw Ze}}),me.onerror=function(Le){Le.preventDefault(),ye(me.error)},me.onsuccess=function(){var Le=me.result;Le.onversionchange=function(Ke){Ke.target.close()},ee(Le),k(Y)}})}function P(Y){return D(Y,!1)}function $(Y){return D(Y,!0)}function L(Y,le){if(!Y.db)return!0;var ee=!Y.db.objectStoreNames.contains(Y.storeName),ye=Y.version<Y.db.version,_e=Y.version>Y.db.version;if(ye&&(Y.version!==le&&console.warn('The database "'+Y.name+`" can't be downgraded from version `+Y.db.version+" to version "+Y.version+"."),Y.version=Y.db.version),_e||ee){if(ee){var me=Y.db.version+1;me>Y.version&&(Y.version=me)}return!0}return!1}function M(Y){return new f(function(le,ee){var ye=new FileReader;ye.onerror=ee,ye.onloadend=function(_e){var me=btoa(_e.target.result||"");le({__local_forage_encoded_blob:!0,data:me,type:Y.type})},ye.readAsBinaryString(Y)})}function B(Y){var le=x(atob(Y.data));return c([le],{type:Y.type})}function z(Y){return Y&&Y.__local_forage_encoded_blob}function H(Y){var le=this,ee=le._initReady().then(function(){var ye=v[le._dbInfo.name];if(ye&&ye.dbReady)return ye.dbReady});return h(ee,Y,Y),ee}function O(Y){I(Y);for(var le=v[Y.name],ee=le.forages,ye=0;ye<ee.length;ye++){var _e=ee[ye];_e._dbInfo.db&&(_e._dbInfo.db.close(),_e._dbInfo.db=null)}return Y.db=null,P(Y).then(function(me){return Y.db=me,L(Y)?$(Y):me}).then(function(me){Y.db=le.db=me;for(var Le=0;Le<ee.length;Le++)ee[Le]._dbInfo.db=me}).catch(function(me){throw R(Y,me),me})}function U(Y,le,ee,ye){ye===void 0&&(ye=1);try{var _e=Y.db.transaction(Y.storeName,le);ee(null,_e)}catch(me){if(ye>0&&(!Y.db||me.name==="InvalidStateError"||me.name==="NotFoundError"))return f.resolve().then(function(){if(!Y.db||me.name==="NotFoundError"&&!Y.db.objectStoreNames.contains(Y.storeName)&&Y.version<=Y.db.version)return Y.db&&(Y.version=Y.db.version+1),$(Y)}).then(function(){return O(Y).then(function(){U(Y,le,ee,ye-1)})}).catch(ee);ee(me)}}function q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(Y){var le=this,ee={db:null};if(Y)for(var ye in Y)ee[ye]=Y[ye];var _e=v[ee.name];_e||(_e=q(),v[ee.name]=_e),_e.forages.push(le),le._initReady||(le._initReady=le.ready,le.ready=H);var me=[];function Le(){return f.resolve()}for(var Ke=0;Ke<_e.forages.length;Ke++){var Ze=_e.forages[Ke];Ze!==le&&me.push(Ze._initReady().catch(Le))}var Qe=_e.forages.slice(0);return f.all(me).then(function(){return ee.db=_e.db,P(ee)}).then(function(ut){return ee.db=ut,L(ee,le._defaultConfig.version)?$(ee):ut}).then(function(ut){ee.db=_e.db=ut,le._dbInfo=ee;for(var Rt=0;Rt<Qe.length;Rt++){var vn=Qe[Rt];vn!==le&&(vn._dbInfo.db=ee.db,vn._dbInfo.version=ee.version)}})}function V(Y,le){var ee=this;Y=p(Y);var ye=new f(function(_e,me){ee.ready().then(function(){U(ee._dbInfo,w,function(Le,Ke){if(Le)return me(Le);try{var Ze=Ke.objectStore(ee._dbInfo.storeName),Qe=Ze.get(Y);Qe.onsuccess=function(){var ut=Qe.result;ut===void 0&&(ut=null),z(ut)&&(ut=B(ut)),_e(ut)},Qe.onerror=function(){me(Qe.error)}}catch(ut){me(ut)}})}).catch(me)});return d(ye,le),ye}function G(Y,le){var ee=this,ye=new f(function(_e,me){ee.ready().then(function(){U(ee._dbInfo,w,function(Le,Ke){if(Le)return me(Le);try{var Ze=Ke.objectStore(ee._dbInfo.storeName),Qe=Ze.openCursor(),ut=1;Qe.onsuccess=function(){var Rt=Qe.result;if(Rt){var vn=Rt.value;z(vn)&&(vn=B(vn));var jt=Y(vn,Rt.key,ut++);jt!==void 0?_e(jt):Rt.continue()}else _e()},Qe.onerror=function(){me(Qe.error)}}catch(Rt){me(Rt)}})}).catch(me)});return d(ye,le),ye}function Z(Y,le,ee){var ye=this;Y=p(Y);var _e=new f(function(me,Le){var Ke;ye.ready().then(function(){return Ke=ye._dbInfo,b.call(le)==="[object Blob]"?C(Ke.db).then(function(Ze){return Ze?le:M(le)}):le}).then(function(Ze){U(ye._dbInfo,E,function(Qe,ut){if(Qe)return Le(Qe);try{var Rt=ut.objectStore(ye._dbInfo.storeName);Ze===null&&(Ze=void 0);var vn=Rt.put(Ze,Y);ut.oncomplete=function(){Ze===void 0&&(Ze=null),me(Ze)},ut.onabort=ut.onerror=function(){var jt=vn.error?vn.error:vn.transaction.error;Le(jt)}}catch(jt){Le(jt)}})}).catch(Le)});return d(_e,ee),_e}function ae(Y,le){var ee=this;Y=p(Y);var ye=new f(function(_e,me){ee.ready().then(function(){U(ee._dbInfo,E,function(Le,Ke){if(Le)return me(Le);try{var Ze=Ke.objectStore(ee._dbInfo.storeName),Qe=Ze.delete(Y);Ke.oncomplete=function(){_e()},Ke.onerror=function(){me(Qe.error)},Ke.onabort=function(){var ut=Qe.error?Qe.error:Qe.transaction.error;me(ut)}}catch(ut){me(ut)}})}).catch(me)});return d(ye,le),ye}function re(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){U(le._dbInfo,E,function(me,Le){if(me)return _e(me);try{var Ke=Le.objectStore(le._dbInfo.storeName),Ze=Ke.clear();Le.oncomplete=function(){ye()},Le.onabort=Le.onerror=function(){var Qe=Ze.error?Ze.error:Ze.transaction.error;_e(Qe)}}catch(Qe){_e(Qe)}})}).catch(_e)});return d(ee,Y),ee}function ue(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){U(le._dbInfo,w,function(me,Le){if(me)return _e(me);try{var Ke=Le.objectStore(le._dbInfo.storeName),Ze=Ke.count();Ze.onsuccess=function(){ye(Ze.result)},Ze.onerror=function(){_e(Ze.error)}}catch(Qe){_e(Qe)}})}).catch(_e)});return d(ee,Y),ee}function pe(Y,le){var ee=this,ye=new f(function(_e,me){if(Y<0){_e(null);return}ee.ready().then(function(){U(ee._dbInfo,w,function(Le,Ke){if(Le)return me(Le);try{var Ze=Ke.objectStore(ee._dbInfo.storeName),Qe=!1,ut=Ze.openKeyCursor();ut.onsuccess=function(){var Rt=ut.result;if(!Rt){_e(null);return}Y===0||Qe?_e(Rt.key):(Qe=!0,Rt.advance(Y))},ut.onerror=function(){me(ut.error)}}catch(Rt){me(Rt)}})}).catch(me)});return d(ye,le),ye}function xe(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){U(le._dbInfo,w,function(me,Le){if(me)return _e(me);try{var Ke=Le.objectStore(le._dbInfo.storeName),Ze=Ke.openKeyCursor(),Qe=[];Ze.onsuccess=function(){var ut=Ze.result;if(!ut){ye(Qe);return}Qe.push(ut.key),ut.continue()},Ze.onerror=function(){_e(Ze.error)}}catch(ut){_e(ut)}})}).catch(_e)});return d(ee,Y),ee}function ve(Y,le){le=m.apply(this,arguments);var ee=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName);var ye=this,_e;if(!Y.name)_e=f.reject("Invalid arguments");else{var me=Y.name===ee.name&&ye._dbInfo.db,Le=me?f.resolve(ye._dbInfo.db):P(Y).then(function(Ke){var Ze=v[Y.name],Qe=Ze.forages;Ze.db=Ke;for(var ut=0;ut<Qe.length;ut++)Qe[ut]._dbInfo.db=Ke;return Ke});Y.storeName?_e=Le.then(function(Ke){if(Ke.objectStoreNames.contains(Y.storeName)){var Ze=Ke.version+1;I(Y);var Qe=v[Y.name],ut=Qe.forages;Ke.close();for(var Rt=0;Rt<ut.length;Rt++){var vn=ut[Rt];vn._dbInfo.db=null,vn._dbInfo.version=Ze}var jt=new f(function(Jn,Pr){var zr=u.open(Y.name,Ze);zr.onerror=function(To){var Bc=zr.result;Bc.close(),Pr(To)},zr.onupgradeneeded=function(){var To=zr.result;To.deleteObjectStore(Y.storeName)},zr.onsuccess=function(){var To=zr.result;To.close(),Jn(To)}});return jt.then(function(Jn){Qe.db=Jn;for(var Pr=0;Pr<ut.length;Pr++){var zr=ut[Pr];zr._dbInfo.db=Jn,k(zr._dbInfo)}}).catch(function(Jn){throw(R(Y,Jn)||f.resolve()).catch(function(){}),Jn})}}):_e=Le.then(function(Ke){I(Y);var Ze=v[Y.name],Qe=Ze.forages;Ke.close();for(var ut=0;ut<Qe.length;ut++){var Rt=Qe[ut];Rt._dbInfo.db=null}var vn=new f(function(jt,Jn){var Pr=u.deleteDatabase(Y.name);Pr.onerror=function(){var zr=Pr.result;zr&&zr.close(),Jn(Pr.error)},Pr.onblocked=function(){console.warn('dropInstance blocked for database "'+Y.name+'" until all open connections are closed')},Pr.onsuccess=function(){var zr=Pr.result;zr&&zr.close(),jt(zr)}});return vn.then(function(jt){Ze.db=jt;for(var Jn=0;Jn<Qe.length;Jn++){var Pr=Qe[Jn];k(Pr._dbInfo)}}).catch(function(jt){throw(R(Y,jt)||f.resolve()).catch(function(){}),jt})})}return d(_e,le),_e}var We={_driver:"asyncStorage",_initStorage:F,_support:l(),iterate:G,getItem:V,setItem:Z,removeItem:ae,clear:re,length:ue,key:pe,keys:xe,dropInstance:ve};function Be(){return typeof openDatabase=="function"}var ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je="~~local_forage_type~",we=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",ze=Ae.length,et="arbf",Ot="blob",Oe="si08",fe="ui08",Xe="uic8",nt="si16",ge="si32",ke="ur16",Ve="ui32",Ye="fl32",pt="fl64",xn=ze+et.length,nr=Object.prototype.toString;function mt(Y){var le=Y.length*.75,ee=Y.length,ye,_e=0,me,Le,Ke,Ze;Y[Y.length-1]==="="&&(le--,Y[Y.length-2]==="="&&le--);var Qe=new ArrayBuffer(le),ut=new Uint8Array(Qe);for(ye=0;ye<ee;ye+=4)me=ht.indexOf(Y[ye]),Le=ht.indexOf(Y[ye+1]),Ke=ht.indexOf(Y[ye+2]),Ze=ht.indexOf(Y[ye+3]),ut[_e++]=me<<2|Le>>4,ut[_e++]=(Le&15)<<4|Ke>>2,ut[_e++]=(Ke&3)<<6|Ze&63;return Qe}function Lt(Y){var le=new Uint8Array(Y),ee="",ye;for(ye=0;ye<le.length;ye+=3)ee+=ht[le[ye]>>2],ee+=ht[(le[ye]&3)<<4|le[ye+1]>>4],ee+=ht[(le[ye+1]&15)<<2|le[ye+2]>>6],ee+=ht[le[ye+2]&63];return le.length%3===2?ee=ee.substring(0,ee.length-1)+"=":le.length%3===1&&(ee=ee.substring(0,ee.length-2)+"=="),ee}function vt(Y,le){var ee="";if(Y&&(ee=nr.call(Y)),Y&&(ee==="[object ArrayBuffer]"||Y.buffer&&nr.call(Y.buffer)==="[object ArrayBuffer]")){var ye,_e=Ae;Y instanceof ArrayBuffer?(ye=Y,_e+=et):(ye=Y.buffer,ee==="[object Int8Array]"?_e+=Oe:ee==="[object Uint8Array]"?_e+=fe:ee==="[object Uint8ClampedArray]"?_e+=Xe:ee==="[object Int16Array]"?_e+=nt:ee==="[object Uint16Array]"?_e+=ke:ee==="[object Int32Array]"?_e+=ge:ee==="[object Uint32Array]"?_e+=Ve:ee==="[object Float32Array]"?_e+=Ye:ee==="[object Float64Array]"?_e+=pt:le(new Error("Failed to get type for BinaryArray"))),le(_e+Lt(ye))}else if(ee==="[object Blob]"){var me=new FileReader;me.onload=function(){var Le=Je+Y.type+"~"+Lt(this.result);le(Ae+Ot+Le)},me.readAsArrayBuffer(Y)}else try{le(JSON.stringify(Y))}catch(Le){console.error("Couldn't convert value into a JSON string: ",Y),le(null,Le)}}function rn(Y){if(Y.substring(0,ze)!==Ae)return JSON.parse(Y);var le=Y.substring(xn),ee=Y.substring(ze,xn),ye;if(ee===Ot&&we.test(le)){var _e=le.match(we);ye=_e[1],le=le.substring(_e[0].length)}var me=mt(le);switch(ee){case et:return me;case Ot:return c([me],{type:ye});case Oe:return new Int8Array(me);case fe:return new Uint8Array(me);case Xe:return new Uint8ClampedArray(me);case nt:return new Int16Array(me);case ke:return new Uint16Array(me);case ge:return new Int32Array(me);case Ve:return new Uint32Array(me);case Ye:return new Float32Array(me);case pt:return new Float64Array(me);default:throw new Error("Unkown type: "+ee)}}var Sn={serialize:vt,deserialize:rn,stringToBuffer:mt,bufferToString:Lt};function sn(Y,le,ee,ye){Y.executeSql("CREATE TABLE IF NOT EXISTS "+le.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ee,ye)}function Hs(Y){var le=this,ee={db:null};if(Y)for(var ye in Y)ee[ye]=typeof Y[ye]!="string"?Y[ye].toString():Y[ye];var _e=new f(function(me,Le){try{ee.db=openDatabase(ee.name,String(ee.version),ee.description,ee.size)}catch(Ke){return Le(Ke)}ee.db.transaction(function(Ke){sn(Ke,ee,function(){le._dbInfo=ee,me()},function(Ze,Qe){Le(Qe)})},Le)});return ee.serializer=Sn,_e}function Ui(Y,le,ee,ye,_e,me){Y.executeSql(ee,ye,_e,function(Le,Ke){Ke.code===Ke.SYNTAX_ERR?Le.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[le.storeName],function(Ze,Qe){Qe.rows.length?me(Ze,Ke):sn(Ze,le,function(){Ze.executeSql(ee,ye,_e,me)},me)},me):me(Le,Ke)},me)}function Tn(Y,le){var ee=this;Y=p(Y);var ye=new f(function(_e,me){ee.ready().then(function(){var Le=ee._dbInfo;Le.db.transaction(function(Ke){Ui(Ke,Le,"SELECT * FROM "+Le.storeName+" WHERE key = ? LIMIT 1",[Y],function(Ze,Qe){var ut=Qe.rows.length?Qe.rows.item(0).value:null;ut&&(ut=Le.serializer.deserialize(ut)),_e(ut)},function(Ze,Qe){me(Qe)})})}).catch(me)});return d(ye,le),ye}function Nr(Y,le){var ee=this,ye=new f(function(_e,me){ee.ready().then(function(){var Le=ee._dbInfo;Le.db.transaction(function(Ke){Ui(Ke,Le,"SELECT * FROM "+Le.storeName,[],function(Ze,Qe){for(var ut=Qe.rows,Rt=ut.length,vn=0;vn<Rt;vn++){var jt=ut.item(vn),Jn=jt.value;if(Jn&&(Jn=Le.serializer.deserialize(Jn)),Jn=Y(Jn,jt.key,vn+1),Jn!==void 0){_e(Jn);return}}_e()},function(Ze,Qe){me(Qe)})})}).catch(me)});return d(ye,le),ye}function Ur(Y,le,ee,ye){var _e=this;Y=p(Y);var me=new f(function(Le,Ke){_e.ready().then(function(){le===void 0&&(le=null);var Ze=le,Qe=_e._dbInfo;Qe.serializer.serialize(le,function(ut,Rt){Rt?Ke(Rt):Qe.db.transaction(function(vn){Ui(vn,Qe,"INSERT OR REPLACE INTO "+Qe.storeName+" (key, value) VALUES (?, ?)",[Y,ut],function(){Le(Ze)},function(jt,Jn){Ke(Jn)})},function(vn){if(vn.code===vn.QUOTA_ERR){if(ye>0){Le(Ur.apply(_e,[Y,Ze,ee,ye-1]));return}Ke(vn)}})})}).catch(Ke)});return d(me,ee),me}function ki(Y,le,ee){return Ur.apply(this,[Y,le,ee,1])}function Hu(Y,le){var ee=this;Y=p(Y);var ye=new f(function(_e,me){ee.ready().then(function(){var Le=ee._dbInfo;Le.db.transaction(function(Ke){Ui(Ke,Le,"DELETE FROM "+Le.storeName+" WHERE key = ?",[Y],function(){_e()},function(Ze,Qe){me(Qe)})})}).catch(me)});return d(ye,le),ye}function au(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){var me=le._dbInfo;me.db.transaction(function(Le){Ui(Le,me,"DELETE FROM "+me.storeName,[],function(){ye()},function(Ke,Ze){_e(Ze)})})}).catch(_e)});return d(ee,Y),ee}function jc(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){var me=le._dbInfo;me.db.transaction(function(Le){Ui(Le,me,"SELECT COUNT(key) as c FROM "+me.storeName,[],function(Ke,Ze){var Qe=Ze.rows.item(0).c;ye(Qe)},function(Ke,Ze){_e(Ze)})})}).catch(_e)});return d(ee,Y),ee}function Bn(Y,le){var ee=this,ye=new f(function(_e,me){ee.ready().then(function(){var Le=ee._dbInfo;Le.db.transaction(function(Ke){Ui(Ke,Le,"SELECT key FROM "+Le.storeName+" WHERE id = ? LIMIT 1",[Y+1],function(Ze,Qe){var ut=Qe.rows.length?Qe.rows.item(0).key:null;_e(ut)},function(Ze,Qe){me(Qe)})})}).catch(me)});return d(ye,le),ye}function bi(Y){var le=this,ee=new f(function(ye,_e){le.ready().then(function(){var me=le._dbInfo;me.db.transaction(function(Le){Ui(Le,me,"SELECT key FROM "+me.storeName,[],function(Ke,Ze){for(var Qe=[],ut=0;ut<Ze.rows.length;ut++)Qe.push(Ze.rows.item(ut).key);ye(Qe)},function(Ke,Ze){_e(Ze)})})}).catch(_e)});return d(ee,Y),ee}function xr(Y){return new f(function(le,ee){Y.transaction(function(ye){ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_e,me){for(var Le=[],Ke=0;Ke<me.rows.length;Ke++)Le.push(me.rows.item(Ke).name);le({db:Y,storeNames:Le})},function(_e,me){ee(me)})},function(ye){ee(ye)})})}function Yo(Y,le){le=m.apply(this,arguments);var ee=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName);var ye=this,_e;return Y.name?_e=new f(function(me){var Le;Y.name===ee.name?Le=ye._dbInfo.db:Le=openDatabase(Y.name,"","",0),Y.storeName?me({db:Le,storeNames:[Y.storeName]}):me(xr(Le))}).then(function(me){return new f(function(Le,Ke){me.db.transaction(function(Ze){function Qe(jt){return new f(function(Jn,Pr){Ze.executeSql("DROP TABLE IF EXISTS "+jt,[],function(){Jn()},function(zr,To){Pr(To)})})}for(var ut=[],Rt=0,vn=me.storeNames.length;Rt<vn;Rt++)ut.push(Qe(me.storeNames[Rt]));f.all(ut).then(function(){Le()}).catch(function(jt){Ke(jt)})},function(Ze){Ke(Ze)})})}):_e=f.reject("Invalid arguments"),d(_e,le),_e}var xo={_driver:"webSQLStorage",_initStorage:Hs,_support:Be(),iterate:Nr,getItem:Tn,setItem:ki,removeItem:Hu,clear:au,length:jc,key:Bn,keys:bi,dropInstance:Yo};function qs(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ce(Y,le){var ee=Y.name+"/";return Y.storeName!==le.storeName&&(ee+=Y.storeName+"/"),ee}function ne(){var Y="_localforage_support_test";try{return localStorage.setItem(Y,!0),localStorage.removeItem(Y),!1}catch{return!0}}function he(){return!ne()||localStorage.length>0}function Ne(Y){var le=this,ee={};if(Y)for(var ye in Y)ee[ye]=Y[ye];return ee.keyPrefix=ce(Y,le._defaultConfig),he()?(le._dbInfo=ee,ee.serializer=Sn,f.resolve()):f.reject()}function Re(Y){var le=this,ee=le.ready().then(function(){for(var ye=le._dbInfo.keyPrefix,_e=localStorage.length-1;_e>=0;_e--){var me=localStorage.key(_e);me.indexOf(ye)===0&&localStorage.removeItem(me)}});return d(ee,Y),ee}function ct(Y,le){var ee=this;Y=p(Y);var ye=ee.ready().then(function(){var _e=ee._dbInfo,me=localStorage.getItem(_e.keyPrefix+Y);return me&&(me=_e.serializer.deserialize(me)),me});return d(ye,le),ye}function Dt(Y,le){var ee=this,ye=ee.ready().then(function(){for(var _e=ee._dbInfo,me=_e.keyPrefix,Le=me.length,Ke=localStorage.length,Ze=1,Qe=0;Qe<Ke;Qe++){var ut=localStorage.key(Qe);if(ut.indexOf(me)===0){var Rt=localStorage.getItem(ut);if(Rt&&(Rt=_e.serializer.deserialize(Rt)),Rt=Y(Rt,ut.substring(Le),Ze++),Rt!==void 0)return Rt}}});return d(ye,le),ye}function Qt(Y,le){var ee=this,ye=ee.ready().then(function(){var _e=ee._dbInfo,me;try{me=localStorage.key(Y)}catch{me=null}return me&&(me=me.substring(_e.keyPrefix.length)),me});return d(ye,le),ye}function Dn(Y){var le=this,ee=le.ready().then(function(){for(var ye=le._dbInfo,_e=localStorage.length,me=[],Le=0;Le<_e;Le++){var Ke=localStorage.key(Le);Ke.indexOf(ye.keyPrefix)===0&&me.push(Ke.substring(ye.keyPrefix.length))}return me});return d(ee,Y),ee}function Yn(Y){var le=this,ee=le.keys().then(function(ye){return ye.length});return d(ee,Y),ee}function Cn(Y,le){var ee=this;Y=p(Y);var ye=ee.ready().then(function(){var _e=ee._dbInfo;localStorage.removeItem(_e.keyPrefix+Y)});return d(ye,le),ye}function lr(Y,le,ee){var ye=this;Y=p(Y);var _e=ye.ready().then(function(){le===void 0&&(le=null);var me=le;return new f(function(Le,Ke){var Ze=ye._dbInfo;Ze.serializer.serialize(le,function(Qe,ut){if(ut)Ke(ut);else try{localStorage.setItem(Ze.keyPrefix+Y,Qe),Le(me)}catch(Rt){(Rt.name==="QuotaExceededError"||Rt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ke(Rt),Ke(Rt)}})})});return d(_e,ee),_e}function Sr(Y,le){if(le=m.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var ee=this.config();Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName}var ye=this,_e;return Y.name?_e=new f(function(me){Y.storeName?me(ce(Y,ye._defaultConfig)):me(Y.name+"/")}).then(function(me){for(var Le=localStorage.length-1;Le>=0;Le--){var Ke=localStorage.key(Le);Ke.indexOf(me)===0&&localStorage.removeItem(Ke)}}):_e=f.reject("Invalid arguments"),d(_e,le),_e}var Ct={_driver:"localStorageWrapper",_initStorage:Ne,_support:qs(),iterate:Dt,getItem:ct,setItem:lr,removeItem:Cn,clear:Re,length:Yn,key:Qt,keys:Dn,dropInstance:Sr},Un=function(le,ee){return le===ee||typeof le=="number"&&typeof ee=="number"&&isNaN(le)&&isNaN(ee)},Xr=function(le,ee){for(var ye=le.length,_e=0;_e<ye;){if(Un(le[_e],ee))return!0;_e++}return!1},Kn=Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},_i={},Ws={},Yr={INDEXEDDB:We,WEBSQL:xo,LOCALSTORAGE:Ct},si=[Yr.INDEXEDDB._driver,Yr.WEBSQL._driver,Yr.LOCALSTORAGE._driver],Qr=["dropInstance"],zi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Qr),So={description:"",driver:si.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ko(Y,le){Y[le]=function(){var ee=arguments;return Y.ready().then(function(){return Y[le].apply(Y,ee)})}}function ns(){for(var Y=1;Y<arguments.length;Y++){var le=arguments[Y];if(le)for(var ee in le)le.hasOwnProperty(ee)&&(Kn(le[ee])?arguments[0][ee]=le[ee].slice():arguments[0][ee]=le[ee])}return arguments[0]}var Ri=function(){function Y(le){o(this,Y);for(var ee in Yr)if(Yr.hasOwnProperty(ee)){var ye=Yr[ee],_e=ye._driver;this[ee]=_e,_i[_e]||this.defineDriver(ye)}this._defaultConfig=ns({},So),this._config=ns({},this._defaultConfig,le),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Y.prototype.config=function(ee){if((typeof ee>"u"?"undefined":s(ee))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ye in ee){if(ye==="storeName"&&(ee[ye]=ee[ye].replace(/\W/g,"_")),ye==="version"&&typeof ee[ye]!="number")return new Error("Database version must be a number.");this._config[ye]=ee[ye]}return"driver"in ee&&ee.driver?this.setDriver(this._config.driver):!0}else return typeof ee=="string"?this._config[ee]:this._config},Y.prototype.defineDriver=function(ee,ye,_e){var me=new f(function(Le,Ke){try{var Ze=ee._driver,Qe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ee._driver){Ke(Qe);return}for(var ut=zi.concat("_initStorage"),Rt=0,vn=ut.length;Rt<vn;Rt++){var jt=ut[Rt],Jn=!Xr(Qr,jt);if((Jn||ee[jt])&&typeof ee[jt]!="function"){Ke(Qe);return}}var Pr=function(){for(var Bc=function(qu){return function(){var Qo=new Error("Method "+qu+" is not implemented by the current driver"),qf=f.reject(Qo);return d(qf,arguments[arguments.length-1]),qf}},Hf=0,d1=Qr.length;Hf<d1;Hf++){var am=Qr[Hf];ee[am]||(ee[am]=Bc(am))}};Pr();var zr=function(Bc){_i[Ze]&&console.info("Redefining LocalForage driver: "+Ze),_i[Ze]=ee,Ws[Ze]=Bc,Le()};"_support"in ee?ee._support&&typeof ee._support=="function"?ee._support().then(zr,Ke):zr(!!ee._support):zr(!0)}catch(To){Ke(To)}});return h(me,ye,_e),me},Y.prototype.driver=function(){return this._driver||null},Y.prototype.getDriver=function(ee,ye,_e){var me=_i[ee]?f.resolve(_i[ee]):f.reject(new Error("Driver not found."));return h(me,ye,_e),me},Y.prototype.getSerializer=function(ee){var ye=f.resolve(Sn);return h(ye,ee),ye},Y.prototype.ready=function(ee){var ye=this,_e=ye._driverSet.then(function(){return ye._ready===null&&(ye._ready=ye._initDriver()),ye._ready});return h(_e,ee,ee),_e},Y.prototype.setDriver=function(ee,ye,_e){var me=this;Kn(ee)||(ee=[ee]);var Le=this._getSupportedDrivers(ee);function Ke(){me._config.driver=me.driver()}function Ze(Rt){return me._extend(Rt),Ke(),me._ready=me._initStorage(me._config),me._ready}function Qe(Rt){return function(){var vn=0;function jt(){for(;vn<Rt.length;){var Jn=Rt[vn];return vn++,me._dbInfo=null,me._ready=null,me.getDriver(Jn).then(Ze).catch(jt)}Ke();var Pr=new Error("No available storage method found.");return me._driverSet=f.reject(Pr),me._driverSet}return jt()}}var ut=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=ut.then(function(){var Rt=Le[0];return me._dbInfo=null,me._ready=null,me.getDriver(Rt).then(function(vn){me._driver=vn._driver,Ke(),me._wrapLibraryMethodsWithReady(),me._initDriver=Qe(Le)})}).catch(function(){Ke();var Rt=new Error("No available storage method found.");return me._driverSet=f.reject(Rt),me._driverSet}),h(this._driverSet,ye,_e),this._driverSet},Y.prototype.supports=function(ee){return!!Ws[ee]},Y.prototype._extend=function(ee){ns(this,ee)},Y.prototype._getSupportedDrivers=function(ee){for(var ye=[],_e=0,me=ee.length;_e<me;_e++){var Le=ee[_e];this.supports(Le)&&ye.push(Le)}return ye},Y.prototype._wrapLibraryMethodsWithReady=function(){for(var ee=0,ye=zi.length;ee<ye;ee++)Ko(this,zi[ee])},Y.prototype.createInstance=function(ee){return new Y(ee)},Y}(),Xo=new Ri;r.exports=Xo},{3:3}]},{},[4])(4)})})(Eje);var Ecn=Eje.exports;const IE=On(Ecn);var ta=[];for(var V7=0;V7<256;++V7)ta.push((V7+256).toString(16).slice(1));function xcn(e,t=0){return(ta[e[t+0]]+ta[e[t+1]]+ta[e[t+2]]+ta[e[t+3]]+"-"+ta[e[t+4]]+ta[e[t+5]]+"-"+ta[e[t+6]]+ta[e[t+7]]+"-"+ta[e[t+8]]+ta[e[t+9]]+"-"+ta[e[t+10]]+ta[e[t+11]]+ta[e[t+12]]+ta[e[t+13]]+ta[e[t+14]]+ta[e[t+15]]).toLowerCase()}var _D,Scn=new Uint8Array(16);function Tcn(){if(!_D&&(_D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _D(Scn)}var Ccn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ibe={randomUUID:Ccn};function g6(e,t,n){if(ibe.randomUUID&&!t&&!e)return ibe.randomUUID();e=e||{};var r=e.random||(e.rng||Tcn)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xcn(r)}class xje{constructor(t){Gu(this,"engine");Gu(this,"connected",!1);Gu(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function y6(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function R2(e){return e.participantId!==void 0}class ic extends xje{constructor(){super("firebase");Gu(this,"RECAPTCHAV3TOKEN","6Ld6pCwqAAAAADKq1ttCVyYq4EUN_xc8XhF8GUiO");Gu(this,"firestore");Gu(this,"collectionPrefix","prod-");Gu(this,"studyCollection");Gu(this,"storage");Gu(this,"studyId","");Gu(this,"localForage",IE.createInstance({name:"currentParticipantId"}));Gu(this,"participantData",null);const n=rre.parse(`
{
  apiKey: "AIzaSyCk0wUrJiezmmqwguK3vDJ1r0HUoUPLbuc",
  authDomain: "visualization-folksonomy.firebaseapp.com",
  projectId: "visualization-folksonomy",
  storageBucket: "visualization-folksonomy.appspot.com",
  messagingSenderId: "583414629987",
  appId: "1:583414629987:web:9fe4cd73439af0bc9eda56",
  measurementId: "G-02WX85RSSH"
}
`),r=L4e(n);this.firestore=ksn(r,{}),this.storage=Pan();try{yun(r,{provider:new mre(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{await Rsn(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=m6();if(!i.currentUser&&(await rln(i),!i.currentUser))throw new Error("Login failed with firebase");const s=await this.getCurrentConfigHash(),o=await y6(JSON.stringify(r));if(this.studyCollection=el(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n,await this._pushToFirebaseStorage(`configs/${o}`,"config",r),s&&s!==o){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this.localForage.setItem("currentConfigHash",o),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async initializeParticipantSession(n,r,i,s,o){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),u=await this.getModes(n);if(R2(a))return this.participantData=a,a;const l=await y6(JSON.stringify(i));return this.participantData={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1},u.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){return await this.localForage.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const u=qc(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(u,"config")}),s=await Promise.all(i),o={};return n.forEach((a,u)=>o[a]=s[u]),o}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=g6(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=await this.getModes(this.studyId),i=As(this.studyCollection,"sequenceAssignment");await Xu(i,{});const s=el(i,"sequenceAssignment"),o=As(s,this.currentParticipantId),a=hG(s,c5e("participantId","==","")),u=await J1(a);if(u.docs.length>0){const m=u.docs[0],g=m.data().timestamp;r.dataCollectionEnabled&&(await Vsn(m.ref),await Xu(o,{participantId:this.currentParticipantId,timestamp:g}))}else r.dataCollectionEnabled&&await Xu(o,{participantId:this.currentParticipantId,timestamp:Gsn()});const l=hG(s,Fsn("timestamp","asc")),d=(await J1(l)).docs.map(m=>m.data()).findIndex(m=>m.participantId===this.currentParticipantId)%n.length,h=d===-1?Math.floor(Math.random()*n.length-1):d,p=n[h];if(!p)throw new Error("Latin square is empty");return p}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=qc(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await k2(n),i=[],s=r.items.map(async o=>{const a=await this._getFromFirebaseStorageByRef(o,"participantData");R2(a)&&i.push(a)});return await Promise.all(s),i}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null)throw new Error("Participant not initialized");const n=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData");return R2(n)?n:null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=g6();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");if(await this.getParticipantData(),!this.participantData)throw new Error("Participant not initialized");const n=await this.getModes(this.studyId);return this.participantData.completed=!0,n.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),!0}async getUserManagementData(n){const r=el(this.firestore,"user-management"),i=await J1(r),s=Object.fromEntries(i.docs.map(o=>[o.id,o.data()]));return n in s?s[n]:null}async validateUser(n){if(n!=null&&n.user){const r=await this.getUserManagementData("authentication");if(r!=null&&r.isEnabled){const i=await this.getUserManagementData("adminUsers");if(i&&i.adminUsersList){const s=Object.fromEntries(i.adminUsersList.map(a=>[a.email,a.uid]));if(n.user.email&&(s[n.user.email]===n.user.uid||s[n.user.email]===null)){if(n.user.email&&s[n.user.email]===null){const a=i.adminUsersList.find(u=>u.email===n.user.email);a&&(a.uid=n.user.uid),await Xu(As(this.firestore,"user-management","adminUsers"),{adminUsersList:i.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await Xu(As(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(o=>o.email===n.email)||(i.push({email:n.email,uid:n.uid}),await Xu(As(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await Xu(As(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await Xu(As(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=qc(this.storage,`${this.collectionPrefix}${n}/participants`),i=await k2(r),s=[],o=i.items.map(async a=>{const u=await this._getFromFirebaseStorageByRef(a,"participantData");R2(u)&&s.push(u)});return await Promise.all(o),s}async rejectParticipant(n,r){const i=el(this.firestore,`${this.collectionPrefix}${n}`),s=qc(this.storage,`${this.collectionPrefix}${n}/participants/${r}_participantData`),o=await this._getFromFirebaseStorageByRef(s,"participantData");try{if(!o||!R2(o)||o.rejected)return;o.rejected=!0,await this._pushToFirebaseStorageByRef(s,"participantData",o);const a=As(i,"sequenceAssignment"),u=el(a,"sequenceAssignment"),l=As(u,r);await p5e(l,{participantId:""})}catch{console.warn("Failed to reject the participant.")}}async setMode(n,r,i){const s=As(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await Xu(s,{[r]:i},{merge:!0})}async getModes(n){const r=As(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await D7(r);if(i.exists())return i.data();const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await Xu(r,s),s}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const s=new Date,o=s.getUTCFullYear(),a=(s.getUTCMonth()+1).toString().padStart(2,"0"),u=s.getUTCDate().toString().padStart(2,"0"),l=s.getUTCHours().toString().padStart(2,"0"),c=s.getUTCMinutes().toString().padStart(2,"0"),f=s.getUTCSeconds().toString().padStart(2,"0"),d=`${o}-${a}-${u}T${l}:${c}:${f}`,h=`${this.collectionPrefix}${n}-snapshot-${d}`;await this._copyDirectory(`${i}/configs`,`${h}/configs`),await this._copyDirectory(`${i}/participants`,`${h}/participants`),await this._copyDirectory(i,h),await this._copyCollection(i,h),await this._addDirectoryNameToMetadata(h);const p=[];if(r){const m=await this.removeSnapshotOrLive(i,!1);m.status==="FAILED"?p.push({title:m.error.title,message:m.error.message,color:"red"}):p.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return p.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:p}}async removeSnapshotOrLive(n,r){try{const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;return await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async getSnapshots(n){try{const r=As(this.firestore,"metadata","collections"),i=await D7(r);if(i.exists()){const s=i.data();return Object.keys(s).filter(u=>u.startsWith(`${this.collectionPrefix}${n}-snapshot`)).map(u=>{const l=s[u];let c;return typeof l=="boolean"?c=u:l&&typeof l=="object"&&l.enabled===!0?c=l.name:c=null,{originalName:u,alternateName:c}}).filter(u=>u.alternateName!==null).sort((u,l)=>u.originalName.localeCompare(l.originalName)).reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`,s=[];try{const o=await this.createSnapshot(n,!0);return o.status==="FAILED"?(console.warn("No live data to capture."),s.push({title:o.error.title,message:o.error.message,color:"yellow"})):s.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i),s.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:s}}catch(o){return console.error("Error trying to delete a snapshot",o),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async _addDirectoryNameToMetadata(n){try{const r=As(this.firestore,"metadata","collections");await Xu(r,{[n]:{enabled:!0,name:n}},{merge:!0})}catch(r){throw console.error("Error adding collection to metadata:",r),r}}async renameSnapshot(n,r){try{const i=As(this.firestore,"metadata","collections");return await Xu(i,{[n]:{enabled:!0,name:r}},{merge:!0}),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}async _removeNameFromMetadata(n){try{const r=As(this.firestore,"metadata","collections"),i=await D7(r);if(i.exists()){const s=i.data();s[n]?(delete s[n],await Xu(r,s)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=qc(this.storage,n),s=(await k2(r)).items.map(o=>D1e(o));await Promise.all(s)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=qc(this.storage,n),o=(await k2(i)).items.map(a=>{const u=a.fullPath,l=u.replace(n,r);return this._copyFile(u,l)});await Promise.all(o)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=qc(this.storage,n),s=qc(this.storage,r),o=await j7(i),u=await(await fetch(o)).blob();await F7(s,u)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=el(this.firestore,n),s=As(i,"sequenceAssignment"),o=el(s,"sequenceAssignment"),a=el(this.firestore,r),u=As(a,"sequenceAssignment");await Xu(u,{});const l=el(u,"sequenceAssignment"),c=await J1(o),f=E1e(this.firestore);c.docs.forEach(d=>{const h=As(l,d.id);f.set(h,d.data())}),await f.commit()}async _deleteCollection(n){const r=el(this.firestore,n),i=As(r,"sequenceAssignment"),s=el(i,"sequenceAssignment"),o=await J1(s),a=E1e(this.firestore);o.forEach(u=>{const l=As(s,u.id);a.delete(l)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=qc(this.storage,n);return(await k2(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=qc(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let s={};try{const o=await j7(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return s}async _getFromFirebaseStorageByRef(n,r){let i={};try{const s=await j7(n),a=await(await fetch(s)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){if(Object.keys(i).length>0){const s=qc(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`),o=new Blob([JSON.stringify(i)],{type:"application/json"});await F7(s,o)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const s=new Blob([JSON.stringify(i)],{type:"application/json"});await F7(n,s)}}async _deleteFromFirebaseStorage(n,r){const i=qc(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await D1e(i)}}const Acn=new ic,RI=Acn.firestore;let sbe="",Qu=[],xG=["Big dataset","Many different shapes","Irregular shapes","Confusing layout","Confusing background","Multiple charts","Too small","Many colors","Poor contrast","3D effect","Not complex"].map(e=>({label:e,value:e}));const Icn=["Big dataset","Many different shapes","Irregular shapes","Confusing layout","Confusing background","Multiple charts","Too small","Many colors","Poor contrast","3D effect","Not complex"].map(e=>({label:e,value:e}));async function Sje(e){const t=el(e,"tags");return(await J1(t)).docs.map(i=>i.data())}async function kcn(e,t){try{const n=await Hsn(el(RI,"tags"),{name:t,count:1});console.info("Document written with ID: ",n.id)}catch(n){console.error("Error adding tag to firebase: ",n)}}async function Rcn(e){const t=[],n=[];Sje(e).then(r=>{r.forEach(i=>{const s={tagName:"A",count:0};n.push(s),s.tagName=i.name,s.count=i.count}),n.sort((i,s)=>s.count-i.count);for(const i in n)t.push(n[i].tagName);console.info("Fetched documents:",t),xG=t.map(i=>({label:i,value:i}))})}async function Ncn(e,t){const n=el(e,"tags");t.forEach(r=>{const i=hG(n,c5e("name","==",r),jsn(1));J1(i).then(s=>{if(s.size>0){const o=s.docs[0].ref;console.info("A document that match the query has been found",o),p5e(o,{count:Ysn(1)})}else console.info("No document that match the query has been found"),kcn(RI,r)})})}function Pcn({parameters:e,setAnswer:t}){const n=e.stimulusNumber,[r,i]=de.useState([]),s=()=>{const u=[],l=[];Sje(RI).then(c=>{c.forEach(f=>{const d={tagName:"A",count:0};l.push(d),d.tagName=f.name,d.count=f.count}),l.sort((f,d)=>d.count-f.count);for(const f in l)u.push(l[f].tagName);xG=u.map(f=>({label:f,value:f})),r.length===0&&i(xG)})};n!==sbe&&(t({status:!1,provenanceGraph:void 0,answers:{tags:Qu}}),Qu.length>0&&Ncn(RI,Qu),Rcn(RI),Qu=[],console.info("New task, resetting selected tags"),sbe=n);const o=u=>r.length===0?_.jsxs("p",{style:{padding:4,color:"#999",textAlign:"center"},children:[_.jsx(ltn,{spin:!0})," ","Loading..."]}):u;let a="/visualization-complexity/assets/stimuli/stimulus";return a=a.concat(n),a=a.concat(".jpg"),_.jsxs("div",{className:"tagPicker",children:[_.jsx("p",{children:"What was the main reasons for choosing this complexity rating? Select the appropriate tags or create a new one."}),_.jsx(A4e,{creatable:!0,cleanable:!1,data:r,cacheData:Icn,style:{maxWidth:800,width:"100%"},renderMenu:o,onOpen:()=>{s()},onCreate:u=>{Qu=u},onSelect:u=>{Qu=u,Qu.length>0?(console.info("Setting the answer to true"),t({status:!0,provenanceGraph:void 0,answers:{tags:Qu}})):(console.info("No answer given, e.g. they have removed all selections"),t({status:!1,provenanceGraph:void 0,answers:{tags:Qu}}))},onTagRemove:u=>{console.info(u),Qu=Qu.filter(c=>c!==u),Qu.length>0?(console.info("Setting the answer to true"),t({status:!0,provenanceGraph:void 0,answers:{tags:Qu}})):(console.info("No answer given, e.g. they have removed all selections"),t({status:!1,provenanceGraph:void 0,answers:{tags:Qu}}))}}),_.jsx("br",{}),_.jsx("br",{}),_.jsx("img",{className:"stimuli",style:{maxWidth:"100%",width:800,maxHeight:600},src:a})]})}const Ocn=Object.freeze(Object.defineProperty({__proto__:null,default:Pcn},Symbol.toStringTag,{value:"Module"})),obe=Object.assign({"../public/demo-brush-interactions/assets/Bar.tsx":zTt,"../public/demo-brush-interactions/assets/BrushPlot.tsx":r$t,"../public/demo-brush-interactions/assets/Paintbrush.tsx":t$t,"../public/demo-brush-interactions/assets/Scatter.tsx":n$t,"../public/demo-brush-interactions/assets/XAxisBar.tsx":BTt,"../public/demo-brush-interactions/assets/YAxis.tsx":e$t,"../public/demo-brush-interactions/assets/YAxisBar.tsx":UTt,"../public/demo-brush-interactions/assets/types.ts":i$t,"../public/demo-cleveland/assets/BarChart.tsx":f$t,"../public/demo-cleveland/assets/BubbleChart.tsx":v$t,"../public/demo-cleveland/assets/PieChart.tsx":S$t,"../public/demo-cleveland/assets/StackedBarChart.tsx":k$t,"../public/demo-cleveland/assets/chartcomponents/Bars.tsx":o$t,"../public/demo-cleveland/assets/chartcomponents/Bubbles.tsx":d$t,"../public/demo-cleveland/assets/chartcomponents/DotMarks.tsx":h$t,"../public/demo-cleveland/assets/chartcomponents/NumericAxisH.tsx":T$t,"../public/demo-cleveland/assets/chartcomponents/NumericAxisV.tsx":a$t,"../public/demo-cleveland/assets/chartcomponents/OrdinalAxisHWithDotMarks.tsx":u$t,"../public/demo-cleveland/assets/chartcomponents/Slices.tsx":b$t,"../public/demo-cleveland/assets/chartcomponents/SlicesDotMarks.tsx":_$t,"../public/demo-cleveland/assets/chartcomponents/StackedBars.tsx":C$t,"../public/demo-cleveland/assets/hooks/useChartDimensions.tsx":s$t,"../public/demo-click-accuracy-test/assets/ClickAccuracyTest.tsx":P$t,"../public/demo-fairness-jnd/assets/FairnessJND.tsx":D$t,"../public/visualization-complexity/assets/TagPickerWithStimuli.tsx":Ocn});function Dcn({currentConfig:e}){const t=Zg(),n=zv(),r=`../public/${e.path}`,i=r in obe?obe[r].default:null,s=Vp(),{updateResponseBlockValidation:o,setIframeAnswers:a}=zp();function u({status:l,provenanceGraph:c,answers:f}){s(o({location:"sidebar",identifier:`${n}_${t}`,status:l,values:f,provenanceGraph:c})),s(a(f))}return _.jsx(A.Suspense,{fallback:_.jsx("div",{children:"Loading..."}),children:i?_.jsx(i,{parameters:e.parameters,setAnswer:u}):_.jsx(Zb,{path:e.path})})}function $cn({currentConfig:e}){const[t,n]=A.useState(""),[r,i]=A.useState(!0);return A.useEffect(()=>{async function s(){const o=await BJ(e.path);o!==void 0&&n(o),i(!1)}s()},[e.path]),r||t?_.jsx(Ru,{text:t}):_.jsx(Zb,{path:e.path})}var SG={exports:{}},Tje={},Od={},HS={},aP={},tr={},yR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((b,w)=>`${b}${w}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((b,w)=>(w instanceof n&&(b[w.str]=(b[w.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const b=[y[0]];let w=0;for(;w<v.length;)a(b,v[w]),b.push(y[++w]);return new r(b)}e._=i;const s=new r("+");function o(y,...v){const b=[h(y[0])];let w=0;for(;w<v.length;)b.push(s),a(b,v[w]),b.push(s,h(y[++w]));return u(b),new r(b)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(f(v))}e.addCodeArg=a;function u(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const b=l(y[v-1],y[v+1]);if(b!==void 0){y.splice(v-1,3,b);continue}y[v++]="+"}v++}}function l(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function d(y){return new r(h(y))}e.stringify=d;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(yR);var TG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=yR;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,d.setValue(c,{property:h,itemIndex:y}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const g=f[p]=f[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${y} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(TG);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=yR,n=TG;var r=yR;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=TG;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(V,G){return this}}class o extends s{constructor(V,G,Z){super(),this.varKind=V,this.name=G,this.rhs=Z}render({es5:V,_n:G}){const Z=V?n.varKinds.var:this.varKind,ae=this.rhs===void 0?"":` = ${this.rhs}`;return`${Z} ${this.name}${ae};`+G}optimizeNames(V,G){if(V[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,V,G)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(V,G,Z){super(),this.lhs=V,this.rhs=G,this.sideEffects=Z}render({_n:V}){return`${this.lhs} = ${this.rhs};`+V}optimizeNames(V,G){if(!(this.lhs instanceof t.Name&&!V[this.lhs.str]&&!this.sideEffects))return this.rhs=$(this.rhs,V,G),this}get names(){const V=this.lhs instanceof t.Name?{}:{...this.lhs.names};return P(V,this.rhs)}}class u extends a{constructor(V,G,Z,ae){super(V,Z,ae),this.op=G}render({_n:V}){return`${this.lhs} ${this.op}= ${this.rhs};`+V}}class l extends s{constructor(V){super(),this.label=V,this.names={}}render({_n:V}){return`${this.label}:`+V}}class c extends s{constructor(V){super(),this.label=V,this.names={}}render({_n:V}){return`break${this.label?` ${this.label}`:""};`+V}}class f extends s{constructor(V){super(),this.error=V}render({_n:V}){return`throw ${this.error};`+V}get names(){return this.error.names}}class d extends s{constructor(V){super(),this.code=V}render({_n:V}){return`${this.code};`+V}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(V,G){return this.code=$(this.code,V,G),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(V=[]){super(),this.nodes=V}render(V){return this.nodes.reduce((G,Z)=>G+Z.render(V),"")}optimizeNodes(){const{nodes:V}=this;let G=V.length;for(;G--;){const Z=V[G].optimizeNodes();Array.isArray(Z)?V.splice(G,1,...Z):Z?V[G]=Z:V.splice(G,1)}return V.length>0?this:void 0}optimizeNames(V,G){const{nodes:Z}=this;let ae=Z.length;for(;ae--;){const re=Z[ae];re.optimizeNames(V,G)||(L(V,re.names),Z.splice(ae,1))}return Z.length>0?this:void 0}get names(){return this.nodes.reduce((V,G)=>D(V,G.names),{})}}class p extends h{render(V){return"{"+V._n+super.render(V)+"}"+V._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(V,G){super(G),this.condition=V}render(V){let G=`if(${this.condition})`+super.render(V);return this.else&&(G+="else "+this.else.render(V)),G}optimizeNodes(){super.optimizeNodes();const V=this.condition;if(V===!0)return this.nodes;let G=this.else;if(G){const Z=G.optimizeNodes();G=this.else=Array.isArray(Z)?new g(Z):Z}if(G)return V===!1?G instanceof y?G:G.nodes:this.nodes.length?this:new y(M(V),G instanceof y?[G]:G.nodes);if(!(V===!1||!this.nodes.length))return this}optimizeNames(V,G){var Z;if(this.else=(Z=this.else)===null||Z===void 0?void 0:Z.optimizeNames(V,G),!!(super.optimizeNames(V,G)||this.else))return this.condition=$(this.condition,V,G),this}get names(){const V=super.names;return P(V,this.condition),this.else&&D(V,this.else.names),V}}y.kind="if";class v extends p{}v.kind="for";class b extends v{constructor(V){super(),this.iteration=V}render(V){return`for(${this.iteration})`+super.render(V)}optimizeNames(V,G){if(super.optimizeNames(V,G))return this.iteration=$(this.iteration,V,G),this}get names(){return D(super.names,this.iteration.names)}}class w extends v{constructor(V,G,Z,ae){super(),this.varKind=V,this.name=G,this.from=Z,this.to=ae}render(V){const G=V.es5?n.varKinds.var:this.varKind,{name:Z,from:ae,to:re}=this;return`for(${G} ${Z}=${ae}; ${Z}<${re}; ${Z}++)`+super.render(V)}get names(){const V=P(super.names,this.from);return P(V,this.to)}}class E extends v{constructor(V,G,Z,ae){super(),this.loop=V,this.varKind=G,this.name=Z,this.iterable=ae}render(V){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(V)}optimizeNames(V,G){if(super.optimizeNames(V,G))return this.iterable=$(this.iterable,V,G),this}get names(){return D(super.names,this.iterable.names)}}class x extends p{constructor(V,G,Z){super(),this.name=V,this.args=G,this.async=Z}render(V){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(V)}}x.kind="func";class S extends h{render(V){return"return "+super.render(V)}}S.kind="return";class C extends p{render(V){let G="try"+super.render(V);return this.catch&&(G+=this.catch.render(V)),this.finally&&(G+=this.finally.render(V)),G}optimizeNodes(){var V,G;return super.optimizeNodes(),(V=this.catch)===null||V===void 0||V.optimizeNodes(),(G=this.finally)===null||G===void 0||G.optimizeNodes(),this}optimizeNames(V,G){var Z,ae;return super.optimizeNames(V,G),(Z=this.catch)===null||Z===void 0||Z.optimizeNames(V,G),(ae=this.finally)===null||ae===void 0||ae.optimizeNames(V,G),this}get names(){const V=super.names;return this.catch&&D(V,this.catch.names),this.finally&&D(V,this.finally.names),V}}class I extends p{constructor(V){super(),this.error=V}render(V){return`catch(${this.error})`+super.render(V)}}I.kind="catch";class k extends p{render(V){return"finally"+super.render(V)}}k.kind="finally";class R{constructor(V,G={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...G,_n:G.lines?`
`:""},this._extScope=V,this._scope=new n.Scope({parent:V}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(V){return this._scope.name(V)}scopeName(V){return this._extScope.name(V)}scopeValue(V,G){const Z=this._extScope.value(V,G);return(this._values[Z.prefix]||(this._values[Z.prefix]=new Set)).add(Z),Z}getScopeValue(V,G){return this._extScope.getValue(V,G)}scopeRefs(V){return this._extScope.scopeRefs(V,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(V,G,Z,ae){const re=this._scope.toName(G);return Z!==void 0&&ae&&(this._constants[re.str]=Z),this._leafNode(new o(V,re,Z)),re}const(V,G,Z){return this._def(n.varKinds.const,V,G,Z)}let(V,G,Z){return this._def(n.varKinds.let,V,G,Z)}var(V,G,Z){return this._def(n.varKinds.var,V,G,Z)}assign(V,G,Z){return this._leafNode(new a(V,G,Z))}add(V,G){return this._leafNode(new u(V,e.operators.ADD,G))}code(V){return typeof V=="function"?V():V!==t.nil&&this._leafNode(new d(V)),this}object(...V){const G=["{"];for(const[Z,ae]of V)G.length>1&&G.push(","),G.push(Z),(Z!==ae||this.opts.es5)&&(G.push(":"),(0,t.addCodeArg)(G,ae));return G.push("}"),new t._Code(G)}if(V,G,Z){if(this._blockNode(new y(V)),G&&Z)this.code(G).else().code(Z).endIf();else if(G)this.code(G).endIf();else if(Z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(V){return this._elseNode(new y(V))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(V,G){return this._blockNode(V),G&&this.code(G).endFor(),this}for(V,G){return this._for(new b(V),G)}forRange(V,G,Z,ae,re=this.opts.es5?n.varKinds.var:n.varKinds.let){const ue=this._scope.toName(V);return this._for(new w(re,ue,G,Z),()=>ae(ue))}forOf(V,G,Z,ae=n.varKinds.const){const re=this._scope.toName(V);if(this.opts.es5){const ue=G instanceof t.Name?G:this.var("_arr",G);return this.forRange("_i",0,(0,t._)`${ue}.length`,pe=>{this.var(re,(0,t._)`${ue}[${pe}]`),Z(re)})}return this._for(new E("of",ae,re,G),()=>Z(re))}forIn(V,G,Z,ae=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(V,(0,t._)`Object.keys(${G})`,Z);const re=this._scope.toName(V);return this._for(new E("in",ae,re,G),()=>Z(re))}endFor(){return this._endBlockNode(v)}label(V){return this._leafNode(new l(V))}break(V){return this._leafNode(new c(V))}return(V){const G=new S;if(this._blockNode(G),this.code(V),G.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(V,G,Z){if(!G&&!Z)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new C;if(this._blockNode(ae),this.code(V),G){const re=this.name("e");this._currNode=ae.catch=new I(re),G(re)}return Z&&(this._currNode=ae.finally=new k,this.code(Z)),this._endBlockNode(I,k)}throw(V){return this._leafNode(new f(V))}block(V,G){return this._blockStarts.push(this._nodes.length),V&&this.code(V).endBlock(G),this}endBlock(V){const G=this._blockStarts.pop();if(G===void 0)throw new Error("CodeGen: not in self-balancing block");const Z=this._nodes.length-G;if(Z<0||V!==void 0&&Z!==V)throw new Error(`CodeGen: wrong number of nodes: ${Z} vs ${V} expected`);return this._nodes.length=G,this}func(V,G=t.nil,Z,ae){return this._blockNode(new x(V,G,Z)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(V=1){for(;V-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(V){return this._currNode.nodes.push(V),this}_blockNode(V){this._currNode.nodes.push(V),this._nodes.push(V)}_endBlockNode(V,G){const Z=this._currNode;if(Z instanceof V||G&&Z instanceof G)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${G?`${V.kind}/${G.kind}`:V.kind}"`)}_elseNode(V){const G=this._currNode;if(!(G instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=G.else=V,this}get _root(){return this._nodes[0]}get _currNode(){const V=this._nodes;return V[V.length-1]}set _currNode(V){const G=this._nodes;G[G.length-1]=V}}e.CodeGen=R;function D(F,V){for(const G in V)F[G]=(F[G]||0)+(V[G]||0);return F}function P(F,V){return V instanceof t._CodeOrName?D(F,V.names):F}function $(F,V,G){if(F instanceof t.Name)return Z(F);if(!ae(F))return F;return new t._Code(F._items.reduce((re,ue)=>(ue instanceof t.Name&&(ue=Z(ue)),ue instanceof t._Code?re.push(...ue._items):re.push(ue),re),[]));function Z(re){const ue=G[re.str];return ue===void 0||V[re.str]!==1?re:(delete V[re.str],ue)}function ae(re){return re instanceof t._Code&&re._items.some(ue=>ue instanceof t.Name&&V[ue.str]===1&&G[ue.str]!==void 0)}}function L(F,V){for(const G in V)F[G]=(F[G]||0)-(V[G]||0)}function M(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${q(F)}`}e.not=M;const B=U(e.operators.AND);function z(...F){return F.reduce(B)}e.and=z;const H=U(e.operators.OR);function O(...F){return F.reduce(H)}e.or=O;function U(F){return(V,G)=>V===t.nil?G:G===t.nil?V:(0,t._)`${q(V)} ${F} ${q(G)}`}function q(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(tr);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.checkStrictMode=Pt.getErrorPath=Pt.Type=Pt.useFunc=Pt.setEvaluated=Pt.evaluatedPropsToName=Pt.mergeEvaluated=Pt.eachItem=Pt.unescapeJsonPointer=Pt.escapeJsonPointer=Pt.escapeFragment=Pt.unescapeFragment=Pt.schemaRefOrVal=Pt.schemaHasRulesButRef=Pt.schemaHasRules=Pt.checkUnknownRules=Pt.alwaysValidSchema=Pt.toHash=void 0;const mi=tr,Mcn=yR;function Lcn(e){const t={};for(const n of e)t[n]=!0;return t}Pt.toHash=Lcn;function Fcn(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Cje(e,t),!Aje(t,e.self.RULES.all))}Pt.alwaysValidSchema=Fcn;function Cje(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const i=r.RULES.keywords;for(const s in t)i[s]||Rje(e,`unknown keyword: "${s}"`)}Pt.checkUnknownRules=Cje;function Aje(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}Pt.schemaHasRules=Aje;function jcn(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}Pt.schemaHasRulesButRef=jcn;function Bcn({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,mi._)`${n}`}return(0,mi._)`${e}${t}${(0,mi.getProperty)(r)}`}Pt.schemaRefOrVal=Bcn;function Ucn(e){return Ije(decodeURIComponent(e))}Pt.unescapeFragment=Ucn;function zcn(e){return encodeURIComponent(Tre(e))}Pt.escapeFragment=zcn;function Tre(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Pt.escapeJsonPointer=Tre;function Ije(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Pt.unescapeJsonPointer=Ije;function Vcn(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}Pt.eachItem=Vcn;function abe({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,s,o,a)=>{const u=o===void 0?s:o instanceof mi.Name?(s instanceof mi.Name?e(i,s,o):t(i,s,o),o):s instanceof mi.Name?(t(i,o,s),s):n(s,o);return a===mi.Name&&!(u instanceof mi.Name)?r(i,u):u}}Pt.mergeEvaluated={props:abe({mergeNames:(e,t,n)=>e.if((0,mi._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,mi._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,mi._)`${n} || {}`).code((0,mi._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,mi._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,mi._)`${n} || {}`),Cre(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:kje}),items:abe({mergeNames:(e,t,n)=>e.if((0,mi._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,mi._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,mi._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,mi._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function kje(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,mi._)`{}`);return t!==void 0&&Cre(e,n,t),n}Pt.evaluatedPropsToName=kje;function Cre(e,t,n){Object.keys(n).forEach(r=>e.assign((0,mi._)`${t}${(0,mi.getProperty)(r)}`,!0))}Pt.setEvaluated=Cre;const ube={};function Hcn(e,t){return e.scopeValue("func",{ref:t,code:ube[t.code]||(ube[t.code]=new Mcn._Code(t.code))})}Pt.useFunc=Hcn;var CG;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(CG||(Pt.Type=CG={}));function qcn(e,t,n){if(e instanceof mi.Name){const r=t===CG.Num;return n?r?(0,mi._)`"[" + ${e} + "]"`:(0,mi._)`"['" + ${e} + "']"`:r?(0,mi._)`"/" + ${e}`:(0,mi._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,mi.getProperty)(e).toString():"/"+Tre(e)}Pt.getErrorPath=qcn;function Rje(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}Pt.checkStrictMode=Rje;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});const Da=tr,Wcn={data:new Da.Name("data"),valCxt:new Da.Name("valCxt"),instancePath:new Da.Name("instancePath"),parentData:new Da.Name("parentData"),parentDataProperty:new Da.Name("parentDataProperty"),rootData:new Da.Name("rootData"),dynamicAnchors:new Da.Name("dynamicAnchors"),vErrors:new Da.Name("vErrors"),errors:new Da.Name("errors"),this:new Da.Name("this"),self:new Da.Name("self"),scope:new Da.Name("scope"),json:new Da.Name("json"),jsonPos:new Da.Name("jsonPos"),jsonLen:new Da.Name("jsonLen"),jsonPart:new Da.Name("jsonPart")};Xp.default=Wcn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=tr,n=Pt,r=Xp;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,b){const{it:w}=g,{gen:E,compositeRule:x,allErrors:S}=w,C=f(g,y,v);b??(x||S)?u(E,C):l(w,(0,t._)`[${C}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:b}=g,{gen:w,compositeRule:E,allErrors:x}=b,S=f(g,y,v);u(w,S),E||x||l(b,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:b,errsCount:w,it:E}){if(w===void 0)throw new Error("ajv implementation error");const x=g.name("err");g.forRange("i",w,r.default.errors,S=>{g.const(x,(0,t._)`${r.default.vErrors}[${S}]`),g.if((0,t._)`${x}.instancePath === undefined`,()=>g.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(r.default.instancePath,E.errorPath))),g.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${y}`),E.opts.verbose&&(g.assign((0,t._)`${x}.schema`,v),g.assign((0,t._)`${x}.data`,b))})}e.extendErrors=a;function u(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function l(g,y){const{gen:v,validateName:b,schemaEnv:w}=g;w.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${b}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,y,v){const{createErrors:b}=g.it;return b===!1?(0,t._)`{}`:d(g,y,v)}function d(g,y,v={}){const{gen:b,it:w}=g,E=[h(w,v),p(g,v)];return m(g,y,E),b.object(...E)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:b}){let w=b?y:(0,t.str)`${y}/${g}`;return v&&(w=(0,t.str)`${w}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,w]}function m(g,{params:y,message:v},b){const{keyword:w,data:E,schemaValue:x,it:S}=g,{opts:C,propertyName:I,topSchemaRef:k,schemaPath:R}=S;b.push([c.keyword,w],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),C.messages&&b.push([c.message,typeof v=="function"?v(g):v]),C.verbose&&b.push([c.schema,x],[c.parentSchema,(0,t._)`${k}${R}`],[r.default.data,E]),I&&b.push([c.propertyName,I])}})(aP);Object.defineProperty(HS,"__esModule",{value:!0});HS.boolOrEmptySchema=HS.topBoolOrEmptySchema=void 0;const Gcn=aP,Ycn=tr,Kcn=Xp,Xcn={message:"boolean schema is false"};function Qcn(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Nje(e,!1):typeof n=="object"&&n.$async===!0?t.return(Kcn.default.data):(t.assign((0,Ycn._)`${r}.errors`,null),t.return(!0))}HS.topBoolOrEmptySchema=Qcn;function Jcn(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Nje(e)):n.var(t,!0)}HS.boolOrEmptySchema=Jcn;function Nje(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Gcn.reportError)(i,Xcn,void 0,t)}var ao={},b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.getRules=b_.isJSONType=void 0;const Zcn=["string","number","integer","boolean","null","object","array"],efn=new Set(Zcn);function tfn(e){return typeof e=="string"&&efn.has(e)}b_.isJSONType=tfn;function nfn(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}b_.getRules=nfn;var sg={};Object.defineProperty(sg,"__esModule",{value:!0});sg.shouldUseRule=sg.shouldUseGroup=sg.schemaHasRulesForType=void 0;function rfn({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Pje(e,r)}sg.schemaHasRulesForType=rfn;function Pje(e,t){return t.rules.some(n=>Oje(e,n))}sg.shouldUseGroup=Pje;function Oje(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}sg.shouldUseRule=Oje;Object.defineProperty(ao,"__esModule",{value:!0});ao.reportTypeError=ao.checkDataTypes=ao.checkDataType=ao.coerceAndCheckDataType=ao.getJSONTypes=ao.getSchemaTypes=ao.DataType=void 0;const ifn=b_,sfn=sg,ofn=aP,zn=tr,Dje=Pt;var Fx;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Fx||(ao.DataType=Fx={}));function afn(e){const t=$je(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ao.getSchemaTypes=afn;function $je(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(ifn.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ao.getJSONTypes=$je;function ufn(e,t){const{gen:n,data:r,opts:i}=e,s=lfn(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,sfn.schemaHasRulesForType)(e,t[0]));if(o){const a=Are(t,r,i.strictNumbers,Fx.Wrong);n.if(a,()=>{s.length?cfn(e,t,s):Ire(e)})}return o}ao.coerceAndCheckDataType=ufn;const Mje=new Set(["string","number","integer","boolean","null"]);function lfn(e,t){return t?e.filter(n=>Mje.has(n)||t==="array"&&n==="array"):[]}function cfn(e,t,n){const{gen:r,data:i,opts:s}=e,o=r.let("dataType",(0,zn._)`typeof ${i}`),a=r.let("coerced",(0,zn._)`undefined`);s.coerceTypes==="array"&&r.if((0,zn._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,zn._)`${i}[0]`).assign(o,(0,zn._)`typeof ${i}`).if(Are(t,i,s.strictNumbers),()=>r.assign(a,i))),r.if((0,zn._)`${a} !== undefined`);for(const l of n)(Mje.has(l)||l==="array"&&s.coerceTypes==="array")&&u(l);r.else(),Ire(e),r.endIf(),r.if((0,zn._)`${a} !== undefined`,()=>{r.assign(i,a),ffn(e,a)});function u(l){switch(l){case"string":r.elseIf((0,zn._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,zn._)`"" + ${i}`).elseIf((0,zn._)`${i} === null`).assign(a,(0,zn._)`""`);return;case"number":r.elseIf((0,zn._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,zn._)`+${i}`);return;case"integer":r.elseIf((0,zn._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,zn._)`+${i}`);return;case"boolean":r.elseIf((0,zn._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,zn._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,zn._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,zn._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,zn._)`[${i}]`)}}}function ffn({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,zn._)`${t} !== undefined`,()=>e.assign((0,zn._)`${t}[${n}]`,r))}function AG(e,t,n,r=Fx.Correct){const i=r===Fx.Correct?zn.operators.EQ:zn.operators.NEQ;let s;switch(e){case"null":return(0,zn._)`${t} ${i} null`;case"array":s=(0,zn._)`Array.isArray(${t})`;break;case"object":s=(0,zn._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,zn._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,zn._)`typeof ${t} ${i} ${e}`}return r===Fx.Correct?s:(0,zn.not)(s);function o(a=zn.nil){return(0,zn.and)((0,zn._)`typeof ${t} == "number"`,a,n?(0,zn._)`isFinite(${t})`:zn.nil)}}ao.checkDataType=AG;function Are(e,t,n,r){if(e.length===1)return AG(e[0],t,n,r);let i;const s=(0,Dje.toHash)(e);if(s.array&&s.object){const o=(0,zn._)`typeof ${t} != "object"`;i=s.null?o:(0,zn._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=zn.nil;s.number&&delete s.integer;for(const o in s)i=(0,zn.and)(i,AG(o,t,n,r));return i}ao.checkDataTypes=Are;const dfn={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,zn._)`{type: ${e}}`:(0,zn._)`{type: ${t}}`};function Ire(e){const t=hfn(e);(0,ofn.reportError)(t,dfn)}ao.reportTypeError=Ire;function hfn(e){const{gen:t,data:n,schema:r}=e,i=(0,Dje.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}var wj={};Object.defineProperty(wj,"__esModule",{value:!0});wj.assignDefaults=void 0;const eE=tr,pfn=Pt;function mfn(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)lbe(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>lbe(e,s,i.default))}wj.assignDefaults=mfn;function lbe(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,eE._)`${s}${(0,eE.getProperty)(t)}`;if(i){(0,pfn.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,eE._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,eE._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,eE._)`${a} = ${(0,eE.stringify)(n)}`)}var Jh={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.validateUnion=Zn.validateArray=Zn.usePattern=Zn.callValidateCode=Zn.schemaProperties=Zn.allSchemaProperties=Zn.noPropertyInData=Zn.propertyInData=Zn.isOwnProperty=Zn.hasPropFunc=Zn.reportMissingProp=Zn.checkMissingProp=Zn.checkReportMissingProp=void 0;const Di=tr,kre=Pt,x0=Xp,gfn=Pt;function yfn(e,t){const{gen:n,data:r,it:i}=e;n.if(Nre(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Di._)`${t}`},!0),e.error()})}Zn.checkReportMissingProp=yfn;function vfn({gen:e,data:t,it:{opts:n}},r,i){return(0,Di.or)(...r.map(s=>(0,Di.and)(Nre(e,t,s,n.ownProperties),(0,Di._)`${i} = ${s}`)))}Zn.checkMissingProp=vfn;function bfn(e,t){e.setParams({missingProperty:t},!0),e.error()}Zn.reportMissingProp=bfn;function Lje(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Di._)`Object.prototype.hasOwnProperty`})}Zn.hasPropFunc=Lje;function Rre(e,t,n){return(0,Di._)`${Lje(e)}.call(${t}, ${n})`}Zn.isOwnProperty=Rre;function _fn(e,t,n,r){const i=(0,Di._)`${t}${(0,Di.getProperty)(n)} !== undefined`;return r?(0,Di._)`${i} && ${Rre(e,t,n)}`:i}Zn.propertyInData=_fn;function Nre(e,t,n,r){const i=(0,Di._)`${t}${(0,Di.getProperty)(n)} === undefined`;return r?(0,Di.or)(i,(0,Di.not)(Rre(e,t,n))):i}Zn.noPropertyInData=Nre;function Fje(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Zn.allSchemaProperties=Fje;function wfn(e,t){return Fje(t).filter(n=>!(0,kre.alwaysValidSchema)(e,t[n]))}Zn.schemaProperties=wfn;function Efn({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Di._)`${e}, ${t}, ${r}${i}`:t,f=[[x0.default.instancePath,(0,Di.strConcat)(x0.default.instancePath,s)],[x0.default.parentData,o.parentData],[x0.default.parentDataProperty,o.parentDataProperty],[x0.default.rootData,x0.default.rootData]];o.opts.dynamicRef&&f.push([x0.default.dynamicAnchors,x0.default.dynamicAnchors]);const d=(0,Di._)`${c}, ${n.object(...f)}`;return u!==Di.nil?(0,Di._)`${a}.call(${u}, ${d})`:(0,Di._)`${a}(${d})`}Zn.callValidateCode=Efn;const xfn=(0,Di._)`new RegExp`;function Sfn({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Di._)`${i.code==="new RegExp"?xfn:(0,gfn.useFunc)(e,i)}(${n}, ${r})`})}Zn.usePattern=Sfn;function Tfn(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Di._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:kre.Type.Num},s),t.if((0,Di.not)(s),a)})}}Zn.validateArray=Tfn;function Cfn(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,kre.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Di._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Di.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Zn.validateUnion=Cfn;Object.defineProperty(Jh,"__esModule",{value:!0});Jh.validateKeywordUsage=Jh.validSchemaType=Jh.funcKeywordCode=Jh.macroKeywordCode=void 0;const mu=tr,Z1=Xp,Afn=Zn,Ifn=aP;function kfn(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=jje(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:mu.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Jh.macroKeywordCode=kfn;function Rfn(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;Pfn(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=jje(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&cbe(e),g(()=>e.error());else{const y=t.async?h():p();t.modifying&&cbe(e),g(()=>Nfn(e,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,mu._)`await `),v=>r.assign(f,!1).if((0,mu._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(y,(0,mu._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,mu._)`${c}.errors`;return r.assign(y,null),m(mu.nil),y}function m(y=t.async?(0,mu._)`await `:mu.nil){const v=u.opts.passContext?Z1.default.this:Z1.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,mu._)`${y}${(0,Afn.callValidateCode)(e,c,v,b)}`,t.modifying)}function g(y){var v;r.if((0,mu.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}Jh.funcKeywordCode=Rfn;function cbe(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,mu._)`${r.parentData}[${r.parentDataProperty}]`))}function Nfn(e,t){const{gen:n}=e;n.if((0,mu._)`Array.isArray(${t})`,()=>{n.assign(Z1.default.vErrors,(0,mu._)`${Z1.default.vErrors} === null ? ${t} : ${Z1.default.vErrors}.concat(${t})`).assign(Z1.default.errors,(0,mu._)`${Z1.default.vErrors}.length`),(0,Ifn.extendErrors)(e)},()=>e.error())}function Pfn({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function jje(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,mu.stringify)(n)})}function Ofn(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Jh.validSchemaType=Ofn;function Dfn({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Jh.validateKeywordUsage=Dfn;var My={};Object.defineProperty(My,"__esModule",{value:!0});My.extendSubschemaMode=My.extendSubschemaData=My.getSubschema=void 0;const Hh=tr,Bje=Pt;function $fn(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Hh._)`${e.schemaPath}${(0,Hh.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Hh._)`${e.schemaPath}${(0,Hh.getProperty)(t)}${(0,Hh.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Bje.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}My.getSubschema=$fn;function Mfn(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Hh._)`${t.data}${(0,Hh.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Hh.str)`${l}${(0,Bje.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Hh._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Hh.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}My.extendSubschemaData=Mfn;function Lfn(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}My.extendSubschemaMode=Lfn;var la={},Uje={exports:{}},oy=Uje.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};X$(t,r,i,e,"",e)};oy.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};oy.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};oy.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};oy.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function X$(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in oy.arrayKeywords)for(var d=0;d<f.length;d++)X$(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in oy.propsKeywords){if(f&&typeof f=="object")for(var h in f)X$(e,t,n,f[h],i+"/"+c+"/"+Ffn(h),s,i,c,r,h)}else(c in oy.keywords||e.allKeys&&!(c in oy.skipKeywords))&&X$(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function Ffn(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var jfn=Uje.exports;Object.defineProperty(la,"__esModule",{value:!0});la.getSchemaRefs=la.resolveUrl=la.normalizeId=la._getFullPath=la.getFullPath=la.inlineRef=void 0;const Bfn=Pt,Ufn=jJ,zfn=jfn,Vfn=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Hfn(e,t=!0){return typeof e=="boolean"?!0:t===!0?!IG(e):t?zje(e)<=t:!1}la.inlineRef=Hfn;const qfn=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function IG(e){for(const t in e){if(qfn.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(IG)||typeof n=="object"&&IG(n))return!0}return!1}function zje(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!Vfn.has(n)&&(typeof e[n]=="object"&&(0,Bfn.eachItem)(e[n],r=>t+=zje(r)),t===1/0))return 1/0}return t}function Vje(e,t="",n){n!==!1&&(t=jx(t));const r=e.parse(t);return Hje(e,r)}la.getFullPath=Vje;function Hje(e,t){return e.serialize(t).split("#")[0]+"#"}la._getFullPath=Hje;const Wfn=/#\/?$/;function jx(e){return e?e.replace(Wfn,""):""}la.normalizeId=jx;function Gfn(e,t,n){return n=jx(n),e.resolve(t,n)}la.resolveUrl=Gfn;const Yfn=/^[a-z_][-a-z0-9._]*$/i;function Kfn(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=jx(e[n]||t),s={"":i},o=Vje(r,i,!1),a={},u=new Set;return zfn(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let g=s[p];typeof f[n]=="string"&&(g=y.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=g;function y(b){const w=this.opts.uriResolver.resolve;if(b=jx(g?w(g,b):b),u.has(b))throw c(b);u.add(b);let E=this.refs[b];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?l(f,E.schema,b):b!==jx(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function v(b){if(typeof b=="string"){if(!Yfn.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!Ufn(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}la.getSchemaRefs=Kfn;Object.defineProperty(Od,"__esModule",{value:!0});Od.getData=Od.KeywordCxt=Od.validateFunctionCode=void 0;const qje=HS,fbe=ao,Pre=sg,v6=ao,Xfn=wj,NI=Jh,H7=My,qt=tr,bn=Xp,Qfn=la,og=Pt,N2=aP;function Jfn(e){if(Yje(e)&&(Kje(e),Gje(e))){tdn(e);return}Wje(e,()=>(0,qje.topBoolOrEmptySchema)(e))}Od.validateFunctionCode=Jfn;function Wje({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,qt._)`${bn.default.data}, ${bn.default.valCxt}`,r.$async,()=>{e.code((0,qt._)`"use strict"; ${dbe(n,i)}`),edn(e,i),e.code(s)}):e.func(t,(0,qt._)`${bn.default.data}, ${Zfn(i)}`,r.$async,()=>e.code(dbe(n,i)).code(s))}function Zfn(e){return(0,qt._)`{${bn.default.instancePath}="", ${bn.default.parentData}, ${bn.default.parentDataProperty}, ${bn.default.rootData}=${bn.default.data}${e.dynamicRef?(0,qt._)`, ${bn.default.dynamicAnchors}={}`:qt.nil}}={}`}function edn(e,t){e.if(bn.default.valCxt,()=>{e.var(bn.default.instancePath,(0,qt._)`${bn.default.valCxt}.${bn.default.instancePath}`),e.var(bn.default.parentData,(0,qt._)`${bn.default.valCxt}.${bn.default.parentData}`),e.var(bn.default.parentDataProperty,(0,qt._)`${bn.default.valCxt}.${bn.default.parentDataProperty}`),e.var(bn.default.rootData,(0,qt._)`${bn.default.valCxt}.${bn.default.rootData}`),t.dynamicRef&&e.var(bn.default.dynamicAnchors,(0,qt._)`${bn.default.valCxt}.${bn.default.dynamicAnchors}`)},()=>{e.var(bn.default.instancePath,(0,qt._)`""`),e.var(bn.default.parentData,(0,qt._)`undefined`),e.var(bn.default.parentDataProperty,(0,qt._)`undefined`),e.var(bn.default.rootData,bn.default.data),t.dynamicRef&&e.var(bn.default.dynamicAnchors,(0,qt._)`{}`)})}function tdn(e){const{schema:t,opts:n,gen:r}=e;Wje(e,()=>{n.$comment&&t.$comment&&Qje(e),odn(e),r.let(bn.default.vErrors,null),r.let(bn.default.errors,0),n.unevaluated&&ndn(e),Xje(e),ldn(e)})}function ndn(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,qt._)`${n}.evaluated`),t.if((0,qt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,qt._)`${e.evaluated}.props`,(0,qt._)`undefined`)),t.if((0,qt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,qt._)`${e.evaluated}.items`,(0,qt._)`undefined`))}function dbe(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,qt._)`/*# sourceURL=${n} */`:qt.nil}function rdn(e,t){if(Yje(e)&&(Kje(e),Gje(e))){idn(e,t);return}(0,qje.boolOrEmptySchema)(e,t)}function Gje({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function Yje(e){return typeof e.schema!="boolean"}function idn(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&Qje(e),adn(e),udn(e);const s=r.const("_errs",bn.default.errors);Xje(e,s),r.var(t,(0,qt._)`${s} === ${bn.default.errors}`)}function Kje(e){(0,og.checkUnknownRules)(e),sdn(e)}function Xje(e,t){if(e.opts.jtd)return hbe(e,[],!1,t);const n=(0,fbe.getSchemaTypes)(e.schema),r=(0,fbe.coerceAndCheckDataType)(e,n);hbe(e,n,!r,t)}function sdn(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,og.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function odn(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,og.checkStrictMode)(e,"default is ignored in the schema root")}function adn(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Qfn.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function udn(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Qje({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,qt._)`${bn.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,qt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,qt._)`${bn.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function ldn(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,qt._)`${bn.default.errors} === 0`,()=>t.return(bn.default.data),()=>t.throw((0,qt._)`new ${i}(${bn.default.vErrors})`)):(t.assign((0,qt._)`${r}.errors`,bn.default.vErrors),s.unevaluated&&cdn(e),t.return((0,qt._)`${bn.default.errors} === 0`))}function cdn({gen:e,evaluated:t,props:n,items:r}){n instanceof qt.Name&&e.assign((0,qt._)`${t}.props`,n),r instanceof qt.Name&&e.assign((0,qt._)`${t}.items`,r)}function hbe(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,og.schemaHasRulesButRef)(s,c))){i.block(()=>e8e(e,"$ref",c.all.$ref.definition));return}u.jtd||fdn(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,Pre.shouldUseGroup)(s,d)&&(d.type?(i.if((0,v6.checkDataType)(d.type,o,u.strictNumbers)),pbe(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,v6.reportTypeError)(e)),i.endIf()):pbe(e,d),a||i.if((0,qt._)`${bn.default.errors} === ${r||0}`))}}function pbe(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,Xfn.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,Pre.shouldUseRule)(r,s)&&e8e(e,s.keyword,s.definition,t.type)})}function fdn(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ddn(e,t),e.opts.allowUnionTypes||hdn(e,t),pdn(e,e.dataTypes))}function ddn(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{Jje(e.dataTypes,n)||Ore(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),gdn(e,t)}}function hdn(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ore(e,"use allowUnionTypes to allow union type keyword")}function pdn(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,Pre.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>mdn(t,o))&&Ore(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function mdn(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Jje(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function gdn(e,t){const n=[];for(const r of e.dataTypes)Jje(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function Ore(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,og.checkStrictMode)(e,t,e.opts.strictTypes)}class Zje{constructor(t,n,r){if((0,NI.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,og.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",t8e(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,NI.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",bn.default.errors))}result(t,n,r){this.failResult((0,qt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,qt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,qt._)`${n} !== undefined && (${(0,qt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?N2.reportExtraError:N2.reportError)(this,this.def.error,n)}$dataError(){(0,N2.reportError)(this,this.def.$dataError||N2.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,N2.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=qt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=qt.nil,n=qt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,qt.or)((0,qt._)`${i} === undefined`,n)),t!==qt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==qt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,qt.or)(o(),a());function o(){if(r.length){if(!(n instanceof qt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,qt._)`${(0,v6.checkDataTypes)(u,n,s.opts.strictNumbers,v6.DataType.Wrong)}`}return qt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,qt._)`!${u}(${n})`}return qt.nil}}subschema(t,n){const r=(0,H7.getSubschema)(this.it,t);(0,H7.extendSubschemaData)(r,this.it,t),(0,H7.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return rdn(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=og.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=og.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,qt.Name)),!0}}Od.KeywordCxt=Zje;function e8e(e,t,n,r){const i=new Zje(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,NI.funcKeywordCode)(i,n):"macro"in n?(0,NI.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,NI.funcKeywordCode)(i,n)}const ydn=/^\/(?:[^~]|~0|~1)*$/,vdn=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function t8e(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return bn.default.rootData;if(e[0]==="/"){if(!ydn.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=bn.default.rootData}else{const l=vdn.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,qt._)`${s}${(0,qt.getProperty)((0,og.unescapeJsonPointer)(l))}`,o=(0,qt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Od.getData=t8e;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});class bdn extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}uP.default=bdn;var xC={};Object.defineProperty(xC,"__esModule",{value:!0});const q7=la;class _dn extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,q7.resolveUrl)(t,n,r),this.missingSchema=(0,q7.normalizeId)((0,q7.getFullPath)(t,this.missingRef))}}xC.default=_dn;var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.resolveSchema=hl.getCompilingSchema=hl.resolveRef=hl.compileSchema=hl.SchemaEnv=void 0;const Xf=tr,wdn=uP,y1=Xp,yd=la,mbe=Pt,Edn=Od;class Ej{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,yd.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}hl.SchemaEnv=Ej;function Dre(e){const t=n8e.call(this,e);if(t)return t;const n=(0,yd.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Xf.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:wdn.default,code:(0,Xf._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:y1.default.data,parentData:y1.default.parentData,parentDataProperty:y1.default.parentDataProperty,dataNames:[y1.default.data],dataPathArr:[Xf.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Xf.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Xf.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Xf._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Edn.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(y1.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${y1.default.self}`,`${y1.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof Xf.Name?void 0:p,items:m instanceof Xf.Name?void 0:m,dynamicProps:p instanceof Xf.Name,dynamicItems:m instanceof Xf.Name},h.source&&(h.source.evaluated=(0,Xf.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}hl.compileSchema=Dre;function xdn(e,t,n){var r;n=(0,yd.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=Cdn.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new Ej({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=Sdn.call(this,s)}hl.resolveRef=xdn;function Sdn(e){return(0,yd.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Dre.call(this,e)}function n8e(e){for(const t of this._compilations)if(Tdn(t,e))return t}hl.getCompilingSchema=n8e;function Tdn(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Cdn(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||xj.call(this,e,t)}function xj(e,t){const n=this.opts.uriResolver.parse(t),r=(0,yd._getFullPath)(this.opts.uriResolver,n);let i=(0,yd.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return W7.call(this,n,e);const s=(0,yd.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=xj.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:W7.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Dre.call(this,o),s===(0,yd.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,yd.resolveUrl)(this.opts.uriResolver,i,l)),new Ej({schema:a,schemaId:u,root:e,baseId:i})}return W7.call(this,n,o)}}hl.resolveSchema=xj;const Adn=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function W7(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,mbe.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!Adn.has(a)&&l&&(t=(0,yd.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,mbe.schemaHasRulesButRef)(n,this.RULES)){const a=(0,yd.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=xj.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new Ej({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const Idn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",kdn="Meta-schema for $data reference (JSON AnySchema extension proposal)",Rdn="object",Ndn=["$data"],Pdn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Odn=!1,Ddn={$id:Idn,description:kdn,type:Rdn,required:Ndn,properties:Pdn,additionalProperties:Odn};var $re={},kG={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(vs,function(n){function r(){for(var ce=arguments.length,ne=Array(ce),he=0;he<ce;he++)ne[he]=arguments[he];if(ne.length>1){ne[0]=ne[0].slice(0,-1);for(var Ne=ne.length-1,Re=1;Re<Ne;++Re)ne[Re]=ne[Re].slice(1,-1);return ne[Ne]=ne[Ne].slice(1),ne.join("")}else return ne[0]}function i(ce){return"(?:"+ce+")"}function s(ce){return ce===void 0?"undefined":ce===null?"null":Object.prototype.toString.call(ce).split(" ").pop().split("]").shift().toLowerCase()}function o(ce){return ce.toUpperCase()}function a(ce){return ce!=null?ce instanceof Array?ce:typeof ce.length!="number"||ce.split||ce.setInterval||ce.call?[ce]:Array.prototype.slice.call(ce):[]}function u(ce,ne){var he=ce;if(ne)for(var Ne in ne)he[Ne]=ne[Ne];return he}function l(ce){var ne="[A-Za-z]",he="[0-9]",Ne=r(he,"[A-Fa-f]"),Re=i(i("%[EFef]"+Ne+"%"+Ne+Ne+"%"+Ne+Ne)+"|"+i("%[89A-Fa-f]"+Ne+"%"+Ne+Ne)+"|"+i("%"+Ne+Ne)),ct="[\\:\\/\\?\\#\\[\\]\\@]",Dt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Qt=r(ct,Dt),Dn=ce?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Yn=ce?"[\\uE000-\\uF8FF]":"[]",Cn=r(ne,he,"[\\-\\.\\_\\~]",Dn);i(ne+r(ne,he,"[\\+\\-\\.]")+"*"),i(i(Re+"|"+r(Cn,Dt,"[\\:]"))+"*");var lr=i(i("25[0-5]")+"|"+i("2[0-4]"+he)+"|"+i("1"+he+he)+"|"+i("0?[1-9]"+he)+"|0?0?"+he),Sr=i(lr+"\\."+lr+"\\."+lr+"\\."+lr),Ct=i(Ne+"{1,4}"),Un=i(i(Ct+"\\:"+Ct)+"|"+Sr),Xr=i(i(Ct+"\\:")+"{6}"+Un),Kn=i("\\:\\:"+i(Ct+"\\:")+"{5}"+Un),_i=i(i(Ct)+"?\\:\\:"+i(Ct+"\\:")+"{4}"+Un),Ws=i(i(i(Ct+"\\:")+"{0,1}"+Ct)+"?\\:\\:"+i(Ct+"\\:")+"{3}"+Un),Yr=i(i(i(Ct+"\\:")+"{0,2}"+Ct)+"?\\:\\:"+i(Ct+"\\:")+"{2}"+Un),si=i(i(i(Ct+"\\:")+"{0,3}"+Ct)+"?\\:\\:"+Ct+"\\:"+Un),Qr=i(i(i(Ct+"\\:")+"{0,4}"+Ct)+"?\\:\\:"+Un),zi=i(i(i(Ct+"\\:")+"{0,5}"+Ct)+"?\\:\\:"+Ct),So=i(i(i(Ct+"\\:")+"{0,6}"+Ct)+"?\\:\\:"),Ko=i([Xr,Kn,_i,Ws,Yr,si,Qr,zi,So].join("|")),ns=i(i(Cn+"|"+Re)+"+");i("[vV]"+Ne+"+\\."+r(Cn,Dt,"[\\:]")+"+"),i(i(Re+"|"+r(Cn,Dt))+"*");var Ri=i(Re+"|"+r(Cn,Dt,"[\\:\\@]"));return i(i(Re+"|"+r(Cn,Dt,"[\\@]"))+"+"),i(i(Ri+"|"+r("[\\/\\?]",Yn))+"*"),{NOT_SCHEME:new RegExp(r("[^]",ne,he,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Cn,Dt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Cn,Dt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Cn,Dt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Cn,Dt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Cn,Dt,"[\\:\\@\\/\\?]",Yn),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Cn,Dt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Cn,Dt),"g"),UNRESERVED:new RegExp(Cn,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Cn,Qt),"g"),PCT_ENCODED:new RegExp(Re,"g"),IPV4ADDRESS:new RegExp("^("+Sr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ko+")"+i(i("\\%25|\\%(?!"+Ne+"{2})")+"("+ns+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function ce(ne,he){var Ne=[],Re=!0,ct=!1,Dt=void 0;try{for(var Qt=ne[Symbol.iterator](),Dn;!(Re=(Dn=Qt.next()).done)&&(Ne.push(Dn.value),!(he&&Ne.length===he));Re=!0);}catch(Yn){ct=!0,Dt=Yn}finally{try{!Re&&Qt.return&&Qt.return()}finally{if(ct)throw Dt}}return Ne}return function(ne,he){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return ce(ne,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(ce){if(Array.isArray(ce)){for(var ne=0,he=Array(ce.length);ne<ce.length;ne++)he[ne]=ce[ne];return he}else return Array.from(ce)},p=2147483647,m=36,g=1,y=26,v=38,b=700,w=72,E=128,x="-",S=/^xn--/,C=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=m-g,D=Math.floor,P=String.fromCharCode;function $(ce){throw new RangeError(k[ce])}function L(ce,ne){for(var he=[],Ne=ce.length;Ne--;)he[Ne]=ne(ce[Ne]);return he}function M(ce,ne){var he=ce.split("@"),Ne="";he.length>1&&(Ne=he[0]+"@",ce=he[1]),ce=ce.replace(I,".");var Re=ce.split("."),ct=L(Re,ne).join(".");return Ne+ct}function B(ce){for(var ne=[],he=0,Ne=ce.length;he<Ne;){var Re=ce.charCodeAt(he++);if(Re>=55296&&Re<=56319&&he<Ne){var ct=ce.charCodeAt(he++);(ct&64512)==56320?ne.push(((Re&1023)<<10)+(ct&1023)+65536):(ne.push(Re),he--)}else ne.push(Re)}return ne}var z=function(ne){return String.fromCodePoint.apply(String,h(ne))},H=function(ne){return ne-48<10?ne-22:ne-65<26?ne-65:ne-97<26?ne-97:m},O=function(ne,he){return ne+22+75*(ne<26)-((he!=0)<<5)},U=function(ne,he,Ne){var Re=0;for(ne=Ne?D(ne/b):ne>>1,ne+=D(ne/he);ne>R*y>>1;Re+=m)ne=D(ne/R);return D(Re+(R+1)*ne/(ne+v))},q=function(ne){var he=[],Ne=ne.length,Re=0,ct=E,Dt=w,Qt=ne.lastIndexOf(x);Qt<0&&(Qt=0);for(var Dn=0;Dn<Qt;++Dn)ne.charCodeAt(Dn)>=128&&$("not-basic"),he.push(ne.charCodeAt(Dn));for(var Yn=Qt>0?Qt+1:0;Yn<Ne;){for(var Cn=Re,lr=1,Sr=m;;Sr+=m){Yn>=Ne&&$("invalid-input");var Ct=H(ne.charCodeAt(Yn++));(Ct>=m||Ct>D((p-Re)/lr))&&$("overflow"),Re+=Ct*lr;var Un=Sr<=Dt?g:Sr>=Dt+y?y:Sr-Dt;if(Ct<Un)break;var Xr=m-Un;lr>D(p/Xr)&&$("overflow"),lr*=Xr}var Kn=he.length+1;Dt=U(Re-Cn,Kn,Cn==0),D(Re/Kn)>p-ct&&$("overflow"),ct+=D(Re/Kn),Re%=Kn,he.splice(Re++,0,ct)}return String.fromCodePoint.apply(String,he)},F=function(ne){var he=[];ne=B(ne);var Ne=ne.length,Re=E,ct=0,Dt=w,Qt=!0,Dn=!1,Yn=void 0;try{for(var Cn=ne[Symbol.iterator](),lr;!(Qt=(lr=Cn.next()).done);Qt=!0){var Sr=lr.value;Sr<128&&he.push(P(Sr))}}catch(Le){Dn=!0,Yn=Le}finally{try{!Qt&&Cn.return&&Cn.return()}finally{if(Dn)throw Yn}}var Ct=he.length,Un=Ct;for(Ct&&he.push(x);Un<Ne;){var Xr=p,Kn=!0,_i=!1,Ws=void 0;try{for(var Yr=ne[Symbol.iterator](),si;!(Kn=(si=Yr.next()).done);Kn=!0){var Qr=si.value;Qr>=Re&&Qr<Xr&&(Xr=Qr)}}catch(Le){_i=!0,Ws=Le}finally{try{!Kn&&Yr.return&&Yr.return()}finally{if(_i)throw Ws}}var zi=Un+1;Xr-Re>D((p-ct)/zi)&&$("overflow"),ct+=(Xr-Re)*zi,Re=Xr;var So=!0,Ko=!1,ns=void 0;try{for(var Ri=ne[Symbol.iterator](),Xo;!(So=(Xo=Ri.next()).done);So=!0){var Y=Xo.value;if(Y<Re&&++ct>p&&$("overflow"),Y==Re){for(var le=ct,ee=m;;ee+=m){var ye=ee<=Dt?g:ee>=Dt+y?y:ee-Dt;if(le<ye)break;var _e=le-ye,me=m-ye;he.push(P(O(ye+_e%me,0))),le=D(_e/me)}he.push(P(O(le,0))),Dt=U(ct,zi,Un==Ct),ct=0,++Un}}}catch(Le){Ko=!0,ns=Le}finally{try{!So&&Ri.return&&Ri.return()}finally{if(Ko)throw ns}}++ct,++Re}return he.join("")},V=function(ne){return M(ne,function(he){return S.test(he)?q(he.slice(4).toLowerCase()):he})},G=function(ne){return M(ne,function(he){return C.test(he)?"xn--"+F(he):he})},Z={version:"2.1.0",ucs2:{decode:B,encode:z},decode:q,encode:F,toASCII:G,toUnicode:V},ae={};function re(ce){var ne=ce.charCodeAt(0),he=void 0;return ne<16?he="%0"+ne.toString(16).toUpperCase():ne<128?he="%"+ne.toString(16).toUpperCase():ne<2048?he="%"+(ne>>6|192).toString(16).toUpperCase()+"%"+(ne&63|128).toString(16).toUpperCase():he="%"+(ne>>12|224).toString(16).toUpperCase()+"%"+(ne>>6&63|128).toString(16).toUpperCase()+"%"+(ne&63|128).toString(16).toUpperCase(),he}function ue(ce){for(var ne="",he=0,Ne=ce.length;he<Ne;){var Re=parseInt(ce.substr(he+1,2),16);if(Re<128)ne+=String.fromCharCode(Re),he+=3;else if(Re>=194&&Re<224){if(Ne-he>=6){var ct=parseInt(ce.substr(he+4,2),16);ne+=String.fromCharCode((Re&31)<<6|ct&63)}else ne+=ce.substr(he,6);he+=6}else if(Re>=224){if(Ne-he>=9){var Dt=parseInt(ce.substr(he+4,2),16),Qt=parseInt(ce.substr(he+7,2),16);ne+=String.fromCharCode((Re&15)<<12|(Dt&63)<<6|Qt&63)}else ne+=ce.substr(he,9);he+=9}else ne+=ce.substr(he,3),he+=3}return ne}function pe(ce,ne){function he(Ne){var Re=ue(Ne);return Re.match(ne.UNRESERVED)?Re:Ne}return ce.scheme&&(ce.scheme=String(ce.scheme).replace(ne.PCT_ENCODED,he).toLowerCase().replace(ne.NOT_SCHEME,"")),ce.userinfo!==void 0&&(ce.userinfo=String(ce.userinfo).replace(ne.PCT_ENCODED,he).replace(ne.NOT_USERINFO,re).replace(ne.PCT_ENCODED,o)),ce.host!==void 0&&(ce.host=String(ce.host).replace(ne.PCT_ENCODED,he).toLowerCase().replace(ne.NOT_HOST,re).replace(ne.PCT_ENCODED,o)),ce.path!==void 0&&(ce.path=String(ce.path).replace(ne.PCT_ENCODED,he).replace(ce.scheme?ne.NOT_PATH:ne.NOT_PATH_NOSCHEME,re).replace(ne.PCT_ENCODED,o)),ce.query!==void 0&&(ce.query=String(ce.query).replace(ne.PCT_ENCODED,he).replace(ne.NOT_QUERY,re).replace(ne.PCT_ENCODED,o)),ce.fragment!==void 0&&(ce.fragment=String(ce.fragment).replace(ne.PCT_ENCODED,he).replace(ne.NOT_FRAGMENT,re).replace(ne.PCT_ENCODED,o)),ce}function xe(ce){return ce.replace(/^0*(.*)/,"$1")||"0"}function ve(ce,ne){var he=ce.match(ne.IPV4ADDRESS)||[],Ne=d(he,2),Re=Ne[1];return Re?Re.split(".").map(xe).join("."):ce}function We(ce,ne){var he=ce.match(ne.IPV6ADDRESS)||[],Ne=d(he,3),Re=Ne[1],ct=Ne[2];if(Re){for(var Dt=Re.toLowerCase().split("::").reverse(),Qt=d(Dt,2),Dn=Qt[0],Yn=Qt[1],Cn=Yn?Yn.split(":").map(xe):[],lr=Dn.split(":").map(xe),Sr=ne.IPV4ADDRESS.test(lr[lr.length-1]),Ct=Sr?7:8,Un=lr.length-Ct,Xr=Array(Ct),Kn=0;Kn<Ct;++Kn)Xr[Kn]=Cn[Kn]||lr[Un+Kn]||"";Sr&&(Xr[Ct-1]=ve(Xr[Ct-1],ne));var _i=Xr.reduce(function(zi,So,Ko){if(!So||So==="0"){var ns=zi[zi.length-1];ns&&ns.index+ns.length===Ko?ns.length++:zi.push({index:Ko,length:1})}return zi},[]),Ws=_i.sort(function(zi,So){return So.length-zi.length})[0],Yr=void 0;if(Ws&&Ws.length>1){var si=Xr.slice(0,Ws.index),Qr=Xr.slice(Ws.index+Ws.length);Yr=si.join(":")+"::"+Qr.join(":")}else Yr=Xr.join(":");return ct&&(Yr+="%"+ct),Yr}else return ce}var Be=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ht="".match(/(){0}/)[1]===void 0;function Je(ce){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he={},Ne=ne.iri!==!1?f:c;ne.reference==="suffix"&&(ce=(ne.scheme?ne.scheme+":":"")+"//"+ce);var Re=ce.match(Be);if(Re){ht?(he.scheme=Re[1],he.userinfo=Re[3],he.host=Re[4],he.port=parseInt(Re[5],10),he.path=Re[6]||"",he.query=Re[7],he.fragment=Re[8],isNaN(he.port)&&(he.port=Re[5])):(he.scheme=Re[1]||void 0,he.userinfo=ce.indexOf("@")!==-1?Re[3]:void 0,he.host=ce.indexOf("//")!==-1?Re[4]:void 0,he.port=parseInt(Re[5],10),he.path=Re[6]||"",he.query=ce.indexOf("?")!==-1?Re[7]:void 0,he.fragment=ce.indexOf("#")!==-1?Re[8]:void 0,isNaN(he.port)&&(he.port=ce.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Re[4]:void 0)),he.host&&(he.host=We(ve(he.host,Ne),Ne)),he.scheme===void 0&&he.userinfo===void 0&&he.host===void 0&&he.port===void 0&&!he.path&&he.query===void 0?he.reference="same-document":he.scheme===void 0?he.reference="relative":he.fragment===void 0?he.reference="absolute":he.reference="uri",ne.reference&&ne.reference!=="suffix"&&ne.reference!==he.reference&&(he.error=he.error||"URI is not a "+ne.reference+" reference.");var ct=ae[(ne.scheme||he.scheme||"").toLowerCase()];if(!ne.unicodeSupport&&(!ct||!ct.unicodeSupport)){if(he.host&&(ne.domainHost||ct&&ct.domainHost))try{he.host=Z.toASCII(he.host.replace(Ne.PCT_ENCODED,ue).toLowerCase())}catch(Dt){he.error=he.error||"Host's domain name can not be converted to ASCII via punycode: "+Dt}pe(he,c)}else pe(he,Ne);ct&&ct.parse&&ct.parse(he,ne)}else he.error=he.error||"URI can not be parsed.";return he}function we(ce,ne){var he=ne.iri!==!1?f:c,Ne=[];return ce.userinfo!==void 0&&(Ne.push(ce.userinfo),Ne.push("@")),ce.host!==void 0&&Ne.push(We(ve(String(ce.host),he),he).replace(he.IPV6ADDRESS,function(Re,ct,Dt){return"["+ct+(Dt?"%25"+Dt:"")+"]"})),(typeof ce.port=="number"||typeof ce.port=="string")&&(Ne.push(":"),Ne.push(String(ce.port))),Ne.length?Ne.join(""):void 0}var Ae=/^\.\.?\//,ze=/^\/\.(\/|$)/,et=/^\/\.\.(\/|$)/,Ot=/^\/?(?:.|\n)*?(?=\/|$)/;function Oe(ce){for(var ne=[];ce.length;)if(ce.match(Ae))ce=ce.replace(Ae,"");else if(ce.match(ze))ce=ce.replace(ze,"/");else if(ce.match(et))ce=ce.replace(et,"/"),ne.pop();else if(ce==="."||ce==="..")ce="";else{var he=ce.match(Ot);if(he){var Ne=he[0];ce=ce.slice(Ne.length),ne.push(Ne)}else throw new Error("Unexpected dot segment condition")}return ne.join("")}function fe(ce){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=ne.iri?f:c,Ne=[],Re=ae[(ne.scheme||ce.scheme||"").toLowerCase()];if(Re&&Re.serialize&&Re.serialize(ce,ne),ce.host&&!he.IPV6ADDRESS.test(ce.host)){if(ne.domainHost||Re&&Re.domainHost)try{ce.host=ne.iri?Z.toUnicode(ce.host):Z.toASCII(ce.host.replace(he.PCT_ENCODED,ue).toLowerCase())}catch(Qt){ce.error=ce.error||"Host's domain name can not be converted to "+(ne.iri?"Unicode":"ASCII")+" via punycode: "+Qt}}pe(ce,he),ne.reference!=="suffix"&&ce.scheme&&(Ne.push(ce.scheme),Ne.push(":"));var ct=we(ce,ne);if(ct!==void 0&&(ne.reference!=="suffix"&&Ne.push("//"),Ne.push(ct),ce.path&&ce.path.charAt(0)!=="/"&&Ne.push("/")),ce.path!==void 0){var Dt=ce.path;!ne.absolutePath&&(!Re||!Re.absolutePath)&&(Dt=Oe(Dt)),ct===void 0&&(Dt=Dt.replace(/^\/\//,"/%2F")),Ne.push(Dt)}return ce.query!==void 0&&(Ne.push("?"),Ne.push(ce.query)),ce.fragment!==void 0&&(Ne.push("#"),Ne.push(ce.fragment)),Ne.join("")}function Xe(ce,ne){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ne=arguments[3],Re={};return Ne||(ce=Je(fe(ce,he),he),ne=Je(fe(ne,he),he)),he=he||{},!he.tolerant&&ne.scheme?(Re.scheme=ne.scheme,Re.userinfo=ne.userinfo,Re.host=ne.host,Re.port=ne.port,Re.path=Oe(ne.path||""),Re.query=ne.query):(ne.userinfo!==void 0||ne.host!==void 0||ne.port!==void 0?(Re.userinfo=ne.userinfo,Re.host=ne.host,Re.port=ne.port,Re.path=Oe(ne.path||""),Re.query=ne.query):(ne.path?(ne.path.charAt(0)==="/"?Re.path=Oe(ne.path):((ce.userinfo!==void 0||ce.host!==void 0||ce.port!==void 0)&&!ce.path?Re.path="/"+ne.path:ce.path?Re.path=ce.path.slice(0,ce.path.lastIndexOf("/")+1)+ne.path:Re.path=ne.path,Re.path=Oe(Re.path)),Re.query=ne.query):(Re.path=ce.path,ne.query!==void 0?Re.query=ne.query:Re.query=ce.query),Re.userinfo=ce.userinfo,Re.host=ce.host,Re.port=ce.port),Re.scheme=ce.scheme),Re.fragment=ne.fragment,Re}function nt(ce,ne,he){var Ne=u({scheme:"null"},he);return fe(Xe(Je(ce,Ne),Je(ne,Ne),Ne,!0),Ne)}function ge(ce,ne){return typeof ce=="string"?ce=fe(Je(ce,ne),ne):s(ce)==="object"&&(ce=Je(fe(ce,ne),ne)),ce}function ke(ce,ne,he){return typeof ce=="string"?ce=fe(Je(ce,he),he):s(ce)==="object"&&(ce=fe(ce,he)),typeof ne=="string"?ne=fe(Je(ne,he),he):s(ne)==="object"&&(ne=fe(ne,he)),ce===ne}function Ve(ce,ne){return ce&&ce.toString().replace(!ne||!ne.iri?c.ESCAPE:f.ESCAPE,re)}function Ye(ce,ne){return ce&&ce.toString().replace(!ne||!ne.iri?c.PCT_ENCODED:f.PCT_ENCODED,ue)}var pt={scheme:"http",domainHost:!0,parse:function(ne,he){return ne.host||(ne.error=ne.error||"HTTP URIs must have a host."),ne},serialize:function(ne,he){var Ne=String(ne.scheme).toLowerCase()==="https";return(ne.port===(Ne?443:80)||ne.port==="")&&(ne.port=void 0),ne.path||(ne.path="/"),ne}},xn={scheme:"https",domainHost:pt.domainHost,parse:pt.parse,serialize:pt.serialize};function nr(ce){return typeof ce.secure=="boolean"?ce.secure:String(ce.scheme).toLowerCase()==="wss"}var mt={scheme:"ws",domainHost:!0,parse:function(ne,he){var Ne=ne;return Ne.secure=nr(Ne),Ne.resourceName=(Ne.path||"/")+(Ne.query?"?"+Ne.query:""),Ne.path=void 0,Ne.query=void 0,Ne},serialize:function(ne,he){if((ne.port===(nr(ne)?443:80)||ne.port==="")&&(ne.port=void 0),typeof ne.secure=="boolean"&&(ne.scheme=ne.secure?"wss":"ws",ne.secure=void 0),ne.resourceName){var Ne=ne.resourceName.split("?"),Re=d(Ne,2),ct=Re[0],Dt=Re[1];ne.path=ct&&ct!=="/"?ct:void 0,ne.query=Dt,ne.resourceName=void 0}return ne.fragment=void 0,ne}},Lt={scheme:"wss",domainHost:mt.domainHost,parse:mt.parse,serialize:mt.serialize},vt={},rn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Sn="[0-9A-Fa-f]",sn=i(i("%[EFef]"+Sn+"%"+Sn+Sn+"%"+Sn+Sn)+"|"+i("%[89A-Fa-f]"+Sn+"%"+Sn+Sn)+"|"+i("%"+Sn+Sn)),Hs="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ui="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tn=r(Ui,'[\\"\\\\]'),Nr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ur=new RegExp(rn,"g"),ki=new RegExp(sn,"g"),Hu=new RegExp(r("[^]",Hs,"[\\.]",'[\\"]',Tn),"g"),au=new RegExp(r("[^]",rn,Nr),"g"),jc=au;function Bn(ce){var ne=ue(ce);return ne.match(Ur)?ne:ce}var bi={scheme:"mailto",parse:function(ne,he){var Ne=ne,Re=Ne.to=Ne.path?Ne.path.split(","):[];if(Ne.path=void 0,Ne.query){for(var ct=!1,Dt={},Qt=Ne.query.split("&"),Dn=0,Yn=Qt.length;Dn<Yn;++Dn){var Cn=Qt[Dn].split("=");switch(Cn[0]){case"to":for(var lr=Cn[1].split(","),Sr=0,Ct=lr.length;Sr<Ct;++Sr)Re.push(lr[Sr]);break;case"subject":Ne.subject=Ye(Cn[1],he);break;case"body":Ne.body=Ye(Cn[1],he);break;default:ct=!0,Dt[Ye(Cn[0],he)]=Ye(Cn[1],he);break}}ct&&(Ne.headers=Dt)}Ne.query=void 0;for(var Un=0,Xr=Re.length;Un<Xr;++Un){var Kn=Re[Un].split("@");if(Kn[0]=Ye(Kn[0]),he.unicodeSupport)Kn[1]=Ye(Kn[1],he).toLowerCase();else try{Kn[1]=Z.toASCII(Ye(Kn[1],he).toLowerCase())}catch(_i){Ne.error=Ne.error||"Email address's domain name can not be converted to ASCII via punycode: "+_i}Re[Un]=Kn.join("@")}return Ne},serialize:function(ne,he){var Ne=ne,Re=a(ne.to);if(Re){for(var ct=0,Dt=Re.length;ct<Dt;++ct){var Qt=String(Re[ct]),Dn=Qt.lastIndexOf("@"),Yn=Qt.slice(0,Dn).replace(ki,Bn).replace(ki,o).replace(Hu,re),Cn=Qt.slice(Dn+1);try{Cn=he.iri?Z.toUnicode(Cn):Z.toASCII(Ye(Cn,he).toLowerCase())}catch(Un){Ne.error=Ne.error||"Email address's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+Un}Re[ct]=Yn+"@"+Cn}Ne.path=Re.join(",")}var lr=ne.headers=ne.headers||{};ne.subject&&(lr.subject=ne.subject),ne.body&&(lr.body=ne.body);var Sr=[];for(var Ct in lr)lr[Ct]!==vt[Ct]&&Sr.push(Ct.replace(ki,Bn).replace(ki,o).replace(au,re)+"="+lr[Ct].replace(ki,Bn).replace(ki,o).replace(jc,re));return Sr.length&&(Ne.query=Sr.join("&")),Ne}},xr=/^([^\:]+)\:(.*)/,Yo={scheme:"urn",parse:function(ne,he){var Ne=ne.path&&ne.path.match(xr),Re=ne;if(Ne){var ct=he.scheme||Re.scheme||"urn",Dt=Ne[1].toLowerCase(),Qt=Ne[2],Dn=ct+":"+(he.nid||Dt),Yn=ae[Dn];Re.nid=Dt,Re.nss=Qt,Re.path=void 0,Yn&&(Re=Yn.parse(Re,he))}else Re.error=Re.error||"URN can not be parsed.";return Re},serialize:function(ne,he){var Ne=he.scheme||ne.scheme||"urn",Re=ne.nid,ct=Ne+":"+(he.nid||Re),Dt=ae[ct];Dt&&(ne=Dt.serialize(ne,he));var Qt=ne,Dn=ne.nss;return Qt.path=(Re||he.nid)+":"+Dn,Qt}},xo=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qs={scheme:"urn:uuid",parse:function(ne,he){var Ne=ne;return Ne.uuid=Ne.nss,Ne.nss=void 0,!he.tolerant&&(!Ne.uuid||!Ne.uuid.match(xo))&&(Ne.error=Ne.error||"UUID is not valid."),Ne},serialize:function(ne,he){var Ne=ne;return Ne.nss=(ne.uuid||"").toLowerCase(),Ne}};ae[pt.scheme]=pt,ae[xn.scheme]=xn,ae[mt.scheme]=mt,ae[Lt.scheme]=Lt,ae[bi.scheme]=bi,ae[Yo.scheme]=Yo,ae[qs.scheme]=qs,n.SCHEMES=ae,n.pctEncChar=re,n.pctDecChars=ue,n.parse=Je,n.removeDotSegments=Oe,n.serialize=fe,n.resolveComponents=Xe,n.resolve=nt,n.normalize=ge,n.equal=ke,n.escapeComponent=Ve,n.unescapeComponent=Ye,Object.defineProperty(n,"__esModule",{value:!0})})})(kG,kG.exports);var $dn=kG.exports;Object.defineProperty($re,"__esModule",{value:!0});const r8e=$dn;r8e.code='require("ajv/dist/runtime/uri").default';$re.default=r8e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Od;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=tr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=uP,i=xC,s=b_,o=hl,a=tr,u=la,l=ao,c=Pt,f=Ddn,d=$re,h=(O,U)=>new RegExp(O,U);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function b(O){var U,q,F,V,G,Z,ae,re,ue,pe,xe,ve,We,Be,ht,Je,we,Ae,ze,et,Ot,Oe,fe,Xe,nt;const ge=O.strict,ke=(U=O.code)===null||U===void 0?void 0:U.optimize,Ve=ke===!0||ke===void 0?1:ke||0,Ye=(F=(q=O.code)===null||q===void 0?void 0:q.regExp)!==null&&F!==void 0?F:h,pt=(V=O.uriResolver)!==null&&V!==void 0?V:d.default;return{strictSchema:(Z=(G=O.strictSchema)!==null&&G!==void 0?G:ge)!==null&&Z!==void 0?Z:!0,strictNumbers:(re=(ae=O.strictNumbers)!==null&&ae!==void 0?ae:ge)!==null&&re!==void 0?re:!0,strictTypes:(pe=(ue=O.strictTypes)!==null&&ue!==void 0?ue:ge)!==null&&pe!==void 0?pe:"log",strictTuples:(ve=(xe=O.strictTuples)!==null&&xe!==void 0?xe:ge)!==null&&ve!==void 0?ve:"log",strictRequired:(Be=(We=O.strictRequired)!==null&&We!==void 0?We:ge)!==null&&Be!==void 0?Be:!1,code:O.code?{...O.code,optimize:Ve,regExp:Ye}:{optimize:Ve,regExp:Ye},loopRequired:(ht=O.loopRequired)!==null&&ht!==void 0?ht:v,loopEnum:(Je=O.loopEnum)!==null&&Je!==void 0?Je:v,meta:(we=O.meta)!==null&&we!==void 0?we:!0,messages:(Ae=O.messages)!==null&&Ae!==void 0?Ae:!0,inlineRefs:(ze=O.inlineRefs)!==null&&ze!==void 0?ze:!0,schemaId:(et=O.schemaId)!==null&&et!==void 0?et:"$id",addUsedSchema:(Ot=O.addUsedSchema)!==null&&Ot!==void 0?Ot:!0,validateSchema:(Oe=O.validateSchema)!==null&&Oe!==void 0?Oe:!0,validateFormats:(fe=O.validateFormats)!==null&&fe!==void 0?fe:!0,unicodeRegExp:(Xe=O.unicodeRegExp)!==null&&Xe!==void 0?Xe:!0,int32range:(nt=O.int32range)!==null&&nt!==void 0?nt:!0,uriResolver:pt}}class w{constructor(U={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,U=this.opts={...U,...b(U)};const{es5:q,lines:F}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:q,lines:F}),this.logger=D(U.logger);const V=U.validateFormats;U.validateFormats=!1,this.RULES=(0,s.getRules)(),E.call(this,g,U,"NOT SUPPORTED"),E.call(this,y,U,"DEPRECATED","warn"),this._metaOpts=k.call(this),U.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),U.keywords&&I.call(this,U.keywords),typeof U.meta=="object"&&this.addMetaSchema(U.meta),S.call(this),U.validateFormats=V}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:U,meta:q,schemaId:F}=this.opts;let V=f;F==="id"&&(V={...f},V.id=V.$id,delete V.$id),q&&U&&this.addMetaSchema(V,V[F],!1)}defaultMeta(){const{meta:U,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof U=="object"?U[q]||U:void 0}validate(U,q){let F;if(typeof U=="string"){if(F=this.getSchema(U),!F)throw new Error(`no schema with key or ref "${U}"`)}else F=this.compile(U);const V=F(q);return"$async"in F||(this.errors=F.errors),V}compile(U,q){const F=this._addSchema(U,q);return F.validate||this._compileSchemaEnv(F)}compileAsync(U,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return V.call(this,U,q);async function V(pe,xe){await G.call(this,pe.$schema);const ve=this._addSchema(pe,xe);return ve.validate||Z.call(this,ve)}async function G(pe){pe&&!this.getSchema(pe)&&await V.call(this,{$ref:pe},!0)}async function Z(pe){try{return this._compileSchemaEnv(pe)}catch(xe){if(!(xe instanceof i.default))throw xe;return ae.call(this,xe),await re.call(this,xe.missingSchema),Z.call(this,pe)}}function ae({missingSchema:pe,missingRef:xe}){if(this.refs[pe])throw new Error(`AnySchema ${pe} is loaded but ${xe} cannot be resolved`)}async function re(pe){const xe=await ue.call(this,pe);this.refs[pe]||await G.call(this,xe.$schema),this.refs[pe]||this.addSchema(xe,pe,q)}async function ue(pe){const xe=this._loading[pe];if(xe)return xe;try{return await(this._loading[pe]=F(pe))}finally{delete this._loading[pe]}}}addSchema(U,q,F,V=this.opts.validateSchema){if(Array.isArray(U)){for(const Z of U)this.addSchema(Z,void 0,F,V);return this}let G;if(typeof U=="object"){const{schemaId:Z}=this.opts;if(G=U[Z],G!==void 0&&typeof G!="string")throw new Error(`schema ${Z} must be string`)}return q=(0,u.normalizeId)(q||G),this._checkUnique(q),this.schemas[q]=this._addSchema(U,F,q,V,!0),this}addMetaSchema(U,q,F=this.opts.validateSchema){return this.addSchema(U,q,!0,F),this}validateSchema(U,q){if(typeof U=="boolean")return!0;let F;if(F=U.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const V=this.validate(F,U);if(!V&&q){const G="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(G);else throw new Error(G)}return V}getSchema(U){let q;for(;typeof(q=x.call(this,U))=="string";)U=q;if(q===void 0){const{schemaId:F}=this.opts,V=new o.SchemaEnv({schema:{},schemaId:F});if(q=o.resolveSchema.call(this,V,U),!q)return;this.refs[U]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(U){if(U instanceof RegExp)return this._removeAllSchemas(this.schemas,U),this._removeAllSchemas(this.refs,U),this;switch(typeof U){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=x.call(this,U);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[U],delete this.refs[U],this}case"object":{const q=U;this._cache.delete(q);let F=U[this.opts.schemaId];return F&&(F=(0,u.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(U){for(const q of U)this.addKeyword(q);return this}addKeyword(U,q){let F;if(typeof U=="string")F=U,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=F);else if(typeof U=="object"&&q===void 0){if(q=U,F=q.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if($.call(this,F,q),!q)return(0,c.eachItem)(F,G=>L.call(this,G)),this;B.call(this,q);const V={...q,type:(0,l.getJSONTypes)(q.type),schemaType:(0,l.getJSONTypes)(q.schemaType)};return(0,c.eachItem)(F,V.type.length===0?G=>L.call(this,G,V):G=>V.type.forEach(Z=>L.call(this,G,V,Z))),this}getKeyword(U){const q=this.RULES.all[U];return typeof q=="object"?q.definition:!!q}removeKeyword(U){const{RULES:q}=this;delete q.keywords[U],delete q.all[U];for(const F of q.rules){const V=F.rules.findIndex(G=>G.keyword===U);V>=0&&F.rules.splice(V,1)}return this}addFormat(U,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[U]=q,this}errorsText(U=this.errors,{separator:q=", ",dataVar:F="data"}={}){return!U||U.length===0?"No errors":U.map(V=>`${F}${V.instancePath} ${V.message}`).reduce((V,G)=>V+q+G)}$dataMetaSchema(U,q){const F=this.RULES.all;U=JSON.parse(JSON.stringify(U));for(const V of q){const G=V.split("/").slice(1);let Z=U;for(const ae of G)Z=Z[ae];for(const ae in F){const re=F[ae];if(typeof re!="object")continue;const{$data:ue}=re.definition,pe=Z[ae];ue&&pe&&(Z[ae]=H(pe))}}return U}_removeAllSchemas(U,q){for(const F in U){const V=U[F];(!q||q.test(F))&&(typeof V=="string"?delete U[F]:V&&!V.meta&&(this._cache.delete(V.schema),delete U[F]))}}_addSchema(U,q,F,V=this.opts.validateSchema,G=this.opts.addUsedSchema){let Z;const{schemaId:ae}=this.opts;if(typeof U=="object")Z=U[ae];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof U!="boolean")throw new Error("schema must be object or boolean")}let re=this._cache.get(U);if(re!==void 0)return re;F=(0,u.normalizeId)(Z||F);const ue=u.getSchemaRefs.call(this,U,F);return re=new o.SchemaEnv({schema:U,schemaId:ae,meta:q,baseId:F,localRefs:ue}),this._cache.set(re.schema,re),G&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=re),V&&this.validateSchema(U,!0),re}_checkUnique(U){if(this.schemas[U]||this.refs[U])throw new Error(`schema with key or id "${U}" already exists`)}_compileSchemaEnv(U){if(U.meta?this._compileMetaSchema(U):o.compileSchema.call(this,U),!U.validate)throw new Error("ajv implementation error");return U.validate}_compileMetaSchema(U){const q=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,U)}finally{this.opts=q}}}w.ValidationError=r.default,w.MissingRefError=i.default,e.default=w;function E(O,U,q,F="error"){for(const V in O){const G=V;G in U&&this.logger[F](`${q}: option ${V}. ${O[G]}`)}}function x(O){return O=(0,u.normalizeId)(O),this.schemas[O]||this.refs[O]}function S(){const O=this.opts.schemas;if(O)if(Array.isArray(O))this.addSchema(O);else for(const U in O)this.addSchema(O[U],U)}function C(){for(const O in this.opts.formats){const U=this.opts.formats[O];U&&this.addFormat(O,U)}}function I(O){if(Array.isArray(O)){this.addVocabulary(O);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const U in O){const q=O[U];q.keyword||(q.keyword=U),this.addKeyword(q)}}function k(){const O={...this.opts};for(const U of p)delete O[U];return O}const R={log(){},warn(){},error(){}};function D(O){if(O===!1)return R;if(O===void 0)return console;if(O.log&&O.warn&&O.error)return O;throw new Error("logger must implement log, warn and error methods")}const P=/^[a-z_$][a-z0-9_$:-]*$/i;function $(O,U){const{RULES:q}=this;if((0,c.eachItem)(O,F=>{if(q.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!P.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!U&&U.$data&&!("code"in U||"validate"in U))throw new Error('$data keyword must have "code" or "validate" function')}function L(O,U,q){var F;const V=U==null?void 0:U.post;if(q&&V)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:G}=this;let Z=V?G.post:G.rules.find(({type:re})=>re===q);if(Z||(Z={type:q,rules:[]},G.rules.push(Z)),G.keywords[O]=!0,!U)return;const ae={keyword:O,definition:{...U,type:(0,l.getJSONTypes)(U.type),schemaType:(0,l.getJSONTypes)(U.schemaType)}};U.before?M.call(this,Z,ae,U.before):Z.rules.push(ae),G.all[O]=ae,(F=U.implements)===null||F===void 0||F.forEach(re=>this.addKeyword(re))}function M(O,U,q){const F=O.rules.findIndex(V=>V.keyword===q);F>=0?O.rules.splice(F,0,U):(O.rules.push(U),this.logger.warn(`rule ${q} is not defined`))}function B(O){let{metaSchema:U}=O;U!==void 0&&(O.$data&&this.opts.$data&&(U=H(U)),O.validateSchema=this.compile(U,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H(O){return{anyOf:[O,z]}}})(Tje);var Mre={},Lre={},Fre={};Object.defineProperty(Fre,"__esModule",{value:!0});const Mdn={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fre.default=Mdn;var __={};Object.defineProperty(__,"__esModule",{value:!0});__.callRef=__.getValidate=void 0;const Ldn=xC,gbe=Zn,tl=tr,tE=Xp,ybe=hl,wD=Pt,Fdn={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=ybe.resolveRef.call(u,l,i,n);if(c===void 0)throw new Ldn.default(r.opts.uriResolver,i,n);if(c instanceof ybe.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Q$(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Q$(e,(0,tl._)`${p}.validate`,l,l.$async)}function d(p){const m=i8e(e,p);Q$(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,tl.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:tl.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function i8e(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,tl._)`${n.scopeValue("wrapper",{ref:t})}.validate`}__.getValidate=i8e;function Q$(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?tE.default.this:tl.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,tl._)`await ${(0,gbe.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,tl._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,gbe.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,tl._)`${p}.errors`;i.assign(tE.default.vErrors,(0,tl._)`${tE.default.vErrors} === null ? ${m} : ${tE.default.vErrors}.concat(${m})`),i.assign(tE.default.errors,(0,tl._)`${tE.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=wD.mergeEvaluated.props(i,g.props,s.props));else{const y=i.var("props",(0,tl._)`${p}.evaluated.props`);s.props=wD.mergeEvaluated.props(i,y,s.props,tl.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=wD.mergeEvaluated.items(i,g.items,s.items));else{const y=i.var("items",(0,tl._)`${p}.evaluated.items`);s.items=wD.mergeEvaluated.items(i,y,s.items,tl.Name)}}}__.callRef=Q$;__.default=Fdn;Object.defineProperty(Lre,"__esModule",{value:!0});const jdn=Fre,Bdn=__,Udn=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",jdn.default,Bdn.default];Lre.default=Udn;var jre={},Bre={};Object.defineProperty(Bre,"__esModule",{value:!0});const b6=tr,S0=b6.operators,_6={maximum:{okStr:"<=",ok:S0.LTE,fail:S0.GT},minimum:{okStr:">=",ok:S0.GTE,fail:S0.LT},exclusiveMaximum:{okStr:"<",ok:S0.LT,fail:S0.GTE},exclusiveMinimum:{okStr:">",ok:S0.GT,fail:S0.LTE}},zdn={message:({keyword:e,schemaCode:t})=>(0,b6.str)`must be ${_6[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,b6._)`{comparison: ${_6[e].okStr}, limit: ${t}}`},Vdn={keyword:Object.keys(_6),type:"number",schemaType:"number",$data:!0,error:zdn,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,b6._)`${n} ${_6[t].fail} ${r} || isNaN(${n})`)}};Bre.default=Vdn;var Ure={};Object.defineProperty(Ure,"__esModule",{value:!0});const PI=tr,Hdn={message:({schemaCode:e})=>(0,PI.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,PI._)`{multipleOf: ${e}}`},qdn={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Hdn,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,PI._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,PI._)`${o} !== parseInt(${o})`;e.fail$data((0,PI._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};Ure.default=qdn;var zre={},Vre={};Object.defineProperty(Vre,"__esModule",{value:!0});function s8e(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}Vre.default=s8e;s8e.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(zre,"__esModule",{value:!0});const eb=tr,Wdn=Pt,Gdn=Vre,Ydn={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,eb.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,eb._)`{limit: ${e}}`},Kdn={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ydn,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?eb.operators.GT:eb.operators.LT,o=i.opts.unicode===!1?(0,eb._)`${n}.length`:(0,eb._)`${(0,Wdn.useFunc)(e.gen,Gdn.default)}(${n})`;e.fail$data((0,eb._)`${o} ${s} ${r}`)}};zre.default=Kdn;var Hre={};Object.defineProperty(Hre,"__esModule",{value:!0});const Xdn=Zn,w6=tr,Qdn={message:({schemaCode:e})=>(0,w6.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,w6._)`{pattern: ${e}}`},Jdn={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Qdn,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,w6._)`(new RegExp(${i}, ${o}))`:(0,Xdn.usePattern)(e,r);e.fail$data((0,w6._)`!${a}.test(${t})`)}};Hre.default=Jdn;var qre={};Object.defineProperty(qre,"__esModule",{value:!0});const OI=tr,Zdn={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,OI.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,OI._)`{limit: ${e}}`},ehn={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Zdn,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?OI.operators.GT:OI.operators.LT;e.fail$data((0,OI._)`Object.keys(${n}).length ${i} ${r}`)}};qre.default=ehn;var Wre={};Object.defineProperty(Wre,"__esModule",{value:!0});const P2=Zn,DI=tr,thn=Pt,nhn={message:({params:{missingProperty:e}})=>(0,DI.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,DI._)`{missingProperty: ${e}}`},rhn={keyword:"required",type:"object",schemaType:"array",$data:!0,error:nhn,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const g=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,thn.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(DI.nil,f);else for(const h of n)(0,P2.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,P2.checkMissingProp)(e,n,h)),(0,P2.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,P2.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,P2.propertyInData)(t,i,h,a.ownProperties)),t.if((0,DI.not)(p),()=>{e.error(),t.break()})},DI.nil)}}};Wre.default=rhn;var Gre={};Object.defineProperty(Gre,"__esModule",{value:!0});const $I=tr,ihn={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,$I.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,$I._)`{limit: ${e}}`},shn={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ihn,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?$I.operators.GT:$I.operators.LT;e.fail$data((0,$I._)`${n}.length ${i} ${r}`)}};Gre.default=shn;var Yre={},lP={};Object.defineProperty(lP,"__esModule",{value:!0});const o8e=jJ;o8e.code='require("ajv/dist/runtime/equal").default';lP.default=o8e;Object.defineProperty(Yre,"__esModule",{value:!0});const G7=ao,na=tr,ohn=Pt,ahn=lP,uhn={message:({params:{i:e,j:t}})=>(0,na.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,na._)`{i: ${e}, j: ${t}}`},lhn={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:uhn,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,G7.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,na._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,na._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,na._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const g=t.name("item"),y=(0,G7.checkDataTypes)(l,g,a.opts.strictNumbers,G7.DataType.Wrong),v=t.const("indices",(0,na._)`{}`);t.for((0,na._)`;${p}--;`,()=>{t.let(g,(0,na._)`${n}[${p}]`),t.if(y,(0,na._)`continue`),l.length>1&&t.if((0,na._)`typeof ${g} == "string"`,(0,na._)`${g} += "_"`),t.if((0,na._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,na._)`${v}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,na._)`${v}[${g}] = ${p}`)})}function h(p,m){const g=(0,ohn.useFunc)(t,ahn.default),y=t.name("outer");t.label(y).for((0,na._)`;${p}--;`,()=>t.for((0,na._)`${m} = ${p}; ${m}--;`,()=>t.if((0,na._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};Yre.default=lhn;var Kre={};Object.defineProperty(Kre,"__esModule",{value:!0});const RG=tr,chn=Pt,fhn=lP,dhn={message:"must be equal to constant",params:({schemaCode:e})=>(0,RG._)`{allowedValue: ${e}}`},hhn={keyword:"const",$data:!0,error:dhn,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,RG._)`!${(0,chn.useFunc)(t,fhn.default)}(${n}, ${i})`):e.fail((0,RG._)`${s} !== ${n}`)}};Kre.default=hhn;var Xre={};Object.defineProperty(Xre,"__esModule",{value:!0});const IA=tr,phn=Pt,mhn=lP,ghn={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,IA._)`{allowedValues: ${e}}`},yhn={keyword:"enum",schemaType:"array",$data:!0,error:ghn,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,phn.useFunc)(t,mhn.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,IA.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,IA._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,IA._)`${l()}(${n}, ${h}[${p}])`:(0,IA._)`${n} === ${m}`}}};Xre.default=yhn;Object.defineProperty(jre,"__esModule",{value:!0});const vhn=Bre,bhn=Ure,_hn=zre,whn=Hre,Ehn=qre,xhn=Wre,Shn=Gre,Thn=Yre,Chn=Kre,Ahn=Xre,Ihn=[vhn.default,bhn.default,_hn.default,whn.default,Ehn.default,xhn.default,Shn.default,Thn.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Chn.default,Ahn.default];jre.default=Ihn;var Qre={},SC={};Object.defineProperty(SC,"__esModule",{value:!0});SC.validateAdditionalItems=void 0;const tb=tr,NG=Pt,khn={message:({params:{len:e}})=>(0,tb.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,tb._)`{limit: ${e}}`},Rhn={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:khn,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,NG.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}a8e(e,r)}};function a8e(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,tb._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,tb._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,NG.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,tb._)`${a} <= ${t.length}`);n.if((0,tb.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:NG.Type.Num},l),o.allErrors||n.if((0,tb.not)(l),()=>n.break())})}}SC.validateAdditionalItems=a8e;SC.default=Rhn;var Jre={},TC={};Object.defineProperty(TC,"__esModule",{value:!0});TC.validateTuple=void 0;const vbe=tr,J$=Pt,Nhn=Zn,Phn={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return u8e(e,"additionalItems",t);n.items=!0,!(0,J$.alwaysValidSchema)(n,t)&&e.ok((0,Nhn.validateArray)(e))}};function u8e(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=J$.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,vbe._)`${s}.length`);n.forEach((f,d)=>{(0,J$.alwaysValidSchema)(a,f)||(r.if((0,vbe._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const g=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,J$.checkStrictMode)(a,g,d.strictTuples)}}}TC.validateTuple=u8e;TC.default=Phn;Object.defineProperty(Jre,"__esModule",{value:!0});const Ohn=TC,Dhn={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Ohn.validateTuple)(e,"items")};Jre.default=Dhn;var Zre={};Object.defineProperty(Zre,"__esModule",{value:!0});const bbe=tr,$hn=Pt,Mhn=Zn,Lhn=SC,Fhn={message:({params:{len:e}})=>(0,bbe.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,bbe._)`{limit: ${e}}`},jhn={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Fhn,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,$hn.alwaysValidSchema)(r,t)&&(i?(0,Lhn.validateAdditionalItems)(e,i):e.ok((0,Mhn.validateArray)(e)))}};Zre.default=jhn;var eie={};Object.defineProperty(eie,"__esModule",{value:!0});const Zc=tr,ED=Pt,Bhn={message:({params:{min:e,max:t}})=>t===void 0?(0,Zc.str)`must contain at least ${e} valid item(s)`:(0,Zc.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Zc._)`{minContains: ${e}}`:(0,Zc._)`{minContains: ${e}, maxContains: ${t}}`},Uhn={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Bhn,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Zc._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,ED.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,ED.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ED.alwaysValidSchema)(s,n)){let m=(0,Zc._)`${c} >= ${o}`;a!==void 0&&(m=(0,Zc._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Zc._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),g=t.let("count",0);h(m,()=>t.if(m,()=>p(g)))}function h(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:ED.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,Zc._)`${m}++`),a===void 0?t.if((0,Zc._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Zc._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Zc._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};eie.default=Uhn;var l8e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=tr,n=Pt,r=Zn;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(u,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const g=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(l8e);var tie={};Object.defineProperty(tie,"__esModule",{value:!0});const c8e=tr,zhn=Pt,Vhn={message:"property name must be valid",params:({params:e})=>(0,c8e._)`{propertyName: ${e.propertyName}}`},Hhn={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Vhn,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,zhn.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,c8e.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};tie.default=Hhn;var Sj={};Object.defineProperty(Sj,"__esModule",{value:!0});const xD=Zn,ed=tr,qhn=Xp,SD=Pt,Whn={message:"must NOT have additional properties",params:({params:e})=>(0,ed._)`{additionalProperty: ${e.additionalProperty}}`},Ghn={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Whn,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,SD.alwaysValidSchema)(o,n))return;const l=(0,xD.allSchemaProperties)(r.properties),c=(0,xD.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ed._)`${s} === ${qhn.default.errors}`);function f(){t.forIn("key",i,g=>{!l.length&&!c.length?p(g):t.if(d(g),()=>p(g))})}function d(g){let y;if(l.length>8){const v=(0,SD.schemaRefOrVal)(o,r.properties,"properties");y=(0,xD.isOwnProperty)(t,v,g)}else l.length?y=(0,ed.or)(...l.map(v=>(0,ed._)`${g} === ${v}`)):y=ed.nil;return c.length&&(y=(0,ed.or)(y,...c.map(v=>(0,ed._)`${(0,xD.usePattern)(e,v)}.test(${g})`))),(0,ed.not)(y)}function h(g){t.code((0,ed._)`delete ${i}[${g}]`)}function p(g){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,SD.alwaysValidSchema)(o,n)){const y=t.name("valid");u.removeAdditional==="failing"?(m(g,y,!1),t.if((0,ed.not)(y),()=>{e.reset(),h(g)})):(m(g,y),a||t.if((0,ed.not)(y),()=>t.break()))}}function m(g,y,v){const b={keyword:"additionalProperties",dataProp:g,dataPropType:SD.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};Sj.default=Ghn;var nie={};Object.defineProperty(nie,"__esModule",{value:!0});const Yhn=Od,_be=Zn,Y7=Pt,wbe=Sj,Khn={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&wbe.default.code(new Yhn.KeywordCxt(s,wbe.default,"additionalProperties"));const o=(0,_be.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Y7.mergeEvaluated.props(t,(0,Y7.toHash)(o),s.props));const a=o.filter(f=>!(0,Y7.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,_be.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};nie.default=Khn;var rie={};Object.defineProperty(rie,"__esModule",{value:!0});const Ebe=Zn,TD=tr,xbe=Pt,Sbe=Pt,Xhn={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Ebe.allSchemaProperties)(n),u=a.filter(m=>(0,xbe.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof TD.Name)&&(s.props=(0,Sbe.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const g in l)new RegExp(m).test(g)&&(0,xbe.checkStrictMode)(s,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,TD._)`${(0,Ebe.usePattern)(e,m)}.test(${g})`,()=>{const y=u.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:Sbe.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,TD._)`${f}[${g}]`,!0):!y&&!s.allErrors&&t.if((0,TD.not)(c),()=>t.break())})})}}};rie.default=Xhn;var iie={};Object.defineProperty(iie,"__esModule",{value:!0});const Qhn=Pt,Jhn={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,Qhn.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};iie.default=Jhn;var sie={};Object.defineProperty(sie,"__esModule",{value:!0});const Zhn=Zn,epn={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Zhn.validateUnion,error:{message:"must match a schema in anyOf"}};sie.default=epn;var oie={};Object.defineProperty(oie,"__esModule",{value:!0});const Z$=tr,tpn=Pt,npn={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Z$._)`{passingSchemas: ${e.passing}}`},rpn={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:npn,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,tpn.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Z$._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Z$._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Z$.Name)})})}}};oie.default=rpn;var aie={};Object.defineProperty(aie,"__esModule",{value:!0});const ipn=Pt,spn={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,ipn.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};aie.default=spn;var uie={};Object.defineProperty(uie,"__esModule",{value:!0});const E6=tr,f8e=Pt,opn={message:({params:e})=>(0,E6.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,E6._)`{failingKeyword: ${e.ifClause}}`},apn={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:opn,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,f8e.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=Tbe(r,"then"),s=Tbe(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,E6.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,E6._)`${c}`):e.setParams({ifClause:c})}}}};function Tbe(e,t){const n=e.schema[t];return n!==void 0&&!(0,f8e.alwaysValidSchema)(e,n)}uie.default=apn;var lie={};Object.defineProperty(lie,"__esModule",{value:!0});const upn=Pt,lpn={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,upn.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};lie.default=lpn;Object.defineProperty(Qre,"__esModule",{value:!0});const cpn=SC,fpn=Jre,dpn=TC,hpn=Zre,ppn=eie,mpn=l8e,gpn=tie,ypn=Sj,vpn=nie,bpn=rie,_pn=iie,wpn=sie,Epn=oie,xpn=aie,Spn=uie,Tpn=lie;function Cpn(e=!1){const t=[_pn.default,wpn.default,Epn.default,xpn.default,Spn.default,Tpn.default,gpn.default,ypn.default,mpn.default,vpn.default,bpn.default];return e?t.push(fpn.default,hpn.default):t.push(cpn.default,dpn.default),t.push(ppn.default),t}Qre.default=Cpn;var cie={},fie={};Object.defineProperty(fie,"__esModule",{value:!0});const Is=tr,Apn={message:({schemaCode:e})=>(0,Is.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Is._)`{format: ${e}}`},Ipn={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Apn,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Is._)`${p}[${o}]`),g=n.let("fType"),y=n.let("format");n.if((0,Is._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,Is._)`${m}.type || "string"`).assign(y,(0,Is._)`${m}.validate`),()=>n.assign(g,(0,Is._)`"string"`).assign(y,m)),e.fail$data((0,Is.or)(v(),b()));function v(){return u.strictSchema===!1?Is.nil:(0,Is._)`${o} && !${y}`}function b(){const w=c.$async?(0,Is._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,Is._)`${y}(${r})`,E=(0,Is._)`(typeof ${y} == "function" ? ${w} : ${y}.test(${r}))`;return(0,Is._)`${y} && ${y} !== true && ${g} === ${t} && !${E}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[m,g,y]=b(p);m===t&&e.pass(w());function v(){if(u.strictSchema===!1){f.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function b(E){const x=E instanceof RegExp?(0,Is.regexpCode)(E):u.code.formats?(0,Is._)`${u.code.formats}${(0,Is.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:E,code:x});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,Is._)`${S}.validate`]:["string",E,S]}function w(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Is._)`await ${y}(${r})`}return typeof g=="function"?(0,Is._)`${y}(${r})`:(0,Is._)`${y}.test(${r})`}}}};fie.default=Ipn;Object.defineProperty(cie,"__esModule",{value:!0});const kpn=fie,Rpn=[kpn.default];cie.default=Rpn;var qS={};Object.defineProperty(qS,"__esModule",{value:!0});qS.contentVocabulary=qS.metadataVocabulary=void 0;qS.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];qS.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Mre,"__esModule",{value:!0});const Npn=Lre,Ppn=jre,Opn=Qre,Dpn=cie,Cbe=qS,$pn=[Npn.default,Ppn.default,(0,Opn.default)(),Dpn.default,Cbe.metadataVocabulary,Cbe.contentVocabulary];Mre.default=$pn;var die={},Tj={};Object.defineProperty(Tj,"__esModule",{value:!0});Tj.DiscrError=void 0;var Abe;(function(e){e.Tag="tag",e.Mapping="mapping"})(Abe||(Tj.DiscrError=Abe={}));Object.defineProperty(die,"__esModule",{value:!0});const kE=tr,PG=Tj,Ibe=hl,Mpn=xC,Lpn=Pt,Fpn={message:({params:{discrError:e,tagName:t}})=>e===PG.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,kE._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},jpn={keyword:"discriminator",type:"object",schemaType:"object",error:Fpn,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,kE._)`${n}${(0,kE.getProperty)(a)}`);t.if((0,kE._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:PG.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,kE._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:PG.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,kE.Name),p}function d(){var h;const p={},m=y(i);let g=!0;for(let w=0;w<o.length;w++){let E=o[w];if(E!=null&&E.$ref&&!(0,Lpn.schemaHasRulesButRef)(E,s.self.RULES)){const S=E.$ref;if(E=Ibe.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,S),E instanceof Ibe.SchemaEnv&&(E=E.schema),E===void 0)throw new Mpn.default(s.opts.uriResolver,s.baseId,S)}const x=(h=E==null?void 0:E.properties)===null||h===void 0?void 0:h[a];if(typeof x!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(E)),v(x,w)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:w}){return Array.isArray(w)&&w.includes(a)}function v(w,E){if(w.const)b(w.const,E);else if(w.enum)for(const x of w.enum)b(x,E);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(w,E){if(typeof w!="string"||w in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[w]=E}}}};die.default=jpn;const Bpn="http://json-schema.org/draft-07/schema#",Upn="http://json-schema.org/draft-07/schema#",zpn="Core schema meta-schema",Vpn={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Hpn=["object","boolean"],qpn={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Wpn={$schema:Bpn,$id:Upn,title:zpn,definitions:Vpn,type:Hpn,properties:qpn,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=Tje,r=Mre,i=die,s=Wpn,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Od;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=tr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=uP;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=xC;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(SG,SG.exports);var Gpn=SG.exports;const d8e=On(Gpn),Ypn="#/definitions/StudyConfig",Kpn="http://json-schema.org/draft-07/schema#",Xpn={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "required": true,    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": [       {         "label": "Europe",         "value": "Europe"       },       {         "label": "Japan",         "value": "Japan"       },       {         "label": "USA",         "value": "USA"       }     ],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "required": false, "location": "aboveStimulus", "type": "checkbox", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  },  {    "label": "Option 3",    "value": "opt-3"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},maxSelections:{description:"The maximum number of selections that are required.",type:"number"},minSelections:{description:"The minimum number of selections that are required.",type:"number"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "required": true, "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": [  {    "label": "Red",    "value": "red"  },  {    "label": "Blue",    "value": "blue"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"iframe",type:"string"}},required:["id","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "comparison": "equal",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},comparison:{description:"The comparison to use.",enum:["equal","notEqual"],type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","comparison","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "required": true, "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"}},required:["id","numItems","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "required": true, "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"}},required:["id","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "required": true, "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"}},required:["id","prompt","required","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "required": true,    "location": "belowStimulus",    "type": "checkbox",    "options": [      {        "label": "Man",        "value": "Man"      },      {        "label": "Woman",        "value": "Woman"      },      {        "label": "Genderqueer",        "value": "Genderqueer"      },      {        "label": "Third-gender",        "value": "Third-gender"      },      ... etc.    ]  } ] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "required": true, "location": "aboveStimulus", "type": "radio", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v1.0.2/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/demo-brush-interactions (https://github.com/revisit-studies/study/tree/v1.0.2/src/public/demo-brush-interactions/assets)",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "required": true, "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"}},required:["id","prompt","required","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "required": true, "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"slider",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},StudyConfig:{additionalProperties:!1,description:'The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\n\n```js { "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v1.0.2/src/parser/StudyConfigSchema.json", "studyMetadata": {  ... }, "uiConfig": {  ... }, "components": {  ... }, "sequence": {  ... } } ```\n\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\n\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/ComponentBlock",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:'The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\n\n```js "studyMetadata" : { "title": "My New Study", "version": "pilot", "authors": [  "Jane Doe",  "John Doe" ], "date": "2024-04-01", "description": "This study is meant to test your ability.", "organizations": [  "The reVISit Team",  "The Other Team" ] } ```',properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:'The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ "contactEmail": "contact@revisit.dev", "helpTextPath": "<study-name>/assets/help.md", "logoPath": "<study-name>/assets/logo.jpg", "withProgressBar": true, "autoDownloadStudy": true "autoDownloadTime": 5000, "studyEndMsg": "Thank you for completing this study. You\'re the best!", "sidebar": true, "windowEventDebounceTime": 500, "urlParticipantIdParam": "PROLIFIC_ID", "numSequences": 500 } ``` In the above, the `path/to/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)',properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},enumerateQuestions:{description:"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.",type:"boolean"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},sidebarWidth:{description:"The width of the left sidebar. Defaults to 300.",type:"number"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] } "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "required": true,    "location": "belowStimulus",    "type": "iframe"  } ], } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},Qpn={$ref:Ypn,$schema:Kpn,definitions:Xpn},Jpn="#/definitions/GlobalConfig",Zpn="http://json-schema.org/draft-07/schema#",emn={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},tmn={$ref:Jpn,$schema:Zpn,definitions:emn},h8e=new d8e;h8e.addSchema(tmn);const kbe=h8e.getSchema("#/definitions/GlobalConfig"),p8e=new d8e;p8e.addSchema(Qpn);const K7=p8e.getSchema("#/definitions/StudyConfig");function nmn(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function Cj(e){return e.baseComponent!==void 0}function rmn(e){const t=rre.parse(e),n=kbe(t),r=nmn(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...kbe.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function m8e(e,t,n=[]){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):m8e(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}function imn(e){const t=[],n=[];Object.entries(e.components).forEach(([s,o])=>{var a;Cj(o)&&!((a=e.baseComponents)!=null&&a[o.baseComponent])&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${s}`,params:{action:"add the base component to the baseComponents object"}})});const r=Xke(e.sequence);r.forEach(s=>{var o;e.components[s]||t.push({message:(o=e.baseComponents)!=null&&o[s]?`Component \`${s}\` is a base component and cannot be used in the sequence`:`Component \`${s}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(s=>!r.includes(s)).forEach(s=>{n.push({message:`Component \`${s}\` is defined in components object but not used in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const i=[];return m8e(e.sequence,i),i.forEach(s=>{t.push({message:`Skip target \`${s}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:t,warnings:n}}function smn(e){let t=!1,n;try{n=rre.parse(e),t=K7(n)}catch{t=!1}let r=[],i=[];if(t){const{errors:s,warnings:o}=imn(n);r=[...K7.errors||[],...s],i=o}else r=K7.errors||[{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}function g8e(){const e=Zg(),{setAlertModal:t}=zp(),n=Vp();A.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Rbe=Object.prototype.hasOwnProperty;function Nbe(e,t,n){for(n of e.keys())if(MI(n,t))return n}function MI(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&MI(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Nbe(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Nbe(t,i),!i)||!MI(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Rbe.call(e,n)&&++r&&!Rbe.call(t,n)||!(n in t)||!MI(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function omn(e){var t=A.useRef(e),n=A.useRef(0);return MI(e,t.current)||(t.current=e,n.current+=1),A.useMemo(function(){return t.current},[n.current])}function amn(e,t){return A.useEffect(e,omn(t))}const umn=(e,t=null)=>{const[n,r]=A.useState("idle"),[i,s]=A.useState(null),[o,a]=A.useState(null),u=A.useRef(),l=A.useRef(!1);A.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=A.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return amn(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},Pbe=["status","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","meta","configHash"],y8e=["participantId","trialId","trialOrder","responseId"];function hie(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function lmn(e,t,n){const r=(Object.entries(e.answers).filter(([i,s])=>s.endTime!==void 0).length/(Eg(e.sequence).length-1)*100).toFixed(2);return Object.entries(e.answers).map(([i,s])=>{const o=i.split("_").slice(0,-1).join("_"),a=parseInt(`${i.split("_").at(-1)}`,10),u=n.components[o],l=Cj(u)&&u.baseComponent&&n.baseComponents?LJ({},n.baseComponents[u.baseComponent],u):u,c=s.endTime-s.startTime;return Object.entries(s.answer).map(([d,h])=>{var g,y;const p={participantId:e.participantId,trialId:o,trialOrder:a,responseId:d},m=l.response.find(v=>v.id===d);if(t.includes("status")&&(p.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("configHash")&&(p.configHash=e.participantConfigHash),t.includes("percentComplete")&&(p.percentComplete=r),t.includes("description")&&(p.description=l.description),t.includes("instruction")&&(p.instruction=l.instruction),t.includes("responsePrompt")&&(p.responsePrompt=m==null?void 0:m.prompt),t.includes("answer")&&(p.answer=h),t.includes("correctAnswer")){const v=(y=(g=l.correctAnswer)==null?void 0:g.find(b=>b.id===d))==null?void 0:y.answer;p.correctAnswer=typeof v=="object"?JSON.stringify(v):v}return t.includes("responseMin")&&(p.responseMin=(m==null?void 0:m.type)==="numerical"?m.min:void 0),t.includes("responseMax")&&(p.responseMax=(m==null?void 0:m.type)==="numerical"?m.max:void 0),t.includes("startTime")&&(p.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(p.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(p.duration=c),t.includes("meta")&&(p.meta=JSON.stringify(l.meta,null,2)),p}).flat()}).flat()}async function cmn(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...y8e,...e],s=[...new Set(t.map(c=>c.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,l=(await Promise.all(t.map(async c=>await lmn(c,i,o[c.participantConfigHash])))).flat().sort((c,f)=>c!==f?c.participantId.localeCompare(f.participantId):c.trialOrder-f.trialOrder);return{header:a,rows:l}}function fmn({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=A.useState([...Pbe].filter(h=>h!=="meta")),a=ro(),{value:u,status:l,error:c}=umn(cmn,[s,r,a.storageEngine,i]),f=A.useCallback(()=>{if(!u)return;const h=[u.header.join(","),...u.rows.map(p=>u.header.map(m=>`"${`${p[m]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);hie(h,n)},[n,u]),d=A.useMemo(()=>{if(!u)return"";const h=u.rows.length>5?5:u.rows.length,p=h===1?"":"s";return`This is a preview of the first ${p?h:""} row${p} of the CSV. The full CSV contains ${u.rows.length} row${p}.`},[u]);return _.jsxs(bs,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[_.jsx(DQ,{searchable:!0,nothingFoundMessage:"Property not found",data:[...Pbe],value:s,onChange:h=>o(h),label:"Included optional columns:",leftSection:_.jsx(Mat,{}),variant:"filled"}),_.jsx(mc,{h:"md"}),_.jsxs(Ee,{mih:300,style:{width:"100%",overflow:"scroll"},children:[l==="success"&&u?_.jsxs(nn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[_.jsx(nn.Thead,{children:_.jsx(nn.Tr,{children:u.header.map(h=>_.jsx(nn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(h)?200:void 0},children:_.jsxs(Ht,{direction:"row",justify:"space-between",align:"center",children:[h,!y8e.includes(h)&&_.jsx(W_,{onClick:()=>o(s.filter(p=>p!==h)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:_.jsx(lJ,{size:16})})]})},h))})}),_.jsx(nn.Tbody,{children:u.rows.slice(0,5).map((h,p)=>_.jsx(nn.Tr,{children:u.header.map(m=>_.jsx(nn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(m)?"normal":"nowrap"},children:h[m]},`${p}-${m}`))},p))})]}):l==="error"&&c?_.jsx(CT,{variant:"light",children:c.message}):null,_.jsx(Ec,{visible:l==="pending"||l==="idle"})]}),_.jsx(mc,{h:"sm"}),_.jsx(Ht,{justify:"center",fz:"sm",c:"dimmed",children:_.jsx(lt,{children:d})}),_.jsx(mc,{h:"md"}),_.jsxs(to,{justify:"right",children:[_.jsx(Rn,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),_.jsx(Rn,{leftSection:_.jsx(nIe,{}),onClick:()=>f(),"data-autofocus":!0,children:"Download"})]})]})}function dmn(){const e=Ky(),{storageEngine:t}=ro(),{answers:n}=Lf(v=>v),[r,i]=A.useState(!1);A.useEffect(()=>{const v=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(v))},1e3)},[]),g8e();const[s,o]=A.useState(),[a,u]=A.useState(""),l=e.studyMetadata.title.replace(" ","_");A.useEffect(()=>{async function v(){if(t){const b=await t.getCurrentParticipantId(),w=await t.getParticipantData();u(b),o(w)}}v()},[t]);const c=A.useCallback(async()=>{hie(JSON.stringify(s,null,2),`${l}_${a}.json`)},[l,s,a]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=A.useState(Math.floor(d/1e3));A.useEffect(()=>{if(r){const v=setInterval(()=>{p(b=>b-1)},1e3);return h<=0?(f&&c(),clearInterval(v),()=>clearInterval(v)):()=>clearInterval(v)}return()=>{}},[f,r,h,c]);const m=ew(),[g,y]=A.useState(!1);return A.useEffect(()=>{(async()=>{if(t){const b=await t.getModes(m);y(b.dataCollectionEnabled)}})()},[t,m]),_.jsx(vg,{style:{height:"100%"},children:_.jsx(Ht,{direction:"column",children:r||!g?_.jsx(lt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?_.jsx(Ru,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):_.jsxs(_.Fragment,{children:[_.jsx(lt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),_.jsx(mc,{h:"lg"}),_.jsx(vg,{children:_.jsx(Fp,{color:"blue"})})]})})})}function hmn(){var d;const e=Ky(),t=Zg(),n=zv()||"Notfound",r=e.components[n],i=FJ();g8e();const{storageEngine:s}=ro(),o=Vp(),{setAlertModal:a}=zp();if(A.useEffect(()=>{(s==null?void 0:s.getEngine())!=="firebase"&&o(a({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[a,s,o]),n==="end")return _.jsx(dmn,{});if(n==="Notfound")return _.jsx(Zb,{email:e.uiConfig.contactEmail});const u=Cj(r)&&e.baseComponents?LJ({},(d=e.baseComponents)==null?void 0:d[r.baseComponent],r):r,l=u.instruction||"",{instructionLocation:c}=u,f=e.uiConfig.sidebar&&(c==="sidebar"||c===void 0);return _.jsxs(_.Fragment,{children:[c==="aboveStimulus"&&_.jsx(Ru,{text:l}),_.jsx(m3,{status:i,config:u,location:"aboveStimulus"},`${t}-above-response-block`),_.jsxs(A.Suspense,{fallback:_.jsx("div",{children:"Loading..."}),children:[u.type==="markdown"&&_.jsx($cn,{currentConfig:u}),u.type==="website"&&_.jsx(U0t,{currentConfig:u}),u.type==="image"&&_.jsx(V0t,{currentConfig:u}),u.type==="react-component"&&_.jsx(Dcn,{currentConfig:u})]},`${t}-stimulus`),(c==="belowStimulus"||c===void 0&&!f)&&_.jsx(Ru,{text:l}),_.jsx(m3,{status:i,config:u,location:"belowStimulus"},`${t}-below-response-block`)]})}function OG(e){const[t]=oJ();return _.jsx(sJ,{...e,to:{pathname:e.to,search:t.toString()}})}function v8e(e,t,n,r){let i=0;for(let s=0;s<e.components.length;s+=1){const o=e.components[s];if(typeof o=="string"){if(r===e.orderPath&&o===t&&s>=n)break;i+=1}else if(i+=v8e(o,t,n,r),r.includes(o.orderPath))break}return i}function b8e(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(s=>s.components).includes(r)))n+=1;else if(typeof r!="string"){const s=e.components.find(o=>typeof o!="string"&&o.orderPath===r.orderPath);n+=b8e(s,r)}}),n}function pmn(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(s=>typeof s=="string"?s===r:typeof r!="string"&&s.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),n.push(...e),n}function mmn({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:s,studyConfig:o,subSequence:a,analysisNavigation:u}){const l=ew(),c=Jg(),f=Zg(),[d,{close:h,open:p}]=j4(!1),m=e in o.components&&o.components[e],g=a&&a.components.slice(r).includes(e)?v8e(n,e,r,a.orderPath):-1,{trialId:y}=bg(),v=y===e,b=s?f===g:f===`reviewer-${e}`,w=u?v:b,E=A.useCallback(()=>c(y?`./../${e}`:`./${e}`),[c,e,y]),S=u?E:()=>c(s?`/${l}/${g}`:`/${l}/reviewer-${e}`);return _.jsxs(pa,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:d,offset:20,children:[_.jsx(pa.Target,{children:_.jsx(Ee,{onMouseEnter:p,onMouseLeave:h,children:_.jsx(hF,{active:w,style:{lineHeight:"32px",height:"32px"},label:_.jsxs(Ee,{children:[i&&_.jsx(xat,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"}),w?_.jsx(lt,{size:"sm",span:!0,fw:"700",display:"inline",children:e}):_.jsx(lt,{size:"sm",display:"inline",children:e})]}),onClick:S,disabled:t})})}),m&&(m.description||m.meta)&&_.jsx(pa.Dropdown,{onMouseLeave:h,children:_.jsx(lt,{size:"sm",children:_.jsxs(Ee,{children:[m.description&&_.jsxs(Ee,{children:[_.jsx(lt,{fw:900,display:"inline-block",mr:2,children:"Description:"}),_.jsx(lt,{fw:400,component:"span",children:m.description})]}),m.meta&&_.jsxs(lt,{children:[_.jsx(lt,{fw:"900",component:"span",children:"Task Meta: "}),_.jsx(lt,{component:"pre",style:{margin:0,padding:0},children:`${JSON.stringify(m.meta,null,2)}`})]})]})})})]})}function x6({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:s}){var a;let o=Cy(e.components);return n&&r&&(o=pmn(Cy(e.components),Cy(n.components))),r||(o=[...((a=e.interruptions)==null?void 0:a.flatMap(u=>u.components))||[],...o]),_.jsx(_.Fragment,{children:o.map((u,l)=>{if(typeof u=="string")return _.jsx(mmn,{step:u,disabled:r&&(n==null?void 0:n.components[l])!==u,fullSequence:t,startIndex:l,interruption:e.interruptions&&e.interruptions.findIndex(h=>h.components.includes(u))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:s},l);const c=n==null?void 0:n.components.find(h=>typeof h!="string"&&h.orderPath===u.orderPath),f=c?Eg(c).length-b8e(u,c):0,d=Eg(u);return _.jsx(hF,{label:_.jsxs(Ee,{style:{opacity:f>0?1:.5},children:[_.jsx(lt,{size:"sm",display:"inline",children:u.order}),u.order==="random"||u.order==="latinSquare"?_.jsx(wat,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null,r&&_.jsxs(xy,{ml:5,variant:"light",children:[f,"/",d.length]}),r&&u.interruptions&&_.jsx(xy,{ml:5,color:"orange",variant:"light",children:(c==null?void 0:c.components.filter(h=>{var p;return typeof h=="string"&&((p=u.interruptions)==null?void 0:p.flatMap(m=>m.components).includes(h))}).length)||0})]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:_.jsx(Ee,{style:{borderLeft:"1px solid #e9ecef"},children:_.jsx(x6,{configSequence:u,participantSequence:c,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:s})})},l)})})}function _8e(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function Obe({text:e}){return _.jsx(Qi,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:_.jsx(ZAe,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function gmn(){const{sequence:e,metadata:t}=Lf(f=>f),{toggleStudyBrowser:n}=zp(),r=Ky(),i=Vp(),s=ew(),o=GAe(`/${s}`),{storageEngine:a}=ro(),u=A.useMemo(()=>{let f=Cy(r.sequence);return f=$J(f,"root"),f.components.push("end"),f},[r.sequence]),[l,c]=A.useState("participant");return _.jsxs(Fi.Aside,{p:"0",children:[_.jsx(Fi.Section,{children:_.jsxs(Ht,{direction:"row",p:"sm",justify:"space-between",pb:"xs",children:[_.jsx(lt,{size:"md",fw:700,pt:3,children:"Study Browser"}),_.jsx(Rn,{variant:"light",leftSection:_.jsx(uJ,{size:14}),onClick:()=>_8e(a,r,t,o),size:"xs",disabled:l==="allTrials",children:"Next Participant"}),_.jsx(Wg,{onClick:()=>i(n()),mt:1})]})}),_.jsx(Fi.Section,{grow:!0,component:mg,p:"xs",pt:0,children:_.jsxs(ks,{value:l,onChange:c,children:[_.jsx(Ee,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:_.jsxs(ks.List,{grow:!0,children:[_.jsxs(ks.Tab,{value:"participant",children:["Participant View",_.jsx(Obe,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),_.jsxs(ks.Tab,{value:"allTrials",children:["All Trials View",_.jsx(Obe,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),_.jsx(ks.Panel,{value:"participant",children:_.jsx(x6,{configSequence:u,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:r})}),_.jsx(ks.Panel,{value:"allTrials",children:_.jsx(x6,{configSequence:u,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:r})})]})})]})}function ymn({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const{config:n,metadata:r}=Lf(E=>E),i=MJ(),s=Vp(),{toggleShowHelpText:o,toggleStudyBrowser:a}=zp(),{storageEngine:u}=ro(),l=Zg(),c=i.length-1,f=typeof l=="number"?l/c*100:0,[d,h]=A.useState(!1),p=n==null?void 0:n.uiConfig.logoPath,m=n==null?void 0:n.uiConfig.withProgressBar,g=ew(),y=GAe(`/${g}`),v=A.useRef(null),[b,w]=A.useState(!1);return A.useEffect(()=>{const E=v.current;E&&w(E.scrollWidth>E.offsetWidth)},[n]),_.jsx(Fi.Header,{p:"md",children:_.jsxs(Eu,{mt:-7,align:"center",children:[_.jsx(Eu.Col,{span:4,children:_.jsxs(Ht,{align:"center",children:[_.jsx(Fv,{w:40,src:`${Cl}${p}`,alt:"Study Logo"}),_.jsx(mc,{w:"md"}),_.jsx(Ji,{ref:v,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:b?n==null?void 0:n.studyMetadata.title:void 0,children:n==null?void 0:n.studyMetadata.title})]})}),_.jsx(Eu.Col,{span:4,children:m&&_.jsx(PT,{radius:"md",size:"lg",value:f})}),_.jsx(Eu.Col,{span:4,children:_.jsxs(to,{wrap:"nowrap",justify:"right",children:[!t&&_.jsx(Qi,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:_.jsx(xy,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&_.jsx(Rn,{variant:"outline",onClick:()=>s(o()),children:"Help"}),_.jsxs(ul,{shadow:"md",width:200,withinPortal:!0,opened:d,onChange:h,children:[_.jsx(ul.Target,{children:_.jsx(W_,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:_.jsx(Nat,{})})}),_.jsxs(ul.Dropdown,{children:[e&&_.jsx(ul.Item,{leftSection:_.jsx(Vat,{size:14}),onClick:()=>s(a()),children:"Study Browser"}),_.jsx(ul.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:_.jsx(Lat,{size:14}),children:"Contact"}),e&&_.jsx(ul.Item,{leftSection:_.jsx(uJ,{size:14}),onClick:()=>_8e(u,n,r,y),children:"Next Participant"})]})]})]})})]})})}function w8e(e,t){var n;return Cj(e)&&t.baseComponents?LJ({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function vmn(){var u;const e=(u=Ky())==null?void 0:u.uiConfig.sidebar,t=Ky(),n=zv(),r=t.components[n],i=A.useMemo(()=>r?w8e(r,t):null,[r,t]),s=FJ(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?_.jsxs(Fi.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&_.jsx(Fi.Section,{bg:"gray.3",p:"md",children:_.jsxs(lt,{c:"gray.9",children:[_.jsx(lt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),_.jsx(Ru,{text:o})]})}),_.jsx(Fi.Section,{p:"md",children:_.jsx(m3,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):_.jsx(Fi.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:_.jsx(m3,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function bmn(){const{showHelpText:e,config:t}=Lf(u=>u),n=Vp(),{toggleShowHelpText:r}=zp(),[i,s]=A.useState(""),[o,a]=A.useState(!0);return A.useEffect(()=>{async function u(){const l=await BJ(t.uiConfig.helpTextPath);l!==void 0&&s(l),a(!1)}u()},[t.uiConfig.helpTextPath]),_.jsx(bs,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:o||i?_.jsx(Ru,{text:i}):_.jsx(Zb,{path:t.uiConfig.helpTextPath})})}function _mn(){const{alertModal:e}=Lf(o=>o),{setAlertModal:t}=zp(),n=Vp(),[r,i]=A.useState(e.show),s=A.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return A.useEffect(()=>i(e.show),[e.show]),_.jsx(bs,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:_.jsxs(CT,{color:"red",radius:"xs",title:"Alert",icon:_.jsx(_at,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[_.jsx(lt,{my:"md",children:e.message}),_.jsx(to,{w:"100%",justify:"end",children:_.jsx(Rn,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}function wmn(){const e=A.useRef([]),t=Ky(),n=t.uiConfig.windowEventDebounceTime??100,r=Lf(d=>d.showStudyBrowser);A.useEffect(()=>{const d=gh(E=>{e.current.push([Date.now(),"focus",E.target instanceof HTMLElement?E.target.tagName:""])},n,{maxWait:n}),h=gh(E=>{e.current.push([Date.now(),"input",E.data??""])},n,{maxWait:n}),p=gh(E=>{e.current.push([Date.now(),"keypress",E.key])},n,{maxWait:n}),m=gh(E=>{e.current.push([Date.now(),"mousedown",[E.clientX,E.clientY]])},n,{maxWait:n}),g=gh(E=>{e.current.push([Date.now(),"mouseup",[E.clientX,E.clientY]])},n,{maxWait:n}),y=gh(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=gh(E=>{e.current.push([Date.now(),"mousemove",[E.clientX,E.clientY]])},n,{maxWait:n}),b=gh(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),w=gh(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",d,!0),window.addEventListener("input",h),window.addEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",b),document.addEventListener("visibilitychange",w),()=>{window.removeEventListener("focus",d,!0),window.removeEventListener("input",h),window.removeEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",b),document.removeEventListener("visibilitychange",w)}},[]);const i=t.uiConfig.sidebarWidth??300,{storageEngine:s}=ro(),o=ew(),[a,u]=A.useState(!1),[l,c]=A.useState(!1);A.useEffect(()=>{(async()=>{if(s){const h=await s.getModes(o);u(h.studyNavigatorEnabled),c(h.dataCollectionEnabled)}})()},[s,o]);const f=A.useMemo(()=>a&&r,[a,r]);return _.jsx(nRe.Provider,{value:e,children:_.jsxs(Fi,{padding:"md",header:{height:70},navbar:{width:i,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!f,mobile:!f}},children:[_.jsx(vmn,{}),_.jsx(gmn,{}),_.jsx(ymn,{studyNavigatorEnabled:a,dataCollectionEnabled:l}),_.jsx(bmn,{}),_.jsx(_mn,{}),_.jsx(Fi.Main,{children:_.jsx(sat,{})})]})})}function Emn(e,t=!1){return typeof e=="number"?Dbe(e,t):Dbe(e.length,t).map(r=>r.map(i=>e[i]))}function Dbe(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function E8e(e,t,n){let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.indexOf(s);r[i]=E8e(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const l=Math.floor(Math.random()*r.length-1)+1;o.add(l)}const a=Array.from(o).sort((l,c)=>l-c);let u=0;for(let l=0;l<r.length;l+=1)l===a[u]&&(s.push(i.components),u+=1),s.push(r[l])}r=s}),{id:e.id,orderPath:n,components:r.flat(),skip:e.skip}}function xmn(e,t){const n=Cy(e);return E8e(n,t,"root")}function x8e(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&x8e(s,t,i,o)})}function Smn(e){const t=[];return x8e(e,t,"",0),t}function $be(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return Emn(i.sort(()=>.5-Math.random()),!0)}function Tmn(e){const n=Smn(e.sequence).map(s=>({[s]:$be(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=xmn(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=$be(e,o))})}),i}var Cmn={VITE_BASE_PATH:"/revisit_test/",VITE_FIREBASE_CONFIG:`
{
  apiKey: "AIzaSyCk0wUrJiezmmqwguK3vDJ1r0HUoUPLbuc",
  authDomain: "visualization-folksonomy.firebaseapp.com",
  projectId: "visualization-folksonomy",
  storageBucket: "visualization-folksonomy.appspot.com",
  messagingSenderId: "583414629987",
  appId: "1:583414629987:web:9fe4cd73439af0bc9eda56",
  measurementId: "G-02WX85RSSH"
}
`,VITE_STORAGE_ENGINE:"firebase",VITE_RECAPTCHAV3TOKEN:"6Ld6pCwqAAAAADKq1ttCVyYq4EUN_xc8XhF8GUiO",BASE_URL:"/revisit_test/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};async function Amn(e){const t=await(await fetch(`${Cl}${e}`)).text();return smn(t)}async function Aj(e,t){const n=t.configsList.find(r=>iIe(r)===e);if(n){const r=t.configs[n];return await Amn(`${r.path}`)}return null}async function Imn(e){const t={},n=e.configsList.filter(i=>Cmn.VITE_CI==="true"?!0:!e.configs[i].test).map(async i=>Aj(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function kmn({globalConfig:e}){const t=ew(),[n,r]=A.useState(null),i=e.configsList.includes(t);A.useEffect(()=>{Aj(t,e).then(h=>{r(h)})},[e,t]);const[s,o]=A.useState([]),[a,u]=A.useState(null),{storageEngine:l}=ro(),[c]=oJ();A.useEffect(()=>{async function h(){if(!l||!n||!t)return;await l.initializeStudyDb(t,n),await l.getSequenceArray()||await l.setSequenceArray(await Tmn(n));const m=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,g=Object.fromEntries(c.entries()),y=await fetch("https://api.ipify.org?format=json").catch(x=>""),v=y instanceof Response?await y.json():{ip:""},b={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:v.ip},w=await l.initializeParticipantSession(t,g,n,b,m),E=await o0t(t,n,w.sequence,b,w.answers);u(E),o([{element:_.jsx(wmn,{}),children:[{path:"/",element:_.jsx(OG,{to:"0",replace:!0})},{path:"/:index",element:n.errors.length>0?_.jsxs(_.Fragment,{children:[_.jsx(Ji,{order:2,mb:8,children:"Error loading config"}),_.jsx(RH,{issues:n.errors,type:"error"})]}):_.jsx(hmn,{})}]}])}h()},[l,n,t,c]);const f=KAe(s);let d=null;return i?s.length===0?d=_.jsx(Ec,{visible:!0}):d=f&&a?_.jsx(tRe.Provider,{value:a,children:_.jsx(egt,{store:a.store,children:f})}):_.jsx(Zb,{}):d=_.jsx(Zb,{}),d}const S8e=A.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),pw=()=>A.useContext(S8e);function Rmn({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=A.useState(t),[o,a]=A.useState(!1),{storageEngine:u}=ro(),l=async()=>{const h=m6();try{await cln(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{s(n)}},c=()=>{a(!0)},f=async h=>u?await u.validateUser(h):!1;A.useEffect(()=>{s(t);let h;if(u instanceof ic)try{h=m6()}catch{console.warn("No firebase store.")}const p=async y=>{if(s(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},b=await f(v);v.isAdmin=!!b,s(v)}else l()},g=(async()=>{if(u instanceof ic){const y=await(u==null?void 0:u.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=lln(h,async b=>await p(b));return()=>v()}s(r)}else u&&s(r);return()=>{}})();return()=>{g.then(y=>y())}},[u,o]);const d=A.useMemo(()=>({user:i,triggerAuth:c,logout:l,verifyAdminStatus:f}),[i]);return _.jsx(S8e.Provider,{value:d,children:i.determiningStatus?_.jsx(Ec,{visible:!0}):e})}function LI({studyIds:e}){const t=Jg(),{studyId:n}=bg(),r=jv(),i=e.map(d=>({value:d,label:d})),{storageEngine:s}=ro(),{user:o,logout:a}=pw(),[u,l]=A.useState(!1),c=r.pathname.includes("analysis"),f=[{name:"Studies",leftIcon:_.jsx(Dat,{}),href:"",needAdmin:!1},{name:"Analysis",leftIcon:_.jsx(Tat,{}),href:"analysis/dashboard",needAdmin:!1},{name:"Settings",leftIcon:_.jsx(tIe,{}),href:"settings",needAdmin:!0}];return _.jsx(Fi.Header,{p:"md",children:_.jsxs(Eu,{mt:-7,align:"center",children:[_.jsx(Eu.Col,{span:6,children:_.jsxs(Ht,{align:"center",onClick:()=>t(c?"/analysis/dashboard":"/"),style:{cursor:"pointer"},children:[_.jsx(Fv,{w:40,src:`${Cl}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),_.jsx(mc,{w:"md"}),_.jsx(Ji,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),_.jsx(Eu.Col,{span:6,children:_.jsxs(Ht,{justify:"flex-end",direction:"row",children:[c&&_.jsx(tN,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:d=>t(`/analysis/stats/${d}`),mr:16}),_.jsx(bQ,{opened:!1,onClick:()=>l(!0),style:{visibility:u?"hidden":void 0}}),_.jsx(jp,{opened:u,onClose:()=>l(!1),position:"right",withCloseButton:!1,children:_.jsxs(Ht,{direction:"column",mt:20,children:[_.jsx(lt,{ml:15,mb:20,fw:700,size:"lg",children:"Navigation"}),f.map(d=>d.needAdmin?o.isAdmin?_.jsx(Rn,{leftSection:d.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:h=>{h.preventDefault(),t(`/${d.href}`),l(!1)},component:"a",href:`${Cl}${d.href}`,children:d.name},`menu-item-${d.name}`):null:_.jsx(Rn,{leftSection:d.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:h=>{h.preventDefault(),t(`/${d.href}`),l(!1)},component:"a",href:`${Cl}${d.href}`,children:d.name},`menu-item-${d.name}`)),_.jsxs(Ee,{ml:10,children:[_.jsx(oS,{my:"sm"}),(s==null?void 0:s.getEngine())==="firebase"?o.isAdmin?_.jsx(lt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{a(),t("/login"),l(!1)},children:"Logout"}):_.jsx(lt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{t("/login"),l(!1)},children:"Login"}):null]})]})})]})})]})})}function pie({allParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:s,close:o}]=j4(!1),[a,u]=A.useState([]),l=async()=>typeof e=="function"?await e():e,c=async()=>{const d=await l(),h=r?`${r}.json`:`${t}_all.json`;hie(JSON.stringify(d,null,2),h)},f=async()=>{const d=await l();u(d),s()};return _.jsxs(_.Fragment,{children:[_.jsxs(to,{style:{gap:n},children:[_.jsx(Qi,{label:"Download all participants data as JSON",children:_.jsx(Rn,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:_.jsx(Rat,{})})}),_.jsx(Qi,{label:"Download all participants data as a tidy CSV",children:_.jsx(Rn,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:f,px:4,children:_.jsx(nIe,{})})})]}),i&&a.length>0&&_.jsx(fmn,{opened:i,close:o,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}function Nmn({cellData:e}){return _.jsx(nn.Td,{children:_.jsx(Gh,{miw:100,children:Object.entries(e.answer).map(([t,n])=>_.jsxs(Ee,{children:[_.jsxs(lt,{fw:700,span:!0,children:[" ",`${t}: `]}),_.jsx(lt,{span:!0,children:`${n}`})]},`cell-${t}`))})})}function Mbe({cellData:e}){const t=(e.endTime-e.startTime)/1e3;return _.jsxs(nn.Td,{children:[t.toFixed(1)," ","s"]})}function Pmn(e){const{metaData:t}=e;return _.jsx(nn.Td,{children:_.jsx(GQ,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:_.jsxs(Gh,{gap:"xs",children:[_.jsxs(Ee,{children:["IP:"," ",t.ip]}),_.jsxs(Ee,{children:["Language:"," ",t.language]}),_.jsxs(Ee,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),_.jsxs(Ee,{children:["User Agent:"," ",t.userAgent]})]})})})}function Omn({completed:e,inProgress:t,rejected:n,studyConfig:r,refresh:i}){const{storageEngine:s}=ro(),{studyId:o}=bg(),{user:a}=pw(),u=async b=>{s&&o&&(a.isAdmin?(await s.rejectParticipant(o,b),await i()):console.warn("You are not authorized to perform this action."))},[l,c]=A.useState([]),[f,d]=A.useState(!1),h=()=>mH({title:"Confirm rejecting participants",children:_.jsxs(lt,{size:"sm",children:["Are you sure you want to reject the selected participants? This action is"," ",_.jsx(lt,{span:!0,fw:700,td:"underline",inherit:!0,children:"irreversible"}),", and will return the participants' sequences to the beginning of the sequence array."]}),labels:{confirm:"Reject Participants",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:async()=>{d(!0);const b=l.map(async w=>await u(w));await Promise.all(b),c([]),await i(),d(!1)}}),p=A.useMemo(()=>[...e,...t,...n],[e,t,n]);function m(b){b==="all"?l.length===p.length?c([]):c(p.map(w=>w.participantId)):l.includes(b)?c(l.filter(w=>w!==b)):c([...l,b])}const g=eRe(r.sequence),y=[_.jsx(nn.Th,{children:_.jsx(Ht,{justify:"center",children:_.jsx(uc,{mb:-4,checked:l.length===p.length,onChange:()=>m("all")})})},"action"),_.jsx(nn.Th,{children:"ID"},"ID"),_.jsx(nn.Th,{children:"Status"},"status"),_.jsx(nn.Th,{children:"Meta"},"meta"),...g.flatMap(b=>[_.jsx(nn.Th,{children:b.componentName},`header-${b.componentName}-${b.timesSeenInBlock}`),_.jsxs(nn.Th,{children:[_.jsx("span",{style:{whiteSpace:"nowrap"},children:b.componentName})," ","Duration"]},`header-${b.componentName}-${b.timesSeenInBlock}-duration`)]),_.jsx(nn.Th,{children:"Total Duration"},"total-duration")],v=p.map(b=>_.jsxs(nn.Tr,{children:[_.jsx(nn.Td,{children:_.jsx(Ht,{justify:"center",children:_.jsx(uc,{mb:-4,checked:l.includes(b.participantId),onChange:()=>m(b.participantId)})})}),_.jsx(nn.Td,{style:{whiteSpace:"nowrap"},children:b.participantId}),_.jsx(nn.Td,{children:_.jsxs(Ht,{direction:"row",align:"center",children:[b.rejected?_.jsx(Qi,{label:"Rejected",children:_.jsx(lJ,{size:16,color:"red",style:{marginBottom:-3}})}):b.completed?_.jsx(Qi,{label:"Completed",children:_.jsx(JAe,{size:16,color:"teal",style:{marginBottom:-3}})}):_.jsx(Qi,{label:"In Progress",children:_.jsx(eIe,{size:16,color:"orange",style:{marginBottom:-3}})}),!b.completed&&_.jsxs(lt,{size:"sm",mb:-1,ml:4,children:[(Object.entries(b.answers).filter(([w,E])=>E.endTime!==void 0).length/(Eg(b.sequence).length-1)*100).toFixed(2),"%"]})]})}),b.metadata?_.jsx(Pmn,{metaData:b.metadata}):_.jsx(nn.Td,{children:"N/A"}),g.map(w=>{const E=Jke(b.sequence,w.orderPath),x=E&&Object.entries(b.answers).sort((S,C)=>{const I=parseInt(S[0].slice(S[0].lastIndexOf("_")+1),10),k=parseInt(C[0].slice(C[0].lastIndexOf("_")+1),10);return I-k}).filter(([S])=>{const C=S.slice(0,S.lastIndexOf("_")),I=parseInt(S.slice(S.lastIndexOf("_")+1),10);return C===w.componentName&&I<=E[0].lastIndex&&I>=E[0].firstIndex});return x!==null&&x.length>=w.timesSeenInBlock+1?_.jsxs(de.Fragment,{children:[_.jsx(Nmn,{cellData:x[w.timesSeenInBlock][1]}),_.jsx(Mbe,{cellData:x[w.timesSeenInBlock][1]})]},`cellgroup-${b.participantId}-${w.componentName}-${w.timesSeenInBlock}`):_.jsxs(de.Fragment,{children:[_.jsx(nn.Td,{children:"N/A"}),_.jsx(nn.Td,{children:"N/A"})]},`cellgroup-${b.participantId}-${w.componentName}-${w.timesSeenInBlock}`)}),_.jsx(Mbe,{cellData:{startTime:Math.min(...Object.values(b.answers).map(w=>w.startTime)),endTime:Math.max(...Object.values(b.answers).map(w=>w.endTime)),answer:{},windowEvents:[]}},`cell-${b.participantId}-total-duration`)]},b.participantId));return p.length>0?_.jsxs(_.Fragment,{children:[_.jsx(Ec,{visible:f,overlayProps:{blur:2}}),_.jsxs(Ht,{justify:"space-between",mb:8,p:8,children:[_.jsx(to,{children:_.jsx(tN,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:p.map(b=>({value:b.participantId,label:b.participantId})),searchable:!0,value:null,leftSection:_.jsx(Hat,{size:14}),onChange:b=>b&&m(b)})}),_.jsxs(to,{children:[_.jsx(pie,{allParticipants:[...e,...t],studyId:o||""}),_.jsx(Rn,{disabled:l.length===0||!a.isAdmin,onClick:h,color:"red",children:"Reject Participants"})]})]}),_.jsx(Ht,{direction:"column",style:{width:"100%",overflow:"auto"},children:_.jsxs(nn,{striped:!0,withTableBorder:!0,children:[_.jsx(nn.Thead,{children:_.jsx(nn.Tr,{children:y})}),_.jsx(nn.Tbody,{children:v})]})})]}):_.jsxs(_.Fragment,{children:[_.jsx(mc,{h:"xl"}),_.jsx(Ht,{justify:"center",align:"center",children:_.jsx(lt,{children:"No data available"})})]})}const Dmn="_root_1spq0_1",$mn="_description_1spq0_9",Mmn="_title_1spq0_10",Lmn="_closeButton_1spq0_14",Fmn={root:Dmn,description:$mn,title:Mmn,closeButton:Lmn},S6=e=>{const{title:t,message:n,color:r}=e;X_.show({title:t,message:n,position:"top-center",classNames:Fmn,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})};function jmn({studyId:e,refresh:t}){const[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[u,l]=A.useState(!1),[c,f]=A.useState(""),[d,h]=A.useState([]),[p,m]=A.useState(""),[g,y]=A.useState(""),[v,b]=A.useState(!1),[w,E]=A.useState(!1),{storageEngine:x}=ro(),S=x,C=A.useCallback(async()=>{E(!0);const O=await S.getSnapshots(e);h(O),E(!1)},[S,e]);A.useEffect(()=>{C()},[C]);const I=async(O,...U)=>{b(!0);const q=await O(...U);q.status==="SUCCESS"?(C(),b(!1),await t(),q.notifications&&q.notifications.forEach(F=>{S6(F)})):(b(!1),S6({title:q.error.title,message:q.error.message,color:"red"}))},k=async()=>{await I(S.createSnapshot.bind(S),e,!1)},R=async()=>{m(""),r(!1),await I(S.createSnapshot.bind(S),e,!0)},D=async()=>{a(!1),await I(S.renameSnapshot.bind(S),c,g)},P=async O=>{await I(S.restoreSnapshot.bind(S),e,O)},$=async()=>{m(""),s(!1),await I(S.removeSnapshotOrLive.bind(S),c,!0)},L=async()=>{m(""),l(!1),await I(S.removeSnapshotOrLive.bind(S),e,!0)},M=()=>mH({title:"Create a Snapshot",children:_.jsx(lt,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>k()}),B=O=>mH({title:"Restore Snapshot",children:_.jsx(lt,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>P(O)}),z=O=>{const U=/-snapshot-(.+)$/,q=O.match(U);return q&&q[1]?q[1].replace("T"," "):null},H=async O=>{const U=O.slice(O.indexOf("-")+1);return await S.getAllParticipantsDataByStudy(U)};return _.jsxs(_.Fragment,{children:[_.jsx(Ec,{visible:v}),_.jsxs(Ht,{justify:"space-between",align:"center",children:[_.jsxs(Ee,{style:{width:"70%"},children:[_.jsx(Ji,{order:5,children:"Create a Snapshot"}),_.jsxs(lt,{children:["This will create a snapshot of the live"," ",_.jsx(lt,{span:!0,fw:700,children:e})," ","database. It will"," ",_.jsx(lt,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),_.jsx(Qi,{label:"Create a snapshot",children:_.jsx(Rn,{onClick:M,children:"Snapshot"})})]}),_.jsx(mc,{h:"lg"}),_.jsxs(Ht,{justify:"space-between",align:"center",children:[_.jsxs(Ee,{style:{width:"70%"},children:[_.jsx(Ji,{order:5,children:"Archive Data"}),_.jsxs(lt,{children:["This will create a snapshot of the live"," ",_.jsx(lt,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),_.jsx(Qi,{label:"Snapshot and Delete Data",children:_.jsx(Rn,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),_.jsx(mc,{h:"lg"}),_.jsxs(Ht,{justify:"space-between",align:"center",children:[_.jsxs(Ee,{style:{width:"70%"},children:[_.jsx(Ji,{order:5,children:"Delete Data"}),_.jsxs(lt,{children:["This will delete the live"," ",_.jsx(lt,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),_.jsx(Qi,{label:"Delete Data",children:_.jsx(Rn,{color:"red",onClick:()=>l(!0),children:"Delete"})})]}),_.jsx(mc,{h:"xl"}),_.jsxs(Ht,{direction:"column",children:[_.jsx(Ht,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:_.jsx(Ji,{order:5,children:"Snapshots"})}),_.jsxs(Ee,{style:{position:"relative"},children:[_.jsx(Ec,{visible:w}),d.length>0?_.jsxs(nn,{children:[_.jsx(nn.Thead,{children:_.jsxs(nn.Tr,{children:[_.jsx(nn.Th,{children:"Snapshot Name"}),_.jsx(nn.Th,{children:"Date Created"}),_.jsx(nn.Th,{children:"Actions"})]})}),_.jsx(nn.Tbody,{children:d.map(O=>_.jsxs(nn.Tr,{children:[_.jsx(nn.Td,{children:O.alternateName}),_.jsx(nn.Td,{children:z(O.originalName)}),_.jsx(nn.Td,{children:_.jsxs(Ht,{children:[_.jsx(Qi,{label:"Rename",children:_.jsx(Rn,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),f(O.originalName)},children:_.jsx(jat,{})})}),_.jsx(Qi,{label:"Restore Snapshot",children:_.jsx(Rn,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(O.originalName)},children:_.jsx(zat,{})})}),_.jsx(Qi,{label:"Delete Snapshot",children:_.jsx(Rn,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{s(!0),f(O.originalName)},children:_.jsx(rIe,{})})}),_.jsx(pie,{allParticipants:()=>H(O.originalName),studyId:e,gap:"10px",fileName:O.alternateName})]})})]},O.originalName))})]}):_.jsx(lt,{children:"No snapshots."})]})]}),_.jsxs(bs,{opened:n,onClose:()=>{r(!1),m("")},title:_.jsx(lt,{children:"Archive Data"}),children:[_.jsx(lt,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),_.jsx(ey,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:O=>m(O.target.value)}),_.jsxs(Ht,{mt:"sm",justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),_.jsx(Rn,{color:"red",onClick:R,disabled:p!==e,children:"Archive"})]})]}),_.jsxs(bs,{opened:i,onClose:()=>{s(!1),m("")},title:_.jsx(lt,{children:"Delete Snapshot"}),children:[_.jsxs(lt,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",_.jsx(lt,{span:!0,fw:700,children:"irreversible"}),"."]}),_.jsx(ey,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:O=>m(O.target.value)}),_.jsxs(Ht,{mt:"sm",justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),m("")},children:"Cancel"}),_.jsx(Rn,{color:"red",onClick:$,disabled:p!==e,children:"Delete"})]})]}),_.jsxs(bs,{opened:o,onClose:()=>{a(!1),y("")},title:_.jsx(lt,{children:"Rename Snapshot"}),children:[_.jsx(ey,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:O=>y(O.target.value)}),_.jsxs(Ht,{mt:"sm",justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),_.jsx(Rn,{color:"green",onClick:D,disabled:!g||g.length===0,children:"Rename"})]})]}),_.jsxs(bs,{opened:u,onClose:()=>{l(!1),m("")},title:_.jsx(lt,{children:"Delete Live Data"}),children:[_.jsxs(lt,{mb:"sm",children:["This will permanently delete the live"," ",_.jsx(lt,{span:!0,fw:700,children:e})," ","data. This action is"," ",_.jsx(lt,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),_.jsx(ey,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:O=>m(O.target.value)}),_.jsxs(Ht,{mt:"sm",justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{l(!1),m("")},children:"Cancel"}),_.jsx(Rn,{color:"red",onClick:L,disabled:p!==e,children:"Delete"})]})]})]})}function Bmn({studyId:e}){const{storageEngine:t}=ro(),[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[u,l]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const d=await t.getModes(e);s(d.dataCollectionEnabled),a(d.studyNavigatorEnabled),l(d.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(f,d)=>{t&&(await t.setMode(e,f,d),f==="dataCollectionEnabled"?s(d):f==="studyNavigatorEnabled"?a(d):f==="analyticsInterfacePubliclyAccessible"&&l(d))};return n&&_.jsxs(Gh,{children:[_.jsx(gx,{label:"Data Collection Enabled",checked:i,onChange:f=>c("dataCollectionEnabled",f.currentTarget.checked)}),_.jsx(gx,{label:"Study Navigator Enabled",checked:o,onChange:f=>c("studyNavigatorEnabled",f.currentTarget.checked)}),_.jsx(gx,{label:"Analytics Interface Publicly Accessible",checked:u,onChange:f=>c("analyticsInterfacePubliclyAccessible",f.currentTarget.checked)})]})}function Umn({studyId:e,refresh:t}){const{storageEngine:n}=ro();return _.jsx(Ef,{children:_.jsxs(rl,{multiple:!0,variant:"contained",children:[_.jsxs(rl.Item,{value:"ReVISit Modes",children:[_.jsx(rl.Control,{children:_.jsx(Ji,{order:5,children:"ReVISit Modes"})}),_.jsx(rl.Panel,{children:_.jsx(Bmn,{studyId:e})})]},"modes"),_.jsxs(rl.Item,{value:"Data Management",children:[_.jsx(rl.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:_.jsx(Ji,{order:5,children:"Data Management"})}),_.jsx(rl.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&_.jsx(jmn,{studyId:e,refresh:t})})]},"dataManagement")]})})}const nE=14;function T8e({completed:e,inProgress:t,rejected:n,filteredCompleted:r}){return _.jsxs(Ht,{ml:4,gap:4,children:[_.jsx(Qi,{label:"Completed",children:_.jsx(xy,{variant:"light",color:"green",leftSection:_.jsx(JAe,{width:nE,height:nE,style:{paddingTop:1}}),pb:1,children:r&&r!==e?`${r}/${e}`:e})}),_.jsx(Qi,{label:"In Progress",children:_.jsx(xy,{variant:"light",color:"orange",leftSection:_.jsx(eIe,{width:nE,height:nE,style:{paddingTop:1}}),pb:1,children:t})}),_.jsx(Qi,{label:"Rejected",children:_.jsx(xy,{variant:"light",color:"red",leftSection:_.jsx(lJ,{width:nE,height:nE,style:{paddingTop:1}}),pb:1,children:n})})]})}const Lbe={};function DG(e,t){e===void 0&&(e=Lbe),t===void 0&&(t=Lbe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var zmn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vmn=Object.prototype.hasOwnProperty;function $G(e,t){return Vmn.call(e,t)}function MG(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)$G(e,i)&&r.push(i);return r}function dc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function LG(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function q1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function C8e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function FG(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(FG(e[t]))return!0}else if(typeof e=="object"){for(var r=MG(e),i=r.length,s=0;s<i;s++)if(FG(e[r[s]]))return!0}}return!1}function Fbe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var A8e=function(e){zmn(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,Fbe(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=Fbe(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),fs=A8e,Hmn=dc,tx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=T6(n,this.path);r&&(r=dc(r));var i=Fb(n,{op:"remove",path:this.from}).removed;return Fb(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=T6(n,this.from);return Fb(n,{op:"add",path:this.path,value:dc(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:vR(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},qmn={add:function(e,t,n){return LG(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:tx.move,copy:tx.copy,test:tx.test,_get:tx._get};function T6(e,t){if(t=="")return e;var n={op:"_get",path:t};return Fb(e,n),n.value}function Fb(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):C6(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=T6(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=vR(e,t.value),o.test===!1)throw new fs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new fs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=dc(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=C6;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=C8e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!LG(h))throw new fs("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);LG(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new fs("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=qmn[t.op].call(t,l,h,e);if(o.test===!1)throw new fs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=tx[t.op].call(t,l,h,e);if(o.test===!1)throw new fs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new fs("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function Ij(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new fs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=dc(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Fb(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Wmn(e,t,n){var r=Fb(e,t);if(r.test===!1)throw new fs("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function C6(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new fs("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(tx[e.op]){if(typeof e.path!="string")throw new fs("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new fs('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new fs("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new fs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&FG(e.value))throw new fs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new fs("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new fs("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=I8e([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new fs("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new fs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function I8e(e,t,n){try{if(!Array.isArray(e))throw new fs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ij(dc(t),dc(e),n||!0);else{n=n||C6;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof fs)return i;throw i}}function vR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!vR(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!vR(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Gmn=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:fs,_areEquals:vR,applyOperation:Fb,applyPatch:Ij,applyReducer:Wmn,deepClone:Hmn,getValueByPointer:T6,validate:I8e,validator:C6},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var mie=new WeakMap,Ymn=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Kmn=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Xmn(e){return mie.get(e)}function Qmn(e,t){return e.observers.get(t)}function Jmn(e,t){e.observers.delete(t.callback)}function Zmn(e,t){t.unobserve()}function egn(e,t){var n=[],r,i=Xmn(e);if(!i)i=new Ymn(e),mie.set(e,i);else{var s=Qmn(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=dc(e),t){r.callback=t,r.next=null;var o=function(){jG(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){jG(r),clearTimeout(r.next),Jmn(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Kmn(t,r)),r}function jG(e,t){t===void 0&&(t=!1);var n=mie.get(e.object);gie(n.value,e.object,e.patches,"",t),e.patches.length&&Ij(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function gie(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=MG(t),o=MG(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if($G(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?gie(c,f,n,r+"/"+q1(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+q1(l),value:dc(c)}),n.push({op:"replace",path:r+"/"+q1(l),value:dc(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+q1(l),value:dc(c)}),n.push({op:"remove",path:r+"/"+q1(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!$G(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+q1(l),value:dc(t[l])})}}}function tgn(e,t,n){n===void 0&&(n=!1);var r=[];return gie(e,t,r,"",n),r}const ngn=Object.freeze(Object.defineProperty({__proto__:null,compare:tgn,generate:jG,observe:egn,unobserve:Zmn},Symbol.toStringTag,{value:"Module"}));Object.assign({},Gmn,ngn,{JsonPatchError:A8e,deepClone:dc,escapePathComponent:q1,unescapePathComponent:C8e});var rgn=/("(?:[^\\"]|\\.)*")|[:,]/g,ign=function(t,n){var r,i,s;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,s=n.replacer,function o(a,u,l){var c,f,d,h,p,m,g,y,v,b,w,E;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,s),w===void 0)return w;if(g=i-u.length-l,w.length<=g&&(v=w.replace(rgn,function(x,S){return S||x+" "}),v.length<=g))return v;if(s!=null&&(a=JSON.parse(w),s=void 0),typeof a=="object"&&a!==null){if(y=u+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",g=a.length;f<g;f++)d.push(o(a[f],y,f===g-1?0:1)||"null");else for(b="{",c="}",m=Object.keys(a),g=m.length;f<g;f++)h=m[f],p=JSON.stringify(h)+": ",E=o(a[h],y,p.length+(f===g-1?0:1)),E!==void 0&&d.push(p+E);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+u)}return w}(t,"",0)};const X7=On(ign);function Wl(e,t,n){return e.fields=t||[],e.fname=n,e}function _s(e){return e==null?null:e.fname}function Ya(e){return e==null?null:e.fields}function k8e(e){return e.length===1?sgn(e[0]):ogn(e)}const sgn=e=>function(t){return t[e]},ogn=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ue(e){throw Error(e)}function Qp(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,u;e=e+"";function l(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(u=e[a],u==="\\")s+=e.substring(o,a++),o=a;else if(u===r)l(),r=null,i=-1;else{if(r)continue;o===i&&u==='"'||o===i&&u==="'"?(o=a+1,r=u):u==="."&&!i?a>o?l():o=a+1:u==="["?(a>o&&l(),i=o=a+1):u==="]"&&(i||Ue("Access path missing open bracket: "+e),i>0&&l(),i=0,o=a+1)}return i&&Ue("Access path missing closing bracket: "+e),r&&Ue("Access path missing closing quote: "+e),a>o&&(a++,l()),t}function Cf(e,t,n){const r=Qp(e);return e=r.length===1?r[0]:e,Wl((n&&n.get||k8e)(r),[e],t||e)}const cP=Cf("id"),nu=Wl(e=>e,[],"identity"),Q0=Wl(()=>0,[],"zero"),CC=Wl(()=>1,[],"one"),Af=Wl(()=>!0,[],"true"),k0=Wl(()=>!1,[],"false");function agn(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const R8e=0,yie=1,vie=2,N8e=3,P8e=4;function bie(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:agn,r=e||R8e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=yie&&n(t||"error","ERROR",arguments),this},warn(){return r>=vie&&n(t||"warn","WARN",arguments),this},info(){return r>=N8e&&n(t||"log","INFO",arguments),this},debug(){return r>=P8e&&n(t||"log","DEBUG",arguments),this}}}var qe=Array.isArray;function Tt(e){return e===Object(e)}const jbe=e=>e!=="__proto__";function AC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=ugn(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;IC(r,s,i[s],o)}return r},{})}function IC(e,t,n,r){if(!jbe(t))return;let i,s;if(Tt(n)&&!qe(n)){s=Tt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?IC(s,i,n[i]):jbe(i)&&(s[i]=n[i])}else e[t]=n}function ugn(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function yr(e){return e[e.length-1]}function qa(e){return e==null||e===""?null:+e}const O8e=e=>t=>e*Math.exp(t),D8e=e=>t=>Math.log(e*t),$8e=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),M8e=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,A6=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function kj(e,t,n,r){const i=n(e[0]),s=n(yr(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function L8e(e,t){return kj(e,t,qa,nu)}function F8e(e,t){var n=Math.sign(e[0]);return kj(e,t,D8e(n),O8e(n))}function j8e(e,t,n){return kj(e,t,A6(n),A6(1/n))}function B8e(e,t,n){return kj(e,t,$8e(n),M8e(n))}function Rj(e,t,n,r,i){const s=r(e[0]),o=r(yr(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function _ie(e,t,n){return Rj(e,t,n,qa,nu)}function wie(e,t,n){const r=Math.sign(e[0]);return Rj(e,t,n,D8e(r),O8e(r))}function I6(e,t,n,r){return Rj(e,t,n,A6(r),A6(1/r))}function Eie(e,t,n,r){return Rj(e,t,n,$8e(r),M8e(r))}function U8e(e){return 1+~~(new Date(e).getMonth()/3)}function z8e(e){return 1+~~(new Date(e).getUTCMonth()/3)}function xt(e){return e!=null?qe(e)?e:[e]:[]}function V8e(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function jn(e){return typeof e=="function"}const lgn="descending";function xie(e,t,n){n=n||{},t=xt(t)||[];const r=[],i=[],s={},o=n.comparator||cgn;return xt(e).forEach((a,u)=>{a!=null&&(r.push(t[u]===lgn?-1:1),i.push(a=jn(a)?a:Cf(a,null,n)),(Ya(a)||[]).forEach(l=>s[l]=1))}),i.length===0?null:Wl(o(i,r),Object.keys(s))}const Nj=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),cgn=(e,t)=>e.length===1?fgn(e[0],t[0]):dgn(e,t,e.length),fgn=(e,t)=>function(n,r){return Nj(e(n),e(r))*t},dgn=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=Nj(s(r),s(i));return o*t[a]});function ru(e){return jn(e)?e:()=>e}function Sie(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Fn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Rp(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function H8e(e,t){const n=e.length;let r=-1,i,s,o,a,u;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,u=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,u=r))}return[a,u]}const hgn=Object.prototype.hasOwnProperty;function Xt(e,t){return hgn.call(e,t)}const CD={};function kC(e){let t={},n;function r(s){return Xt(t,s)&&t[s]!==CD}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===CD&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=CD),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const u=t[a];u!==CD&&(!n||!n(u))&&(s[a]=u,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function q8e(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],u=yr(e),l;u<a&&(l=a,a=u,u=l),l=Math.abs(t-a);const c=Math.abs(u-t);return l<c&&l<=o?r:c<=o?i:s}function yt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Fn(r,n)}function nx(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function e1(e){return typeof e=="boolean"}function Ly(e){return Object.prototype.toString.call(e)==="[object Date]"}function W8e(e){return e&&jn(e[Symbol.iterator])}function Ir(e){return typeof e=="number"}function G8e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function St(e){return typeof e=="string"}function Tie(e,t,n){e&&(e=t?xt(e).map(a=>a.replace(/\\(.)/g,"$1")):xt(e));const r=e&&e.length,i=n&&n.get||k8e,s=a=>i(t?[a]:Qp(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(u){return""+a(u)}}else{const a=e.map(s);o=function(u){let l=""+a[0](u),c=0;for(;++c<r;)l+="|"+a[c](u);return l}}return Wl(o,e,"key")}function Y8e(e,t){const n=e[0],r=yr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const pgn=1e4;function K8e(e){e=+e||pgn;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>Xt(t,o)||Xt(n,o),get:o=>Xt(t,o)?t[o]:Xt(n,o)?s(o,n[o]):void 0,set:(o,a)=>Xt(t,o)?t[o]=a:s(o,a)}}function X8e(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,u=0,l=0;for(;a<i&&u<s;++l)o[l]=e(t[a],n[u])>0?n[u++]:t[a++];for(;a<i;++a,++l)o[l]=t[a];for(;u<s;++u,++l)o[l]=n[u];return o}function kA(e,t){let n="";for(;--t>=0;)n+=e;return n}function Q8e(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?kA(i,o)+s:r==="center"?kA(i,~~(o/2))+s+kA(i,Math.ceil(o/2)):s+kA(i,o)}function fP(e){return e&&yr(e)-e[0]||0}function dt(e){return qe(e)?"["+e.map(dt)+"]":Tt(e)||St(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Cie(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const mgn=e=>Ir(e)||Ly(e)?e:Date.parse(e);function Aie(e,t){return t=t||mgn,e==null||e===""?null:t(e)}function Iie(e){return e==null||e===""?null:e+""}function zd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function J8e(e,t,n,r){const i=r??"",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function F0(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function ggn(e){return e}function ygn(e){if(e==null)return ggn;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,u){u||(t=n=0);var l=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+s,f[1]=(n+=a[1])*i+o;l<c;)f[l]=a[l],++l;return f}}function vgn(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function bgn(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Bbe(e,n)})}:Bbe(e,t)}function Bbe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=Z8e(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function Z8e(e,t){var n=ygn(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&vgn(f,p)}function s(c){return n(c)}function o(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function u(c){return c.map(a)}function l(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(l)};case"Point":d=s(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(s);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=u(c.arcs);break;case"MultiPolygon":d=c.arcs.map(u);break;default:return null}return{type:f,coordinates:d}}return l(t)}function _gn(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(l,c){var f=e.arcs[l<0?~l:l],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=l,t[c]=d)}),t.forEach(function(l){var c=a(l),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(l),h.end=d,p=r[d]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(l),h.start=f,p=i[f]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[l],r[h.start=f]=i[h.end=d]=h});function a(l){var c=e.arcs[l<0?~l:l],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],l<0?[d,f]:[f,d]}function u(l,c){for(var f in l){var d=l[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),s.push(d)}}return u(i,r),u(r,i),t.forEach(function(l){n[l<0?~l:l]||s.push([l])}),s}function wgn(e){return Z8e(e,Egn.apply(this,arguments))}function Egn(e,t,n){var r,i,s;if(arguments.length>1)r=xgn(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:_gn(e,r)}}function xgn(e,t,n){var r=[],i=[],s;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function u(f){f.forEach(a)}function l(f){f.forEach(u)}function c(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":u(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const ya="year",jl="quarter",Ka="month",po="week",Bl="date",Ha="day",Np="dayofyear",kc="hours",Rc="minutes",If="seconds",Vd="milliseconds",kie=[ya,jl,Ka,po,Bl,Ha,Np,kc,Rc,If,Vd],Q7=kie.reduce((e,t,n)=>(e[t]=1+n,e),{});function Rie(e){const t=xt(e).slice(),n={};return t.length||Ue("Missing time unit."),t.forEach(i=>{Xt(Q7,i)?n[i]=1:Ue(`Invalid time unit: ${i}.`)}),(n[po]||n[Ha]?1:0)+(n[jl]||n[Ka]||n[Bl]?1:0)+(n[Np]?1:0)>1&&Ue(`Incompatible time units: ${e}`),t.sort((i,s)=>Q7[i]-Q7[s]),t}const Sgn={[ya]:"%Y ",[jl]:"Q%q ",[Ka]:"%b ",[Bl]:"%d ",[po]:"W%U ",[Ha]:"%a ",[Np]:"%j ",[kc]:"%H:00",[Rc]:"00:%M",[If]:":%S",[Vd]:".%L",[`${ya}-${Ka}`]:"%Y-%m ",[`${ya}-${Ka}-${Bl}`]:"%Y-%m-%d ",[`${kc}-${Rc}`]:"%H:%M"};function eBe(e,t){const n=Fn({},Sgn,t),r=Rie(e),i=r.length;let s="",o=0,a,u;for(o=0;o<i;)for(a=r.length;a>o;--a)if(u=r.slice(o,a).join("-"),n[u]!=null){s+=n[u],o=a;break}return s.trim()}const nb=new Date;function Nie(e){return nb.setFullYear(e),nb.setMonth(0),nb.setDate(1),nb.setHours(0,0,0,0),nb}function tBe(e){return rBe(new Date(e))}function nBe(e){return BG(new Date(e))}function rBe(e){return tg.count(Nie(e.getFullYear())-1,e)}function BG(e){return WT.count(Nie(e.getFullYear())-1,e)}function UG(e){return Nie(e).getDay()}function Tgn(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function iBe(e){return oBe(new Date(e))}function sBe(e){return zG(new Date(e))}function oBe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Iy.count(t-1,e)}function zG(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return GT.count(t-1,e)}function VG(e){return nb.setTime(Date.UTC(e,0,1)),nb.getUTCDay()}function Cgn(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function aBe(e,t,n,r,i){const s=t||1,o=yr(e),a=(y,v,b)=>(b=b||y,Agn(n[b],r[b],y===o&&s,v)),u=new Date,l=zd(e),c=l[ya]?a(ya):ru(2012),f=l[Ka]?a(Ka):l[jl]?a(jl):Q0,d=l[po]&&l[Ha]?a(Ha,1,po+Ha):l[po]?a(po,1):l[Ha]?a(Ha,1):l[Bl]?a(Bl,1):l[Np]?a(Np,1):CC,h=l[kc]?a(kc):Q0,p=l[Rc]?a(Rc):Q0,m=l[If]?a(If):Q0,g=l[Vd]?a(Vd):Q0;return function(y){u.setTime(+y);const v=c(u);return i(v,f(u),d(u,v),h(u),p(u),m(u),g(u))}}function Agn(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function WS(e,t,n){return t+e*7-(n+6)%7}const Ign={[ya]:e=>e.getFullYear(),[jl]:e=>Math.floor(e.getMonth()/3),[Ka]:e=>e.getMonth(),[Bl]:e=>e.getDate(),[kc]:e=>e.getHours(),[Rc]:e=>e.getMinutes(),[If]:e=>e.getSeconds(),[Vd]:e=>e.getMilliseconds(),[Np]:e=>rBe(e),[po]:e=>BG(e),[po+Ha]:(e,t)=>WS(BG(e),e.getDay(),UG(t)),[Ha]:(e,t)=>WS(1,e.getDay(),UG(t))},kgn={[jl]:e=>3*e,[po]:(e,t)=>WS(e,0,UG(t))};function uBe(e,t){return aBe(e,t||1,Ign,kgn,Tgn)}const Rgn={[ya]:e=>e.getUTCFullYear(),[jl]:e=>Math.floor(e.getUTCMonth()/3),[Ka]:e=>e.getUTCMonth(),[Bl]:e=>e.getUTCDate(),[kc]:e=>e.getUTCHours(),[Rc]:e=>e.getUTCMinutes(),[If]:e=>e.getUTCSeconds(),[Vd]:e=>e.getUTCMilliseconds(),[Np]:e=>oBe(e),[po]:e=>zG(e),[Ha]:(e,t)=>WS(1,e.getUTCDay(),VG(t)),[po+Ha]:(e,t)=>WS(zG(e),e.getUTCDay(),VG(t))},Ngn={[jl]:e=>3*e,[po]:(e,t)=>WS(e,0,VG(t))};function lBe(e,t){return aBe(e,t||1,Rgn,Ngn,Cgn)}const Pgn={[ya]:bp,[jl]:Mk.every(3),[Ka]:Mk,[po]:WT,[Bl]:tg,[Ha]:tg,[Np]:tg,[kc]:e5,[Rc]:JF,[If]:Vm,[Vd]:vS},Ogn={[ya]:_p,[jl]:Lk.every(3),[Ka]:Lk,[po]:GT,[Bl]:Iy,[Ha]:Iy,[Np]:Iy,[kc]:t5,[Rc]:ZF,[If]:Vm,[Vd]:vS};function RC(e){return Pgn[e]}function NC(e){return Ogn[e]}function cBe(e,t,n){return e?e.offset(t,n):void 0}function fBe(e,t,n){return cBe(RC(e),t,n)}function dBe(e,t,n){return cBe(NC(e),t,n)}function hBe(e,t,n,r){return e?e.range(t,n,r):void 0}function pBe(e,t,n,r){return hBe(RC(e),t,n,r)}function mBe(e,t,n,r){return hBe(NC(e),t,n,r)}const RA=1e3,NA=RA*60,PA=NA*60,Pj=PA*24,Dgn=Pj*7,Ube=Pj*30,HG=Pj*365,gBe=[ya,Ka,Bl,kc,Rc,If,Vd],OA=gBe.slice(0,-1),DA=OA.slice(0,-1),$A=DA.slice(0,-1),$gn=$A.slice(0,-1),Mgn=[ya,po],zbe=[ya,Ka],yBe=[ya],O2=[[OA,1,RA],[OA,5,5*RA],[OA,15,15*RA],[OA,30,30*RA],[DA,1,NA],[DA,5,5*NA],[DA,15,15*NA],[DA,30,30*NA],[$A,1,PA],[$A,3,3*PA],[$A,6,6*PA],[$A,12,12*PA],[$gn,1,Pj],[Mgn,1,Dgn],[zbe,1,Ube],[zbe,3,3*Ube],[yBe,1,HG]];function vBe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(fP(t))/n;let i=UT(a=>a[2]).right(O2,r),s,o;return i===O2.length?(s=yBe,o=Qy(t[0]/HG,t[1]/HG,n)):i?(i=O2[r/O2[i-1][2]<O2[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=gBe,o=Math.max(Qy(t[0],t[1],n),1)),{units:s,step:o}}function MA(e){const t={};return n=>t[n]||(t[n]=e(n))}function Lgn(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=Fgn(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function Fgn(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function bBe(e){const t=MA(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=r_(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Lgn(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=r_(o??",f");const a=Qy(r,i,s),u=Math.max(Math.abs(r),Math.abs(i));let l;if(o.precision==null)switch(o.type){case"s":return isNaN(l=vNe(a,u))||(o.precision=l),n(o,u);case"":case"e":case"g":case"p":case"r":{isNaN(l=bNe(a,u))||(o.precision=l-(o.type==="e"));break}case"f":case"%":{isNaN(l=yNe(a))||(o.precision=l-(o.type==="%")*2);break}}return t(o)}}}let qG;_Be();function _Be(){return qG=bBe({format:VT,formatPrefix:sZ})}function wBe(e){return bBe(gNe(e))}function k6(e){return arguments.length?qG=wBe(e):qG}function Vbe(e,t,n){n=n||{},Tt(n)||Ue(`Invalid time multi-format specifier: ${n}`);const r=t(If),i=t(Rc),s=t(kc),o=t(Bl),a=t(po),u=t(Ka),l=t(jl),c=t(ya),f=e(n[Vd]||".%L"),d=e(n[If]||":%S"),h=e(n[Rc]||"%I:%M"),p=e(n[kc]||"%I %p"),m=e(n[Bl]||n[Ha]||"%a %d"),g=e(n[po]||"%b %d"),y=e(n[Ka]||"%B"),v=e(n[jl]||"%B"),b=e(n[ya]||"%Y");return w=>(r(w)<w?f:i(w)<w?d:s(w)<w?h:o(w)<w?p:u(w)<w?a(w)<w?m:g:c(w)<w?l(w)<w?y:v:b)(w)}function EBe(e){const t=MA(e.format),n=MA(e.utcFormat);return{timeFormat:r=>St(r)?t(r):Vbe(t,RC,r),utcFormat:r=>St(r)?n(r):Vbe(n,NC,r),timeParse:MA(e.parse),utcParse:MA(e.utcParse)}}let WG;xBe();function xBe(){return WG=EBe({format:vZ,parse:PPe,utcFormat:n5,utcParse:OPe})}function SBe(e){return EBe(APe(e))}function bR(e){return arguments.length?WG=SBe(e):WG}const GG=(e,t)=>Fn({},e,t);function TBe(e,t){const n=e?wBe(e):k6(),r=t?SBe(t):bR();return GG(n,r)}function Pie(e,t){const n=arguments.length;return n&&n!==2&&Ue("defaultLocale expects either zero or two arguments."),n?GG(k6(e),bR(t)):GG(k6(),bR())}function jgn(){return _Be(),xBe(),Pie()}const Bgn=/^(data:|([A-Za-z]+:)?\/\/)/,Ugn=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,zgn=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Hbe="file://";function Vgn(e,t){return n=>({options:n||{},sanitize:qgn,load:Hgn,fileAccess:!!t,file:Wgn(t),http:Ygn(e)})}async function Hgn(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function qgn(e,t){t=Fn({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=Ugn.test(e.replace(zgn,""));(e==null||typeof e!="string"||!a)&&Ue("Sanitize failure, invalid URI: "+dt(e));const u=Bgn.test(e);return(o=t.baseURL)&&!u&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(Hbe))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(Hbe.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Wgn(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):Ggn}async function Ggn(){Ue("No file system access.")}function Ygn(e){return e?async function(t,n){const r=Fn({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?jn(s[i])?s[i]():s.text():Ue(s.status+""+s.statusText)}:Kgn}async function Kgn(){Ue("No HTTP fetch method available.")}const Xgn=e=>e!=null&&e===e,Qgn=e=>e==="true"||e==="false"||e===!0||e===!1,Jgn=e=>!Number.isNaN(Date.parse(e)),CBe=e=>!Number.isNaN(+e)&&!(e instanceof Date),Zgn=e=>CBe(e)&&Number.isInteger(+e),YG={boolean:Cie,integer:qa,number:qa,date:Aie,string:Iie,unknown:nu},AD=[Qgn,Zgn,CBe,Jgn],e0n=["boolean","integer","number","date"];function ABe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=AD.length,i=AD.map((s,o)=>o+1);for(let s=0,o=0,a,u;s<n;++s)for(u=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&Xgn(u)&&!AD[a](u)&&(i[a]=0,++o,o===AD.length))return"string";return e0n[i.reduce((s,o)=>s===0?o:s,0)-1]}function IBe(e,t){return t.reduce((n,r)=>(n[r]=ABe(e,r),n),{})}function qbe(e){const t=function(n,r){const i={delimiter:e};return Oie(n,r?Fn(r,i):i)};return t.responseType="text",t}function Oie(e,t){return t.header&&(e=t.header.map(dt).join(t.delimiter)+`
`+e),hNe(t.delimiter).parse(e+"")}Oie.responseType="text";function t0n(e){return typeof Buffer=="function"&&jn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function Die(e,t){const n=t&&t.property?Cf(t.property):nu;return Tt(e)&&!t0n(e)?n0n(n(e),t):n(JSON.parse(e))}Die.responseType="json";function n0n(e,t){return!qe(e)&&W8e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const r0n={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function kBe(e,t){let n,r,i,s;return e=Die(e,t),t&&t.feature?(n=bgn,i=t.feature):t&&t.mesh?(n=wgn,i=t.mesh,s=r0n[t.filter]):Ue("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):Ue("Invalid TopoJSON object: "+i),r&&r.features||[r]}kBe.responseType="json";const eM={dsv:Oie,csv:qbe(","),tsv:qbe("	"),json:Die,topojson:kBe};function $ie(e,t){return arguments.length>1?(eM[e]=t,this):Xt(eM,e)?eM[e]:null}function RBe(e){const t=$ie(e);return t&&t.responseType||"text"}function NBe(e,t,n,r){t=t||{};const i=$ie(t.type||"json");return i||Ue("Unknown data format type: "+t.type),e=i(e,t),t.parse&&i0n(e,t.parse,n,r),Xt(e,"columns")&&delete e.columns,e}function i0n(e,t,n,r){if(!e.length)return;const i=bR();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,u,l,c,f;t==="auto"&&(t=IBe(e,s)),s=Object.keys(t);const d=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!YG[p])throw Error("Illegal format pattern: "+h+":"+p);return YG[p]});for(u=0,c=e.length,f=s.length;u<c;++u)for(o=e[u],l=0;l<f;++l)a=s[l],o[a]=d[l](o[a])}const Oj=Vgn(typeof fetch<"u"&&fetch,null);function Dj(e){const t=e||nu,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function tM(e,t){try{await t(e)}catch(n){e.error(n)}}const PBe=Symbol("vega_id");let s0n=1;function $j(e){return!!(e&&Yt(e))}function Yt(e){return e[PBe]}function OBe(e,t){return e[PBe]=t,e}function Wr(e){const t=e===Object(e)?e:{data:e};return Yt(t)?t:OBe(t,s0n++)}function Mie(e){return Mj(e,Wr({}))}function Mj(e,t){for(const n in e)t[n]=e[n];return t}function DBe(e,t){return OBe(t,Yt(e))}function mw(e,t){return e?t?(n,r)=>e(n,r)||Yt(t(n))-Yt(t(r)):(n,r)=>e(n,r)||Yt(n)-Yt(r):null}function $Be(e){return e&&e.constructor===gw}function gw(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:gw,insert(a){const u=xt(a),l=u.length;for(let c=0;c<l;++c)e.push(u[c]);return this},remove(a){const u=jn(a)?r:t,l=xt(a),c=l.length;for(let f=0;f<c;++f)u.push(l[f]);return this},modify(a,u,l){const c={field:u,value:ru(l)};return jn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,u){return jn(a)?i.push({filter:a,field:u}):n.push({tuple:a,field:u}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,u){const l={},c={};let f,d,h,p,m,g;for(f=0,d=u.length;f<d;++f)l[Yt(u[f])]=1;for(f=0,d=t.length;f<d;++f)m=t[f],l[Yt(m)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],u.forEach(v=>{p(v)&&(l[Yt(v)]=-1)});for(f=0,d=e.length;f<d;++f)m=e[f],g=Yt(m),l[g]?l[g]=1:a.add.push(Wr(e[f]));for(f=0,d=u.length;f<d;++f)m=u[f],l[Yt(m)]<0&&a.rem.push(m);function y(v,b,w){w?v[b]=w(v):a.encode=b,o||(c[Yt(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],m=h.tuple,p=h.field,g=l[Yt(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,u.forEach(v=>{p(v)&&l[Yt(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?u.filter(v=>l[Yt(v)]>0):u.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const nM="_:mod:_";function Lj(){Object.defineProperty(this,nM,{writable:!0,value:{}})}Lj.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[nM];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=qe(n)?1+n.length:-1),i},modified(e,t){const n=this[nM];if(arguments.length){if(qe(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[nM]={},this}};let o0n=0;const a0n="pulse",u0n=new Lj,l0n=1,c0n=2;function gi(e,t,n,r){this.id=++o0n,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Wbe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}gi.prototype={targets(){return this._targets||(this._targets=Dj(cP))},set(e){return this.value!==e?(this.value=e,1):0},skip:Wbe(l0n),modified:Wbe(c0n),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Lj,i=this._argops=this._argops||[],s=[];let o,a,u,l;const c=(f,d,h)=>{h instanceof gi?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(o in e)if(a=e[o],o===a0n)xt(a).forEach(f=>{f instanceof gi?f!==this&&(f.targets().add(this),s.push(f)):Ue("Pulse parameters must be operator instances.")}),this.source=a;else if(qe(a))for(r.set(o,-1,Array(u=a.length)),l=0;l<u;++l)c(o,l,a[l]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||u0n,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function f0n(e,t,n,r){let i=1,s;return e instanceof gi?s=e:e&&e.prototype instanceof gi?s=new e:jn(e)?s=new gi(null,e):(i=0,s=new gi(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function d0n(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let h0n=0;function Fj(e,t,n){this.id=++h0n,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function R0(e,t,n){return new Fj(e,t,n)}Fj.prototype={_filter:Af,_apply:nu,targets(){return this._targets||(this._targets=Dj(cP))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=R0(e);return this.targets().add(t),t},apply(e){const t=R0(null,e);return this.targets().add(t),t},merge(){const e=R0();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=R0();return this.targets().add(R0(null,null,Sie(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(R0(null,null,()=>n=!0)),t.targets().add(R0(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Af,this._targets=null}};function p0n(e,t,n,r){const i=this,s=R0(n,r),o=function(l){l.dataflow=i;try{s.receive(l)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=xt(e);const u=a.length;for(let l=0;l<u;++l)a[l].addEventListener(t,o);return s}function m0n(e,t){const n=this.locale();return NBe(e,t,n.timeParse,n.utcParse)}function g0n(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function y0n(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:RBe(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function v0n(e,t,n){const r=this,i=r._pending||b0n(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(Af).insert(s.data||[])),i.done(),s}function b0n(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const _0n={skip:!0};function w0n(e,t,n,r,i){return(e instanceof gi?x0n:E0n)(this,e,t,n,r,i),this}function E0n(e,t,n,r,i,s){const o=Fn({},s,_0n);let a,u;jn(n)||(n=ru(n)),r===void 0?a=l=>e.touch(n(l)):jn(r)?(u=new gi(null,r,i,!1),a=l=>{u.evaluate(l);const c=n(l),f=u.value;$Be(f)?e.pulse(c,f,s):e.update(c,f,o)}):a=l=>e.update(n(l),r,o),t.apply(a)}function x0n(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new gi(null,S0n(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function S0n(e,t){return t=jn(t)?t:ru(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function T0n(e){e.rank=++this._rank}function C0n(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Ue("Cycle detected in dataflow graph.")}const R6={},Ch=1,j0=2,xm=4,A0n=Ch|j0,Gbe=Ch|xm,rE=Ch|j0|xm,Ybe=8,D2=16,Kbe=32,Xbe=64;function Fy(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function J7(e,t){const n=[];return F0(e,t,r=>n.push(r)),n}function Qbe(e,t){const n={};return e.visit(t,r=>{n[Yt(r)]=1}),r=>n[Yt(r)]?null:r}function ID(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Fy.prototype={StopPropagation:R6,ADD:Ch,REM:j0,MOD:xm,ADD_REM:A0n,ADD_MOD:Gbe,ALL:rE,REFLOW:Ybe,SOURCE:D2,NO_SOURCE:Kbe,NO_FIELDS:Xbe,fork(e){return new Fy(this.dataflow).init(this,e)},clone(){const e=this.fork(rE);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(rE|D2)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Fy(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Xbe)&&(n.fields=e.fields),t&Ch?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&j0?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&xm?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Kbe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||rE;return t&Ch&&this.add.length||t&j0&&this.rem.length||t&xm&&this.mod.length},reflow(e){if(e)return this.fork(rE).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(xm,Qbe(this,Ch))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return qe(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?qe(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Ch&&(n.addF=ID(n.addF,t)),e&j0&&(n.remF=ID(n.remF,t)),e&xm&&(n.modF=ID(n.modF,t)),e&D2&&(n.srcF=ID(n.srcF,t)),n},materialize(e){e=e||rE;const t=this;return e&Ch&&t.addF&&(t.add=J7(t.add,t.addF),t.addF=null),e&j0&&t.remF&&(t.rem=J7(t.rem,t.remF),t.remF=null),e&xm&&t.modF&&(t.mod=J7(t.mod,t.modF),t.modF=null),e&D2&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&D2)return F0(n.source,n.srcF,r),n;e&Ch&&F0(n.add,n.addF,r),e&j0&&F0(n.rem,n.remF,r),e&xm&&F0(n.mod,n.modF,r);const i=n.source;if(e&Ybe&&i){const s=n.add.length+n.mod.length;s===i.length||(s?F0(i,Qbe(n,Gbe),r):F0(i,n.srcF,r))}return n}};function Lie(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const u in o.fields)a[u]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}yt(Lie,Fy,{fork(e){const t=new Fy(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?qe(e)?e.some(r=>n[r]):n[e]:0},filter(){Ue("MultiPulse does not support filtering.")},materialize(){Ue("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function I0n(e,t,n){const r=this,i=[];if(r._pulse)return MBe(r);if(r._pending&&await r._pending,t&&await tM(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new Fy(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=Dj(cP);let o=0,a,u,l;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}u=a.run(r._getPulse(a,e)),u.then?u=await u:u.async&&(i.push(u.async),u=R6),u!==R6&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),l=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await tM(r,c[f].callback)}return n&&await tM(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function k0n(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function R0n(e,t,n){return this._pulse?MBe(this):(this.evaluate(e,t,n),this)}function N0n(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function MBe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function P0n(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function O0n(e,t){const n=e.source,r=this._clock;return n&&qe(n)?new Lie(this,r,n.map(i=>i.pulse),t):this._input[e.id]||D0n(this._pulse,n&&n.pulse)}function D0n(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==R6&&(e.source=t.source),e)}const Fie={skip:!1,force:!1};function $0n(e,t){const n=t||Fie;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function M0n(e,t,n){const r=n||Fie;return(e.set(t)||r.force)&&this.touch(e,r),this}function L0n(e,t,n){this.touch(e,n||Fie);const r=new Fy(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function F0n(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),LBe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,j0n(t,0,e)):r=n,r}}}function LBe(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function j0n(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,LBe(e,r,t,n)}function Bx(){this.logger(bie()),this.logLevel(yie),this._clock=0,this._rank=0,this._locale=Pie();try{this._loader=Oj()}catch{}this._touched=Dj(cP),this._input={},this._pulse=null,this._heap=F0n((e,t)=>e.qrank-t.qrank),this._postrun=[]}function $2(e){return function(){return this._log[e].apply(this,arguments)}}Bx.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:$2("error"),warn:$2("warn"),info:$2("info"),debug:$2("debug"),logLevel:$2("level"),cleanThreshold:1e4,add:f0n,connect:d0n,rank:T0n,rerank:C0n,pulse:L0n,touch:$0n,update:M0n,changeset:gw,ingest:g0n,parse:m0n,preload:v0n,request:y0n,events:p0n,on:w0n,evaluate:I0n,run:R0n,runAsync:k0n,runAfter:N0n,_enqueue:P0n,_getPulse:O0n};function $e(e,t){gi.call(this,e,null,t)}yt($e,gi,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const GS={};function FBe(e){const t=jBe(e);return t&&t.Definition||null}function jBe(e){return e=e&&e.toLowerCase(),Xt(GS,e)?GS[e]:null}function*BBe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function jie(e,t,n){const r=Float64Array.from(BBe(e,n));return r.sort(Zm),t.map(i=>gRe(r,i))}function Bie(e,t){return jie(e,[.25,.5,.75],t)}function Uie(e,t){const n=e.length,r=K0t(e,t),i=Bie(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function UBe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,u,l,c,f,d;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(u=Math.ceil(Math.log(t)/r),l=e.minstep||0,a=Math.max(l,Math.pow(n,Math.round(Math.log(h)/r)-u));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=l&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var kf=Math.random;function B0n(e){kf=e}function zBe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(BBe(e,r)),s=i.length,o=t;let a,u,l,c;for(l=0,c=Array(o);l<o;++l){for(a=0,u=0;u<s;++u)a+=i[~~(kf()*s)];c[l]=a/s}return c.sort(Zm),[HH(c,n/2),HH(c,1-n/2)]}function VBe(e,t,n,r){r=r||(d=>d);const i=e.length,s=new Float64Array(i);let o=0,a=1,u=r(e[0]),l=u,c=u+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(l=(u+l)/2;o<a;++o)s[o]=l;c=f+t,u=f}l=f}for(l=(u+l)/2;o<a;++o)s[o]=l;return n?U0n(s,t+t/4):s}function U0n(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function z0n(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function V0n(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*kf())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const HBe=Math.sqrt(2*Math.PI),H0n=Math.SQRT2;let M2=NaN;function jj(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(M2===M2)n=M2,M2=NaN;else{do n=kf()*2-1,r=kf()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,M2=r*s}return e+n*t}function zie(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*HBe)}function Bj(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function Uj(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*H0n*q0n(2*e-1)}function q0n(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function Vie(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>jj(n,r),pdf:s=>zie(s,n,r),cdf:s=>Bj(s,n,r),icdf:s=>Uj(s,n,r)};return i.mean(e).stdev(t)}function Hie(e,t){const n=Vie();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=Uie(e)),i):t},sample(){return e[~~(kf()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function qie(e,t){return e=e||0,t=t??1,Math.exp(e+jj()*t)}function Wie(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*HBe*e)}function Gie(e,t,n){return Bj(Math.log(e),t,n)}function Yie(e,t,n){return Math.exp(Uj(e,t,n))}function qBe(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>qie(n,r),pdf:s=>Wie(s,n,r),cdf:s=>Gie(s,n,r),icdf:s=>Yie(s,n,r)};return i.mean(e).stdev(t)}function WBe(e,t){let n=0,r;function i(o){const a=[];let u=0,l;for(l=0;l<n;++l)u+=a[l]=o[l]==null?1:+o[l];for(l=0;l<n;++l)a[l]/=u;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=kf();let a=e[n-1],u=r[0],l=0;for(;l<n-1;u+=r[++l])if(o<u){a=e[l];break}return a.sample()},pdf(o){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].pdf(o);return a},cdf(o){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function Kie(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*kf()}function Xie(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function Qie(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Jie(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function GBe(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>Kie(n,r),pdf:s=>Xie(s,n,r),cdf:s=>Qie(s,n,r),icdf:s=>Jie(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function Zie(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function dP(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function zj(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,u=0,l=0,c,f,d;for(d of e)s[a]=c=+t(d),o[a]=f=+n(d),++a,u+=(c-u)/a,l+=(f-l)/a;for(a=0;a<i;++a)s[a]-=u,o[a]-=l;return[s,o,u,l]}function hP(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function PC(e,t,n,r,i){let s=0,o=0;return hP(e,t,n,(a,u)=>{const l=u-i(a),c=u-r;s+=l*l,o+=c*c}),1-s/o}function ese(e,t,n){let r=0,i=0,s=0,o=0,a=0;hP(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,s+=(c*f-s)/a,o+=(c*c-o)/a});const u=dP(r,i,s,o),l=c=>u[0]+u[1]*c;return{coef:u,predict:l,rSquared:PC(e,t,n,i,l)}}function YBe(e,t,n){let r=0,i=0,s=0,o=0,a=0;hP(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,s+=(c*f-s)/a,o+=(c*c-o)/a});const u=dP(r,i,s,o),l=c=>u[0]+u[1]*Math.log(c);return{coef:u,predict:l,rSquared:PC(e,t,n,i,l)}}function KBe(e,t,n){const[r,i,s,o]=zj(e,t,n);let a=0,u=0,l=0,c=0,f=0,d,h,p;hP(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,u+=(p-u)/f,l+=(p*h-l)/f,c+=(d*p-c)/f});const[m,g]=dP(u/o,a/o,l/o,c/o),y=v=>Math.exp(m+g*(v-s));return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:PC(e,t,n,o,y)}}function XBe(e,t,n){let r=0,i=0,s=0,o=0,a=0,u=0;hP(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++u,r+=(h-r)/u,i+=(p-i)/u,s+=(h*p-s)/u,o+=(h*h-o)/u,a+=(d-a)/u});const l=dP(r,i,s,o),c=f=>l[0]*Math.pow(f,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:PC(e,t,n,a,c)}}function tse(e,t,n){const[r,i,s,o]=zj(e,t,n),a=r.length;let u=0,l=0,c=0,f=0,d=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,u+=(g-u)/h,l+=(g*p-l)/h,c+=(g*g-c)/h,f+=(p*m-f)/h,d+=(g*m-d)/h;const y=c-u*u,v=u*y-l*l,b=(d*u-f*l)/v,w=(f*y-d*l)/v,E=-b*u,x=S=>(S=S-s,b*S*S+w*S+E+o);return{coef:[E-w*s+b*s*s+o,w-2*b*s,b],predict:x,rSquared:PC(e,t,n,o,x)}}function QBe(e,t,n,r){if(r===0)return Zie(e,t,n);if(r===1)return ese(e,t,n);if(r===2)return tse(e,t,n);const[i,s,o,a]=zj(e,t,n),u=i.length,l=[],c=[],f=r+1;let d,h,p,m,g;for(d=0;d<f;++d){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d)*s[p];for(l.push(m),g=new Float64Array(f),h=0;h<f;++h){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d+h);g[h]=m}c.push(g)}c.push(l);const y=G0n(c),v=b=>{b-=o;let w=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)w+=y[d]*Math.pow(b,d);return w};return{coef:W0n(f,y,-o,a),predict:v,rSquared:PC(e,t,n,a,v)}}function W0n(e,t,n,r){const i=Array(e);let s,o,a,u;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],u=1,i[s]+=a,o=1;o<=s;++o)u*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*u;return i[0]+=r,i}function G0n(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const Jbe=2,Zbe=1e-12;function JBe(e,t,n,r){const[i,s,o,a]=zj(e,t,n,!0),u=i.length,l=Math.max(2,~~(r*u)),c=new Float64Array(u),f=new Float64Array(u),d=new Float64Array(u).fill(1);for(let h=-1;++h<=Jbe;){const p=[0,l-1];for(let g=0;g<u;++g){const y=i[g],v=p[0],b=p[1],w=y-i[v]>i[b]-y?v:b;let E=0,x=0,S=0,C=0,I=0;const k=1/Math.abs(i[w]-y||1);for(let P=v;P<=b;++P){const $=i[P],L=s[P],M=Y0n(Math.abs(y-$)*k)*d[P],B=$*M;E+=M,x+=B,S+=L*M,C+=L*B,I+=$*B}const[R,D]=dP(x/E,S/E,C/E,I/E);c[g]=R+D*y,f[g]=Math.abs(s[g]-c[g]),K0n(i,g+1,p)}if(h===Jbe)break;const m=yRe(f);if(Math.abs(m)<Zbe)break;for(let g=0,y,v;g<u;++g)y=f[g]/(6*m),d[g]=y>=1?Zbe:(v=1-y*y)*v}return X0n(i,c,o,a)}function Y0n(e){return(e=1-e*e*e)*e*e}function K0n(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function X0n(e,t,n,r){const i=e.length,s=[];let o=0,a=0,u=[],l;for(;o<i;++o)l=e[o]+n,u[0]===l?u[1]+=(t[o]-u[1])/++a:(a=0,u[1]+=r,u=[l,t[o]],s.push(u));return u[1]+=r,s}const Q0n=.5*Math.PI/180;function Vj(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,u=a/r,l=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)l.push(i(s+m/n*a));return l.push(i(o)),l}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let f=l[0],d=c[c.length-1];const h=1/a,p=J0n(f[1],c);for(;d;){const m=i((f[0]+d[0])/2);m[0]-f[0]>=u&&Z0n(f,m,d,h,p)>Q0n?c.push(m):(f=d,l.push(d),c.pop()),d=c[c.length-1]}return l}function J0n(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function Z0n(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function eyn(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function KG(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:eyn(e)}function ZBe(e,t,n){return n||e+(t?"_"+t:"")}const Z7=()=>{},tyn={init:Z7,add:Z7,rem:Z7,idx:0},_R={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},pP=Object.keys(_R).filter(e=>e!=="__count__");function nyn(e,t){return(n,r)=>Fn({name:e,aggregate_param:r,out:n||e},tyn,t)}[...pP,"__count__"].forEach(e=>{_R[e]=nyn(e,_R[e])});function e9e(e,t,n){return _R[e](n,t)}function t9e(e,t){return e.idx-t.idx}function ryn(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=_R[i]())})};return e.forEach(n),Object.values(t).sort(t9e)}function iyn(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function syn(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function oyn(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function ayn(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function n9e(e,t){const n=t||nu,r=ryn(e),i=e.slice().sort(t9e);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=iyn,s.prototype.add=syn,s.prototype.rem=oyn,s.prototype.set=ayn,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function nse(e){this._key=e?Cf(e):Yt,this.reset()}const xa=nse.prototype;xa.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};xa.add=function(e){this._add.push(e)};xa.rem=function(e){this._rem.push(e)};xa.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,u,l;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,u=0;a<r;++a)o[n(l=e[a])]?o[n(l)]=0:s[u++]=l;return this._rem=[],this._add=s};xa.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Xt(n,s)||(n[s]=1,++i);return i};xa.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=H8e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};xa.argmin=function(e){return this.extent(e)[0]||{}};xa.argmax=function(e){return this.extent(e)[1]||{}};xa.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};xa.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};xa.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=Bie(this.values(),e),this._get=e),this._q};xa.q1=function(e){return this.quartile(e)[0]};xa.q2=function(e){return this.quartile(e)[1]};xa.q3=function(e){return this.quartile(e)[2]};xa.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=zBe(this.values(),1e3,.05,e),this._get=e),this._ci};xa.ci0=function(e){return this.ci(e)[0]};xa.ci1=function(e){return this.ci(e)[1]};function yv(e){$e.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}yv.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:pP},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};yt(yv,$e,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let u,l,c,f;for(u in a)for(c=a[u].tuple,l=0;l<i;++l)r[l][f=c[n[l]]]=f}s(e._prev),s(t);function o(a,u,l){const c=n[l],f=r[l++];for(const d in f){const h=a?a+"|"+d:d;u[c]=f[d],l<i?o(h,u,l):t[h]||e.cell(h,u)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=xt(Ya(v)),w=b.length;let E=0,x;for(;E<w;++E)r[x=b[E]]||(r[x]=1,t.push(x))}this._dims=xt(e.groupby),this._dnames=this._dims.map(v=>{const b=_s(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:KG(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],u=e.as||[],l=s.length,c={};let f,d,h,p,m,g,y;for(l!==o.length&&Ue("Unmatched number of fields and aggregate ops."),y=0;y<l;++y){if(f=s[y],d=o[y],h=a[y]||null,f==null&&d!=="count"&&Ue("Null aggregate field specified."),m=_s(f),g=ZBe(d,m,u[y]),n.push(g),d==="count"){this._counts.push(g);continue}p=c[m],p||(i(f),p=c[m]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(e9e(d,h,g))}return this._measures=this._measures.map(v=>n9e(v,v.field)),Object.create(null)},cellkey:KG(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new nse),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?DBe(t.tuple,s):Wr(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let u,l,c,f;if(r)for(l in r)u=r[l],(!i||u.num)&&o.push(u.tuple);for(c=0,f=this._alen;c<f;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)u=n[c],(u.num===0&&i?o:a).push(this.celltuple(u)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const uyn=1e-14;function rse(e){$e.call(this,null,e)}rse.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};yt(rse,$e,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],u=o[1];let l;return e.modified()?(t=t.reflow(!0),l=t.SOURCE):l=t.modified(Ya(e.field))?t.ADD_MOD:t.ADD,t.visit(l,n?c=>{const f=r(c);c[a]=f,c[u]=f==null?null:i+s*(1+(f-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=UBe(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const u=function(l){let c=qa(t(l));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(uyn+(c-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=Wl(u,Ya(t),e.name||"bin_"+_s(t))}});function r9e(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:u=>s.push(u),remove:u=>o[r(u)]=++a,size:()=>i.length,data:(u,l)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),l&&u&&i.sort(u),s.length&&(i=u?X8e(u,i,s.sort(u)):i.concat(s),s=[]),i)}}function ise(e){$e.call(this,[],e)}ise.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};yt(ise,$e,{transform(e,t){const n=t.fork(t.ALL),r=r9e(Yt,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(mw(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function i9e(e){gi.call(this,null,lyn,e)}yt(i9e,gi);function lyn(e){return this.value&&!e.modified()?this.value:xie(e.fields,e.orders)}function sse(e){$e.call(this,null,e)}sse.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function cyn(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}yt(sse,$e,{transform(e,t){const n=f=>d=>{for(var h=cyn(a(d),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||f(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,u=e.as||["text","count"],l=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,u,l;for(a in n)u=r[a],l=n[a]||0,!u&&l?(r[a]=u=Wr({}),u[i]=a,u[s]=l,o.add.push(u)):l===0?(u&&o.rem.push(u),n[a]=null,r[a]=null):u[s]!==l&&(u[s]=l,o.mod.push(u));return o.modifies(t)}});function ose(e){$e.call(this,null,e)}ose.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};yt(ose,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=fyn(a,i,s,e.filter||Af)):n.mod=a,n.source=this.value,n.modifies(r)}});function fyn(e,t,n,r){for(var i=[],s={},o=e.length,a=0,u,l;a<o;++a)for(s[t]=l=e[a],u=0;u<o;++u)s[n]=e[u],r(s)&&(i.push(Wr(s)),s={},s[t]=l);return i}const e_e={kde:Hie,mixture:WBe,normal:Vie,lognormal:qBe,uniform:GBe},dyn="distributions",t_e="function",hyn="field";function s9e(e,t){const n=e[t_e];Xt(e_e,n)||Ue("Unknown distribution function: "+n);const r=e_e[n]();for(const i in e)i===hyn?r.data((e.from||t()).map(e[i])):i===dyn?r[i](e[i].map(s=>s9e(s,t))):typeof r[i]===t_e&&r[i](e[i]);return r}function ase(e){$e.call(this,null,e)}const o9e=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],pyn={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:o9e},{name:"weights",type:"number",array:!0}]};ase.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:o9e.concat(pyn)},{name:"as",type:"string",array:!0,default:["value","density"]}]};yt(ase,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=s9e(e.distribution,myn(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&Ue("Invalid density method: "+o),!e.extent&&!r.data&&Ue("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],u=e.extent||Rp(r.data()),l=Vj(o,u,i,s).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],Wr(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function myn(e){return()=>e.materialize(e.SOURCE).source}function a9e(e,t){return e?e.map((n,r)=>t[r]||_s(n)):null}function use(e,t,n){const r=[],i=f=>f(u);let s,o,a,u,l,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)u=e[o],l=t.map(i),c=s[l],c||(s[l]=c=[],c.dims=l,r.push(c)),c.push(n(u));return r}const u9e="bin";function lse(e){$e.call(this,null,e)}lse.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:u9e}]};const gyn=(e,t)=>fP(Rp(e,t))/30;yt(lse,$e,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=use(t.source,e.groupby,nu),i=e.smooth||!1,s=e.field,o=e.step||gyn(n,s),a=mw((p,m)=>s(p)-s(m)),u=e.as||u9e,l=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<l;++d){const p=r[d].sort(a);h=-1;for(const m of VBe(p,o,i,s))m<c&&(c=m),m>f&&(f=m),p[++h][u]=m}return this.value={start:c,stop:f,step:o},t.reflow(!0).modifies(u)}});function l9e(e){gi.call(this,null,yyn,e),this.modified(!0)}yt(l9e,gi);function yyn(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Wl(n=>t(n,e),Ya(t),_s(t))}function cse(e){$e.call(this,[void 0,void 0],e)}cse.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};yt(cse,$e,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const u=qa(r(a));u!=null&&(u<s&&(s=u),u>o&&(o=u))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=_s(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function fse(e,t){gi.call(this,e),this.parent=t,this.count=0}yt(fse,gi,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Hj(e){$e.call(this,{},e),this._keys=kC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}yt(Hj,$e,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Xt(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new fse(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const l=Yt(u),c=s.get(l);c!==void 0&&(s.delete(l),a(c).rem(u))}),t.visit(t.ADD,u=>{const l=r(u);s.set(Yt(u),l),a(l).add(u)}),o||t.modified(r.fields)?t.visit(t.MOD,u=>{const l=Yt(u),c=s.get(l),f=r(u);c===f?a(f).mod(u):(s.set(l,f),a(c).rem(u),a(f).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{a(s.get(Yt(u))).mod(u)}),o&&t.visit(t.REFLOW,u=>{const l=Yt(u),c=s.get(l),f=r(u);c!==f&&(s.set(l,f),a(c).rem(u),a(f).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function c9e(e){gi.call(this,null,vyn,e)}yt(c9e,gi);function vyn(e){return this.value&&!e.modified()?this.value:qe(e.name)?xt(e.name).map(t=>Cf(t)):Cf(e.name,e.as)}function dse(e){$e.call(this,kC(),e)}dse.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};yt(dse,$e,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,u=e.expr;let l=!0;t.visit(t.REM,f=>{const d=Yt(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{u(f,e)?s.push(f):r.set(Yt(f),1)});function c(f){const d=Yt(f),h=u(f,e),p=r.get(d);h&&p?(r.delete(d),s.push(f)):!h&&!p?(r.set(d,1),o.push(f)):l&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function hse(e){$e.call(this,[],e)}hse.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};yt(hse,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=a9e(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const u=r.map(p=>p(a)),l=u.reduce((p,m)=>Math.max(p,m.length),0);let c=0,f,d,h;for(;c<l;++c){for(d=Mie(a),f=0;f<o;++f)d[i[f]]=(h=u[f][c])==null?null:h;s&&(d[s]=c),n.add.push(d)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function pse(e){$e.call(this,[],e)}pse.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};yt(pse,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(_s),s=e.as||["key","value"],o=s[0],a=s[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,l=>{for(let c=0,f;c<u;++c)f=Mie(l),f[o]=i[c],f[a]=r[c](l),n.add.push(f)}),this.value=n.source=n.add,n.modifies(s)}});function mse(e){$e.call(this,null,e)}mse.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};yt(mse,$e,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function f9e(e){$e.call(this,[],e)}yt(f9e,$e,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,u;if(s>0){for(o=[];--s>=0;)o.push(u=Wr(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const kD={value:"value",median:yRe,mean:tyt,min:VH,max:Ay},byn=[];function gse(e){$e.call(this,[],e)}gse.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function _yn(e){var t=e.method||kD.value,n;if(kD[t]==null)Ue("Unrecognized imputation method: "+t);else return t===kD.value?(n=e.value!==void 0?e.value:0,()=>n):kD[t]}function wyn(e){const t=e.field;return n=>n?t(n):NaN}yt(gse,$e,{transform(e,t){var n=t.fork(t.ALL),r=_yn(e),i=wyn(e),s=_s(e.field),o=_s(e.key),a=(e.groupby||[]).map(_s),u=Eyn(t.source,e.groupby,e.key,e.keyvals),l=[],c=this.value,f=u.domain.length,d,h,p,m,g,y,v,b,w,E;for(g=0,b=u.length;g<b;++g)for(d=u[g],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(m=u.domain[v],E={_impute:!0},y=0,w=p.length;y<w;++y)E[a[y]]=p[y];E[o]=m,E[s]=Number.isNaN(h)?h=r(d,i):h,l.push(Wr(E))}return l.length&&(n.add=n.materialize(n.ADD).add.concat(l)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=l,n}});function Eyn(e,t,n,r){var i=y=>y(g),s=[],o=r?r.slice():[],a={},u={},l,c,f,d,h,p,m,g;for(o.forEach((y,v)=>a[y]=v+1),d=0,m=e.length;d<m;++d)g=e[d],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(l=t?t.map(i):byn)+"",(f=u[c])||(f=u[c]=[],s.push(f),f.values=l),f[h-1]=g;return s.domain=o,s}function yse(e){yv.call(this,e)}yse.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:pP},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};yt(yse,yv,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{Fn(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function vse(e){$e.call(this,null,e)}vse.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};yt(vse,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=use(r,e.groupby,e.field),s=(e.groupby||[]).map(_s),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Ue("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Rp(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=Hie(h,o)[a],m=e.counts?h.length:1,g=c||Rp(h);Vj(p,g,f,d).forEach(y=>{const v={};for(let b=0;b<s.length;++b)v[s[b]]=h.dims[b];v[u[0]]=y[0],v[u[1]]=y[1]*m,l.push(Wr(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function d9e(e){gi.call(this,null,xyn,e)}yt(d9e,gi);function xyn(e){return this.value&&!e.modified()?this.value:Tie(e.fields,e.flat)}function h9e(e){$e.call(this,[],e),this._pending=null}yt(h9e,$e,{transform(e,t){const n=t.dataflow;return this._pending?ez(this,t,this._pending):Syn(e)?t.StopPropagation:e.values?ez(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=xt(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>ez(this,t,xt(r.data)))}});function Syn(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function ez(e,t,n){n.forEach(Wr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function bse(e){$e.call(this,{},e)}bse.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};yt(bse,$e,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let u=o?t.SOURCE:t.ADD,l=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&Ue('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&Ue('The "as" parameter has too few output field names.'),c=c||i.map(_s),f=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<d;++y,++g)p[c[g]]=s;else for(y=0;y<d;++y,++g)p[c[g]]=i[y](v)}):(c||Ue("Missing output field names."),f=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?l=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),u|=h?t.MOD:0),t.visit(u,f),l.modifies(c)}});function p9e(e){gi.call(this,null,Tyn,e)}yt(p9e,gi);function Tyn(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function m9e(e){gi.call(this,null,Cyn,e)}yt(m9e,gi);function Cyn(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function g9e(e){$e.call(this,null,e)}yt(g9e,$e,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function _se(e){yv.call(this,e)}_se.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:pP,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};yt(_se,yv,{_transform:yv.prototype.transform,transform(e,t){return this._transform(Ayn(e,t),t)}});function Ayn(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=Ya(n).concat(Ya(r)),o=kyn(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>Iyn(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function Iyn(e,t,n,r){return Wl(i=>t(i)===e?n(i):NaN,r,e+"")}function kyn(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(Nj),t?i.slice(0,t):i}function y9e(e){Hj.call(this,e)}yt(y9e,Hj,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(Yt(s),n,t,s);return(e.modified("field")||r&&t.modified(Ya(r)))&&Ue("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(Wr(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function wse(e){$e.call(this,null,e)}wse.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};yt(wse,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=a9e(e.fields,e.as||[]),s=r?(a,u)=>Ryn(a,u,r,i):Mj;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const u=Yt(a);n.rem.push(o[u]),o[u]=null}),t.visit(t.ADD,a=>{const u=s(a,Wr({}));o[Yt(a)]=u,n.add.push(u)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[Yt(a)]))}),n}});function Ryn(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function v9e(e){$e.call(this,null,e)}yt(v9e,$e,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Ese(e){$e.call(this,null,e)}Ese.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Nyn=1e-14;yt(Ese,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=use(i,e.groupby,e.field),o=(e.groupby||[]).map(_s),a=[],u=e.step||.01,l=e.probs||yl(u/2,1-Nyn,u),c=l.length;return s.forEach(f=>{const d=jie(f,l);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=f.dims[m];p[r[0]]=l[h],p[r[1]]=d[h],a.push(Wr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function b9e(e){$e.call(this,null,e)}yt(b9e,$e,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=Yt(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=Mie(i);r[Yt(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[Yt(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function xse(e){$e.call(this,[],e),this.count=0}xse.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};yt(xse,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,f)=>(c[Yt(f)]=1,c),{});let o=this.value,a=this.count,u=0;function l(c){let f,d;o.length<i?o.push(c):(d=~~((a+1)*kf()),d<o.length&&d>=u&&(f=o[d],s[Yt(f)]&&n.rem.push(f),o[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=Yt(c);s[f]&&(s[f]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[Yt(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(u=a=o.length,t.visit(t.SOURCE,c=>{s[Yt(c)]||l(c)}),u=-1),r&&o.length>i){const c=o.length-i;for(let f=0;f<c;++f)s[Yt(o[f])]=-1,n.rem.push(o[f]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[Yt(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=o.filter(c=>!s[Yt(c)])),this.count=a,this.value=n.source=o,n}});function Sse(e){$e.call(this,null,e)}Sse.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};yt(Sse,$e,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=yl(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,Wr(s)}),n.add=t.add.concat(this.value),n}});function _9e(e){$e.call(this,null,e),this.modified(!0)}yt(_9e,$e,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Tse(e){$e.call(this,null,e)}const w9e=["unit0","unit1"];Tse.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:kie,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:w9e}]};yt(Tse,$e,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?NC:RC)(s.unit).offset,a=e.as||w9e,u=a[0],l=a[1],c=s.step;let f=s.start||1/0,d=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Ya(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[u]=null,r&&(p[l]=null)):(p[u]=g=y=s(m),r&&(p[l]=y=o(g,c)),g<f&&(f=g),y>d&&(d=y))}),s.start=f,s.stop=d,t.modifies(r?a:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:vBe({extent:e.extent||Rp(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=Rie(r),o=this.value||{},a=(n?lBe:uBe)(s,i);return a.unit=yr(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function E9e(e){$e.call(this,kC(),e)}yt(E9e,$e,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function x9e(e){$e.call(this,null,e)}yt(x9e,$e,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(mw(e.sort)):t.source).map(e.field))}});function Pyn(e,t,n,r){const i=wR[e](t,n);return{init:i.init||Q0,update:function(s,o){o[r]=i.next(s)}}}const wR={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=wR.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Ue("ntile num must be greater than zero.");const n=wR.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ue("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Oyn(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Oyn(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Dyn=Object.keys(wR);function S9e(e){const t=xt(e.ops),n=xt(e.fields),r=xt(e.params),i=xt(e.aggregate_params),s=xt(e.as),o=this.outputs=[],a=this.windows=[],u={},l={},c=[],f=[];let d=!0;function h(p){xt(Ya(p)).forEach(m=>u[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,b=_s(g),w=ZBe(p,b,s[m]);if(h(g),o.push(w),Xt(wR,p))a.push(Pyn(p,g,y,w));else{if(g==null&&p!=="count"&&Ue("Null aggregate field specified."),p==="count"){c.push(w);return}d=!1;let E=l[b];E||(E=l[b]=[],E.field=g,f.push(E)),E.push(e9e(p,v,w))}}),(c.length||f.length)&&(this.cell=$yn(f,c,d)),this.inputs=Object.keys(u)}const T9e=S9e.prototype;T9e.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};T9e.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function $yn(e,t,n){e=e.map(u=>n9e(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new nse;return r.add=function(u){if(r.num+=1,!n){a&&a.add(u);for(let l=0;l<i;++l)s[l].add(s[l].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){a&&a.rem(u);for(let l=0;l<i;++l)s[l].rem(s[l].get(u),u)}},r.set=function(u){let l,c;for(a&&a.values(),l=0,c=t.length;l<c;++l)u[t[l]]=r.num;if(!n)for(l=0,c=s.length;l<c;++l)s[l].set(u)},r.init=function(){r.num=0,a&&a.reset();for(let u=0;u<i;++u)s[u].init()},r}function Cse(e){$e.call(this,{},e),this._mlen=0,this._mods=[]}Cse.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Dyn.concat(pP)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};yt(Cse,$e,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=mw(e.sort),i=KG(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new S9e(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,u=this._mlen;a<u;++a)Myn(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=r9e(Yt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Myn(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),u=a.length,l=s?UT(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||ru(-1)};t.init();for(let f=0;f<u;++f)Lyn(c,o,f,u),s&&Fyn(c,l),t.update(c,a[f])}function Lyn(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Fyn(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const jyn=Object.freeze(Object.defineProperty({__proto__:null,aggregate:yv,bin:rse,collect:ise,compare:i9e,countpattern:sse,cross:ose,density:ase,dotbin:lse,expression:l9e,extent:cse,facet:Hj,field:c9e,filter:dse,flatten:hse,fold:pse,formula:mse,generate:f9e,impute:gse,joinaggregate:yse,kde:vse,key:d9e,load:h9e,lookup:bse,multiextent:p9e,multivalues:m9e,params:g9e,pivot:_se,prefacet:y9e,project:wse,proxy:v9e,quantile:Ese,relay:b9e,sample:xse,sequence:Sse,sieve:_9e,subflow:fse,timeunit:Tse,tupleindex:E9e,values:x9e,window:Cse},Symbol.toStringTag,{value:"Module"}));function jy(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Byn=()=>typeof Image<"u"?Image:null;function Ase(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Uyn="identity",YS="linear",jg="log",mP="pow",gP="sqrt",qj="symlog",w_="time",E_="utc",hp="sequential",OC="diverging",KS="quantile",Wj="quantize",Gj="threshold",Ise="ordinal",XG="point",C9e="band",kse="bin-ordinal",Eo="continuous",yP="discrete",vP="discretizing",Uf="interpolating",Rse="temporal";function zyn(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function Vyn(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,u,l;for(i<r&&(a=r,r=i,i=a),u=0,l=n.length;u<l;++u)n[u]>=r&&n[u]<=i&&(s<0&&(s=u),o=u);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Nse(){const e=qT().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,u=0,l=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=Ase(f,a,u);let m=r[d-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(f-a))*l,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=yl(f).map(y=>m+i*y);return n(d?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,c()):o},e.padding=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),a=u,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let m=+f[0],g=+f[1],y,v,b;if(!(m!==m||g!==g)&&(g<m&&(b=m,m=g,g=b),!(g<h[0]||m>r[1-d])))return y=Math.max(0,Xy(h,m)-1),v=m===g?y:Xy(h,g)-1,m-h[y]>s+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return Nse().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(u).align(l)},c()}function A9e(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return A9e(t())},e}function Hyn(){return A9e(Nse().paddingInner(1))}var qyn=Array.prototype.map;function Wyn(e){return qyn.call(e,qa)}const Gyn=Array.prototype.slice;function I9e(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Xy(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=Wyn(r),n):e.slice()},n.range=function(r){return arguments.length?(t=Gyn.call(r),n):t.slice()},n.tickFormat=function(r,i){return yPe(e[0],yr(e),r??10,i)},n.copy=function(){return I9e().domain(n.domain()).range(n.range())},n}const N6=new Map,k9e=Symbol("vega_scale");function R9e(e){return e[k9e]=!0,e}function Yyn(e){return e&&e[k9e]===!0}function Kyn(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?zyn(s):s.invertExtent?Vyn(s):void 0),s.type=e,R9e(s)};return r.metadata=zd(xt(n)),r}function jr(e,t,n){return arguments.length>1?(N6.set(e,Kyn(e,t,n)),this):N9e(e)?N6.get(e):void 0}jr(Uyn,vPe);jr(YS,Tg,Eo);jr(jg,_Pe,[Eo,jg]);jr(mP,gZ,Eo);jr(gP,Oxt,Eo);jr(qj,wPe,Eo);jr(w_,DPe,[Eo,Rse]);jr(E_,YSt,[Eo,Rse]);jr(hp,_Z,[Eo,Uf]);jr(`${hp}-${YS}`,_Z,[Eo,Uf]);jr(`${hp}-${jg}`,$Pe,[Eo,Uf,jg]);jr(`${hp}-${mP}`,wZ,[Eo,Uf]);jr(`${hp}-${gP}`,KSt,[Eo,Uf]);jr(`${hp}-${qj}`,MPe,[Eo,Uf]);jr(`${OC}-${YS}`,LPe,[Eo,Uf]);jr(`${OC}-${jg}`,FPe,[Eo,Uf,jg]);jr(`${OC}-${mP}`,EZ,[Eo,Uf]);jr(`${OC}-${gP}`,XSt,[Eo,Uf]);jr(`${OC}-${qj}`,jPe,[Eo,Uf]);jr(KS,EPe,[vP,KS]);jr(Wj,xPe,vP);jr(Gj,SPe,vP);jr(kse,I9e,[yP,vP]);jr(Ise,qT,yP);jr(C9e,Nse,yP);jr(XG,Hyn,yP);function N9e(e){return N6.has(e)}function yw(e,t){const n=N6.get(e);return n&&n.metadata[t]}function Pse(e){return yw(e,Eo)}function XS(e){return yw(e,yP)}function QG(e){return yw(e,vP)}function P9e(e){return yw(e,jg)}function Xyn(e){return yw(e,Rse)}function O9e(e){return yw(e,Uf)}function D9e(e){return yw(e,KS)}const Qyn=["clamp","base","constant","exponent"];function $9e(e,t){const n=t[0],r=yr(t)-n;return function(i){return e(n+i*r)}}function Yj(e,t,n){return KJ(Ose(t||"rgb",n),e)}function M9e(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function L9e(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?ru(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=jr(s)().domain([t,n]).range([0,1]),Qyn.forEach(a=>e[a]?o[a](e[a]()):0),o)}function Ose(e,t){const n=C1t[Jyn(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function Jyn(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const Zyn={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},evn={accent:JSt,category10:QSt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:ZSt,observable10:eTt,paired:tTt,pastel1:nTt,pastel2:rTt,set1:iTt,set2:sTt,set3:oTt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function F9e(e){if(qe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function j9e(e,t){for(const n in e)Dse(n,t(e[n]))}const n_e={};j9e(evn,F9e);j9e(Zyn,e=>Yj(F9e(e)));function Dse(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(n_e[e]=t,this):n_e[e]}const rM="symbol",tvn="discrete",nvn="gradient",rvn=e=>qe(e)?e.map(t=>String(t)):String(e),ivn=(e,t)=>e[1]-t[1],svn=(e,t)=>t[1]-e[1];function $se(e,t,n){let r;return Ir(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(fP(e.domain())/n||1)+1))),Tt(t)&&(r=t.step,t=t.interval),St(t)&&(t=e.type===w_?RC(t):e.type==E_?NC(t):Ue("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function B9e(e,t,n){let r=e.range(),i=r[0],s=yr(r),o=ivn;if(i>s&&(r=s,s=i,i=r,o=svn),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],yr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,l)=>!(l%2));t.length<3&&(t=a)}return t}function Mse(e,t){return e.bins?B9e(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function U9e(e,t,n,r,i,s){const o=t.type;let a=rvn;if(o===w_||i===w_)a=e.timeFormat(r);else if(o===E_||i===E_)a=e.utcFormat(r);else if(P9e(o)){const u=e.formatFloat(r);if(s||t.bins)a=u;else{const l=z9e(t,n,!1);a=c=>l(c)?u(c):""}}else if(t.tickFormat){const u=t.domain();a=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(a=e.format(r));return a}function z9e(e,t,n){const r=Mse(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=u=>{let l=u/Math.pow(i,Math.round(Math.log(u)/s));return l*i<i-.5&&(l*=i),l<=o};return n?r.filter(a):a}const JG={[KS]:"quantiles",[Wj]:"thresholds",[Gj]:"domain"},V9e={[KS]:"quantiles",[Wj]:"domain"};function H9e(e,t){return e.bins?uvn(e.bins):e.type===jg?z9e(e,t,!0):JG[e.type]?avn(e[JG[e.type]]()):Mse(e,t)}function ovn(e,t,n){const r=t[V9e[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,3*10,n)}function avn(e){const t=[-1/0].concat(e);return t.max=1/0,t}function uvn(e){const t=e.slice(0,-1);return t.max=yr(e),t}const lvn=e=>JG[e.type]||e.bins;function q9e(e,t,n,r,i,s,o){const a=V9e[t.type]&&s!==w_&&s!==E_?ovn(e,t,i):U9e(e,t,n,i,s,o);return r===rM&&lvn(t)?cvn(a):r===tvn?fvn(a):dvn(a)}const cvn=e=>(t,n,r)=>{const i=r_e(r[n+1],r_e(r.max,1/0)),s=i_e(t,e),o=i_e(i,e);return s&&o?s+"  "+o:o?"< "+o:" "+s},r_e=(e,t)=>e??t,fvn=e=>(t,n)=>n?e(t):null,dvn=e=>t=>e(t),i_e=(e,t)=>Number.isFinite(e)?t(e):null;function hvn(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+yr(t),s=i-r;if(e.type===Gj){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function pvn(e,t,n,r){const i=r||t.type;return St(n)&&Xyn(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===w_?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===E_?e.utcFormat("%A, %d %B %Y, %X UTC"):q9e(e,t,5,null,n,r,!0)}function W9e(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=pvn(e,t,n.format,n.formatType);if(QG(t.type)){const s=H9e(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(XS(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(yr(s))}`}}let G9e=0;function mvn(){G9e=0}const P6="p_";function Lse(e){return e&&e.gradient}function Y9e(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?P6:"";return i||(i=e.id="gradient_"+G9e++,r==="radial"?(e.x1=ph(e.x1,.5),e.y1=ph(e.y1,.5),e.r1=ph(e.r1,0),e.x2=ph(e.x2,.5),e.y2=ph(e.y2,.5),e.r2=ph(e.r2,.5),s=P6):(e.x1=ph(e.x1,0),e.y1=ph(e.y1,0),e.x2=ph(e.x2,1),e.y2=ph(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function ph(e,t){return e??t}function K9e(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const s_e={basis:{curve:_Tt},"basis-closed":{curve:wTt},"basis-open":{curve:ETt},bundle:{curve:xTt,tension:"beta",value:.85},cardinal:{curve:STt,tension:"tension",value:0},"cardinal-open":{curve:CTt,tension:"tension",value:0},"cardinal-closed":{curve:TTt,tension:"tension",value:0},"catmull-rom":{curve:ATt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ITt,tension:"alpha",value:.5},"catmull-rom-open":{curve:kTt,tension:"alpha",value:.5},linear:{curve:xZ},"linear-closed":{curve:RTt},monotone:{horizontal:PTt,vertical:NTt},natural:{curve:OTt},step:{curve:DTt},"step-after":{curve:MTt},"step-before":{curve:$Tt}};function Fse(e,t,n){var r=Xt(s_e,e)&&s_e[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const gvn={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},yvn=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,vvn=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,bvn=/^((\s+,?\s*)|(,\s*))/,_vn=/^[01]/;function QS(e){const t=[];return(e.match(yvn)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=gvn[s],a=wvn(s,o,r.slice(1).trim()),u=a.length;if(u<o||u&&u%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),u!==o){s==="m"&&(i=i==="M"?"L":"l");for(let l=o;l<u;l+=o)t.push([i,...a.slice(l,l+o)])}}),t}function wvn(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?_vn:vvn,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const u=n.slice(i).match(bvn);u!==null&&(i+=u[0].length)}return r}const vv=Math.PI/180,Evn=1e-14,rb=Math.PI/2,qh=Math.PI*2,iE=Math.sqrt(3)/2;var tz={},nz={},X9e=[].join;function xvn(e,t,n,r,i,s,o,a,u){const l=X9e.call(arguments);if(tz[l])return tz[l];const c=o*vv,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(u-t)*.5,p=d*(u-t)*.5-f*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=d/n,y=f/n,v=-f/r,b=d/r,w=g*a+y*u,E=v*a+b*u,x=g*e+y*t,S=v*e+b*t;let I=1/((x-w)*(x-w)+(S-E)*(S-E))-.25;I<0&&(I=0);let k=Math.sqrt(I);s==i&&(k=-k);const R=.5*(w+x)-k*(S-E),D=.5*(E+S)+k*(x-w),P=Math.atan2(E-D,w-R);let L=Math.atan2(S-D,x-R)-P;L<0&&s===1?L+=qh:L>0&&s===0&&(L-=qh);const M=Math.ceil(Math.abs(L/(rb+.001))),B=[];for(let z=0;z<M;++z){const H=P+z*L/M,O=P+(z+1)*L/M;B[z]=[R,D,H,O,n,r,f,d]}return tz[l]=B}function Svn(e){const t=X9e.call(e);if(nz[t])return nz[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7];const c=l*o,f=-u*a,d=u*o,h=l*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),y=Math.sin(s),v=.5*(s-i),b=Math.sin(v*.5),w=8/3*b*b/Math.sin(v),E=n+p-w*m,x=r+m+w*p,S=n+g,C=r+y,I=S+w*y,k=C-w*g;return nz[t]=[c*E+f*x,d*E+h*x,c*I+f*k,d*I+h*k,c*S+f*C,d*S+h*C]}const Wc=["l",0,0,0,0,0,0,0];function Tvn(e,t,n){const r=Wc[0]=e[0];if(r==="a"||r==="A")Wc[1]=t*e[1],Wc[2]=n*e[2],Wc[3]=e[3],Wc[4]=e[4],Wc[5]=e[5],Wc[6]=t*e[6],Wc[7]=n*e[7];else if(r==="h"||r==="H")Wc[1]=t*e[1];else if(r==="v"||r==="V")Wc[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)Wc[i]=(i%2==1?t:n)*e[i];return Wc}function ER(e,t,n,r,i,s){var o,a=null,u=0,l=0,c=0,f=0,d,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(o=t[v],(i!==1||s!==1)&&(o=Tvn(o,i,s)),o[0]){case"l":u+=o[1],l+=o[2],e.lineTo(u+n,l+r);break;case"L":u=o[1],l=o[2],e.lineTo(u+n,l+r);break;case"h":u+=o[1],e.lineTo(u+n,l+r);break;case"H":u=o[1],e.lineTo(u+n,l+r);break;case"v":l+=o[1],e.lineTo(u+n,l+r);break;case"V":l=o[1],e.lineTo(u+n,l+r);break;case"m":u+=o[1],l+=o[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"M":u=o[1],l=o[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"c":d=u+o[5],h=l+o[6],c=u+o[3],f=l+o[4],e.bezierCurveTo(u+o[1]+n,l+o[2]+r,c+n,f+r,d+n,h+r),u=d,l=h;break;case"C":u=o[5],l=o[6],c=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,f+r,u+n,l+r);break;case"s":d=u+o[3],h=l+o[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,u+o[1]+n,l+o[2]+r,d+n,h+r),c=u+o[1],f=l+o[2],u=d,l=h;break;case"S":d=o[3],h=o[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,o[1]+n,o[2]+r,d+n,h+r),u=d,l=h,c=o[1],f=o[2];break;case"q":d=u+o[3],h=l+o[4],c=u+o[1],f=l+o[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"Q":d=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,h+r),u=d,l=h,c=o[1],f=o[2];break;case"t":d=u+o[1],h=l+o[2],a[0].match(/[QqTt]/)===null?(c=u,f=l):a[0]==="t"?(c=2*u-p,f=2*l-m):a[0]==="q"&&(c=2*u-c,f=2*l-f),p=c,m=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h,c=u+o[1],f=l+o[2];break;case"T":d=o[1],h=o[2],c=2*u-c,f=2*l-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"a":o_e(e,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+u+n,o[7]+l+r]),u+=o[6],l+=o[7];break;case"A":o_e(e,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),u=o[6],l=o[7];break;case"z":case"Z":u=g,l=y,e.closePath();break}a=o}}function o_e(e,t,n,r){const i=xvn(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=Svn(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const a_e=.5773502691896257,u_e={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,qh)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n,i=r-n*a_e,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n,i=r-n*a_e;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=iE*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Q9e(e){return Xt(u_e,e)?u_e[e]:Cvn(e)}var rz={};function Cvn(e){if(!Xt(rz,e)){const t=QS(e);rz[e]={draw:function(n,r){ER(n,t,0,0,Math.sqrt(r)/2)}}}return rz[e]}const T0=.448084975506;function Avn(e){return e.x}function Ivn(e){return e.y}function kvn(e){return e.width}function Rvn(e){return e.height}function pm(e){return typeof e=="function"?e:()=>+e}function RD(e,t,n){return Math.max(t,Math.min(e,n))}function J9e(){var e=Avn,t=Ivn,n=kvn,r=Rvn,i=pm(0),s=i,o=i,a=i,u=null;function l(c,f,d){var h,p=f??+e.call(this,c),m=d??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,b=RD(+i.call(this,c),0,v),w=RD(+s.call(this,c),0,v),E=RD(+o.call(this,c),0,v),x=RD(+a.call(this,c),0,v);if(u||(u=h=qF()),b<=0&&w<=0&&E<=0&&x<=0)u.rect(p,m,g,y);else{var S=p+g,C=m+y;u.moveTo(p+b,m),u.lineTo(S-w,m),u.bezierCurveTo(S-T0*w,m,S,m+T0*w,S,m+w),u.lineTo(S,C-x),u.bezierCurveTo(S,C-T0*x,S-T0*x,C,S-x,C),u.lineTo(p+E,C),u.bezierCurveTo(p+T0*E,C,p,C-T0*E,p,C-E),u.lineTo(p,m+b),u.bezierCurveTo(p,m+T0*b,p+T0*b,m,p+b,m),u.closePath()}if(h)return u=null,h+""||null}return l.x=function(c){return arguments.length?(e=pm(c),l):e},l.y=function(c){return arguments.length?(t=pm(c),l):t},l.width=function(c){return arguments.length?(n=pm(c),l):n},l.height=function(c){return arguments.length?(r=pm(c),l):r},l.cornerRadius=function(c,f,d,h){return arguments.length?(i=pm(c),s=f!=null?pm(f):i,a=d!=null?pm(d):i,o=h!=null?pm(h):s,l):i},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function Z9e(){var e,t,n,r,i=null,s,o,a,u;function l(f,d,h){const p=h/2;if(s){var m=a-d,g=f-o;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*u,b=(g/=y)*u,w=Math.atan2(g,m);i.moveTo(o-v,a-b),i.lineTo(f-m*p,d-g*p),i.arc(f,d,p,w-Math.PI,w),i.lineTo(o+v,a+b),i.arc(o,a,u,w,w+Math.PI)}else i.arc(f,d,p,0,qh);i.closePath()}else s=1;o=f,a=d,u=p}function c(f){var d,h=f.length,p,m=!1,g;for(i==null&&(i=g=qF()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===m&&(m=!m)&&(s=0),m&&l(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(g)return i=null,g+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function bP(e,t){return e??t}const _P=e=>e.x||0,wP=e=>e.y||0,Nvn=e=>e.width||0,Pvn=e=>e.height||0,Ovn=e=>(e.x||0)+(e.width||0),Dvn=e=>(e.y||0)+(e.height||0),$vn=e=>e.startAngle||0,Mvn=e=>e.endAngle||0,Lvn=e=>e.padAngle||0,Fvn=e=>e.innerRadius||0,jvn=e=>e.outerRadius||0,Bvn=e=>e.cornerRadius||0,Uvn=e=>bP(e.cornerRadiusTopLeft,e.cornerRadius)||0,zvn=e=>bP(e.cornerRadiusTopRight,e.cornerRadius)||0,Vvn=e=>bP(e.cornerRadiusBottomRight,e.cornerRadius)||0,Hvn=e=>bP(e.cornerRadiusBottomLeft,e.cornerRadius)||0,qvn=e=>bP(e.size,64),Wvn=e=>e.size||1,Kj=e=>e.defined!==!1,Gvn=e=>Q9e(e.shape||"circle"),Yvn=Rq().startAngle($vn).endAngle(Mvn).padAngle(Lvn).innerRadius(Fvn).outerRadius(jvn).cornerRadius(Bvn),Kvn=qPe().x(_P).y1(wP).y0(Dvn).defined(Kj),Xvn=qPe().y(wP).x1(_P).x0(Ovn).defined(Kj),Qvn=HPe().x(_P).y(wP).defined(Kj),Jvn=J9e().x(_P).y(wP).width(Nvn).height(Pvn).cornerRadius(Uvn,zvn,Vvn,Hvn),Zvn=bTt().type(Gvn).size(qvn),e1n=Z9e().x(_P).y(wP).defined(Kj).size(Wvn);function jse(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function t1n(e,t){return Yvn.context(e)(t)}function n1n(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Xvn:Kvn).curve(Fse(r,n.orient,n.tension)).context(e)(t)}function r1n(e,t){const n=t[0],r=n.interpolate||"linear";return Qvn.curve(Fse(r,n.orient,n.tension)).context(e)(t)}function DC(e,t,n,r){return Jvn.context(e)(t,n,r)}function i1n(e,t){return(t.mark.shape||t.shape).context(e)(t)}function s1n(e,t){return Zvn.context(e)(t)}function o1n(e,t){return e1n.context(e)(t)}var eUe=1;function tUe(){eUe=1}function Bse(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+eUe++),o=i.clipping[s]||(i.clipping[s]={id:s});return jn(r)?o.path=r(null):jse(n)?o.path=DC(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function no(e){this.clear(),e&&this.union(e)}no.prototype={clone(){return new no(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),u=Math.sin(e),l=t-t*a+n*u,c=n-t*u-n*a;return[a*r-u*i+l,u*r+a*i+c,a*r-u*o+l,u*r+a*o+c,a*s-u*i+l,u*s+a*i+c,a*s-u*o+l,u*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Xj(e){this.mark=e,this.bounds=this.bounds||new no}function Qj(e){Xj.call(this,e),this.items=this.items||[]}yt(Qj,Xj);class nUe{constructor(t){this._pending=0,this._loader=t||Oj()}pending(){return this._pending}sanitizeURL(t){const n=this;return l_e(n),n._loader.sanitize(t,{context:"href"}).then(r=>(L2(n),r)).catch(()=>(L2(n),null))}loadImage(t){const n=this,r=Byn();return l_e(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=Xt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>L2(n),o.onerror=()=>L2(n),o.src=s,o}).catch(i=>(L2(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function l_e(e){e._pending+=1}function L2(e){e._pending-=1}function l0(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?a1n(t,r):0))}return e}function a1n(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const u1n=qh-1e-8;let Jj,iM,sM,Tb,ZG,oM,eY,tY;const ay=(e,t)=>Jj.add(e,t),aM=(e,t)=>ay(iM=e,sM=t),c_e=e=>ay(e,Jj.y1),f_e=e=>ay(Jj.x1,e),ib=(e,t)=>ZG*e+eY*t,sb=(e,t)=>oM*e+tY*t,iz=(e,t)=>ay(ib(e,t),sb(e,t)),sz=(e,t)=>aM(ib(e,t),sb(e,t));function EP(e,t){return Jj=e,t?(Tb=t*vv,ZG=tY=Math.cos(Tb),oM=Math.sin(Tb),eY=-oM):(ZG=tY=1,Tb=oM=eY=0),l1n}const l1n={beginPath(){},closePath(){},moveTo:sz,lineTo:sz,rect(e,t,n,r){Tb?(iz(e+n,t),iz(e+n,t+r),iz(e,t+r),sz(e,t)):(ay(e+n,t+r),aM(e,t))},quadraticCurveTo(e,t,n,r){const i=ib(e,t),s=sb(e,t),o=ib(n,r),a=sb(n,r);d_e(iM,i,o,c_e),d_e(sM,s,a,f_e),aM(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=ib(e,t),a=sb(e,t),u=ib(n,r),l=sb(n,r),c=ib(i,s),f=sb(i,s);h_e(iM,o,u,c,c_e),h_e(sM,a,l,f,f_e),aM(c,f)},arc(e,t,n,r,i,s){if(r+=Tb,i+=Tb,iM=n*Math.cos(i)+e,sM=n*Math.sin(i)+t,Math.abs(i-r)>u1n)ay(e-n,t-n),ay(e+n,t+n);else{const o=l=>ay(n*Math.cos(l)+e,n*Math.sin(l)+t);let a,u;if(o(r),o(i),i!==r)if(r=r%qh,r<0&&(r+=qh),i=i%qh,i<0&&(i+=qh),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=qh,a=r-r%rb,u=0;u<4&&a>i;++u,a-=rb)o(a);else for(a=r-r%rb+rb,u=0;u<4&&a<i;++u,a=a+rb)o(a)}}};function d_e(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function h_e(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let u=0,l=0,c;Math.abs(s)>Evn?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),u=(-o+c)/s,l=(-o-c)/s)):u=.5*a/o,0<u&&u<1&&i(p_e(u,e,t,n,r)),0<l&&l<1&&i(p_e(l,e,t,n,r))}function p_e(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var By=(By=jy(1,1))?By.getContext("2d"):null;const nY=new no;function Use(e){return function(t,n){if(!By)return!0;e(By,t),nY.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=nY;for(let a=i;a<=o;++a)for(let u=r;u<=s;++u)if(By.isPointInPath(u,a))return!0;return!1}}function zse(e,t){return t.contains(e.x||0,e.y||0)}function rUe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(nY.set(n,r,n+i,r+s))}function iUe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return rx(t,n,r,i,s)}function rx(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:u}=e,l=r-t,c=i-n;let f=0,d=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-l,p=-(s-t)),g===1&&(h=l,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=u-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>d)return!1;m>f&&(f=m)}else if(h>0){if(m<f)return!1;m<d&&(d=m)}}return!0}function JS(e,t){e.globalCompositeOperation=t.blend||"source-over"}function td(e,t){return e??t}function m_e(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function c1n(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+td(t.x1,.5)*r,n.y1+td(t.y1,.5)*i,Math.max(r,i)*td(t.r1,0),n.x1+td(t.x2,.5)*r,n.y1+td(t.y2,.5)*i,Math.max(r,i)*td(t.r2,.5));else{const o=td(t.x1,0),a=td(t.y1,0),u=td(t.x2,1),l=td(t.y2,0);if(o===u||a===l||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+u*r,n.y1+l*i);else{const c=jy(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=m_e(f.createLinearGradient(o,a,u,l),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return m_e(s,t.stops)}function sUe(e,t,n){return Lse(n)?c1n(e,n,t.bounds):n}function O6(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=sUe(e,t,t.fill),!0):!1}var f1n=[];function ZS(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=sUe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||f1n),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function d1n(e,t){return e.zindex-t.zindex||e.index-t.index}function Vse(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(d1n)}function Hd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=Vse(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function D6(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=Vse(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Hse(e){return function(t,n,r){Hd(n,i=>{(!r||r.intersects(i.bounds))&&oUe(e,t,i,i)})}}function h1n(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&oUe(e,t,n.items[0],n.items)}}function oUe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(JS(t,n),n.fill&&O6(t,n,i)&&t.fill(),n.stroke&&ZS(t,n,i)&&t.stroke()))}function Zj(e){return e=e||Af,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,D6(n,a=>{const u=a.bounds;if(!(u&&!u.contains(s,o)||!u)&&e(t,a,r,i,s,o))return a})}}function xP(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,u=o.stroke&&n.isPointInStroke,l,c;return u&&(l=o.strokeWidth,c=o.strokeCap,n.lineWidth=l??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||u&&n.isPointInStroke(i,s)}}function qse(e){return Zj(xP(e))}function jb(e,t){return"translate("+e+","+t+")"}function Wse(e){return"rotate("+e+")"}function p1n(e,t){return"scale("+e+","+t+")"}function aUe(e){return jb(e.x||0,e.y||0)}function m1n(e){return jb(e.x||0,e.y||0)+(e.angle?" "+Wse(e.angle):"")}function g1n(e){return jb(e.x||0,e.y||0)+(e.angle?" "+Wse(e.angle):"")+(e.scaleX||e.scaleY?" "+p1n(e.scaleX||1,e.scaleY||1):"")}function Gse(e,t,n){function r(o,a){o("transform",m1n(a)),o("d",t(null,a))}function i(o,a){return t(EP(o,a.angle),a),l0(o,a).translate(a.x||0,a.y||0)}function s(o,a){var u=a.x||0,l=a.y||0,c=a.angle||0;o.translate(u,l),c&&o.rotate(c*=vv),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-u,-l)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Hse(s),pick:qse(s),isect:n||Use(s)}}var y1n=Gse("arc",t1n);function v1n(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function b1n(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function _1n(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function Yse(e,t,n){function r(u,l){var c=l.mark.items;c.length&&u("d",t(null,c))}function i(u,l){var c=l.items;return c.length===0?u:(t(EP(u),c),l0(u,c[0]))}function s(u,l){u.beginPath(),t(u,l)}const o=xP(s);function a(u,l,c,f,d,h){var p=l.items,m=l.bounds;return!p||!p.length||m&&!m.contains(d,h)?null:(c*=u.pixelRatio,f*=u.pixelRatio,o(u,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:h1n(s),pick:a,isect:zse,tip:n}}var w1n=Yse("area",n1n,v1n);function E1n(e,t){var n=t.clip;e.save(),jn(n)?(e.beginPath(),n(e),e.clip()):uUe(e,t.group)}function uUe(e,t){e.beginPath(),jse(t)?DC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function lUe(e){const t=td(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function x1n(e,t){e("transform",aUe(t))}function cUe(e,t){const n=lUe(t);e("d",DC(null,t,n,n))}function S1n(e,t){e("class","background"),e("aria-hidden",!0),cUe(e,t)}function T1n(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?cUe(e,t):e("d","")}function C1n(e,t,n){const r=t.clip?Bse(n,t,t):null;e("clip-path",r)}function A1n(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),l0(e,t),e.translate(t.x||0,t.y||0)}function xR(e,t,n,r){const i=lUe(t);e.beginPath(),DC(e,t,(n||0)+i,(r||0)+i)}const I1n=xP(xR),k1n=xP(xR,!1),R1n=xP(xR,!0);function N1n(e,t,n,r){Hd(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(xR(e,i,s,o),JS(e,i),i.fill&&O6(e,i,u)&&e.fill(),i.stroke&&!a&&ZS(e,i,u)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&uUe(e,i),n&&n.translate(-s,-o),Hd(i,l=>{(l.marktype==="group"||r==null||r.includes(l.marktype))&&this.draw(e,l,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&u&&(xR(e,i,s,o),JS(e,i),ZS(e,i,u)&&e.stroke())})}function P1n(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return D6(t,u=>{let l,c,f;const d=u.bounds;if(d&&!d.contains(i,s))return;c=u.x||0,f=u.y||0;const h=c+(u.width||0),p=f+(u.height||0),m=u.clip;if(m&&(i<c||i>h||s<f||s>p))return;if(e.save(),e.translate(c,f),c=i-c,f=s-f,m&&jse(u)&&!R1n(e,u,o,a))return e.restore(),null;const g=u.strokeForeground,y=t.interactive!==!1;return y&&g&&u.stroke&&k1n(e,u,o,a)?(e.restore(),u):(l=D6(u,v=>O1n(v,c,f)?this.pick(v,n,r,c,f):null),!l&&y&&(u.fill||!g&&u.stroke)&&I1n(e,u,o,a)&&(l=u),e.restore(),l||null)})}function O1n(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var D1n={type:"group",tag:"g",nested:!1,attr:x1n,bound:A1n,draw:N1n,pick:P1n,isect:rUe,content:C1n,background:S1n,foreground:T1n},SR={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Kse(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Xse(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Qse(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function e8(e,t){return e==="center"?t/2:e==="right"?t:0}function t8(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function $1n(e,t,n){const r=Kse(t,n),i=Xse(t,r),s=Qse(t,r),o=(t.x||0)-e8(t.align,i),a=(t.y||0)-t8(t.baseline,s),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,SR["xmlns:xlink"],"xlink:href"),e("transform",jb(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function M1n(e,t){const n=t.image,r=Xse(t,n),i=Qse(t,n),s=(t.x||0)-e8(t.align,r),o=(t.y||0)-t8(t.baseline,i);return e.set(s,o,s+r,o+i)}function L1n(e,t,n){Hd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Kse(r,this);let s=Xse(r,i),o=Qse(r,i);if(s===0||o===0)return;let a=(r.x||0)-e8(r.align,s),u=(r.y||0)-t8(r.baseline,o),l,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=s/c,u+=(o-d)/2,o=d):(d=o*c,a+=(s-d)/2,s=d))),(i.complete||i.toDataURL)&&(JS(e,r),e.globalAlpha=(l=r.opacity)!=null?l:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,u,s,o))})}var F1n={type:"image",tag:"image",nested:!1,attr:$1n,bound:M1n,draw:L1n,pick:Zj(),isect:Af,get:Kse,xOffset:e8,yOffset:t8},j1n=Yse("line",r1n,b1n);function B1n(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",g1n(t)),e("d",t.path)}function uM(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*vv,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=QS(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),ER(e,u,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):ER(e,u,r,i,s,o)}function U1n(e,t){return uM(EP(e,t.angle),t)?e.set(0,0,0,0):l0(e,t,!0)}var z1n={type:"path",tag:"path",nested:!1,attr:B1n,bound:U1n,draw:Hse(uM),pick:qse(uM),isect:Use(uM)};function V1n(e,t){e("d",DC(null,t))}function H1n(e,t){var n,r;return l0(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function g_e(e,t){e.beginPath(),DC(e,t)}var q1n={type:"rect",tag:"path",nested:!1,attr:V1n,bound:H1n,draw:Hse(g_e),pick:qse(g_e),isect:rUe};function W1n(e,t){e("transform",aUe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function G1n(e,t){var n,r;return l0(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function fUe(e,t,n){var r,i,s,o;return t.stroke&&ZS(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function Y1n(e,t,n){Hd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&fUe(e,r,i)&&(JS(e,r),e.stroke())}})}function K1n(e,t,n,r){return e.isPointInStroke?fUe(e,t,1)&&e.isPointInStroke(n,r):!1}var X1n={type:"rule",tag:"line",nested:!1,attr:W1n,bound:G1n,draw:Y1n,pick:Zj(K1n),isect:iUe},Q1n=Gse("shape",i1n),J1n=Gse("symbol",s1n,zse);const y_e=K8e();var yc={height:Jp,measureWidth:Jse,estimateWidth:$6,width:$6,canvas:dUe};dUe(!0);function dUe(e){yc.width=e&&By?Jse:$6}function $6(e,t){return hUe(_v(e,t),Jp(e))}function hUe(e,t){return~~(.8*e.length*t)}function Jse(e,t){return Jp(e)<=0||!(t=_v(e,t))?0:pUe(t,n8(e))}function pUe(e,t){const n=`(${t}) ${e}`;let r=y_e.get(n);return r===void 0&&(By.font=t,r=By.measureText(e).width,y_e.set(n,r)),r}function Jp(e){return e.fontSize!=null?+e.fontSize||0:11}function bv(e){return e.lineHeight!=null?e.lineHeight:Jp(e)+2}function Z1n(e){return qe(e)?e.length>1?e:e[0]:e}function SP(e){return Z1n(e.lineBreak&&e.text&&!qe(e.text)?e.text.split(e.lineBreak):e.text)}function Zse(e){const t=SP(e);return(qe(t)?t.length-1:0)*bv(e)}function _v(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?tbn(e,n):n}function ebn(e){if(yc.width===Jse){const t=n8(e);return n=>pUe(n,t)}else if(yc.width===$6){const t=Jp(e);return n=>hUe(n,t)}else return t=>yc.width(e,t)}function tbn(e,t){var n=+e.limit,r=ebn(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",o=0,a=t.length,u;if(n-=r(i),s){for(;o<a;)u=o+a>>>1,r(t.slice(u))>n?o=u+1:a=u;return i+t.slice(o)}else{for(;o<a;)u=1+(o+a>>>1),r(t.slice(0,u))<n?o=u:a=u-1;return t.slice(0,o)+i}}function TP(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function n8(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Jp(e)+"px "+TP(e,t)}function eoe(e){var t=e.baseline,n=Jp(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*bv(e):t==="line-bottom"?.29*n-.5*bv(e):0)}const nbn={left:"start",center:"middle",right:"end"},FI=new no;function r8(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-rb,t+=r*Math.cos(i),n+=r*Math.sin(i)),FI.x1=t,FI.y1=n,FI}function rbn(e,t){var n=t.dx||0,r=(t.dy||0)+eoe(t),i=r8(t),s=i.x1,o=i.y1,a=t.angle||0,u;e("text-anchor",nbn[t.align]||"start"),a?(u=jb(s,o)+" "+Wse(a),(n||r)&&(u+=" "+jb(n,r))):u=jb(s+n,o+r),e("transform",u)}function toe(e,t,n){var r=yc.height(t),i=t.align,s=r8(t),o=s.x1,a=s.y1,u=t.dx||0,l=(t.dy||0)+eoe(t)-Math.round(.8*r),c=SP(t),f;if(qe(c)?(r+=bv(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,yc.width(t,h)),0)):f=yc.width(t,c),i==="center"?u-=f/2:i==="right"&&(u-=f),e.set(u+=o,l+=a,u+f,l+r),t.angle&&!n)e.rotate(t.angle*vv,o,a);else if(n===2)return e.rotatedPoints(t.angle*vv,o,a);return e}function ibn(e,t,n){Hd(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,u,l,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=n8(r),e.textAlign=r.align||"left",s=r8(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*vv),o=a=0),o+=r.dx||0,a+=(r.dy||0)+eoe(r),c=SP(r),JS(e,r),qe(c))for(l=bv(r),u=0;u<c.length;++u)f=_v(r,c[u]),r.fill&&O6(e,r,i)&&e.fillText(f,o,a),r.stroke&&ZS(e,r,i)&&e.strokeText(f,o,a),a+=l;else f=_v(r,c),r.fill&&O6(e,r,i)&&e.fillText(f,o,a),r.stroke&&ZS(e,r,i)&&e.strokeText(f,o,a);r.angle&&e.restore()}})}function sbn(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=r8(t),a=o.x1,u=o.y1,l=toe(FI,t,1),c=-t.angle*vv,f=Math.cos(c),d=Math.sin(c),h=f*i-d*s+(a-f*a+d*u),p=d*i+f*s+(u-d*a-f*u);return l.contains(h,p)}function obn(e,t){const n=toe(FI,e,2);return rx(t,n[0],n[1],n[2],n[3])||rx(t,n[0],n[1],n[4],n[5])||rx(t,n[4],n[5],n[6],n[7])||rx(t,n[2],n[3],n[6],n[7])}var abn={type:"text",tag:"text",nested:!1,attr:rbn,bound:toe,draw:ibn,pick:Zj(sbn),isect:obn},ubn=Yse("trail",o1n,_1n),Nc={arc:y1n,area:w1n,group:D1n,image:F1n,line:j1n,path:z1n,rect:q1n,rule:X1n,shape:Q1n,symbol:J1n,text:abn,trail:ubn};function rY(e,t,n){var r=Nc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new no),e,n)}var v_e={mark:null};function mUe(e,t,n){var r=Nc[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,u,l,c;if(r.nested)return o?l=s[0]:(v_e.mark=e,l=v_e),c=rY(l,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new no,o)for(a=0,u=s.length;a<u;++a)t.union(rY(s[a],i,n));return e.bounds=t}const lbn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function gUe(e,t){return JSON.stringify(e,lbn,t)}function yUe(e){const t=typeof e=="string"?JSON.parse(e):e;return vUe(t)}function vUe(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&vUe(n[i]);return t&&mUe(e),e}class bUe{constructor(t){arguments.length?this.root=yUe(t):(this.root=b_e({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Qj(this.root)])}toJSON(t){return gUe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=b_e(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function b_e(e,t){const n={bounds:new no,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function uy(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function noe(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function fo(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=uy(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function af(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function _Ue(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function i8(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function cbn(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=Nc[i.marktype]).tip){for(o=i8(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let roe=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||Oj(),this._tooltip=n||fbn}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=uy(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=cbn(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let u=s.x1+i[0]+r.left,l=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,l+=t.y||0;return{x:u,y:l,width:o,height:a,left:u,top:l,right:u+o,bottom:l+a}}};function fbn(e,t,n,r){e.element().setAttribute("title",r||"")}class CP{constructor(t){this._el=null,this._bgcolor=null,this._loader=new nUe(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const dbn="keydown",hbn="keypress",pbn="keyup",wUe="dragenter",lM="dragleave",EUe="dragover",iY="pointerdown",mbn="pointerup",M6="pointermove",cM="pointerout",xUe="pointerover",sY="mousedown",gbn="mouseup",SUe="mousemove",L6="mouseout",TUe="mouseover",F6="click",ybn="dblclick",vbn="wheel",CUe="mousewheel",j6="touchstart",B6="touchmove",U6="touchend",bbn=[dbn,hbn,pbn,wUe,lM,EUe,iY,mbn,M6,cM,xUe,sY,gbn,SUe,L6,TUe,F6,ybn,vbn,CUe,j6,B6,U6],oY=M6,jI=L6,aY=F6;class AP extends roe{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=bbn,this.pointermove=w_e([M6,SUe],[xUe,TUe],[cM,L6]),this.dragover=w_e([EUe],[wUe],[lM]),this.pointerout=E_e([cM,L6]),this.dragleave=E_e([lM])}initialize(t,n,r){return this._canvas=t&&noe(t,"canvas"),[F6,sY,iY,M6,cM,lM].forEach(i=>__e(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(CUe,t)}pointerdown(t){this._down=this._active,this.fire(iY,t)}mousedown(t){this._down=this._active,this.fire(sY,t)}click(t){this._down===this._active&&(this.fire(F6,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(j6,t,!0)}touchmove(t){this.fire(B6,t,!0)}touchend(t){this.fire(U6,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===aY&&i&&i.href?this.handleHref(n,i,i.href):(t===oY||t===jI)&&this.handleTooltip(n,i,t!==jI),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(__e(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=i8(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return Nc[t.marktype].pick.call(this,o,t,n,r,i,s)}}const _bn=e=>e===j6||e===B6||e===U6?[j6,B6,U6]:[e];function __e(e,t){_bn(t).forEach(n=>wbn(e,n))}function wbn(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function LA(e,t,n){t.forEach(r=>e.fire(r,n))}function w_e(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?LA(this,e,r):((!i||!i.exit)&&LA(this,n,r),this._active=s,LA(this,t,r),LA(this,e,r))}}function E_e(e){return function(t){LA(this,e,t),this._active=null}}function Ebn(){return typeof window<"u"&&window.devicePixelRatio||1}function xbn(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),u=o?Ebn():i;e.width=t*u,e.height=n*u;for(const l in s)a[l]=s[l];return o&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=u,a.setTransform(u,0,0,u,u*r[0],u*r[1]),e}class z6 extends CP{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new no,this._tempb=new no}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:jy(1,1,this._options.type),t&&this._canvas&&(af(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)xbn(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Ue("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,u=Sbn(i,s,o);r.save();const l=this._redraw||a.empty()?(this._redraw=!1,u.expand(1)):Tbn(r,u.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,l,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=Nc[n.marktype];n.clip&&E1n(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const Sbn=(e,t,n)=>new no().set(0,0,t,n).translate(-e[0],-e[1]);function Tbn(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class AUe extends roe{constructor(t,n){super(t,n);const r=this;r._hrefHandler=oz(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=oz(r,(i,s)=>{r.handleTooltip(i,s,i.type!==jI)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(aY,this._hrefHandler),i.removeEventListener(oY,this._tooltipHandler),i.removeEventListener(jI,this._tooltipHandler)),this._svg=i=t&&noe(t,"svg"),i&&(i.addEventListener(aY,this._hrefHandler),i.addEventListener(oY,this._tooltipHandler),i.addEventListener(jI,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:oz(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const oz=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},IUe="aria-hidden",ioe="aria-label",soe="role",ooe="aria-roledescription",kUe="graphics-object",aoe="graphics-symbol",RUe=(e,t,n)=>({[soe]:e,[ooe]:t,[ioe]:n||void 0}),Cbn=zd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),x_e={axis:{desc:"axis",caption:kbn},legend:{desc:"legend",caption:Rbn},"title-text":{desc:"title",caption:e=>`Title text '${T_e(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${T_e(e)}'`}},S_e={ariaRole:soe,ariaRoleDescription:ooe,description:ioe};function NUe(e,t){const n=t.aria===!1;if(e(IUe,n||void 0),n||t.description==null)for(const r in S_e)e(S_e[r],void 0);else{const r=t.mark.marktype;e(ioe,t.description),e(soe,t.ariaRole||(r==="group"?kUe:aoe)),e(ooe,t.ariaRoleDescription||`${r} mark`)}}function PUe(e){return e.aria===!1?{[IUe]:!0}:Cbn[e.role]?null:x_e[e.role]?Ibn(e,x_e[e.role]):Abn(e)}function Abn(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return RUe(n?kUe:aoe,`${t} mark container`,e.description)}function Ibn(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return RUe(t.role||aoe,t.desc,n.description||r(n))}catch{return null}}function T_e(e){return xt(e.text).join(" ")}function kbn(e){const t=e.datum,n=e.orient,r=t.title?OUe(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${XS(a)?"discrete":a} scale with ${W9e(o,s,e)}`}function Rbn(e){const t=e.datum,n=t.title?OUe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,u=o.dataflow.locale();return Pbn(r)+(n?` titled '${n}'`:"")+` for ${Nbn(s)} with ${W9e(u,a,e)}`}function OUe(e){try{return xt(yr(e.items).items[0].text).join(" ")}catch{return null}}function Nbn(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+yr(e)}function Pbn(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const DUe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Obn=e=>DUe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function uoe(){let e="",t="",n="";const r=[],i=()=>t=n="",s=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},o=(u,l)=>(l!=null&&(t+=` ${u}="${Obn(l)}"`),a),a={open(u){s(u),t="<"+u;for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)o(h,d[h]);return a},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),a},attr:o,text:u=>(n+=DUe(u),a),toString:()=>e};return a}const $Ue=e=>MUe(uoe(),e)+"";function MUe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):MUe(e,r)}return e.close()}const V6={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},H6={blend:"mix-blend-mode"},LUe={fill:"none","stroke-miterlimit":10},F2=0,C_e="http://www.w3.org/2000/xmlns/",lo=SR.xmlns;class loe extends CP{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=fo(t,0,"svg",lo),this._svg.setAttributeNS(C_e,"xmlns",lo),this._svg.setAttributeNS(C_e,"xmlns:xlink",SR["xmlns:xlink"]),this._svg.setAttribute("version",SR.version),this._svg.setAttribute("class","marks"),af(t,1),this._root=fo(this._svg,F2,"g",lo),ly(this._root,LUe),af(this._svg,F2+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(ly(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=fo(t,F2,"rect",lo),ly(r,{width:this._width,height:this._height,fill:n}));const i=$Ue(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),af(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,u,l;for(a=0,u=t.length;a<u;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=Nc[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,A_e(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(o,l._svg,l)):r._svg&&(l=r._svg.parentNode,l&&l.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,A_e(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=Nc[o],u=n.interactive===!1?"none":null,l=a.tag==="g",c=I_e(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return af(c,0),n._svg;c.setAttribute("class",_Ue(n));const f=PUe(n);for(const m in f)du(c,m,f[m]);l||du(c,"pointer-events",u),du(c,"clip-path",n.clip?Bse(this,n,n.group):null);let d=null,h=0;const p=m=>{const g=this.isDirty(m),y=I_e(m,c,d,a.tag,s);g&&(this._update(a,y,m),l&&Mbn(this,y,m,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):Hd(n,p),af(c,h),c}_update(t,n,r){Km=n,Fa=n.__values__,NUe(BI,r),t.attr(BI,r,this);const i=Fbn[t.type];i&&i.call(this,t,n,r),Km&&this.style(Km,r)}style(t,n){if(n!=null){for(const r in V6){let i=r==="font"?TP(n):n[r];if(i===Fa[r])continue;const s=V6[r];i==null?t.removeAttribute(s):(Lse(i)&&(i=Y9e(i,this._defs.gradient,FUe())),t.setAttribute(s,i+"")),Fa[r]=i}for(const r in H6)fM(t,H6[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=fo(t,F2+1,"defs",lo)),i=Dbn(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=fo(t,F2+1,"defs",lo)),i=$bn(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):af(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function A_e(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Dbn(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=fo(e,n++,"pattern",lo);ly(o,{id:P6+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=fo(o,0,"rect",lo),ly(o,{width:1,height:1,fill:`url(${FUe()}#${t.id})`}),e=fo(e,n++,"radialGradient",lo),ly(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=fo(e,n++,"linearGradient",lo),ly(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=fo(e,r,"stop",lo),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return af(e,r),n}function $bn(e,t,n){let r;return e=fo(e,n,"clipPath",lo),e.setAttribute("id",t.id),t.path?(r=fo(e,0,"path",lo),r.setAttribute("d",t.path)):(r=fo(e,0,"rect",lo),ly(r,{x:0,y:0,width:t.width,height:t.height})),af(e,1),n+1}function Mbn(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Hd(n,o=>{i=e.mark(t,o,i,r),++s}),af(t,1+s)}function I_e(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=uy(o,r,lo),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=uy(o,"path",lo);s.appendChild(a),a.__data__=e;const u=uy(o,"g",lo);s.appendChild(u),u.__data__=e;const l=uy(o,"path",lo);s.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(s.ownerSVGElement!==i||Lbn(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function Lbn(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Km=null,Fa=null;const Fbn={group(e,t,n){const r=Km=t.childNodes[2];Fa=r.__values__,e.foreground(BI,n,this),Fa=t.__values__,Km=t.childNodes[1],e.content(BI,n,this);const i=Km=t.childNodes[0];e.background(BI,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==Fa.events&&(du(r,"pointer-events",s),du(i,"pointer-events",s),Fa.events=s),n.strokeForeground&&n.stroke){const o=n.fill;du(r,"display",null),this.style(i,n),du(i,"stroke",null),o&&(n.fill=null),Fa=r.__values__,this.style(r,n),o&&(n.fill=o),Km=null}else du(r,"display","none")},image(e,t,n){n.smooth===!1?(fM(t,"image-rendering","optimizeSpeed"),fM(t,"image-rendering","pixelated")):fM(t,"image-rendering",null)},text(e,t,n){const r=SP(n);let i,s,o,a;qe(r)?(s=r.map(u=>_v(n,u)),i=s.join(`
`),i!==Fa.text&&(af(t,0),o=t.ownerDocument,a=bv(n),s.forEach((u,l)=>{const c=uy(o,"tspan",lo);c.__data__=n,c.textContent=u,l&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Fa.text=i)):(s=_v(n,r),s!==Fa.text&&(t.textContent=s,Fa.text=s)),du(t,"font-family",TP(n)),du(t,"font-size",Jp(n)+"px"),du(t,"font-style",n.fontStyle),du(t,"font-variant",n.fontVariant),du(t,"font-weight",n.fontWeight)}};function BI(e,t,n){t!==Fa[e]&&(n?jbn(Km,e,t,n):du(Km,e,t),Fa[e]=t)}function fM(e,t,n){n!==Fa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Fa[t]=n)}function ly(e,t){for(const n in t)du(e,n,t[n])}function du(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function jbn(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function FUe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class jUe extends CP{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=uoe();n.open("svg",Fn({},SR,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",LUe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Nc[n.marktype],i=r.tag,s=[NUe,r.attr];t.open("g",{class:_Ue(n),"clip-path":n.clip?Bse(this,n,n.group):null},PUe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const u=this.href(a);if(u&&t.open("a",u),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const l=SP(a);if(qe(l)){const c={x:0,dy:bv(a)};for(let f=0;f<l.length;++f)t.open("tspan",f?c:null).text(_v(a,l[f])).close()}else t.text(_v(a,l))}else if(i==="g"){const l=a.strokeForeground,c=a.fill,f=a.stroke;l&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Hd(a,d=>this.mark(t,d)),t.close(),l&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Hd(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,u,l,c)=>{s[c||a]=u};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&Bbn(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:P6+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let u=0;u<a.length;++u)t.open("stop",{offset:a[u].offset,"stop-color":a[u].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function Bbn(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=TP(t),e["font-size"]=Jp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in V6){let a=t[o];const u=V6[o];a==="transparent"&&(u==="fill"||u==="stroke")||a!=null&&(Lse(a)&&(a=Y9e(a,i.gradient,"")),e[u]=a)}for(const o in H6){const a=t[o];a!=null&&(s=s||[],s.push(`${H6[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const ud={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Ubn(e){ud.svgMarkTypes=e.svgMarkTypes??["text"],ud.svgOnTop=e.svgOnTop??!0,ud.debug=e.debug??!1}class uY extends CP{constructor(t){super(t),this._svgRenderer=new loe(t),this._canvasRenderer=new z6(t)}initialize(t,n,r,i,s){this._root_el=fo(t,0,"div");const o=fo(this._root_el,0,"div"),a=fo(this._root_el,1,"div");return this._root_el.style.position="relative",ud.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=ud.svgOnTop?a:o,this._canvasEl=ud.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return ud.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!ud.svgMarkTypes.includes(s));this._svgRenderer.render(t,ud.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ud.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class BUe extends AP{constructor(t,n){super(t,n)}initialize(t,n,r){const i=fo(fo(t,0,"div"),ud.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const UUe="canvas",zUe="hybrid",VUe="png",HUe="svg",qUe="none",cy={Canvas:UUe,PNG:VUe,SVG:HUe,Hybrid:zUe,None:qUe},x_={};x_[UUe]=x_[VUe]={renderer:z6,headless:z6,handler:AP};x_[HUe]={renderer:loe,headless:jUe,handler:AUe};x_[zUe]={renderer:uY,headless:uY,handler:BUe};x_[qUe]={};function s8(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(x_[e]=t,this):x_[e]}function WUe(e,t,n){const r=[],i=new no().union(t),s=e.marktype;return s?GUe(e,i,n,r):s==="group"?YUe(e,i,n,r):Ue("Intersect scene must be mark node or group item.")}function GUe(e,t,n,r){if(zbn(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)YUe(i[a],t,n,r);else for(const u=Nc[s].isect;a<o;++a){const l=i[a];KUe(l,t,u)&&r.push(l)}}return r}function zbn(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function YUe(e,t,n,r){n&&n(e.mark)&&KUe(e,t,Nc.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let u=0;u<s;++u)GUe(i[u],t,n,r);t.translate(o,a)}return r}function KUe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const az=new no;function XUe(e){const t=e.clip;if(jn(t))t(EP(az.clear()));else if(t)az.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(az)}const Vbn=1e-9;function coe(e,t,n){return e===t?!0:n==="path"?QUe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Ir(e)&&Ir(t)?Math.abs(e-t)<=Vbn:!e||!t||!Tt(e)&&!Tt(t)?e==t:Hbn(e,t)}function QUe(e,t){return coe(QS(e),QS(t))}function Hbn(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!coe(e[i],t[i],i))return!1;return typeof e==typeof t}function qbn(){tUe(),mvn()}const eT="top",vd="left",xd="right",wv="bottom",Wbn="top-left",Gbn="top-right",Ybn="bottom-left",Kbn="bottom-right",foe="start",lY="middle",gu="end",Xbn="x",Qbn="y",o8="group",doe="axis",hoe="title",Jbn="frame",Zbn="scope",poe="legend",JUe="row-header",ZUe="row-footer",e7e="row-title",t7e="column-header",n7e="column-footer",r7e="column-title",e_n="padding",t_n="symbol",i7e="fit",s7e="fit-x",o7e="fit-y",n_n="pad",moe="none",ND="all",cY="each",goe="flush",fy="column",dy="row";function a7e(e){$e.call(this,null,e)}yt(a7e,$e,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=Nc[i],o=s.bound;let a=r.bounds,u;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=PD(r,o),r.items.forEach(l=>{l.bounds.clear().union(a)});else if(i===o8||e.modified())switch(t.visit(t.MOD,l=>n.dirty(l)),a.clear(),r.items.forEach(l=>a.union(PD(l,o))),r.role){case doe:case poe:case hoe:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,l=>{a.union(PD(l,o))}),t.visit(t.MOD,l=>{u=u||a.alignsWith(l.bounds),n.dirty(l),a.union(PD(l,o))}),u&&(a.clear(),r.items.forEach(l=>a.union(l.bounds)));return XUe(r),t.modifies("bounds")}});function PD(e,t,n){return t(e.bounds.clear(),e,n)}const k_e=":vega_identifier:";function yoe(e){$e.call(this,0,e)}yoe.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};yt(yoe,$e,{transform(e,t){const n=r_n(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function r_n(e){return e._signals[k_e]||(e._signals[k_e]=e.add(0))}function u7e(e){$e.call(this,null,e)}yt(u7e,$e,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,i_n(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===o8?Qj:Xj;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function i_n(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function l7e(e){$e.call(this,null,e)}const R_e={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!c7e(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},c7e=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),N_e=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(c7e(i,s=e[n].bounds,t))return!0},s_n=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},o_n=(e,t,n)=>{var r=e.range(),i=new no;return t===eT||t===wv?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},P_e=e=>(e.forEach(t=>t.opacity=1),e),O_e=(e,t)=>e.reflow(t.modified()).modifies("opacity");yt(l7e,$e,{transform(e,t){const n=R_e[e.method]||R_e.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(P_e(i),t=O_e(t,e)),t;if(i=i.filter(s_n),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=P_e(i),t=O_e(t,e),s.length>=3&&N_e(s,r)){do s=n(s,r);while(s.length>=3&&N_e(s,r));s.length<3&&!yr(i).opacity&&(s.length>1&&(yr(s).opacity=0),yr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=o_n(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{o(u)||(u.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&a.union(u.bounds)}),t}});function f7e(e){$e.call(this,null,e)}yt(f7e,$e,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ma=new no;function ix(e,t,n){return e[t]===n?0:(e[t]=n,1)}function a_n(e){var t=e.items[0].orient;return t===vd||t===xd}function u_n(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function l_n(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,u=u_n(s),l=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=s.title&&i.items[u[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&Zse(p),v=0,b=0,w,E;switch(Ma.clear().union(g),g.clear(),(w=u[0])>-1&&g.union(i.items[w].bounds),(w=u[1])>-1&&g.union(i.items[w].bounds),a){case eT:v=f||0,b=-c,E=Math.max(d,Math.min(h,-g.y1)),g.add(0,-E).add(l,0),p&&OD(e,p,E,m,y,0,-1,g);break;case vd:v=-c,b=f||0,E=Math.max(d,Math.min(h,-g.x1)),g.add(-E,0).add(0,l),p&&OD(e,p,E,m,y,1,-1,g);break;case xd:v=n+c,b=f||0,E=Math.max(d,Math.min(h,g.x2)),g.add(0,0).add(E,l),p&&OD(e,p,E,m,y,1,1,g);break;case wv:v=f||0,b=r+c,E=Math.max(d,Math.min(h,g.y2)),g.add(0,0).add(l,E),p&&OD(e,p,E,m,0,0,1,g);break;default:v=i.x,b=i.y}return l0(g.translate(v,b),i),ix(i,"x",v+o)|ix(i,"y",b+o)&&(i.bounds=Ma,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function OD(e,t,n,r,i,s,o,a){const u=t.bounds;if(t.auto){const l=o*(n+i+r);let c=0,f=0;e.dirty(t),s?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}a.union(u)}const D_e=(e,t)=>Math.floor(Math.min(e,t)),$_e=(e,t)=>Math.ceil(Math.max(e,t));function c_n(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===o8)switch(i.role){case doe:case poe:case hoe:break;case JUe:o.rowheaders.push(...s);break;case ZUe:o.rowfooters.push(...s);break;case t7e:o.colheaders.push(...s);break;case n7e:o.colfooters.push(...s);break;case e7e:o.rowtitle=s[0];break;case r7e:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function f_n(e){return new no().set(0,0,e.width||0,e.height||0)}function d_n(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Wi(e,t,n){const r=Tt(e)?e[t]:e;return r??(n!==void 0?n:0)}function M_e(e){return e<0?Math.ceil(-e):0}function d7e(e,t,n){var r=!n.nodirty,i=n.bounds===goe?f_n:d_n,s=Ma.set(0,0,0,0),o=Wi(n.align,fy),a=Wi(n.align,dy),u=Wi(n.padding,fy),l=Wi(n.padding,dy),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),m=0,g=Array(d),y=Array(f),v=0,b=Array(d),w=Array(d),E=Array(d),x,S,C,I,k,R,D,P,$,L,M;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)R=t[S],k=E[S]=i(R),R.x=R.x||0,b[S]=0,R.y=R.y||0,w[S]=0,C=S%c,I=~~(S/c),m=Math.max(m,D=Math.ceil(k.x2)),v=Math.max(v,P=Math.ceil(k.y2)),p[C]=Math.max(p[C],D),y[I]=Math.max(y[I],P),h[S]=u+M_e(k.x1),g[S]=l+M_e(k.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(g[S]=0);if(o===cY)for(C=1;C<c;++C){for(M=0,S=C;S<d;S+=c)M<h[S]&&(M=h[S]);for(S=C;S<d;S+=c)h[S]=M+p[C-1]}else if(o===ND){for(M=0,S=0;S<d;++S)S%c&&M<h[S]&&(M=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=M+m)}else for(o=!1,C=1;C<c;++C)for(S=C;S<d;S+=c)h[S]+=p[C-1];if(a===cY)for(I=1;I<f;++I){for(M=0,S=I*c,x=S+c;S<x;++S)M<g[S]&&(M=g[S]);for(S=I*c;S<x;++S)g[S]=M+y[I-1]}else if(a===ND){for(M=0,S=c;S<d;++S)M<g[S]&&(M=g[S]);for(S=c;S<d;++S)g[S]=M+v}else for(a=!1,I=1;I<f;++I)for(S=I*c,x=S+c;S<x;++S)g[S]+=y[I-1];for($=0,S=0;S<d;++S)$=h[S]+(S%c?$:0),b[S]+=$-t[S].x;for(C=0;C<c;++C)for(L=0,S=C;S<d;S+=c)L+=g[S],w[S]+=L-t[S].y;if(o&&Wi(n.center,fy)&&f>1)for(S=0;S<d;++S)k=o===ND?m:p[S%c],$=k-E[S].x2-t[S].x-b[S],$>0&&(b[S]+=$/2);if(a&&Wi(n.center,dy)&&c!==1)for(S=0;S<d;++S)k=a===ND?v:y[~~(S/c)],L=k-E[S].y2-t[S].y-w[S],L>0&&(w[S]+=L/2);for(S=0;S<d;++S)s.union(E[S].translate(b[S],w[S]));switch($=Wi(n.anchor,Xbn),L=Wi(n.anchor,Qbn),Wi(n.anchor,fy)){case gu:$-=s.width();break;case lY:$-=s.width()/2}switch(Wi(n.anchor,dy)){case gu:L-=s.height();break;case lY:L-=s.height()/2}for($=Math.round($),L=Math.round(L),s.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)R=t[S],R.x+=b[S]+=$,R.y+=w[S]+=L,s.union(R.mark.bounds.union(R.bounds.translate(b[S],w[S]))),r&&e.dirty(R);return s}function h_n(e,t,n){var r=c_n(t),i=r.marks,s=n.bounds===goe?p_n:m_n,o=n.offset,a=n.columns||i.length,u=a<=0?1:Math.ceil(i.length/a),l=u*a,c,f,d,h,p,m,g;const y=d7e(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=Wi(n.headerBand,dy,null),c=DD(e,r.rowheaders,i,a,u,-Wi(o,"rowHeader"),D_e,0,s,"x1",0,a,1,m)),r.colheaders&&(m=Wi(n.headerBand,fy,null),f=DD(e,r.colheaders,i,a,a,-Wi(o,"columnHeader"),D_e,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=Wi(n.footerBand,dy,null),d=DD(e,r.rowfooters,i,a,u,Wi(o,"rowFooter"),$_e,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=Wi(n.footerBand,fy,null),h=DD(e,r.colfooters,i,a,a,Wi(o,"columnFooter"),$_e,1,s,"y2",l-a,1,a,m)),r.rowtitle&&(p=Wi(n.titleAnchor,dy),g=Wi(o,"rowTitle"),g=p===gu?d+g:c-g,m=Wi(n.titleBand,dy,.5),L_e(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=Wi(n.titleAnchor,fy),g=Wi(o,"columnTitle"),g=p===gu?h+g:f-g,m=Wi(n.titleBand,fy,.5),L_e(e,r.coltitle,g,1,y,m))}function p_n(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function m_n(e,t){return e.bounds[t]}function DD(e,t,n,r,i,s,o,a,u,l,c,f,d,h){var p=n.length,m=0,g=0,y,v,b,w,E,x,S,C,I;if(!p)return m;for(y=c;y<p;y+=f)n[y]&&(m=o(m,u(n[y],l)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,v=0,w=t.length;v<w;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,w=t.length;v<w;++v,y+=f){for(x=t[v],E=x.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);a?(C=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),I=m):(C=m,I=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),E.union(x.bounds.translate(C-(x.x||0),I-(x.y||0))),x.x=C,x.y=I,e.dirty(x),g=o(g,E[l])}return g}function L_e(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function g_n(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function y_n(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function v_n(e,t,n,r,i,s,o){const a=g_n(n,t),u=y_n(e,a("offset",0)),l=a("anchor",foe),c=l===gu?1:l===lY?.5:0,f={align:cY,bounds:a("bounds",goe),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case vd:f.anchor={x:Math.floor(r.x1)-u,column:gu,y:c*(o||r.height()+2*r.y1),row:l};break;case xd:f.anchor={x:Math.ceil(r.x2)+u,y:c*(o||r.height()+2*r.y1),row:l};break;case eT:f.anchor={y:Math.floor(i.y1)-u,row:gu,x:c*(s||i.width()+2*i.x1),column:l};break;case wv:f.anchor={y:Math.ceil(i.y2)+u,x:c*(s||i.width()+2*i.x1),column:l};break;case Wbn:f.anchor={x:u,y:u};break;case Gbn:f.anchor={x:s-u,y:u,column:gu};break;case Ybn:f.anchor={x:u,y:o-u,row:gu};break;case Kbn:f.anchor={x:s-u,y:o-u,column:gu,row:gu};break}return f}function b_n(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,u,l;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),w_n(e,n,n.items[0].items[0]),s=__n(n,s),u=2*n.padding,l=2*n.padding,s.empty()||(u=Math.ceil(s.width()+u),l=Math.ceil(s.height()+l)),r.type===t_n&&E_n(n.items[0].items[0].items[0].items),i!==moe&&(n.x=o=0,n.y=a=0),n.width=u,n.height=l,l0(s.set(o,a,o+u,a+l),n),n.mark.bounds.clear().union(s),n}function __n(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function w_n(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&j2(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,u=t.titlePadding||0,l=r-o.x,c=r-o.y;switch(o.orient){case vd:i+=Math.ceil(o.bounds.width())+u;break;case xd:case wv:break;default:s+=o.bounds.height()+u}switch((i||s)&&j2(e,n,i,s),o.orient){case vd:c+=sE(t,n,o,a,1,1);break;case xd:l+=sE(t,n,o,gu,0,0)+u,c+=sE(t,n,o,a,1,1);break;case wv:l+=sE(t,n,o,a,0,0),c+=sE(t,n,o,gu,-1,0,1)+u;break;default:l+=sE(t,n,o,a,0,0)}(l||c)&&j2(e,o,l,c),(l=Math.round(o.bounds.x1-r))<0&&(j2(e,n,-l,0),j2(e,o,-l,0))}}function sE(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",u=n.datum.vgrad,l=a&&(s||!u)&&!o?t.items[0]:t,c=l.bounds[i?"y2":"x2"]-e.padding,f=u&&s?c:0,d=u&&s?0:c,h=i<=0?0:Zse(n);return Math.round(r===foe?f:r===gu?d-h:.5*(c-h))}function j2(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function E_n(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function x_n(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,u=s.anchor,l=s.offset,c=s.padding,f=s.items[0].items[0],d=s.items[1]&&s.items[1].items[0],h=a===vd||a===xd?r:n,p=0,m=0,g=0,y=0,v=0,b;if(o!==o8?a===vd?(p=i.y2,h=i.y1):a===xd?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===vd&&(p=r,h=0),b=u===foe?p:u===gu?h:(p+h)/2,d&&d.text){switch(a){case eT:case wv:v=f.bounds.height()+c;break;case vd:y=f.bounds.width()+c;break;case xd:y=-f.bounds.width()-c;break}Ma.clear().union(d.bounds),Ma.translate(y-(d.x||0),v-(d.y||0)),ix(d,"x",y)|ix(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(Ma),d.mark.bounds.clear().union(Ma),e.dirty(d)),Ma.clear().union(d.bounds)}else Ma.clear();switch(Ma.union(f.bounds),a){case eT:m=b,g=i.y1-Ma.height()-l;break;case vd:m=i.x1-Ma.width()-l,g=b;break;case xd:m=i.x2+Ma.width()+l,g=b;break;case wv:m=b,g=i.y2+l;break;default:m=s.x,g=s.y}return ix(s,"x",m)|ix(s,"y",g)&&(Ma.translate(m,g),e.dirty(s),s.bounds.clear().union(Ma),t.bounds.clear().union(Ma),e.dirty(s)),s.bounds}function h7e(e){$e.call(this,null,e)}yt(h7e,$e,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&h_n(n,r,e.layout),T_n(n,r,e)}),S_n(e.mark.group)?t.reflow():t}});function S_n(e){return e&&e.mark.role!=="legend-entry"}function T_n(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new no().set(0,0,i,s),a=o.clone(),u=o.clone(),l=[],c,f,d,h,p,m;for(p=0,m=r.length;p<m;++p)switch(f=r[p],f.role){case doe:h=a_n(f)?a:u,h.union(l_n(e,f,i,s));break;case hoe:c=f;break;case poe:l.push(b_n(e,f));break;case Jbn:case Zbn:case JUe:case ZUe:case e7e:case t7e:case n7e:case r7e:a.union(f.bounds),u.union(f.bounds);break;default:o.union(f.bounds)}if(l.length){const g={};l.forEach(y=>{d=y.orient||xd,d!==moe&&(g[d]||(g[d]=[])).push(y)});for(const y in g){const v=g[y];d7e(e,v,v_n(v,y,n.legends,a,u,i,s))}l.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===i7e||n.autosize.type===s7e||n.autosize.type===o7e))switch(y.orient){case vd:case xd:o.add(v.x1,0).add(v.x2,0);break;case eT:case wv:o.add(0,v.y1).add(0,v.y2)}else o.union(v)})}o.union(a).union(u),c&&o.union(x_n(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),C_n(e,t,o,n)}function C_n(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===e_n){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===moe?(l=0,f=0,u=o,c=a):s===i7e?(u=Math.max(0,o-l-d),c=Math.max(0,a-f-h)):s===s7e?(u=Math.max(0,o-l-d),a=c+f+h):s===o7e?(o=u+l+d,c=Math.max(0,a-f-h)):s===n_n&&(o=u+l+d,a=c+f+h),e._resizeView(o,a,u,c,[l,f],i.resize)}const A_n=Object.freeze(Object.defineProperty({__proto__:null,bound:a7e,identifier:yoe,mark:u7e,overlap:l7e,render:f7e,viewlayout:h7e},Symbol.toStringTag,{value:"Module"}));function p7e(e){$e.call(this,null,e)}yt(p7e,$e,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=$se(s,o,e.minstep),u=e.format||U9e(n,s,a,e.formatSpecifier,e.formatType,!!e.values),l=e.values?B9e(s,e.values,a):Mse(s,a);return i&&(r.rem=i),i=l.map((c,f)=>Wr({index:f/(l.length-1||1),value:c,label:u(c)})),e.extra&&i.length&&i.push(Wr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function m7e(e){$e.call(this,null,e)}function I_n(){return Wr({})}function k_n(e){const t=kC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}yt(m7e,$e,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||I_n,s=e.key||Yt,o=this.value;return qe(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&Ue("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=k_n(s)),t.visit(t.ADD,a=>{const u=s(a);let l=o.get(u);l?l.exit?(o.empty--,r.add.push(l)):r.mod.push(l):(l=i(a),o.set(u,l),r.add.push(l)),l.datum=a,l.exit=!1}),t.visit(t.MOD,a=>{const u=s(a),l=o.get(u);l&&(l.datum=a,r.mod.push(l))}),t.visit(t.REM,a=>{const u=s(a),l=o.get(u);a===l.datum&&!l.exit&&(r.rem.push(l),l.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function g7e(e){$e.call(this,null,e)}yt(g7e,$e,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(qe(s))if(n.changed()||s.every(f=>i[f]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||k0,u=i.enter||k0,l=i.exit||k0,c=(s&&!o?i[s]:a)||k0;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{u(f,e),a(f,e)}),n.modifies(u.output),n.modifies(a.output),c!==k0&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&l!==k0&&(t.visit(t.REM,f=>{l(f,e)}),n.modifies(l.output)),o||c!==k0){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const h=u(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function y7e(e){$e.call(this,[],e)}yt(y7e,$e,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||rM,o=e.scale,a=+e.limit,u=$se(o,e.count==null?5:e.count,e.minstep),l=!!e.values||s===rM,c=e.format||q9e(n,o,u,s,e.formatSpecifier,e.formatType,l),f=e.values||H9e(o,u),d,h,p,m,g;return i&&(r.rem=i),s===rM?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),g=!0):i=f,jn(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=ru(m=p||8),i=i.map((y,v)=>Wr({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=f[i.length],i.push(Wr({index:i.length,label:`${f.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===nvn?(d=o.domain(),h=L9e(o,d[0],yr(d)),f.length<3&&!e.values&&d[0]!==yr(d)&&(f=[d[0],yr(d)]),i=f.map((y,v)=>Wr({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=hvn(o),i=f.map((y,v)=>Wr({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const R_n=e=>e.source.x,N_n=e=>e.source.y,P_n=e=>e.target.x,O_n=e=>e.target.y;function voe(e){$e.call(this,{},e)}voe.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};yt(voe,$e,{transform(e,t){var n=e.sourceX||R_n,r=e.sourceY||N_n,i=e.targetX||P_n,s=e.targetY||O_n,o=e.as||"path",a=e.orient||"vertical",u=e.shape||"line",l=F_e.get(u+"-"+a)||F_e.get(u);return l||Ue("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=l(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const v7e=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,D_n=(e,t,n,r)=>v7e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),b7e=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},$_n=(e,t,n,r)=>b7e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),_7e=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},M_n=(e,t,n,r)=>_7e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),L_n=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,F_n=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,j_n=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},B_n=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},U_n=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},z_n=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*s+"C"+u*i+","+u*s+" "+u*o+","+u*a+" "+r*o+","+r*a},F_e=kC({line:v7e,"line-radial":D_n,arc:b7e,"arc-radial":$_n,curve:_7e,"curve-radial":M_n,"orthogonal-horizontal":L_n,"orthogonal-vertical":F_n,"orthogonal-radial":j_n,"diagonal-horizontal":B_n,"diagonal-vertical":U_n,"diagonal-radial":z_n});function boe(e){$e.call(this,null,e)}boe.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};yt(boe,$e,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||CC,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,l=u.map(s),c=l.length,f=o,d=(a-o)/bRe(l),h=yl(c),p,m,g;for(e.sort&&h.sort((y,v)=>l[y]-l[v]),p=0;p<c;++p)g=l[h[p]],m=u[h[p]],m[r]=f,m[i]=f+=g*d;return this.value=l,t.reflow(e.modified()).modifies(n)}});const V_n=5;function H_n(e){const t=e.type;return!e.bins&&(t===YS||t===mP||t===gP)}function w7e(e){return Pse(e)&&e!==hp}const q_n=zd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function E7e(e){$e.call(this,null,e),this.modified(!0)}yt(E7e,$e,{transform(e,t){var n=t.dataflow,r=this.value,i=W_n(e);(!r||i!==r.type)&&(this.value=r=jr(i)());for(i in e)if(!q_n[i]){if(i==="padding"&&w7e(r.type))continue;jn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return J_n(r,e,Q_n(r,e,Y_n(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function W_n(e){var t=e.type,n="",r;return t===hp?hp+"-"+YS:(G_n(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?hp+"-":r===3?OC+"-":""),(n+t||YS).toLowerCase())}function G_n(e){const t=e.type;return Pse(t)&&t!==w_&&t!==E_&&(e.scheme||e.range&&e.range.length&&e.range.every(St))}function Y_n(e,t,n){const r=K_n(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&H_n(e),a,u;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const l=u>i[a]?a+1:u<i[0]?0:a;l!==a&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(l,0,u)}return w7e(s)&&t.padding&&i[0]!==yr(i)&&(i=X_n(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(x7e(s,i,n)),s===Ise&&e.unknown(t.domainImplicit?Aq:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&$se(e,t.nice)||null),i.length}function K_n(e,t,n){return t?(e.domain(x7e(e.type,t,n)),t.length):-1}function X_n(e,t,n,r,i,s){var o=Math.abs(yr(n)-n[0]),a=o/(o-2*r),u=e===jg?wie(t,null,a):e===gP?I6(t,null,a,.5):e===mP?I6(t,null,a,i||1):e===qj?Eie(t,null,a,s||1):_ie(t,null,a);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function x7e(e,t,n){if(P9e(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+dt(t))}return t}function Q_n(e,t,n){let r=t.bins;if(r&&!qe(r)){const i=e.domain(),s=i[0],o=yr(i),a=r.step;let u=r.start==null?s:r.start,l=r.stop==null?o:r.stop;a||Ue("Scale bins parameter missing step property."),u<s&&(u=a*Math.ceil(s/a)),l>o&&(l=a*Math.floor(o/a)),r=yl(u,l+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===kse&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function J_n(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=Z_n(r,t,n);else if(t.scheme&&(s=ewn(r,t,n),jn(s))){if(e.interpolator)return e.interpolator(s);Ue(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&O9e(r))return e.interpolator(Yj(fY(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(Ose(t.interpolate,t.interpolateGamma)):jn(e.round)?e.round(i):jn(e.rangeRound)&&e.interpolate(i?dN:e0),s&&e.range(fY(s,t.reverse))}function Z_n(e,t,n){e!==C9e&&e!==XG&&Ue("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===XG?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Ase(n,i,r)]}function ewn(e,t,n){var r=t.schemeExtent,i,s;return qe(t.scheme)?s=Yj(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=Dse(i),s||Ue(`Unrecognized scheme name: ${t.scheme}`)),n=e===Gj?n+1:e===kse?n-1:e===KS||e===Wj?+t.schemeCount||V_n:n,O9e(e)?j_e(s,r,t.reverse):jn(s)?M9e(j_e(s,r),n):e===Ise?s:s.slice(0,n)}function j_e(e,t,n){return jn(e)&&(t||n)?$9e(e,fY(t||[0,1],n)):e}function fY(e,t){return t?e.slice().reverse():e}function S7e(e){$e.call(this,null,e)}yt(S7e,$e,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(mw(e.sort)),this.modified(n),t}});const B_e="zero",T7e="center",C7e="normalize",A7e=["y0","y1"];function _oe(e){$e.call(this,null,e)}_oe.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:B_e,values:[B_e,T7e,C7e]},{name:"as",type:"string",array:!0,length:2,default:A7e}]};yt(_oe,$e,{transform(e,t){var n=e.as||A7e,r=n[0],i=n[1],s=mw(e.sort),o=e.field||CC,a=e.offset===T7e?twn:e.offset===C7e?nwn:rwn,u,l,c,f;for(u=iwn(t.source,e.groupby,s,o),l=0,c=u.length,f=u.max;l<c;++l)a(u[l],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function twn(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,u;a<o;++a)u=e[a],u[r]=s,u[i]=s+=Math.abs(n(u))}function nwn(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,u=0,l=0,c;u<a;++u)c=e[u],c[r]=o,c[i]=o=s*(l+=Math.abs(n(c)))}function rwn(e,t,n,r,i){for(var s=0,o=0,a=e.length,u=0,l,c;u<a;++u)c=e[u],l=+n(c),l<0?(c[r]=o,c[i]=o+=l):(c[r]=s,c[i]=s+=l)}function iwn(e,t,n,r){var i=[],s=m=>m(c),o,a,u,l,c,f,d,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,u=e.length;a<u;++a)c=e[a],f=t.map(s),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,l=i.length;f<l;++f){for(d=i[f],a=0,h=0,u=d.length;a<u;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const swn=Object.freeze(Object.defineProperty({__proto__:null,axisticks:p7e,datajoin:m7e,encode:g7e,legendentries:y7e,linkpath:voe,pie:boe,scale:E7e,sortitems:S7e,stack:_oe},Symbol.toStringTag,{value:"Module"}));var own=Math.abs,dY=Math.cos,q6=Math.sin,awn=1e-6,I7e=Math.PI,hY=I7e/2,U_e=uwn(2);function z_e(e){return e>1?hY:e<-1?-hY:Math.asin(e)}function uwn(e){return e>0?Math.sqrt(e):0}function lwn(e,t){var n=e*q6(t),r=30,i;do t-=i=(t+q6(t)-n)/(1+dY(t));while(own(i)>awn&&--r>0);return t/2}function cwn(e,t,n){function r(i,s){return[e*i*dY(s=lwn(n,s)),t*q6(s)]}return r.invert=function(i,s){return s=z_e(s/t),[i/(e*dY(s)),z_e((2*s+q6(2*s))/n)]},r}var fwn=cwn(U_e/hY,U_e,I7e);function dwn(){return qp(fwn).scale(169.529)}const hwn=YNe(),pY=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function pwn(e,t){return function n(){const r=t();return r.type=e,r.path=YNe().projection(r),r.copy=r.copy||function(){const i=n();return pY.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},R9e(r)}}function woe(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(W6[e]=pwn(e,t),this):W6[e]||null}function k7e(e){return e&&e.path||hwn}const W6={albers:XNe,albersusa:oEt,azimuthalequalarea:aEt,azimuthalequidistant:uEt,conicconformal:fEt,conicequalarea:K3,conicequidistant:pEt,equalEarth:gEt,equirectangular:dEt,gnomonic:yEt,identity:vEt,mercator:lEt,mollweide:dwn,naturalEarth1:bEt,orthographic:_Et,stereographic:wEt,transversemercator:EEt};for(const e in W6)woe(e,W6[e]);function mwn(){}const mm=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function R7e(){var e=1,t=1,n=a;function r(u,l){return l.map(c=>i(u,c))}function i(u,l){var c=[],f=[];return s(u,l,d=>{n(d,u,l),gwn(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,m;h<p;++h)if(ywn((m=c[h])[0],d)!==-1){m.push(d);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function s(u,l,c){var f=new Array,d=new Array,h,p,m,g,y,v;for(h=p=-1,g=u[0]>=l,mm[g<<1].forEach(b);++h<e-1;)m=g,g=u[h+1]>=l,mm[m|g<<1].forEach(b);for(mm[g<<0].forEach(b);++p<t-1;){for(h=-1,g=u[p*e+e]>=l,y=u[p*e]>=l,mm[g<<1|y<<2].forEach(b);++h<e-1;)m=g,g=u[p*e+e+h+1]>=l,v=y,y=u[p*e+h+1]>=l,mm[m|g<<1|y<<2|v<<3].forEach(b);mm[g|y<<3].forEach(b)}for(h=-1,y=u[p*e]>=l,mm[y<<2].forEach(b);++h<e-1;)v=y,y=u[p*e+h+1]>=l,mm[y<<2|v<<3].forEach(b);mm[y<<3].forEach(b);function b(w){var E=[w[0][0]+h,w[0][1]+p],x=[w[1][0]+h,w[1][1]+p],S=o(E),C=o(x),I,k;(I=d[S])?(k=f[C])?(delete d[I.end],delete f[k.start],I===k?(I.ring.push(x),c(I.ring)):f[I.start]=d[k.end]={start:I.start,end:k.end,ring:I.ring.concat(k.ring)}):(delete d[I.end],I.ring.push(x),d[I.end=C]=I):(I=f[C])?(k=d[S])?(delete f[I.start],delete d[k.end],I===k?(I.ring.push(x),c(I.ring)):f[k.start]=d[I.end]={start:k.start,end:I.end,ring:k.ring.concat(I.ring)}):(delete f[I.start],I.ring.unshift(E),f[I.start=S]=I):f[S]=d[C]={start:S,end:C,ring:[E,x]}}}function o(u){return u[0]*2+u[1]*(e+1)*4}function a(u,l,c){u.forEach(f=>{var d=f[0],h=f[1],p=d|0,m=h|0,g,y=l[m*e+p];d>0&&d<e&&p===d&&(g=l[m*e+p-1],f[0]=d+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=l[(m-1)*e+p],f[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var l=Math.floor(u[0]),c=Math.floor(u[1]);return l>=0&&c>=0||Ue("invalid size"),e=l,t=c,r},r.smooth=function(u){return arguments.length?(n=u?a:mwn,r):n===a},r}function gwn(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function ywn(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=vwn(e,t[n]))return i;return 0}function vwn(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var u=e[s],l=u[0],c=u[1],f=e[a],d=f[0],h=f[1];if(bwn(u,f,t))return 0;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function bwn(e,t,n){var r;return _wn(e,t,n)&&wwn(e[r=+(e[0]===t[0])],n[r],t[r])}function _wn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function wwn(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function N7e(e,t,n){return function(r){var i=Rp(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,u=t?Qy(s,o,e):a/(e+1);return yl(s+u,o,u)}}function Eoe(e){$e.call(this,null,e)}Eoe.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};yt(Eoe,$e,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||nu,s=R7e().smooth(e.smooth!==!1),o=e.thresholds||Ewn(r,i,e),a=e.as===null?null:e.as||"contour",u=[];return r.forEach(l=>{const c=i(l),f=s.size([c.width,c.height])(c.values,qe(o)?o:o(c.values));xwn(f,c,l,e),f.forEach(d=>{u.push(Mj(l,Wr(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Ewn(e,t,n){const r=N7e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Ay(t(i).values)))}function xwn(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(jn(i)&&(i=i(n,r)),jn(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(Ir(i)?i:i[0])||1,a=(Ir(i)?i:i[1])||1,u=s&&s[0]||0,l=s&&s[1]||0;e.forEach(P7e(t,o,a,u,l))}function P7e(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function u(f){f.forEach(l)}function l(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-s)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(u),f}}function V_e(e,t,n){const r=e>=0?e:Uie(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function uz(e){return jn(e)?e:ru(+e)}function O7e(){var e=u=>u[0],t=u=>u[1],n=CC,r=[-1,-1],i=960,s=500,o=2;function a(u,l){const c=V_e(r[0],u,e)>>o,f=V_e(r[1],u,t)>>o,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;u.forEach(w=>{const E=d+(+e(w)>>o),x=h+(+t(w)>>o);E>=0&&E<p&&x>=0&&x<m&&(g[E+x*p]+=+n(w))}),c>0&&f>0?(oE(p,m,g,y,c),aE(p,m,y,g,f),oE(p,m,g,y,c),aE(p,m,y,g,f),oE(p,m,g,y,c),aE(p,m,y,g,f)):c>0?(oE(p,m,g,y,c),oE(p,m,y,g,c),oE(p,m,g,y,c),v=y):f>0&&(aE(p,m,g,y,f),aE(p,m,y,g,f),aE(p,m,g,y,f),v=y);const b=l?Math.pow(2,-2*o):1/bRe(v);for(let w=0,E=p*m;w<E;++w)v[w]*=b;return{values:v,scale:1<<o,width:p,height:m,x1:d,y1:h,x2:d+(i>>o),y2:h+(s>>o)}}return a.x=function(u){return arguments.length?(e=uz(u),a):e},a.y=function(u){return arguments.length?(t=uz(u),a):t},a.weight=function(u){return arguments.length?(n=uz(u),a):n},a.size=function(u){if(!arguments.length)return[i,s];var l=+u[0],c=+u[1];return l>=0&&c>=0||Ue("invalid size"),i=l,s=c,a},a.cellSize=function(u){return arguments.length?((u=+u)>=1||Ue("invalid cell size"),o=Math.floor(Math.log(u)/Math.LN2),a):1<<o},a.bandwidth=function(u){return arguments.length?(u=xt(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&Ue("invalid bandwidth"),r=u,a):r},a}function oE(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,u=0;a<e+i;++a)a<e&&(u+=n[a+o*e]),a>=i&&(a>=s&&(u-=n[a-s+o*e]),r[a-i+o*e]=u/Math.min(a+1,e-1+s-a,s))}function aE(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,u=0;a<t+i;++a)a<t&&(u+=n[o+a*e]),a>=i&&(a>=s&&(u-=n[o+(a-s)*e]),r[o+(a-i)*e]=u/Math.min(a+1,t-1+s-a,s))}function xoe(e){$e.call(this,null,e)}xoe.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Swn=["x","y","weight","size","cellSize","bandwidth"];function D7e(e,t){return Swn.forEach(n=>t[n]!=null?e[n](t[n]):0),e}yt(xoe,$e,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Twn(r,e.groupby),s=(e.groupby||[]).map(_s),o=D7e(O7e(),e),a=e.as||"grid",u=[];function l(c,f){for(let d=0;d<s.length;++d)c[s[d]]=f[d];return c}return u=i.map(c=>Wr(l({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Twn(e,t){var n=[],r=c=>c(a),i,s,o,a,u,l;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function Soe(e){$e.call(this,null,e)}Soe.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};yt(Soe,$e,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=R7e().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||N7e(e.count||10,e.nice,!!i),o=e.size,a,u;return i||(i=t.materialize(t.SOURCE).source,a=D7e(O7e(),e)(i,!0),u=P7e(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=qe(s)?s:s(i),i=r.size(o)(i,s),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Wr),n}});const mY="Feature",Toe="FeatureCollection",Cwn="MultiPoint";function Coe(e){$e.call(this,null,e)}Coe.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};yt(Coe,$e,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&nu,u=t.ADD,l;l=e.modified()||t.changed(t.REM)||t.modified(Ya(a))||s&&t.modified(Ya(s))||o&&t.modified(Ya(o)),(!this.value||l)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(u,c=>n.push(a(c))),s&&o&&(t.visit(u,c=>{var f=s(c),d=o(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:mY,geometry:{type:Cwn,coordinates:r}})),this.value={type:Toe,features:n}}});function Aoe(e){$e.call(this,null,e)}Aoe.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};yt(Aoe,$e,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||nu,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=k7e(e.projection),n.materialize().reflow()):o=i===nu||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Awn(r,e.pointRadius);return n.visit(o,u=>u[s]=r(i(u))),r.pointRadius(a),n.modifies(s)}});function Awn(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Ioe(e){$e.call(this,null,e)}Ioe.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};yt(Ioe,$e,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],u;function l(c){const f=n([r(c),i(c)]);f?(c[o]=f[0],c[a]=f[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,l)),t.modifies(s)}});function koe(e){$e.call(this,null,e)}koe.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};yt(koe,$e,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=Iwn(k7e(e.projection),e.field||Cf("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function Iwn(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function Roe(e){$e.call(this,[],e),this.generator=jwt()}Roe.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};yt(Roe,$e,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)jn(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(DBe(n[0],i)):t.add.push(Wr(i)),n[0]=i,t}});function Noe(e){$e.call(this,null,e)}Noe.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};yt(Noe,$e,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||nu,s=Rwn(e.opacity,e),o=kwn(e.color,e),a=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?Ay(n.map(l=>Ay(i(l).values))):0};return n.forEach(l=>{const c=i(l),f=Fn({},l,u);r||(f.$max=Ay(c.values||[])),l[a]=Nwn(c,f,o.dep?o:ru(o(f)),s.dep?s:ru(s(f)))}),t.reflow(!0).modifies(a)}});function kwn(e,t){let n;return jn(e)?(n=r=>Jy(e(r,t)),n.dep=$7e(e)):n=ru(Jy(e||"#888")),n}function Rwn(e,t){let n;return jn(e)?(n=r=>e(r,t),n.dep=$7e(e)):e?n=ru(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function $7e(e){if(!jn(e))return!1;const t=zd(Ya(e));return t.$x||t.$y||t.$value||t.$max}function Nwn(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,u=e.x2||i,l=e.y2||s,c=e.values,f=c?g=>c[g]:Q0,d=jy(u-o,l-a),h=d.getContext("2d"),p=h.getImageData(0,0,u-o,l-a),m=p.data;for(let g=a,y=0;g<l;++g){t.$y=g-a;for(let v=o,b=g*i;v<u;++v,y+=4){t.$x=v-o,t.$value=f(v+b);const w=n(t);m[y+0]=w.r,m[y+1]=w.g,m[y+2]=w.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function M7e(e){$e.call(this,null,e),this.modified(!0)}yt(M7e,$e,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Own(e.type),pY.forEach(r=>{e[r]!=null&&H_e(n,r,e[r])})):pY.forEach(r=>{e.modified(r)&&H_e(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Pwn(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Pwn(e,t){const n=Dwn(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Own(e){const t=woe((e||"mercator").toLowerCase());return t||Ue("Unrecognized projection type: "+e),t()}function H_e(e,t,n){jn(e[t])&&e[t](n)}function Dwn(e){return e=xt(e),e.length===1?e[0]:{type:Toe,features:e.reduce((t,n)=>t.concat($wn(n)),[])}}function $wn(e){return e.type===Toe?e.features:xt(e).filter(t=>t!=null).map(t=>t.type===mY?t:{type:mY,geometry:t})}const Mwn=Object.freeze(Object.defineProperty({__proto__:null,contour:Soe,geojson:Coe,geopath:Aoe,geopoint:Ioe,geoshape:koe,graticule:Roe,heatmap:Noe,isocontour:Eoe,kde2d:xoe,projection:M7e},Symbol.toStringTag,{value:"Module"})),q_e={center:k_t,collide:Y_t,nbody:swt,link:X_t,x:owt,y:awt},FA="forces",gY=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Lwn=["static","iterations"],L7e=["x","y","vx","vy"];function Poe(e){$e.call(this,null,e)}Poe.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:L7e}]};yt(Poe,$e,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(gY),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&F7e(n,e,0,t)):(this.value=n=jwn(t.source,e),n.on("tick",Fwn(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Lwn)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,u=0,l=a.length,c;u<l;++u)if(c=a[u],!(c.name!==FA||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(L7e)}});function Fwn(e,t){return()=>e.touch(t).run()}function jwn(e,t){const n=iwt(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),F7e(n,t,!0).on("end",()=>s=!0)}function F7e(e,t,n,r){var i=xt(t.forces),s,o,a,u;for(s=0,o=gY.length;s<o;++s)a=gY[s],a!==FA&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)u=FA+s,a=n||t.modified(FA,s)?Uwn(i[s]):r&&Bwn(i[s],r)?e.force(u):null,a&&e.force(u,a);for(o=e.numForces||0;s<o;++s)e.force(FA+s,null);return e.numForces=i.length,e}function Bwn(e,t){var n,r;for(n in e)if(jn(r=e[n])&&t.modified(Ya(r)))return 1;return 0}function Uwn(e){var t,n;Xt(q_e,e.force)||Ue("Unrecognized force: "+e.force),t=q_e[e.force]();for(n in e)jn(t[n])&&zwn(t[n],e[n],e);return t}function zwn(e,t,n){e(jn(t)?r=>t(r,n):t)}const Vwn=Object.freeze(Object.defineProperty({__proto__:null,force:Poe},Symbol.toStringTag,{value:"Module"}));function yY(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function Ooe(e){$e.call(this,null,e)}Ooe.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Hwn=e=>e.values;yt(Ooe,$e,{transform(e,t){t.source||Ue("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&$j(o.data)&&i.rem.push(o.data)}),this.value=s=KF({values:xt(e.keys).reduce((o,a)=>(o.key(a),o),qwn()).entries(i.source)},Hwn),n&&s.each(o=>{o.children&&(o=Wr(o.data),i.add.push(o),i.source.push(o))}),yY(s,Yt,Yt)),i.source.root=s,i}});function qwn(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],u={},l={};let c=-1,f,d,h;for(;++c<o;)f=a(d=i[c])+"",(h=u[f])?h.push(d):u[f]=[d];for(f in u)l[f]=n(u[f],s);return l}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function c0(e){$e.call(this,null,e)}const Wwn=(e,t)=>e.parent===t.parent?1:2;yt(c0,$e,{transform(e,t){(!t.source||!t.source.root)&&Ue(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(mw(e.sort,o=>o.data)),Gwn(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Wwn:CC);try{this.value=n(i)}catch(o){Ue(o)}return i.each(o=>Ywn(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function Gwn(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function Ywn(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const vY=["x","y","r","depth","children"];function Doe(e){c0.call(this,e)}Doe.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vY.length,default:vY}]};yt(Doe,c0,{layout:fPe,params:["radius","size","padding"],fields:vY});const bY=["x0","y0","x1","y1","depth","children"];function $oe(e){c0.call(this,e)}$oe.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:bY.length,default:bY}]};yt($oe,c0,{layout:axt,params:["size","round","padding"],fields:bY});function Moe(e){$e.call(this,null,e)}Moe.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};yt(Moe,$e,{transform(e,t){t.source||Ue("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?yY(Mpe().id(e.key).parentId(e.parentKey)(i.source),e.key,Af):yY(Mpe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const W_e={tidy:yxt,cluster:REt},_Y=["x","y","depth","children"];function Loe(e){c0.call(this,e)}Loe.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:_Y.length,default:_Y}]};yt(Loe,c0,{layout(e){const t=e||"tidy";if(Xt(W_e,t))return W_e[t]();Ue("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:_Y});function Foe(e){$e.call(this,[],e)}Foe.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};yt(Foe,$e,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||Ue("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[Yt(o)]=1),r.each(o=>{const a=o.data,u=o.parent&&o.parent.data;u&&s[Yt(a)]&&s[Yt(u)]&&i.add.push(Wr({source:u,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[Yt(o)]=1),n.forEach(o=>{(s[Yt(o.source)]||s[Yt(o.target)])&&i.mod.push(o)})),i}});const G_e={binary:bxt,dice:gN,slice:XF,slicedice:_xt,squarify:mPe,resquarify:wxt},wY=["x0","y0","x1","y1","depth","children"];function joe(e){c0.call(this,e)}joe.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:wY.length,default:wY}]};yt(joe,c0,{layout(){const e=vxt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Xt(G_e,t)?e.tile(G_e[t]):Ue("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:wY});const Kwn=Object.freeze(Object.defineProperty({__proto__:null,nest:Ooe,pack:Doe,partition:$oe,stratify:Moe,tree:Loe,treelinks:Foe,treemap:joe},Symbol.toStringTag,{value:"Module"})),lz=4278190080;function Xwn(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Qwn(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,u=jy(s,o).getContext("2d"),l=jy(s,o).getContext("2d"),c=a&&jy(s,o).getContext("2d");n.forEach(C=>dM(u,C,!1)),dM(l,t,!1),a&&dM(c,t,!0);const f=cz(u,s,o),d=cz(l,s,o),h=a&&cz(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,b,w,E,x,S;for(y=0;y<o;++y)for(g=0;g<s;++g)w=y*s+g,E=f[w]&lz,S=d[w]&lz,x=a&&h[w]&lz,(E||x||S)&&(v=e(g),b=e(y),!i&&(E||S)&&p.set(v,b),a&&(E||x)&&m.set(v,b));return[p,m]}function cz(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function dM(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>dM(e,s.items,n))}):Nc[r].draw(e,{items:n?t.map(Jwn):t})}function Jwn(e){const t=Mj(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const gm=5,fu=31,TR=32,B0=new Uint32Array(TR+1),dd=new Uint32Array(TR+1);dd[0]=0;B0[0]=~dd[0];for(let e=1;e<=TR;++e)dd[e]=dd[e-1]<<1|1,B0[e]=~dd[e];function Zwn(e,t){const n=new Uint32Array(~~((e*t+TR)/TR));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>gm]&1<<(a&fu)},set:(s,o)=>{const a=o*e+s;r(a>>>gm,1<<(a&fu))},clear:(s,o)=>{const a=o*e+s;i(a>>>gm,~(1<<(a&fu)))},getRange:(s,o,a,u)=>{let l=u,c,f,d,h;for(;l>=o;--l)if(c=l*e+s,f=l*e+a,d=c>>>gm,h=f>>>gm,d===h){if(n[d]&B0[c&fu]&dd[(f&fu)+1])return!0}else{if(n[d]&B0[c&fu]||n[h]&dd[(f&fu)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,u)=>{let l,c,f,d,h;for(;o<=u;++o)if(l=o*e+s,c=o*e+a,f=l>>>gm,d=c>>>gm,f===d)r(f,B0[l&fu]&dd[(c&fu)+1]);else for(r(f,B0[l&fu]),r(d,dd[(c&fu)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(s,o,a,u)=>{let l,c,f,d,h;for(;o<=u;++o)if(l=o*e+s,c=o*e+a,f=l>>>gm,d=c>>>gm,f===d)i(f,dd[l&fu]|B0[(c&fu)+1]);else for(i(f,dd[l&fu]),i(d,B0[(c&fu)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(s,o,a,u)=>s<0||o<0||u>=t||a>=e}}function eEn(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>Zwn(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function tEn(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,u=a.length,l=o.datum.fontSize,c=yc.width(o.datum,o.datum.text);let f=0,d,h,p,m,g,y,v;for(let b=0;b<u;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,m=a[b].y2===void 0?p:a[b].y2,g=(d+h)/2,y=(p+m)/2,v=Math.abs(h-d+m-p),v>=f&&(f=v,o.x=g,o.y=y);return g=c/2,y=l/2,d=o.x-g,h=o.x+g,p=o.y-y,m=o.y+y,o.align="center",d<0&&h<=i?o.align="left":0<=d&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function G6(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function hy(e,t,n,r,i,s,o,a){const u=i*s/(r*2),l=e(t-u),c=e(t+u),f=e(n-(s=s/2)),d=e(n+s);return o.outOfBounds(l,f,c,d)||o.getRange(l,f,c,d)||a&&a.getRange(l,f,c,d)}function nEn(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function u(l,c,f,d,h){const p=e.invert(l),m=e.invert(c);let g=f,y=s,v;if(!G6(p,m,d,h,i,s)&&!hy(e,p,m,h,d,g,o,a)&&!hy(e,p,m,h,d,h,o,null)){for(;y-g>=1;)v=(g+y)/2,hy(e,p,m,h,d,v,o,a)?y=v:g=v;if(g>f)return[p,m,g,!0]}}return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=yc.width(l.datum,l.datum.text);let p=n?d:0,m=!1,g=!1,y=0,v,b,w,E,x,S,C,I,k,R,D,P,$,L,M,B,z;for(let H=0;H<f;++H){for(v=c[H].x,w=c[H].y,b=c[H].x2===void 0?v:c[H].x2,E=c[H].y2===void 0?w:c[H].y2,v>b&&(z=v,v=b,b=z),w>E&&(z=w,w=E,E=z),k=e(v),D=e(b),R=~~((k+D)/2),P=e(w),L=e(E),$=~~((P+L)/2),C=R;C>=k;--C)for(I=$;I>=P;--I)B=u(C,I,p,h,d),B&&([l.x,l.y,p,m]=B);for(C=R;C<=D;++C)for(I=$;I<=L;++I)B=u(C,I,p,h,d),B&&([l.x,l.y,p,m]=B);!m&&!n&&(M=Math.abs(b-v+E-w),x=(v+b)/2,S=(w+E)/2,M>=y&&!G6(x,S,h,d,i,s)&&!hy(e,x,S,d,h,d,o,null)&&(y=M,l.x=x,l.y=S,g=!0))}return m||g?(x=h/2,S=d/2,o.setRange(e(l.x-x),e(l.y-S),e(l.x+x),e(l.y+S)),l.align="center",l.baseline="middle",!0):!1}}const rEn=[-1,-1,1,1],iEn=[-1,1,-1,1];function sEn(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],u=e.bitmap();return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=yc.width(l.datum,l.datum.text),p=[];let m=n?d:0,g=!1,y=!1,v=0,b,w,E,x,S,C,I,k,R,D,P,$;for(let L=0;L<f;++L){for(b=c[L].x,E=c[L].y,w=c[L].x2===void 0?b:c[L].x2,x=c[L].y2===void 0?E:c[L].y2,p.push([e((b+w)/2),e((E+x)/2)]);p.length;)if([I,k]=p.pop(),!(o.get(I,k)||a.get(I,k)||u.get(I,k))){u.set(I,k);for(let M=0;M<4;++M)S=I+rEn[M],C=k+iEn[M],u.outOfBounds(S,C,S,C)||p.push([S,C]);if(S=e.invert(I),C=e.invert(k),R=m,D=s,!G6(S,C,h,d,i,s)&&!hy(e,S,C,d,h,R,o,a)&&!hy(e,S,C,d,h,d,o,null)){for(;D-R>=1;)P=(R+D)/2,hy(e,S,C,d,h,P,o,a)?D=P:R=P;R>m&&(l.x=S,l.y=C,m=R,g=!0)}}!g&&!n&&($=Math.abs(w-b+x-E),S=(b+w)/2,C=(E+x)/2,$>=v&&!G6(S,C,h,d,i,s)&&!hy(e,S,C,d,h,d,o,null)&&(v=$,l.x=S,l.y=C,y=!0))}return g||y?(S=h/2,C=d/2,o.setRange(e(l.x-S),e(l.y-C),e(l.x+S),e(l.y+C)),l.align="center",l.baseline="middle",!0):!1}}const oEn=["right","center","left"],aEn=["bottom","middle","top"];function uEn(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],u=r.length;return function(l){const c=l.boundary,f=l.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let d=l.textWidth??0,h,p,m,g,y,v,b,w,E,x,S,C,I,k,R;for(let D=0;D<u;++D){if(h=(n[D]&3)-1,p=(n[D]>>>2&3)-1,m=h===0&&p===0||r[D]<0,g=h&&p?Math.SQRT1_2:1,y=r[D]<0?-1:1,v=c[1+h]+r[D]*h*g,S=c[4+p]+y*f*p/2+r[D]*p*g,w=S-f/2,E=S+f/2,C=e(v),k=e(w),R=e(E),!d)if(Y_e(C,C,k,R,o,a,v,v,w,E,c,m))d=yc.width(l.datum,l.datum.text);else continue;if(x=v+y*d*h/2,v=x-d/2,b=x+d/2,C=e(v),I=e(b),Y_e(C,I,k,R,o,a,v,b,w,E,c,m))return l.x=h?h*y<0?b:v:x,l.y=p?p*y<0?E:w:S,l.align=oEn[h*y+1],l.baseline=aEn[p*y+1],o.setRange(C,k,I,R),!0}return!1}}function Y_e(e,t,n,r,i,s,o,a,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&s||i).getRange(e,n,t,r))}const fz=0,dz=4,hz=8,pz=0,mz=1,gz=2,lEn={"top-left":fz+pz,top:fz+mz,"top-right":fz+gz,left:dz+pz,middle:dz+mz,right:dz+gz,"bottom-left":hz+pz,bottom:hz+mz,"bottom-right":hz+gz},cEn={naive:tEn,"reduced-search":nEn,floodfill:sEn};function fEn(e,t,n,r,i,s,o,a,u,l,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=dEn(r,f),h=hEn(i,f),p=pEn(e[0].datum),m=p==="group"&&e[0].datum.items[u].marktype,g=m==="area",y=mEn(p,m,a,u),v=l===null||l===1/0,b=g&&c==="naive";let w=-1,E=-1;const x=e.map(k=>{const R=v?yc.width(k,k.text):void 0;return w=Math.max(w,R),E=Math.max(E,k.fontSize),{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(k),textWidth:R}});l=l===null||l===1/0?Math.max(w,E)+Math.max(...r):l;const S=eEn(t[0],t[1],l);let C;if(!b){n&&x.sort((D,P)=>n(D.datum,P.datum));let k=!1;for(let D=0;D<h.length&&!k;++D)k=h[D]===5||d[D]<0;const R=(p&&o||g)&&e.map(D=>D.datum);C=s.length||R?Qwn(S,R||[],s,k,g):Xwn(S,o&&x)}const I=g?cEn[c](S,C,o,u):uEn(S,C,h,d);return x.forEach(k=>k.opacity=+I(k)),x}function dEn(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function hEn(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=lEn[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function pEn(e){return e&&e.mark&&e.mark.marktype}function mEn(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const EY=["x","y","opacity","align","baseline"],j7e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Boe(e){$e.call(this,null,e)}Boe.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:j7e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:EY.length,default:EY}]};yt(Boe,$e,{transform(e,t){function n(s){const o=e[s];return jn(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Ue("Size parameter should be specified as a [width, height] array.");const i=e.as||EY;return fEn(t.materialize(t.SOURCE).source||[],e.size,e.sort,xt(e.offset==null?1:e.offset),xt(e.anchor||j7e),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const gEn=Object.freeze(Object.defineProperty({__proto__:null,label:Boe},Symbol.toStringTag,{value:"Module"}));function B7e(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,u,l;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function Uoe(e){$e.call(this,null,e)}Uoe.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};yt(Uoe,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=B7e(r,e.groupby),s=(e.groupby||[]).map(_s),o=s.length,a=e.as||[_s(e.x),_s(e.y)],u=[];i.forEach(l=>{JBe(l,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<o;++d)f[s[d]]=l.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],u.push(Wr(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const xY={constant:Zie,linear:ese,log:YBe,exp:KBe,pow:XBe,quad:tse,poly:QBe},yEn=(e,t)=>e==="poly"?t:e==="quad"?2:1;function zoe(e){$e.call(this,null,e)}zoe.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(xY)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};yt(zoe,$e,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=B7e(r,e.groupby),s=(e.groupby||[]).map(_s),o=e.method||"linear",a=e.order==null?3:e.order,u=yEn(o,a),l=e.as||[_s(e.x),_s(e.y)],c=xY[o],f=[];let d=e.extent;Xt(xY,o)||Ue("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){f.push(Wr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=d||Rp(h,e.x),y=v=>{const b={};for(let w=0;w<s.length;++w)b[s[w]]=h.dims[w];b[l[0]]=v[0],b[l[1]]=v[1],f.push(Wr(b))};o==="linear"||o==="constant"?g.forEach(v=>y([v,m.predict(v)])):Vj(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const vEn=Object.freeze(Object.defineProperty({__proto__:null,loess:Uoe,regression:zoe},Symbol.toStringTag,{value:"Module"}));function Voe(e){$e.call(this,null,e)}Voe.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const bEn=[-1e5,-1e5,1e5,1e5];yt(Voe,$e,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:bEn;const s=this.value=tZ.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const u=s.cellPolygon(o);r[o][n]=u&&!wEn(u)?_En(u):null}return t.reflow(e.modified()).modifies(n)}});function _En(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function wEn(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const EEn=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Voe},Symbol.toStringTag,{value:"Module"}));var yz=Math.PI/180,jA=64,hM=2048;function xEn(){var e=[256,256],t,n,r,i,s,o,a,u=U7e,l=[],c=Math.random,f={};f.layout=function(){for(var p=d(jy()),m=kEn((e[0]>>5)*e[1]),g=null,y=l.length,v=-1,b=[],w=l.map(x=>({text:t(x),font:n(x),style:i(x),weight:s(x),rotate:o(x),size:~~(r(x)+1e-14),padding:a(x),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:x})).sort((x,S)=>S.size-x.size);++v<y;){var E=w[v];E.x=e[0]*(c()+.5)>>1,E.y=e[1]*(c()+.5)>>1,SEn(p,E,w,v),E.hasText&&h(m,E,g)&&(b.push(E),g?CEn(g,E):g=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(jA<<5)/m,p.height=hM/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,b=Math.sqrt(e[0]*e[0]+e[1]*e[1]),w=u(e),E=c()<.5?1:-1,x=-E,S,C,I;(S=w(x+=E))&&(C=~~S[0],I=~~S[1],!(Math.min(Math.abs(C),Math.abs(I))>=b));)if(m.x=y+C,m.y=v+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!TEn(m,p,e[0]))&&(!g||AEn(m,g))){for(var k=m.sprite,R=m.width>>5,D=e[0]>>5,P=m.x-(R<<4),$=P&127,L=32-$,M=m.y1-m.y0,B=(m.y+m.y0)*D+(P>>5),z,H=0;H<M;H++){z=0;for(var O=0;O<=R;O++)p[B+O]|=z<<L|(O<R?(z=k[H*R+O])>>>$:0);B+=D}return m.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(l=p,f):l},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=v1(p),f):n},f.fontStyle=function(p){return arguments.length?(i=v1(p),f):i},f.fontWeight=function(p){return arguments.length?(s=v1(p),f):s},f.rotate=function(p){return arguments.length?(o=v1(p),f):o},f.text=function(p){return arguments.length?(t=v1(p),f):t},f.spiral=function(p){return arguments.length?(u=REn[p]||p,f):u},f.fontSize=function(p){return arguments.length?(r=v1(p),f):r},f.padding=function(p){return arguments.length?(a=v1(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function SEn(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(jA<<5)/s,hM/s);var o=0,a=0,u=0,l=n.length,c,f,d,h,p;for(--r;++r<l;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,d=t.size<<1,t.rotate){var m=Math.sin(t.rotate*yz),g=Math.cos(t.rotate*yz),y=c*g,v=c*m,b=d*g,w=d*m;c=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>u&&(u=d),o+c>=jA<<5&&(o=0,a+=u,u=0),a+d>=hM)break;i.translate((o+(c>>1))/s,(a+(d>>1))/s),t.rotate&&i.rotate(t.rotate*yz),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var E=i.getImageData(0,0,(jA<<5)/s,hM/s).data,x=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)x[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var S=0,C=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var I=f*p+(h>>5),k=E[(a+p)*(jA<<5)+(o+h)<<2]?1<<31-h%32:0;x[I]|=k,S|=k}S?C=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+C,t.sprite=x.slice(0,(t.y1-t.y0)*f)}}}function TEn(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,u=e.y1-e.y0,l=(e.y+e.y0)*n+(s>>5),c,f=0;f<u;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>o:0))&t[l+d])return!0;l+=n}return!1}function CEn(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function AEn(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function U7e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function IEn(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function kEn(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function v1(e){return typeof e=="function"?e:function(){return e}}var REn={archimedean:U7e,rectangular:IEn};const z7e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],NEn=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Hoe(e){$e.call(this,xEn(),e)}Hoe.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:z7e}]};yt(Hoe,$e,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ue("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return jn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||NEn.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||z7e;let a=e.fontSize||14,u;if(jn(a)?u=e.fontSizeRange:a=ru(a),u){const p=a,m=jr("sqrt")().domain(Rp(i,p)).range(u);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const l=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(kf).layout(),c=s.size(),f=c[0]>>1,d=c[1]>>1,h=l.length;for(let p=0,m,g;p<h;++p)m=l[p],g=m.datum,g[o[0]]=m.x+f,g[o[1]]=m.y+d,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const PEn=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:Hoe},Symbol.toStringTag,{value:"Module"})),OEn=e=>new Uint8Array(e),DEn=e=>new Uint16Array(e),UI=e=>new Uint32Array(e);function $En(){let e=8,t=[],n=UI(0),r=$D(0,e),i=$D(0,e);return{data:()=>t,seen:()=>n=MEn(n,t.length),add(s){for(let o=0,a=t.length,u=s.length,l;o<u;++o)l=s[o],l._index=a++,t.push(l)},remove(s,o){const a=t.length,u=Array(a-s),l=t;let c,f,d;for(f=0;!o[f]&&f<a;++f)u[f]=t[f],l[f]=f;for(d=f;f<a;++f)c=t[f],o[f]?l[f]=-1:(l[f]=d,r[d]=r[f],i[d]=i[f],u[d]=c,c._index=d++),r[f]=0;return t=u,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=$D(s,e,r),i=$D(s,e))}}}function MEn(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function $D(e,t,n){const r=(t<257?OEn:t<65537?DEn:UI)(e);return n&&r.set(n),r}function K_e(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),u=i.index,l=a[0],c=a[1],f=u.length;let d;for(d=0;d<l;++d)s[u[d]]|=r;for(d=c;d<f;++d)s[u[d]]|=r;return o}}}function X_e(){let e=UI(0),t=[],n=0;function r(a,u,l){if(!u.length)return[];const c=n,f=u.length,d=UI(f);let h=Array(f),p,m,g;for(g=0;g<f;++g)h[g]=a(u[g]),d[g]=g;if(h=LEn(h,d),c)p=t,m=e,t=Array(c+f),e=UI(c+f),FEn(l,p,m,c,h,d,f,t,e);else{if(l>0)for(g=0;g<f;++g)d[g]+=l;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,u){const l=n;let c,f,d;for(f=0;!u[e[f]]&&f<l;++f);for(d=f;f<l;++f)u[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=l-a}function s(a){for(let u=0,l=n;u<l;++u)e[u]=a[e[u]]}function o(a,u){let l;return u?l=u.length:(u=t,l=n),[G0t(u,a[0],0,l),Xy(u,a[1],0,l)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function LEn(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),X0t(e,t)}function FEn(e,t,n,r,i,s,o,a,u){let l=0,c=0,f;for(f=0;l<r&&c<o;++f)t[l]<i[c]?(a[f]=t[l],u[f]=n[l++]):(a[f]=i[c],u[f]=s[c++]+e);for(;l<r;++l,++f)a[f]=t[l],u[f]=n[l];for(;c<o;++c,++f)a[f]=i[c],u[f]=s[c]+e}function qoe(e){$e.call(this,$En(),e),this._indices=null,this._dims=null}qoe.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};yt(qoe,$e,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,u,l;for(;a<o;++a)u=n[a].fname,l=i[u]||(i[u]=X_e()),s.push(K_e(l,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,u=a.curr(),l=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let m,g,y,v,b,w,E,x,S;if(l.set(u),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},v=t.mod,E=0,x=v.length;E<x;++E)w[v[E]._index]=1;for(E=0;E<h;++E)S=r[E],(!o[E]||e.modified("fields",E)||t.modified(S.fields))&&(y=S.fname,(m=p[y])||(s[y]=g=X_e(),p[y]=m=g.insert(S,t.source,0)),o[E]=K_e(g,E,i[E]).onAdd(m,u));for(E=0,x=a.data().length;E<x;++E)b[E]||(l[E]!==u[E]?f.push(E):w[E]&&u[E]!==c&&d.push(E));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,u={},l=n.add,c=i.size()+r.length,f=s.length;let d=i.size(),h,p,m;i.resize(c,f),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,m=u[p]||(u[p]=o[p].insert(a[h],r,d)),s[h].onAdd(m,g);for(;d<c;++d)y[d]=v,g[d]!==v&&l.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,u,l;for(a=0,u=o.length;a<u;++a)l=o[a]._index,i[l]!==s&&n.push(l)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),u={},l=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,u[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&l.push(h);for(h in r)r[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,u,l;for(n.filters=0,l=0;l<o;++l)e.modified("query",l)&&(u=l,++a);if(a===1)a=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(l=0,a=0;l<o;++l)e.modified("query",l)&&(a|=r[l].one,this.incrementAll(r[l],i[l],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=l[0],p=l[1],m=e.one;let g,y,v;if(f<h)for(g=f,y=Math.min(h,d);g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(f>h)for(g=h,y=Math.min(f,p);g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;if(d>p)for(g=Math.max(f,p),y=d;g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(d<p)for(g=Math.max(h,d),y=p;g<y;++g)v=u[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),u=e.bisect(t),l=u[0],c=u[1],f=a[0],d=a[1],h=e.one;let p,m,g;if(l<f)for(p=l,m=Math.min(f,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(l>f)for(p=f,m=Math.min(l,d);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>d)for(p=Math.max(l,d),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<d)for(p=Math.max(f,c),m=d;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function Woe(e){$e.call(this,null,e)}Woe.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};yt(Woe,$e,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),u=r.prev(),l=c=>a[c]&n?null:o[c];return s.filter(s.MOD,l),i&i-1?(s.filter(s.ADD,c=>{const f=a[c]&n;return!f&&f^u[c]&n?o[c]:null}),s.filter(s.REM,c=>{const f=a[c]&n;return f&&!(f^(f^u[c]&n))?o[c]:null})):(s.filter(s.ADD,l),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>l(c._index))}});const jEn=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:qoe,resolvefilter:Woe},Symbol.toStringTag,{value:"Module"})),BEn="RawCode",S_="Literal",UEn="Property",zEn="Identifier",VEn="ArrayExpression",HEn="BinaryExpression",V7e="CallExpression",qEn="ConditionalExpression",WEn="LogicalExpression",GEn="MemberExpression",YEn="ObjectExpression",KEn="UnaryExpression";function Zd(e){this.type=e}Zd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=XEn(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function XEn(e){switch(e.type){case VEn:return e.elements;case HEn:case WEn:return[e.left,e.right];case V7e:return[e.callee].concat(e.arguments);case qEn:return[e.test,e.consequent,e.alternate];case GEn:return[e.object,e.property];case YEn:return e.properties;case UEn:return[e.key,e.value];case KEn:return[e.argument];case zEn:case S_:case BEn:default:return[]}}var Zp,zt,Fe,Xa,ti,a8=1,IP=2,T_=3,t1=4,u8=5,vw=6,ol=7,kP=8,QEn=9;Zp={};Zp[a8]="Boolean";Zp[IP]="<end>";Zp[T_]="Identifier";Zp[t1]="Keyword";Zp[u8]="Null";Zp[vw]="Numeric";Zp[ol]="Punctuator";Zp[kP]="String";Zp[QEn]="RegularExpression";var JEn="ArrayExpression",ZEn="BinaryExpression",exn="CallExpression",txn="ConditionalExpression",H7e="Identifier",nxn="Literal",rxn="LogicalExpression",ixn="MemberExpression",sxn="ObjectExpression",oxn="Property",axn="UnaryExpression",Fo="Unexpected token %0",uxn="Unexpected number",lxn="Unexpected string",cxn="Unexpected identifier",fxn="Unexpected reserved word",dxn="Unexpected end of input",SY="Invalid regular expression",vz="Invalid regular expression: missing /",q7e="Octal literals are not allowed in strict mode.",hxn="Duplicate data property in object literal not allowed in strict mode",da="ILLEGAL",CR="Disabled.",pxn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),mxn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function l8(e,t){if(!e)throw new Error("ASSERT: "+t)}function Im(e){return e>=48&&e<=57}function Goe(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function zI(e){return"01234567".indexOf(e)>=0}function gxn(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function AR(e){return e===10||e===13||e===8232||e===8233}function RP(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&pxn.test(String.fromCharCode(e))}function Y6(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&mxn.test(String.fromCharCode(e))}const yxn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function W7e(){for(;Fe<Xa;){const e=zt.charCodeAt(Fe);if(gxn(e)||AR(e))++Fe;else break}}function TY(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Fe<Xa&&Goe(zt[Fe])?(r=zt[Fe++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Lr({},Fo,da);return String.fromCharCode(i)}function vxn(){var e,t,n,r;for(e=zt[Fe],t=0,e==="}"&&Lr({},Fo,da);Fe<Xa&&(e=zt[Fe++],!!Goe(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Lr({},Fo,da),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function G7e(){var e,t;for(e=zt.charCodeAt(Fe++),t=String.fromCharCode(e),e===92&&(zt.charCodeAt(Fe)!==117&&Lr({},Fo,da),++Fe,e=TY("u"),(!e||e==="\\"||!RP(e.charCodeAt(0)))&&Lr({},Fo,da),t=e);Fe<Xa&&(e=zt.charCodeAt(Fe),!!Y6(e));)++Fe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),zt.charCodeAt(Fe)!==117&&Lr({},Fo,da),++Fe,e=TY("u"),(!e||e==="\\"||!Y6(e.charCodeAt(0)))&&Lr({},Fo,da),t+=e);return t}function bxn(){var e,t;for(e=Fe++;Fe<Xa;){if(t=zt.charCodeAt(Fe),t===92)return Fe=e,G7e();if(Y6(t))++Fe;else break}return zt.slice(e,Fe)}function _xn(){var e,t,n;return e=Fe,t=zt.charCodeAt(Fe)===92?G7e():bxn(),t.length===1?n=T_:yxn.hasOwnProperty(t)?n=t1:t==="null"?n=u8:t==="true"||t==="false"?n=a8:n=T_,{type:n,value:t,start:e,end:Fe}}function bz(){var e=Fe,t=zt.charCodeAt(Fe),n,r=zt[Fe],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Fe,{type:ol,value:String.fromCharCode(t),start:e,end:Fe};default:if(n=zt.charCodeAt(Fe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Fe+=2,{type:ol,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Fe};case 33:case 61:return Fe+=2,zt.charCodeAt(Fe)===61&&++Fe,{type:ol,value:zt.slice(e,Fe),start:e,end:Fe}}}if(o=zt.substr(Fe,4),o===">>>=")return Fe+=4,{type:ol,value:o,start:e,end:Fe};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Fe+=3,{type:ol,value:s,start:e,end:Fe};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Fe+=2,{type:ol,value:i,start:e,end:Fe};if(i==="//"&&Lr({},Fo,da),"<>=!+-*%&|^/".indexOf(r)>=0)return++Fe,{type:ol,value:r,start:e,end:Fe};Lr({},Fo,da)}function wxn(e){let t="";for(;Fe<Xa&&Goe(zt[Fe]);)t+=zt[Fe++];return t.length===0&&Lr({},Fo,da),RP(zt.charCodeAt(Fe))&&Lr({},Fo,da),{type:vw,value:parseInt("0x"+t,16),start:e,end:Fe}}function Exn(e){let t="0"+zt[Fe++];for(;Fe<Xa&&zI(zt[Fe]);)t+=zt[Fe++];return(RP(zt.charCodeAt(Fe))||Im(zt.charCodeAt(Fe)))&&Lr({},Fo,da),{type:vw,value:parseInt(t,8),octal:!0,start:e,end:Fe}}function Q_e(){var e,t,n;if(n=zt[Fe],l8(Im(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Fe,e="",n!=="."){if(e=zt[Fe++],n=zt[Fe],e==="0"){if(n==="x"||n==="X")return++Fe,wxn(t);if(zI(n))return Exn(t);n&&Im(n.charCodeAt(0))&&Lr({},Fo,da)}for(;Im(zt.charCodeAt(Fe));)e+=zt[Fe++];n=zt[Fe]}if(n==="."){for(e+=zt[Fe++];Im(zt.charCodeAt(Fe));)e+=zt[Fe++];n=zt[Fe]}if(n==="e"||n==="E")if(e+=zt[Fe++],n=zt[Fe],(n==="+"||n==="-")&&(e+=zt[Fe++]),Im(zt.charCodeAt(Fe)))for(;Im(zt.charCodeAt(Fe));)e+=zt[Fe++];else Lr({},Fo,da);return RP(zt.charCodeAt(Fe))&&Lr({},Fo,da),{type:vw,value:parseFloat(e),start:t,end:Fe}}function xxn(){var e="",t,n,r,i,s=!1;for(t=zt[Fe],l8(t==="'"||t==='"',"String literal must starts with a quote"),n=Fe,++Fe;Fe<Xa;)if(r=zt[Fe++],r===t){t="";break}else if(r==="\\")if(r=zt[Fe++],!r||!AR(r.charCodeAt(0)))switch(r){case"u":case"x":zt[Fe]==="{"?(++Fe,e+=vxn()):e+=TY(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:zI(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Fe<Xa&&zI(zt[Fe])&&(s=!0,i=i*8+"01234567".indexOf(zt[Fe++]),"0123".indexOf(r)>=0&&Fe<Xa&&zI(zt[Fe])&&(i=i*8+"01234567".indexOf(zt[Fe++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&zt[Fe]===`
`&&++Fe;else{if(AR(r.charCodeAt(0)))break;e+=r}return t!==""&&Lr({},Fo,da),{type:kP,value:e,octal:s,start:n,end:Fe}}function Sxn(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Lr({},SY)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Lr({},SY)}try{return new RegExp(e,t)}catch{return null}}function Txn(){var e,t,n,r,i;for(e=zt[Fe],l8(e==="/","Regular expression literal must start with a slash"),t=zt[Fe++],n=!1,r=!1;Fe<Xa;)if(e=zt[Fe++],t+=e,e==="\\")e=zt[Fe++],AR(e.charCodeAt(0))&&Lr({},vz),t+=e;else if(AR(e.charCodeAt(0)))Lr({},vz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Lr({},vz),i=t.substr(1,t.length-2),{value:i,literal:t}}function Cxn(){var e,t,n;for(t="",n="";Fe<Xa&&(e=zt[Fe],!!Y6(e.charCodeAt(0)));)++Fe,e==="\\"&&Fe<Xa?Lr({},Fo,da):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Lr({},SY,n),{value:n,literal:t}}function Axn(){var e,t,n,r;return ti=null,W7e(),e=Fe,t=Txn(),n=Cxn(),r=Sxn(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Fe}}function Ixn(e){return e.type===T_||e.type===t1||e.type===a8||e.type===u8}function Y7e(){if(W7e(),Fe>=Xa)return{type:IP,start:Fe,end:Fe};const e=zt.charCodeAt(Fe);return RP(e)?_xn():e===40||e===41||e===59?bz():e===39||e===34?xxn():e===46?Im(zt.charCodeAt(Fe+1))?Q_e():bz():Im(e)?Q_e():bz()}function pl(){const e=ti;return Fe=e.end,ti=Y7e(),Fe=e.end,e}function K7e(){const e=Fe;ti=Y7e(),Fe=e}function kxn(e){const t=new Zd(JEn);return t.elements=e,t}function J_e(e,t,n){const r=new Zd(e==="||"||e==="&&"?rxn:ZEn);return r.operator=e,r.left=t,r.right=n,r}function Rxn(e,t){const n=new Zd(exn);return n.callee=e,n.arguments=t,n}function Nxn(e,t,n){const r=new Zd(txn);return r.test=e,r.consequent=t,r.alternate=n,r}function Yoe(e){const t=new Zd(H7e);return t.name=e,t}function BA(e){const t=new Zd(nxn);return t.value=e.value,t.raw=zt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Z_e(e,t,n){const r=new Zd(ixn);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function Pxn(e){const t=new Zd(sxn);return t.properties=e,t}function ewe(e,t,n){const r=new Zd(oxn);return r.key=t,r.value=n,r.kind=e,r}function Oxn(e,t){const n=new Zd(axn);return n.operator=e,n.argument=t,n.prefix=!0,n}function Lr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(l8(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Fe,n.description=i,n}function c8(e){e.type===IP&&Lr(e,dxn),e.type===vw&&Lr(e,uxn),e.type===kP&&Lr(e,lxn),e.type===T_&&Lr(e,cxn),e.type===t1&&Lr(e,fxn),Lr(e,Fo,e.value)}function Qa(e){const t=pl();(t.type!==ol||t.value!==e)&&c8(t)}function $i(e){return ti.type===ol&&ti.value===e}function _z(e){return ti.type===t1&&ti.value===e}function Dxn(){const e=[];for(Fe=ti.start,Qa("[");!$i("]");)$i(",")?(pl(),e.push(null)):(e.push(C_()),$i("]")||Qa(","));return pl(),kxn(e)}function twe(){Fe=ti.start;const e=pl();return e.type===kP||e.type===vw?(e.octal&&Lr(e,q7e),BA(e)):Yoe(e.value)}function $xn(){var e,t,n,r;if(Fe=ti.start,e=ti,e.type===T_)return n=twe(),Qa(":"),r=C_(),ewe("init",n,r);if(e.type===IP||e.type===ol)c8(e);else return t=twe(),Qa(":"),r=C_(),ewe("init",t,r)}function Mxn(){var e=[],t,n,r,i={},s=String;for(Fe=ti.start,Qa("{");!$i("}");)t=$xn(),t.key.type===H7e?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Lr({},hxn):i[r]=!0,e.push(t),$i("}")||Qa(",");return Qa("}"),Pxn(e)}function Lxn(){Qa("(");const e=Koe();return Qa(")"),e}const Fxn={if:1};function jxn(){var e,t,n;if($i("("))return Lxn();if($i("["))return Dxn();if($i("{"))return Mxn();if(e=ti.type,Fe=ti.start,e===T_||Fxn[ti.value])n=Yoe(pl().value);else if(e===kP||e===vw)ti.octal&&Lr(ti,q7e),n=BA(pl());else{if(e===t1)throw new Error(CR);e===a8?(t=pl(),t.value=t.value==="true",n=BA(t)):e===u8?(t=pl(),t.value=null,n=BA(t)):$i("/")||$i("/=")?(n=BA(Axn()),K7e()):c8(pl())}return n}function Bxn(){const e=[];if(Qa("("),!$i(")"))for(;Fe<Xa&&(e.push(C_()),!$i(")"));)Qa(",");return Qa(")"),e}function Uxn(){Fe=ti.start;const e=pl();return Ixn(e)||c8(e),Yoe(e.value)}function zxn(){return Qa("."),Uxn()}function Vxn(){Qa("[");const e=Koe();return Qa("]"),e}function Hxn(){var e,t,n;for(e=jxn();;)if($i("."))n=zxn(),e=Z_e(".",e,n);else if($i("("))t=Bxn(),e=Rxn(e,t);else if($i("["))n=Vxn(),e=Z_e("[",e,n);else break;return e}function nwe(){const e=Hxn();if(ti.type===ol&&($i("++")||$i("--")))throw new Error(CR);return e}function pM(){var e,t;if(ti.type!==ol&&ti.type!==t1)t=nwe();else{if($i("++")||$i("--"))throw new Error(CR);if($i("+")||$i("-")||$i("~")||$i("!"))e=pl(),t=pM(),t=Oxn(e.value,t);else{if(_z("delete")||_z("void")||_z("typeof"))throw new Error(CR);t=nwe()}}return t}function rwe(e){let t=0;if(e.type!==ol&&e.type!==t1)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function qxn(){var e,t,n,r,i,s,o,a,u,l;if(e=ti,u=pM(),r=ti,i=rwe(r),i===0)return u;for(r.prec=i,pl(),t=[e,ti],o=pM(),s=[u,r,o];(i=rwe(ti))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,u=s.pop(),t.pop(),n=J_e(a,u,o),s.push(n);r=pl(),r.prec=i,s.push(r),t.push(ti),n=pM(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=J_e(s[l-1].value,s[l-2],n),l-=2;return n}function C_(){var e,t,n;return e=qxn(),$i("?")&&(pl(),t=C_(),Qa(":"),n=C_(),e=Nxn(e,t,n)),e}function Koe(){const e=C_();if($i(","))throw new Error(CR);return e}function Xoe(e){zt=e,Fe=0,Xa=zt.length,ti=null,K7e();const t=Koe();if(ti.type!==IP)throw new Error("Unexpect token after expression.");return t}var X7e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Q7e(e){function t(o,a,u,l){let c=e(a[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(l<0?"":l===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,u){return l=>t(o,l,a,u)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Ue("Missing arguments to clamp function."),o.length>3&&Ue("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(o){o.length<3&&Ue("Missing arguments to if function."),o.length>3&&Ue("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function Wxn(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function J7e(e){e=e||{};const t=e.allowed?zd(e.allowed):{},n=e.forbidden?zd(e.forbidden):{},r=e.constants||X7e,i=(e.functions||Q7e)(f),s=e.globalvar,o=e.fieldvar,a=jn(s)?s:p=>`${s}["${p}"]`;let u={},l={},c=0;function f(p){if(St(p))return p;const m=d[p.type];return m==null&&Ue("Unsupported type: "+p.type),m(p)}const d={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Xt(n,m)?Ue("Illegal identifier: "+m):Xt(r,m)?r[m]:Xt(t,m)?m:(u[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=f(p.object);m&&(c+=1);const y=f(p.property);return g===o&&(l[Wxn(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Ue("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Xt(i,m)&&i[m];return y||Ue("Unrecognized function: "+m),jn(y)?y(g):y+"("+g.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const m=f(p.key);return c-=1,m+":"+f(p.value)}};function h(p){const m={code:f(p),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},m}return h.functions=i,h.constants=r,h}const iwe=Symbol("vega_selection_getter");function Z7e(e){return(!e.getter||!e.getter[iwe])&&(e.getter=Cf(e.field),e.getter[iwe]=!0),e.getter}const Qoe="intersect",swe="union",Gxn="vlMulti",Yxn="vlPoint",owe="or",Kxn="and",Ih="_vgsid_",IR=Cf(Ih),Xxn="E",Qxn="R",Jxn="R-E",Zxn="R-LE",eSn="R-RE",K6="index:unit";function awe(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=Z7e(a)(e),Ly(o)&&(o=qa(o)),Ly(r[s])&&(r[s]=qa(r[s])),qe(r[s])&&Ly(r[s][0])&&(r[s]=r[s].map(qa)),a.type===Xxn){if(qe(r[s])?r[s].indexOf(o)<0:o!==r[s])return!1}else if(a.type===Qxn){if(!nx(o,r[s]))return!1}else if(a.type===eSn){if(!nx(o,r[s],!0,!1))return!1}else if(a.type===Jxn){if(!nx(o,r[s],!1,!1))return!1}else if(a.type===Zxn&&!nx(o,r[s],!1,!0))return!1;return!0}function tSn(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[K6]&&r[K6].value:void 0,o=n===Qoe,a=i.length,u=0,l,c,f,d,h;u<a;++u)if(l=i[u],s&&o){if(c=c||{},f=c[d=l.unit]||0,f===-1)continue;if(h=awe(t,l),c[d]=h?-1:++f,h&&s.size===1)return!0;if(!h&&f===s.get(d).count)return!1}else if(h=awe(t,l),o^h)return h;return a&&o}const eze=UT(IR),nSn=eze.left,rSn=eze.right;function iSn(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[K6]&&r[K6].value:void 0,o=n===Qoe,a=IR(t),u=nSn(i,a);if(u===i.length||IR(i[u])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(rSn(i,a)-u<s.size)return!1}return!0}function sSn(e,t){return e.map(n=>Fn(t.fields?{values:t.fields.map(r=>Z7e(r)(n.datum))}:{[Ih]:IR(n.datum)},t))}function oSn(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},u={},l,c,f,d,h,p,m,g,y,v,b=s.length,w=0,E,x;w<b;++w)if(l=s[w],d=l.unit,c=l.fields,f=l.values,c&&f){for(E=0,x=c.length;E<x;++E)h=c[E],m=o[h.field]||(o[h.field]={}),g=m[d]||(m[d]=[]),u[h.field]=y=h.type.charAt(0),v=wz[`${y}_union`],m[d]=v(g,xt(f[E]));n&&(g=a[d]||(a[d]=[]),g.push(xt(f).reduce((S,C,I)=>(S[c[I].field]=C,S),{})))}else h=Ih,p=IR(l),m=o[h]||(o[h]={}),g=m[d]||(m[d]=[]),g.push(p),n&&(g=a[d]||(a[d]=[]),g.push({[Ih]:p}));if(t=t||swe,o[Ih]?o[Ih]=wz[`${Ih}_${t}`](...Object.values(o[Ih])):Object.keys(o).forEach(S=>{o[S]=Object.keys(o[S]).map(C=>o[S][C]).reduce((C,I)=>C===void 0?I:wz[`${u[S]}_${t}`](C,I))}),s=Object.keys(a),n&&s.length){const S=r?Yxn:Gxn;o[S]=t===swe?{[owe]:s.reduce((C,I)=>(C.push(...a[I]),C),[])}:{[Kxn]:s.map(C=>({[owe]:a[C]}))}}return o}var wz={[`${Ih}_union`]:syt,[`${Ih}_intersect`]:ryt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=qa(t[0]),r=qa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=qa(t[0]),r=qa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const aSn=":",uSn="@";function Joe(e,t,n,r){t[0].type!==S_&&Ue("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&yr(t).value,o="unit",a=uSn+o,u=aSn+i;s===Qoe&&!Xt(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),Xt(r,u)||(r[u]=n.getData(i).tuplesRef())}function tze(e){const t=this.context.data[e];return t?t.values.value:[]}function lSn(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function cSn(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Af).insert(t)),1}function fSn(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const NP=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},dSn=NP("format"),nze=NP("timeFormat"),hSn=NP("utcFormat"),pSn=NP("timeParse"),mSn=NP("utcParse"),MD=new Date(2e3,0,1);function f8(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(MD.setYear(2e3),MD.setMonth(e),MD.setDate(t),nze.call(this,MD,n))}function gSn(e){return f8.call(this,e,1,"%B")}function ySn(e){return f8.call(this,e,1,"%b")}function vSn(e){return f8.call(this,0,2+e,"%A")}function bSn(e){return f8.call(this,0,2+e,"%a")}const _Sn=":",wSn="@",CY="%",rze="$";function Zoe(e,t,n,r){t[0].type!==S_&&Ue("First argument to data functions must be a string literal.");const i=t[0].value,s=_Sn+i;if(!Xt(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function ESn(e,t,n,r){t[0].type!==S_&&Ue("First argument to indata must be a string literal."),t[1].type!==S_&&Ue("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=wSn+s;Xt(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function ku(e,t,n,r){if(t[0].type===S_)uwe(n,r,t[0].value);else for(e in n.scales)uwe(n,r,e)}function uwe(e,t,n){const r=CY+n;if(!Xt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function em(e,t){if(jn(e))return e;if(St(e)){const n=t.scales[e];return n&&Yyn(n.value)?n.value:void 0}}function xSn(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=ku,n._range=ku,n._scale=ku;const r=i=>"_["+(i.type===S_?dt(CY+i.value):dt(CY)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function eae(e,t){return function(n,r,i){if(n){const s=em(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const SSn=eae("area",vwt),TSn=eae("bounds",Ewt),CSn=eae("centroid",Iwt);function ASn(e,t){const n=em(e,(t||this).context);return n&&n.scale()}function ISn(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function tae(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function kSn(){return tae(this.context.dataflow,"warn",arguments)}function RSn(){return tae(this.context.dataflow,"info",arguments)}function NSn(){return tae(this.context.dataflow,"debug",arguments)}function Ez(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function AY(e){const t=Jy(e),n=Ez(t.r),r=Ez(t.g),i=Ez(t.b);return .2126*n+.7152*r+.0722*i}function PSn(e,t){const n=AY(e),r=AY(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function OSn(){const e=[].slice.call(arguments);return e.unshift({}),Fn(...e)}function ize(e,t){return e===t||e!==e&&t!==t?!0:qe(e)?qe(t)&&e.length===t.length?DSn(e,t):!1:Tt(e)&&Tt(t)?sze(e,t):!1}function DSn(e,t){for(let n=0,r=e.length;n<r;++n)if(!ize(e[n],t[n]))return!1;return!0}function sze(e,t){for(const n in e)if(!ize(e[n],t[n]))return!1;return!0}function lwe(e){return t=>sze(e,t)}function $Sn(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],u=a.input,l=o.stamp();let c=a.changes,f,d;if(o._trigger===!1||!(u.value.length||t||r))return 0;if((!c||c.stamp<l)&&(a.changes=c=o.changeset(),c.stamp=l,o.runAfter(()=>{a.modified=!0,o.pulse(u,c).run()},!0,1)),n&&(f=n===!0?Af:qe(n)||$j(n)?n:lwe(n),c.remove(f)),t&&c.insert(t),r&&(f=lwe(r),u.value.some(f)?c.remove(f):c.insert(r)),i)for(d in s)c.modify(i,d,s[d]);return 1}function MSn(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function LSn(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const cwe={};function FSn(e,t){const n=cwe[t]||(cwe[t]=Cf(t));return qe(e)?e.map(n):n(e)}function nae(e){return qe(e)||ArrayBuffer.isView(e)?e:null}function rae(e){return nae(e)||(St(e)?e:null)}function jSn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nae(e).join(...n)}function BSn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rae(e).indexOf(...n)}function USn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rae(e).lastIndexOf(...n)}function zSn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rae(e).slice(...n)}function VSn(e,t,n){return jn(n)&&Ue("Function argument passed to replace."),String(e).replace(t,n)}function HSn(e){return nae(e).slice().reverse()}function qSn(e,t,n){return Ase(e||0,t||0,n||0)}function WSn(e,t){const n=em(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function GSn(e,t){const n=em(e,(t||this).context);return n?n.copy():void 0}function YSn(e,t){const n=em(e,(t||this).context);return n?n.domain():[]}function KSn(e,t,n){const r=em(e,(n||this).context);return r?qe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function XSn(e,t){const n=em(e,(t||this).context);return n&&n.range?n.range():[]}function QSn(e,t,n){const r=em(e,(n||this).context);return r?r(t):void 0}function JSn(e,t,n,r,i){e=em(e,(i||this).context);const s=K9e(t,n);let o=e.domain(),a=o[0],u=yr(o),l=nu;return u-a?l=L9e(e,a,u):e=(e.interpolator?jr("sequential")().interpolator(e.interpolator()):jr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,u=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),u!==yr(o)&&o.push(u)),o.forEach(c=>s.stop(l(c),e(c))),s}function ZSn(e,t,n){const r=em(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function eTn(e){let t=null;return function(n){return n?ER(n,t=t||QS(e)):e}}const oze=e=>e.data;function aze(e,t){const n=tze.call(t,e);return n.root&&n.root.lookup||{}}function tTn(e,t,n){const r=aze(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(oze):void 0}function nTn(e,t){const n=aze(e,this)[t];return n?n.ancestors().map(oze):void 0}const uze=()=>typeof window<"u"&&window||null;function rTn(){const e=uze();return e?e.screen:{}}function iTn(){const e=uze();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function sTn(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function lze(e,t,n){if(!e)return[];const[r,i]=e,s=new no().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return WUe(o,s,oTn(t))}function oTn(e){let t=null;if(e){const n=xt(e.marktype),r=xt(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function aTn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=xt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function uTn(e){return xt(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function lTn(e,t,n){const{x:r,y:i,mark:s}=n,o=new no().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,l]of t)u<o.x1&&(o.x1=u),u>o.x2&&(o.x2=u),l<o.y1&&(o.y1=l),l>o.y2&&(o.y2=l);return o.translate(r,i),lze([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(u=>cTn(u.x,u.y,t))}function cTn(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[u,l]=n[i];l>t!=a>t&&e<(o-u)*(t-l)/(a-l)+u&&r++}return r&1}const kR={random(){return kf()},cumulativeNormal:Bj,cumulativeLogNormal:Gie,cumulativeUniform:Qie,densityNormal:zie,densityLogNormal:Wie,densityUniform:Xie,quantileNormal:Uj,quantileLogNormal:Yie,quantileUniform:Jie,sampleNormal:jj,sampleLogNormal:qie,sampleUniform:Kie,isArray:qe,isBoolean:e1,isDate:Ly,isDefined(e){return e!==void 0},isNumber:Ir,isObject:Tt,isRegExp:G8e,isString:St,isTuple:$j,isValid(e){return e!=null&&e===e},toBoolean:Cie,toDate(e){return Aie(e)},toNumber:qa,toString:Iie,indexof:BSn,join:jSn,lastindexof:USn,replace:VSn,reverse:HSn,slice:zSn,flush:q8e,lerp:Y8e,merge:OSn,pad:Q8e,peek:yr,pluck:FSn,span:fP,inrange:nx,truncate:J8e,rgb:Jy,lab:E3,hcl:x3,hsl:_3,luminance:AY,contrast:PSn,sequence:yl,format:dSn,utcFormat:hSn,utcParse:mSn,utcOffset:dBe,utcSequence:mBe,timeFormat:nze,timeParse:pSn,timeOffset:fBe,timeSequence:pBe,timeUnitSpecifier:eBe,monthFormat:gSn,monthAbbrevFormat:ySn,dayFormat:vSn,dayAbbrevFormat:bSn,quarter:U8e,utcquarter:z8e,week:nBe,utcweek:sBe,dayofyear:tBe,utcdayofyear:iBe,warn:kSn,info:RSn,debug:NSn,extent(e){return Rp(e)},inScope:ISn,intersect:lze,clampRange:V8e,pinchDistance:MSn,pinchAngle:LSn,screen:rTn,containerSize:sTn,windowSize:iTn,bandspace:qSn,setdata:cSn,pathShape:eTn,panLinear:L8e,panLog:F8e,panPow:j8e,panSymlog:B8e,zoomLinear:_ie,zoomLog:wie,zoomPow:I6,zoomSymlog:Eie,encode:fSn,modify:$Sn,lassoAppend:aTn,lassoPath:uTn,intersectLasso:lTn},fTn=["view","item","group","xy","x","y"],dTn="event.vega.",cze="this.",iae={},fze={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${dt(rze+e)}]`,functions:hTn,constants:X7e,visitors:iae},IY=J7e(fze);function hTn(e){const t=Q7e(e);fTn.forEach(n=>t[n]=dTn+n);for(const n in kR)t[n]=cze+n;return Fn(t,xSn(e,kR,iae)),t}function Vs(e,t,n){return arguments.length===1?kR[e]:(kR[e]=t,n&&(iae[e]=n),IY&&(IY.functions[e]=cze+e),this)}Vs("bandwidth",WSn,ku);Vs("copy",GSn,ku);Vs("domain",YSn,ku);Vs("range",XSn,ku);Vs("invert",KSn,ku);Vs("scale",QSn,ku);Vs("gradient",JSn,ku);Vs("geoArea",SSn,ku);Vs("geoBounds",TSn,ku);Vs("geoCentroid",CSn,ku);Vs("geoShape",ZSn,ku);Vs("geoScale",ASn,ku);Vs("indata",lSn,ESn);Vs("data",tze,Zoe);Vs("treePath",tTn,Zoe);Vs("treeAncestors",nTn,Zoe);Vs("vlSelectionTest",tSn,Joe);Vs("vlSelectionIdTest",iSn,Joe);Vs("vlSelectionResolve",oSn,Joe);Vs("vlSelectionTuples",sSn);function Pp(e,t){const n={};let r;try{e=St(e)?e:dt(e)+"",r=Xoe(e)}catch{Ue("Expression parse error: "+e)}r.visit(s=>{if(s.type!==V7e)return;const o=s.callee.name,a=fze.visitors[o];a&&a(o,s.arguments,t,n)});const i=IY(r);return i.globals.forEach(s=>{const o=rze+s;!Xt(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:Fn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function pTn(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const mTn=zd(["rule"]),fwe=zd(["group","image","rect"]);function gTn(e,t){let n="";return mTn[t]||(e.x2&&(e.x?(fwe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(fwe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function sae(e){return(e+"").toLowerCase()}function yTn(e){return sae(e)==="operator"}function vTn(e){return sae(e)==="collect"}function B2(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function bTn(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var _Tn={operator:(e,t)=>B2(e,["_"],t.code),parameter:(e,t)=>B2(e,["datum","_"],t.code),event:(e,t)=>B2(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return B2(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+dt(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=gTn(r,n),i+="return m;",B2(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(dt).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let u,l;return s.path?(u=`a${s.path}`,l=`b${s.path}`):((n=n||{})["f"+o]=s,u=`this.f${o}(a)`,l=`this.f${o}(b)`),bTn(u,l,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function wTn(e){const t=this;yTn(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function ETn(e){const t=this;if(e.params){const n=t.get(e.id);n||Ue("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function xTn(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=qe(i)?i.map(s=>dwe(s,n,t)):dwe(i,n,t)}return t}function dwe(e,t,n){if(!e||!Tt(e))return e;for(let r=0,i=hwe.length,s;r<i;++r)if(s=hwe[r],Xt(e,s.key))return s.parse(e,t,n);return e}var hwe=[{key:"$ref",parse:STn},{key:"$key",parse:CTn},{key:"$expr",parse:TTn},{key:"$field",parse:ATn},{key:"$encode",parse:kTn},{key:"$compare",parse:ITn},{key:"$context",parse:RTn},{key:"$subflow",parse:NTn},{key:"$tupleid",parse:PTn}];function STn(e,t){return t.get(e.$ref)||Ue("Operator not defined: "+e.$ref)}function TTn(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Wl(t.parameterExpression(e.$expr),e.$fields))}function CTn(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Tie(e.$key,e.$flat,t.expr.codegen))}function ATn(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Cf(e.$field,e.$name,t.expr.codegen))}function ITn(e,t){const n="c:"+e.$compare+"_"+e.$order,r=xt(e.$compare).map(i=>i&&i.$tupleid?Yt:i);return t.fn[n]||(t.fn[n]=xie(r,e.$order,t.expr.codegen))}function kTn(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=Wl(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function RTn(e,t){return t}function NTn(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(s),a.detachSubflow=()=>t.detach(o),a}}function PTn(){return Yt}function OTn(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Ue("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function DTn(e){var t=this,n=Tt(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||Ue("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const $Tn={skip:!0};function MTn(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function LTn(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],$Tn)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(Af).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function dze(e,t,n,r){return new hze(e,t,n,r)}function hze(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||_Tn,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function pwe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}hze.prototype=pwe.prototype={fork(){const e=new pwe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),vTn(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[sae(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:pTn,parseOperator:wTn,parseOperatorParameters:ETn,parseParameters:xTn,parseStream:OTn,parseUpdate:DTn,getState:MTn,setState:LTn};function FTn(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),pze(t,e.description()))}function pze(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function jTn(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const xz="default";function BTn(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:xz,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?St(i)?i:i.user:xz,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return St(r)||(i=r.item,r=r.user),kY(e,r&&r!==xz?r:i||r),i},{cursor:t})}function kY(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function X6(e,t){var n=e._runtime.data;return Xt(n,t)||Ue("Unrecognized data set: "+t),n[t]}function UTn(e,t){return arguments.length<2?X6(this,e).values.value:d8.call(this,e,gw().remove(Af).insert(t))}function d8(e,t){$Be(t)||Ue("Second argument to changes must be a changeset.");const n=X6(this,e);return n.modified=!0,this.pulse(n.input,t)}function zTn(e,t){return d8.call(this,e,gw().insert(t))}function VTn(e,t){return d8.call(this,e,gw().remove(t))}function mze(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function gze(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function h8(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function HTn(e){var t=h8(e),n=mze(e),r=gze(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function qTn(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=h8(e),o=t.changedTouches?t.changedTouches[0]:t,s=i8(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=WTn(e,n,s),t}function WTn(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,u;if(o){for(u=t;u;u=u.mark.group)if(u.mark.name===o){a=u;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;St(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:ru(e),item:ru(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const mwe="view",GTn="timer",YTn="window",KTn={trap:!1};function XTn(e){const t=Fn({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{qe(r[s])&&(r[s]=zd(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function yze(e,t,n,r){e._eventListeners.push({type:n,sources:xt(t),handler:r})}function QTn(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function LD(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Tt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function JTn(e,t,n){var r=this,i=new Fj(n),s=function(l,c){r.runAsync(null,()=>{e===mwe&&QTn(r,t)&&l.preventDefault(),i.receive(qTn(r,l,c))})},o;if(e===GTn)LD(r,"timer",t)&&r.timer(s,t);else if(e===mwe)LD(r,"view",t)&&r.addEventListener(t,s,KTn);else if(e===YTn?LD(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&LD(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,u=o.length;a<u;++a)o[a].addEventListener(t,s);yze(r,o,t,s)}return i}function gwe(e){return e.item}function ywe(e){return e.item.mark.source}function vwe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function ZTn(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",gwe),ywe,vwe(e)),this.on(this.events("view","pointerout",gwe),ywe,vwe(t)),this}function eCn(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,u;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)u=n[i].type,a=n[i].handler,this._handler.off(u,a);return this}function vc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const tCn="vega-bind",nCn="vega-bind-name",rCn="vega-bind-radio";function iCn(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=Sie(r.debounce,i.update))),(r.input==null&&r.element?sCn:aCn)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function sCn(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),yze(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(oCn(i))}}function oCn(e){return typeof Event<"u"?new Event(e):{type:e}}function aCn(e,t,n,r){const i=r.signal(n.signal),s=vc("div",{class:tCn}),o=n.input==="radio"?s:s.appendChild(vc("label"));o.appendChild(vc("span",{class:nCn},n.name||n.signal)),t.appendChild(s);let a=uCn;switch(n.input){case"checkbox":a=lCn;break;case"select":a=cCn;break;case"radio":a=fCn;break;case"range":a=dCn;break}a(e,o,n,i)}function uCn(e,t,n,r){const i=vc("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function lCn(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=vc("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function cCn(e,t,n,r){const i=vc("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const u={value:o};Q6(o,r)&&(u.selected=!0),i.appendChild(vc("option",u,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,u=n.options.length;a<u;++a)if(Q6(n.options[a],o)){i.selectedIndex=a;return}}}function fCn(e,t,n,r){const i=vc("span",{class:rCn}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const u={type:"radio",name:n.signal,value:o};Q6(o,r)&&(u.checked=!0);const l=vc("input",u);l.addEventListener("change",()=>e.update(o));const c=vc("label",{},(s[a]||o)+"");return c.prepend(l),i.appendChild(c),l}),e.set=o=>{const a=e.elements,u=a.length;for(let l=0;l<u;++l)Q6(a[l].value,o)&&(a[l].checked=!0)}}function dCn(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||Qy(s,i,100),a=vc("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const u=vc("span",{},+r);t.appendChild(a),t.appendChild(u);const l=()=>{u.textContent=a.value,e.update(+a.value)};a.addEventListener("input",l),a.addEventListener("change",l),e.elements=[a],e.set=c=>{a.value=c,u.textContent=c}}function Q6(e,t){return e===t||e+""==t+""}function vze(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,mze(e),gze(e),h8(e),i,s).background(e.background())}function oae(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function hCn(e,t,n,r){const i=new r(e.loader(),oae(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,h8(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function pCn(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=s8(r);e=n._el=e?Sz(n,e,!0):null,FTn(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||AP,a=e?s.renderer:s.headless;return n._renderer=a?vze(n,n._renderer,e,a):null,n._handler=hCn(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Sz(n,t,!0):e.appendChild(vc("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=Sz(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{iCn(n,u.element||t,u)})),n}function Sz(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const U2=e=>+e||0,mCn=e=>({top:e,bottom:e,left:e,right:e});function bwe(e){return Tt(e)?{top:U2(e.top),bottom:U2(e.bottom),left:U2(e.left),right:U2(e.right)}:mCn(U2(e))}async function aae(e,t,n,r){const i=s8(t),s=i&&i.headless;return s||Ue("Unrecognized renderer type: "+t),await e.runAsync(),vze(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function gCn(e,t){e!==cy.Canvas&&e!==cy.SVG&&e!==cy.PNG&&Ue("Unrecognized image type: "+e);const n=await aae(this,e,t);return e===cy.SVG?yCn(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function yCn(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function vCn(e,t){return(await aae(this,cy.Canvas,e,t)).canvas()}async function bCn(e){return(await aae(this,cy.SVG,e)).svg()}function _Cn(e,t,n){return dze(e,GS,kR,n).parse(t)}function wCn(e){var t=this._runtime.scales;return Xt(t,e)||Ue("Unrecognized scale or projection: "+e),t[e].value}var bze="width",_ze="height",uae="padding",_we={skip:!0};function wze(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===uae?r.left+r.right:0)}function Eze(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===uae?r.top+r.bottom:0)}function ECn(e){var t=e._signals,n=t[bze],r=t[_ze],i=t[uae];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=wze(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Eze(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function xCn(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(bze,n,_we),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(_ze,r,_we),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(u=>u.resize())},!1,1)}function SCn(e){return this._runtime.getState(e||{data:TCn,signals:CCn,recurse:!0})}function TCn(e,t){return t.modified&&qe(t.input.value)&&!e.startsWith("_:vega:_")}function CCn(e,t){return!(e==="parent"||t instanceof GS.proxy)}function ACn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function ICn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(N1t(n,t))}function kCn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",RCn(r))}function RCn(e){return e==null?"":qe(e)?xze(e):Tt(e)&&!Ly(e)?NCn(e):e+""}function NCn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(qe(n)?xze(n):Sze(n))}).join(`
`)}function xze(e){return"["+e.map(Sze).join(", ")+"]"}function Sze(e){return qe(e)?"[]":Tt(e)&&!Ly(e)?"{}":e}function PCn(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Tze(e,t){const n=this;if(t=t||{},Bx.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=Fn({},e.locale,t.locale);n.locale(TBe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||cy.Canvas,n._scenegraph=new bUe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||kCn,n._redraw=!0,n._handler=new AP().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=XTn(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=_Cn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:Fn({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=wze(n,n._width),n._viewHeight=Eze(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,ECn(n),jTn(n),BTn(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function FD(e,t){return Xt(e._signals,t)?e._signals[t]:Ue("Unrecognized signal name: "+dt(t))}function Cze(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function wwe(e,t,n,r){let i=Cze(n,r);return i||(i=oae(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Ewe(e,t,n){const r=Cze(t,n);return r&&t._targets.remove(r),e}yt(Tze,Bx,{async evaluate(e,t,n){if(await Bx.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,HTn(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&tM(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&pze(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=FD(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",bwe(e)):bwe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(s8(e)||Ue("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Bx.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(FD(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:xCn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=oae(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return wwe(this,e,FD(this,e),t)},removeSignalListener(e,t){return Ewe(this,FD(this,e),t)},addDataListener(e,t){return wwe(this,e,X6(this,e).values,t)},removeDataListener(e,t){return Ewe(this,X6(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=kY(this,null);this._globalCursor=!!e,t&&kY(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:ICn,events:JTn,finalize:eCn,hover:ZTn,data:UTn,change:d8,insert:zTn,remove:VTn,scale:wCn,initialize:pCn,toImageURL:gCn,toCanvas:vCn,toSVG:bCn,getState:SCn,setState:ACn,_watchPixelRatio:PCn});const OCn="view",J6="[",Z6="]",Aze="{",Ize="}",DCn=":",kze=",",$Cn="@",MCn=">",LCn=/[[\]{}]/,FCn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Rze,Nze;function n1(e,t,n){return Rze=t||OCn,Nze=n||FCn,Pze(e.trim()).map(RY)}function jCn(e){return Nze[e]}function VI(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function Pze(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=VI(e,i,kze,J6+Aze,Z6+Ize),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function RY(e){return e[0]==="["?BCn(e):UCn(e)}function BCn(e){const t=e.length;let n=1,r;if(n=VI(e,n,Z6,J6,Z6),n===t)throw"Empty between selector: "+e;if(r=Pze(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==MCn)throw"Expected '>' after between selector: "+e;r=r.map(RY);const i=RY(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function UCn(e){const t={source:Rze},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,u,l;if(e[o-1]===Ize){if(a=e.lastIndexOf(Aze),a>=0){try{r=zCn(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===$Cn&&(i=++a),u=VI(e,a,DCn),u<o&&(n.push(e.substring(s,u).trim()),s=a=++u),a=VI(e,a,J6),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),l=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=VI(e,a,Z6),a===o)throw"Unmatched left bracket: "+e;if(l.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==J6)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||LCn.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):jCn(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),l!=null&&(t.filter=l),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function zCn(e){const t=e.split(kze);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function VCn(e){return Tt(e)?e:{type:e||"pad"}}const z2=e=>+e||0,HCn=e=>({top:e,bottom:e,left:e,right:e});function qCn(e){return Tt(e)?e.signal?e:{top:z2(e.top),bottom:z2(e.bottom),left:z2(e.left),right:z2(e.right)}:HCn(z2(e))}const jo=e=>Tt(e)&&!qe(e)?Fn({},e):{value:e};function xwe(e,t,n,r){return n!=null?(Tt(n)&&!qe(n)||qe(n)&&n.length&&Tt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function wa(e,t,n){for(const r in t)xwe(e,r,t[r]);for(const r in n)xwe(e,r,n[r],"update")}function $C(e,t,n){for(const r in t)n&&Xt(n,r)||(e[r]=Fn(e[r]||{},t[r]));return e}function RE(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const lae="mark",cae="frame",fae="scope",WCn="axis",GCn="axis-domain",YCn="axis-grid",KCn="axis-label",XCn="axis-tick",QCn="axis-title",JCn="legend",ZCn="legend-band",e2n="legend-entry",t2n="legend-gradient",Oze="legend-label",n2n="legend-symbol",r2n="legend-title",i2n="title",s2n="title-text",o2n="title-subtitle";function a2n(e,t,n,r,i){const s={},o={};let a,u,l,c;u="lineBreak",t==="text"&&i[u]!=null&&!RE(u,e)&&Tz(s,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===cae?i.group:n===lae?Fn({},i.mark,i[t]):null;for(u in c)l=RE(u,e)||(u==="fill"||u==="stroke")&&(RE("fill",e)||RE("stroke",e)),l||Tz(s,u,c[u]);xt(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)RE(h,e)||Tz(s,h,d[h])}),e=Fn({},e);for(u in s)c=s[u],c.signal?(a=a||{})[u]=c:o[u]=c;return e.enter=Fn(o,e.enter),a&&(e.update=Fn(a,e.update)),e}function Tz(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Dze=e=>St(e)?dt(e):e.signal?`(${e.signal})`:$ze(e);function p8(e){if(e.gradient!=null)return l2n(e);let t=e.signal?`(${e.signal})`:e.color?u2n(e.color):e.field!=null?$ze(e.field):e.value!==void 0?dt(e.value):void 0;return e.scale!=null&&(t=c2n(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${mM(e.exponent)})`),e.mult!=null&&(t+=`*${mM(e.mult)}`),e.offset!=null&&(t+=`+${mM(e.offset)}`),e.round&&(t=`round(${t})`),t}const jD=(e,t,n,r)=>`(${e}(${[t,n,r].map(p8).join(",")})+'')`;function u2n(e){return e.c?jD("hcl",e.h,e.c,e.l):e.h||e.s?jD("hsl",e.h,e.s,e.l):e.l||e.a?jD("lab",e.l,e.a,e.b):e.r||e.g||e.b?jD("rgb",e.r,e.g,e.b):null}function l2n(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:dt(n));for(;t.length&&yr(t)==null;)t.pop();return t.unshift(Dze(e.gradient)),`gradient(${t.join(",")})`}function mM(e){return Tt(e)?"("+p8(e)+")":e}function $ze(e){return Mze(Tt(e)?e:{datum:e})}function Mze(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Ue("Invalid field reference: "+dt(e));return e.signal||(r=St(r)?Qp(r).map(dt).join("]["):Mze(r)),t+"["+r+"]"}function c2n(e,t){const n=Dze(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+mM(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function f2n(e){let t="";return e.forEach(n=>{const r=p8(n);t+=n.test?`(${n.test})?${r}:`:r}),yr(t)===":"&&(t+="null"),t}function Lze(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=a2n(e,t,n,r,i.config);for(const a in e)o[a]=d2n(e[a],t,s,i);return s}function d2n(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=p2n(h2n(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function h2n(e){return qe(e)?f2n(e):p8(e)}function p2n(e,t,n,r){const i=Pp(e,t);return i.$fields.forEach(s=>r[s]=1),Fn(n,i.$params),i.$expr}const m2n="outer",g2n=["value","update","init","react","bind"];function Swe(e,t){Ue(e+' for "outer" push: '+dt(t))}function Fze(e,t){const n=e.name;if(e.push===m2n)t.signals[n]||Swe("No prior signal definition",n),g2n.forEach(r=>{e[r]!==void 0&&Swe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function NY(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function m8(e,t,n,r){return new NY(e,t,n,r)}function e4(e,t){return m8("operator",e,t)}function Gt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function RR(e,t){return t?{$field:e,$name:t}:{$field:e}}const PY=RR("key");function Twe(e,t){return{$compare:e,$order:t}}function y2n(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const v2n="ascending",b2n="descending";function _2n(e){return Tt(e)?(e.order===b2n?"-":"+")+g8(e.op,e.field):""}function g8(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const dae="scope",OY="view";function vo(e){return e&&e.signal}function w2n(e){return e&&e.expr}function gM(e){if(vo(e))return!0;if(Tt(e)){for(const t in e)if(gM(e[t]))return!0}return!1}function ld(e,t){return e??t}function Bb(e){return e&&e.signal||e}const Cwe="timer";function NR(e,t){return(e.merge?x2n:e.stream?S2n:e.type?T2n:Ue("Invalid stream specification: "+dt(e)))(e,t)}function E2n(e){return e===dae?OY:e||OY}function x2n(e,t){const n=e.merge.map(i=>NR(i,t)),r=hae({merge:n},e,t);return t.addStream(r).id}function S2n(e,t){const n=NR(e.stream,t),r=hae({stream:n},e,t);return t.addStream(r).id}function T2n(e,t){let n;e.type===Cwe?(n=t.event(Cwe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(E2n(e.source),e.type);const r=hae({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function hae(e,t,n){let r=t.between;return r&&(r.length!==2&&Ue('Stream "between" parameter must have 2 entries: '+dt(t)),e.between=[NR(r[0],n),NR(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(C2n(t.marktype,t.markname,t.markrole)),t.source===dae&&r.push("inScope(event.item)"),r.length&&(e.filter=Pp("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function C2n(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const A2n={code:"_.$value",ast:{type:"Identifier",value:"value"}};function I2n(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||Ue("Signal update missing events specification."),St(s)&&(s=n1(s,t.isSubscope()?dae:OY)),s=xt(s).filter(u=>u.signal||u.scale?(a.push(u),0):1),a.length>1&&(a=[R2n(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&Ue("Signal encode and update are mutually exclusive."),o="encode(item(),"+dt(r)+")"),i.update=St(o)?Pp(o,t):o.expr!=null?Pp(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:A2n,$params:{$value:t.signalRef(o.signal)}}:Ue("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(u=>t.addUpdate(Fn(k2n(u,t),i)))}function k2n(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):NR(e,t)}}function R2n(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function N2n(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Ue("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Pp(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>I2n(i,t,n.id))}const di=e=>(t,n,r)=>m8(e,n,t||void 0,r),jze=di("aggregate"),P2n=di("axisticks"),Bze=di("bound"),eh=di("collect"),Awe=di("compare"),O2n=di("datajoin"),Uze=di("encode"),D2n=di("expression"),$2n=di("facet"),M2n=di("field"),L2n=di("key"),F2n=di("legendentries"),j2n=di("load"),B2n=di("mark"),U2n=di("multiextent"),z2n=di("multivalues"),V2n=di("overlap"),H2n=di("params"),zze=di("prefacet"),q2n=di("projection"),W2n=di("proxy"),G2n=di("relay"),Vze=di("render"),Y2n=di("scale"),bw=di("sieve"),K2n=di("sortitems"),Hze=di("viewlayout"),X2n=di("values");let Q2n=0;const qze={min:"min",max:"max",count:"sum"};function J2n(e,t){const n=e.type||"linear";N9e(n)||Ue("Unrecognized scale type: "+dt(n)),t.addScale(e.name,{type:n,domain:void 0})}function Z2n(e,t){const n=t.getScale(e.name).params;let r;n.domain=Wze(e.domain,e,t),e.range!=null&&(n.range=Yze(e,t,n)),e.interpolate!=null&&lAn(e.interpolate,n),e.nice!=null&&(n.nice=uAn(e.nice,t)),e.bins!=null&&(n.bins=aAn(e.bins,t));for(r in e)Xt(n,r)||r==="name"||(n[r]=hf(e[r],t))}function hf(e,t){return Tt(e)?e.signal?t.signalRef(e.signal):Ue("Unsupported object: "+dt(e)):e}function yM(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>hf(n,t))}function y8(e){Ue("Can not find data set: "+dt(e))}function Wze(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ue("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(qe(e)?eAn:e.fields?nAn:tAn)(e,t,n)}function eAn(e,t,n){return e.map(r=>hf(r,n))}function tAn(e,t,n){const r=n.getData(e.data);return r||y8(e.data),XS(t.type)?r.valuesRef(n,e.field,Gze(e.sort,!1)):D9e(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function nAn(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=St(o)?{data:r,field:o}:qe(o)||o.signal?rAn(o,n):o,s.push(o),s),[]);return(XS(t.type)?iAn:D9e(t.type)?sAn:oAn)(e,n,i)}function rAn(e,t){const n="_:vega:_"+Q2n++,r=eh({});if(qe(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+dt(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,bw({})]),{data:n,field:"data"}}function iAn(e,t,n){const r=Gze(e.sort,!0);let i,s;const o=n.map(l=>{const c=t.getData(l.data);return c||y8(l.data),c.countsRef(t,l.field,r)}),a={groupby:PY,pulse:o};r&&(i=r.op||"count",s=r.field?g8(i,r.field):"count",a.ops=[qze[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(jze(a));const u=t.add(eh({pulse:Gt(i)}));return s=t.add(X2n({field:PY,sort:t.sortRef(r),pulse:Gt(u)})),Gt(s)}function Gze(e,t){return e&&(!e.field&&!e.op?Tt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ue("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!qze[e.op]&&Ue("Multiple domain scales can not be sorted using "+e.op)),e}function sAn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||y8(i.data),s.domainRef(t,i.field)});return Gt(t.add(z2n({values:r})))}function oAn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||y8(i.data),s.extentRef(t,i.field)});return Gt(t.add(U2n({extents:r})))}function aAn(e,t){return e.signal||qe(e)?yM(e,t):t.objectProperty(e)}function uAn(e,t){return e.signal?t.signalRef(e.signal):Tt(e)?{interval:hf(e.interval),step:hf(e.step)}:hf(e)}function lAn(e,t){t.interpolate=hf(e.type||e),e.gamma!=null&&(t.interpolateGamma=hf(e.gamma))}function Yze(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(St(i)){if(r&&Xt(r,i))return e=Fn({},e,{range:r[i]}),Yze(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=XS(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ue("Unrecognized scale range value: "+dt(i))}else if(i.scheme){n.scheme=qe(i.scheme)?yM(i.scheme,t):hf(i.scheme,t),i.extent&&(n.schemeExtent=yM(i.extent,t)),i.count&&(n.schemeCount=hf(i.count,t));return}else if(i.step){n.rangeStep=hf(i.step,t);return}else{if(XS(e.type)&&!qe(i))return Wze(i,e,t);qe(i)||Ue("Unsupported range type: "+dt(i))}return i.map(s=>(qe(s)?yM:hf)(s,t))}function cAn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=DY(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=DY(n[i],i,t));t.addProjection(e.name,r)}function DY(e,t,n){return qe(e)?e.map(r=>DY(r,t,n)):Tt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Ue("Unsupported parameter object: "+dt(e)):e}const th="top",MC="left",LC="right",Ev="bottom",Kze="center",fAn="vertical",dAn="start",hAn="middle",pAn="end",$Y="index",pae="label",mAn="offset",tT="perc",gAn="perc2",yf="value",PP="guide-label",mae="guide-title",yAn="group-title",vAn="group-subtitle",Iwe="symbol",vM="gradient",MY="discrete",LY="size",bAn="shape",_An="fill",wAn="stroke",EAn="strokeWidth",xAn="strokeDash",SAn="opacity",gae=[LY,bAn,_An,wAn,EAn,xAn,SAn],OP={name:1,style:1,interactive:1},Er={value:0},vf={value:1},v8="group",Xze="rect",yae="rule",TAn="symbol",_w="text";function PR(e){return e.type=v8,e.interactive=e.interactive||!1,e}function Gl(e,t){const n=(r,i)=>ld(e[r],ld(t[r],i));return n.isVertical=r=>fAn===ld(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>ld(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>ld(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>ld(e.columns,ld(t.columns,+n.isVertical(!0))),n}function Qze(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function CAn(e,t,n){const r=t.config.style[n];return r&&r[e]}function b8(e,t,n){return`item.anchor === '${dAn}' ? ${e} : item.anchor === '${pAn}' ? ${t} : ${n}`}const vae=b8(dt(MC),dt(LC),dt(Kze));function AAn(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Tt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Jze(e,t){return t?e?Tt(e)?Object.assign({},e,{offset:Jze(e.offset,t)}):{value:e,offset:t}:t:e}function Pc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=$C(e.encode,t,OP)):e.interactive=!1,e}function IAn(e,t,n,r){const i=Gl(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let u,l,c,f,d;s?(l=[0,1],c=[0,0],f=o,d=a):(l=[0,0],c=[1,0],f=a,d=o);const h={enter:u={opacity:Er,x:Er,y:Er,width:jo(f),height:jo(d)},update:Fn({},u,{opacity:vf,fill:{gradient:t,start:l,stop:c}}),exit:{opacity:Er}};return wa(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Pc({type:Xze,role:t2n,encode:h},r)}function kAn(e,t,n,r,i){const s=Gl(e,n),o=s.isVertical(),a=s.gradientThickness(),u=s.gradientLength();let l,c,f,d,h="";o?(l="y",f="y2",c="x",d="width",h="1-"):(l="x",f="x2",c="y",d="height");const p={opacity:Er,fill:{scale:t,field:yf}};p[l]={signal:h+"datum."+tT,mult:u},p[c]=Er,p[f]={signal:h+"datum."+gAn,mult:u},p[d]=jo(a);const m={enter:p,update:Fn({},p,{opacity:vf}),exit:{opacity:Er}};return wa(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),Pc({type:Xze,role:ZCn,key:yf,from:i,encode:m},r)}const RAn=`datum.${tT}<=0?"${MC}":datum.${tT}>=1?"${LC}":"${Kze}"`,NAn=`datum.${tT}<=0?"${Ev}":datum.${tT}>=1?"${th}":"${hAn}"`;function kwe(e,t,n,r){const i=Gl(e,t),s=i.isVertical(),o=jo(i.gradientThickness()),a=i.gradientLength();let u=i("labelOverlap"),l,c,f,d,h="";const p={enter:l={opacity:Er},update:c={opacity:vf,text:{field:pae}},exit:{opacity:Er}};return wa(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:ld(e.labelLimit,t.gradientLabelLimit)}),s?(l.align={value:"left"},l.baseline=c.baseline={signal:NAn},f="y",d="x",h="1-"):(l.align=c.align={signal:RAn},l.baseline={value:"top"},f="x",d="y"),l[f]=c[f]={signal:h+"datum."+tT,mult:a},l[d]=c[d]=o,o.offset=ld(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+$Y}:void 0,Pc({type:_w,role:Oze,style:PP,key:yf,from:r,encode:p,overlap:u},n)}function PAn(e,t,n,r,i){const s=Gl(e,t),o=n.entries,a=!!(o&&o.interactive),u=o?o.name:void 0,l=s("clipHeight"),c=s("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${mAn} : datum.${LY}`,h=l?jo(l):{field:LY},p=`datum.${$Y}`,m=`max(1, ${i})`;let g,y,v,b,w;h.mult=.5,g={enter:y={opacity:Er,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:vf,x:y.x,y:y.y},exit:{opacity:Er}};let E=null,x=null;e.fill||(E=t.symbolBaseFillColor,x=t.symbolBaseStrokeColor),wa(g,{fill:s("symbolFillColor",E),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",x),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),gae.forEach(k=>{e[k]&&(v[k]=y[k]={scale:e[k],field:yf})});const S=Pc({type:TAn,role:n2n,key:yf,from:f,clip:l?!0:void 0,encode:g},n.symbols),C=jo(c);C.offset=s("labelOffset"),g={enter:y={opacity:Er,x:{signal:d,offset:C},y:h},update:v={opacity:vf,text:{field:pae},x:y.x,y:y.y},exit:{opacity:Er}},wa(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const I=Pc({type:_w,role:Oze,style:PP,key:yf,from:f,encode:g},n.labels);return g={enter:{noBound:{value:!l},width:Er,height:l?jo(l):Er,opacity:Er},exit:{opacity:Er},update:v={opacity:vf,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(b=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,w={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,w={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:$Y}},PR({role:fae,from:r,encode:$C(g,o,OP),marks:[S,I],name:u,interactive:a,sort:w})}function OAn(e,t){const n=Gl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const bae='item.orient === "left"',_ae='item.orient === "right"',_8=`(${bae} || ${_ae})`,DAn=`datum.vgrad && ${_8}`,$An=b8('"top"','"bottom"','"middle"'),MAn=b8('"right"','"left"','"center"'),LAn=`datum.vgrad && ${_ae} ? (${MAn}) : (${_8} && !(datum.vgrad && ${bae})) ? "left" : ${vae}`,FAn=`item._anchor || (${_8} ? "middle" : "start")`,jAn=`${DAn} ? (${bae} ? -90 : 90) : 0`,BAn=`${_8} ? (datum.vgrad ? (${_ae} ? "bottom" : "top") : ${$An}) : "top"`;function UAn(e,t,n,r){const i=Gl(e,t),s={enter:{opacity:Er},update:{opacity:vf,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Er}};return wa(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:FAn},angle:{signal:jAn},align:{signal:LAn},baseline:{signal:BAn},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Pc({type:_w,role:r2n,style:mae,from:r,encode:s},n)}function zAn(e,t){let n;return Tt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Rwe(e.path)+")":e.sphere&&(n="geoShape("+Rwe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Rwe(e){return Tt(e)&&e.signal?e.signal:dt(e)}function Zze(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===v8?fae:t||lae}function VAn(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Zze(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function HAn(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function wae(e,t){const n=FBe(e.type);n||Ue("Unrecognized transform type: "+dt(e.type));const r=m8(n.type.toLowerCase(),null,eVe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function eVe(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=qAn(o,t,n)}return r}function qAn(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return WAn(e,t,n);if(i===void 0){e.required&&Ue("Missing required "+dt(t.type)+" parameter: "+dt(e.name));return}else{if(r==="param")return GAn(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!vo(i)?i.map(s=>Nwe(e,s,n)):Nwe(e,i,n)}function Nwe(e,t,n){const r=e.type;if(vo(t))return Owe(r)?Ue("Expression references can not be signals."):Cz(r)?n.fieldRef(t):Dwe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Cz(r);return i&&YAn(t)?n.exprRef(t.expr,t.as):i&&KAn(t)?RR(t.field,t.as):Owe(r)?Pp(t,n):XAn(r)?Gt(n.getData(t).values):Cz(r)?RR(t):Dwe(r)?n.compareRef(t):t}}function WAn(e,t,n){return St(t.from)||Ue('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function GAn(e,t,n){const r=t[e.name];return e.array?(qe(r)||Ue("Expected an array of sub-parameters. Instead: "+dt(r)),r.map(i=>Pwe(e,i,n))):Pwe(e,r,n)}function Pwe(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Ue("Unsupported parameter: "+dt(t));const s=Fn(eVe(i,t,n),i.key);return Gt(n.add(H2n(s)))}const YAn=e=>e&&e.expr,KAn=e=>e&&e.field,XAn=e=>e==="data",Owe=e=>e==="expr",Cz=e=>e==="field",Dwe=e=>e==="compare";function QAn(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||Ue("Only group marks can be faceted."),r.field!=null?o=a=bM(r,n):(e.data?a=Gt(n.getData(e.data).aggregate):(s=wae(Fn({type:"aggregate",groupby:xt(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=bM(r,n),o=a=Gt(n.add(s))),i=n.keyRef(r.groupby,!0))):o=Gt(n.add(eh(null,[{}]))),o||(o=bM(e,n)),{key:i,pulse:o,parent:a}}function bM(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Gt(t.getData(e.data).output)}function A_(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}A_.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Gt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new A_(e,s,i,r,o)};function tVe(e){return St(e)?e:null}function $we(e,t,n){const r=g8(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function V2(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),u=_2n(s);let l=tVe(i),c,f;if(l!=null&&(e=t.scope,l=l+(u?"|"+u:""),c=a[l]),!c){const d=s?{field:PY,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:Gt(t.output)};u&&(d.sort=e.sortRef(s)),f=e.add(m8(r,void 0,d)),o&&(t.index[i]=f),c=Gt(f),l!=null&&(a[l]=c)}return c}A_.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=tVe(t);let o,a,u;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&$we(e,o.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:Gt(r.output)},n&&n.field&&$we(e,u,n),a=e.add(jze(u)),o=e.add(eh({pulse:Gt(a)})),o={agg:a,ref:Gt(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return Gt(this.values)},extentRef(e,t){return V2(e,this,"extent","extent",t,!1)},domainRef(e,t){return V2(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return V2(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return V2(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return V2(e,this,"indata","tupleindex",t,!0,!0)}};function JAn(e,t,n){const r=e.from.facet,i=r.name,s=bM(r,t);let o;r.name||Ue("Facet must have a name: "+dt(r)),r.data||Ue("Facet must reference a data set: "+dt(r)),r.field?o=t.add(zze({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add($2n({key:t.keyRef(r.groupby),group:Gt(t.proxy(n.parent)),pulse:s})):Ue("Facet must specify groupby or field: "+dt(r));const a=t.fork(),u=a.add(eh()),l=a.add(bw({pulse:Gt(u)}));a.addData(i,new A_(a,u,u,l)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function ZAn(e,t,n){const r=t.add(zze({pulse:n.pulse})),i=t.fork();i.add(bw()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function nVe(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,u=t.add(e4()),l="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(f=>f??"null").join(",")+"),0)",c=Pp(l,t);u.update=c.$expr,u.params=c.$params}function w8(e,t){const n=Zze(e),r=e.type===v8,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===fae||n===cae,a,u,l,c,f,d,h;const p=n===lae||o||i,m=QAn(e.from,r,t);u=t.add(O2n({key:m.key||(e.key?RR(e.key):void 0),pulse:m.pulse,clean:!r}));const g=Gt(u);u=l=t.add(eh({pulse:g})),u=t.add(B2n({markdef:VAn(e),interactive:HAn(e.interactive,t),clip:zAn(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Gt(u)}));const y=Gt(u);u=c=t.add(Uze(Lze(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(x=>{const S=wae(x,t),C=S.metadata;(C.generates||C.changes)&&Ue("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),S.params.pulse=Gt(u),t.add(u=S)}),e.sort&&(u=t.add(K2n({sort:t.compareRef(e.sort),pulse:Gt(u)})));const v=Gt(u);(i||o)&&(o=t.add(Hze({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=Gt(o));const b=t.add(Bze({mark:y,pulse:d||v}));h=Gt(b),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(v,d||h,g),i?JAn(e,t,m):p?ZAn(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(b))),s&&(h=eIn(s,h,t));const w=t.add(Vze({pulse:h})),E=t.add(bw({pulse:Gt(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new A_(t,l,w,E)),e.on&&e.on.forEach(x=>{(x.insert||x.remove||x.toggle)&&Ue("Marks only support modify triggers."),nVe(x,t,f)}))}function eIn(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:vo(s)?n.signalRef(s.signal):s,method:vo(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=vo(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return Gt(n.add(V2n(o)))}function tIn(e,t){const n=t.config.legend,r=e.encode||{},i=Gl(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,u=s.style,l={};let c=0,f,d,h;gae.forEach(b=>e[b]?(l[b]=e[b],c=c||e[b]):0),c||Ue("Missing valid scale for legend.");const p=nIn(e,t.scaleType(c)),m={title:e.title!=null,scales:l,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=Gt(t.add(eh(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=Gt(t.add(F2n(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===vM?(h=[IAn(e,c,n,r.gradient),kwe(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${Bb(i.gradientLength())})/100))`)):p===MY?h=[kAn(e,c,n,r.gradient,v),kwe(e,n,r.labels,v)]:(f=OAn(e,n),h=[PAn(e,n,r,v,Bb(f.columns))],d.size=sIn(e,t,h[0].marks)),h=[PR({role:e2n,from:g,encode:y,marks:h,layout:f,interactive:a})],m.title&&h.push(UAn(e,n,r.title,g)),w8(PR({role:JCn,from:g,encode:$C(iIn(i,e,n),s,OP),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:u}),t)}function nIn(e,t){let n=e.type||Iwe;return!e.type&&rIn(e)===1&&(e.fill||e.stroke)&&(n=Pse(t)?vM:QG(t)?MY:Iwe),n!==vM?n:QG(t)?MY:vM}function rIn(e){return gae.reduce((t,n)=>t+(e[n]?1:0),0)}function iIn(e,t,n){const r={enter:{},update:{}};return wa(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function sIn(e,t,n){const r=Bb(Mwe("size",e,n)),i=Bb(Mwe("strokeWidth",e,n)),s=Bb(oIn(n[1].encode,t,PP));return Pp(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function Mwe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Qze(e,n[0].encode)}function oIn(e,t,n){return Qze("fontSize",e)||CAn("fontSize",t,n)}const aIn=`item.orient==="${MC}"?-90:item.orient==="${LC}"?90:0`;function uIn(e,t){e=St(e)?{text:e}:e;const n=Gl(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,u=[],l={},c=Gt(t.add(eh(null,[l])));return u.push(fIn(e,n,lIn(e),c)),e.subtitle&&u.push(dIn(e,n,r.subtitle,c)),w8(PR({role:i2n,from:c,encode:cIn(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function lIn(e){const t=e.encode;return t&&t.title||Fn({name:e.name,interactive:e.interactive,style:e.style},t)}function cIn(e,t){const n={enter:{},update:{}};return wa(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:vae},angle:{signal:aIn},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),$C(n,t,OP)}function fIn(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return wa(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Pc({type:_w,role:s2n,style:yAn,from:r,encode:o},n)}function dIn(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return wa(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Pc({type:_w,role:o2n,style:vAn,from:r,encode:o},n)}function hIn(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(wae(r,t))}),e.on&&e.on.forEach(r=>{nVe(r,t,e.name)}),t.addDataPipeline(e.name,pIn(e,t,n))}function pIn(e,t,n){const r=[];let i=null,s=!1,o=!1,a,u,l,c,f;for(e.values?vo(e.values)||gM(e.format)?(r.push(Lwe(t,e)),r.push(i=b1())):r.push(i=b1({$ingest:e.values,$format:e.format})):e.url?gM(e.url)||gM(e.format)?(r.push(Lwe(t,e)),r.push(i=b1())):r.push(i=b1({$request:e.url,$format:e.format})):e.source&&(i=a=xt(e.source).map(d=>Gt(t.getData(d).output)),r.push(null)),u=0,l=n.length;u<l;++u)c=n[u],f=c.metadata,!i&&!f.source&&r.push(i=b1()),r.push(c),f.generates&&(o=!0),f.modifies&&!o&&(s=!0),f.source?i=c:f.changes&&(i=null);return a&&(l=a.length-1,r[0]=G2n({derive:s,pulse:l?a:a[0]}),(s||l)&&r.splice(1,0,b1())),i||r.push(b1()),r.push(bw({})),r}function b1(e){const t=eh({},e);return t.metadata={source:!0},t}function Lwe(e,t){return j2n({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const rVe=e=>e===Ev||e===th,E8=(e,t,n)=>vo(e)?vIn(e.signal,t,n):e===MC||e===th?t:n,Bo=(e,t,n)=>vo(e)?gIn(e.signal,t,n):rVe(e)?t:n,Dd=(e,t,n)=>vo(e)?yIn(e.signal,t,n):rVe(e)?n:t,iVe=(e,t,n)=>vo(e)?bIn(e.signal,t,n):e===th?{value:t}:{value:n},mIn=(e,t,n)=>vo(e)?_In(e.signal,t,n):e===LC?{value:t}:{value:n},gIn=(e,t,n)=>sVe(`${e} === '${th}' || ${e} === '${Ev}'`,t,n),yIn=(e,t,n)=>sVe(`${e} !== '${th}' && ${e} !== '${Ev}'`,t,n),vIn=(e,t,n)=>Eae(`${e} === '${MC}' || ${e} === '${th}'`,t,n),bIn=(e,t,n)=>Eae(`${e} === '${th}'`,t,n),_In=(e,t,n)=>Eae(`${e} === '${LC}'`,t,n),sVe=(e,t,n)=>(t=t!=null?jo(t):t,n=n!=null?jo(n):n,Fwe(t)&&Fwe(n)?(t=t?t.signal||dt(t.value):null,n=n?n.signal||dt(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Fn({test:e},t)].concat(n||[])),Fwe=e=>e==null||Object.keys(e).length===1,Eae=(e,t,n)=>({signal:`${e} ? (${sx(t)}) : (${sx(n)})`}),wIn=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${MC}' ? (${sx(r)}) : `:"")+(n!=null?`${e} === '${Ev}' ? (${sx(n)}) : `:"")+(i!=null?`${e} === '${LC}' ? (${sx(i)}) : `:"")+(t!=null?`${e} === '${th}' ? (${sx(t)}) : `:"")+"(null)"}),sx=e=>vo(e)?e.signal:e==null?null:dt(e),EIn=(e,t)=>t===0?0:vo(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Ux=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function uE(e,t,n,r){let i;if(t&&Xt(t,e))return t[e];if(Xt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[mae][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[PP][i]}return null}function jwe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function xIn(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,u,l;if(vo(o)){const f=jwe([n.axisX,n.axisY]),d=jwe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(l of f)a[l]=Bo(o,uE(l,n.axisX,i,r),uE(l,n.axisY,i,r));u={};for(l of d)u[l]=wIn(o.signal,uE(l,n.axisTop,i,r),uE(l,n.axisBottom,i,r),uE(l,n.axisLeft,i,r),uE(l,n.axisRight,i,r))}else a=o===th||o===Ev?n.axisX:n.axisY,u=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||u||s?Fn({},i,a,u,s):i}function SIn(e,t,n,r){const i=Gl(e,t),s=e.orient;let o,a;const u={enter:o={opacity:Er},update:a={opacity:vf},exit:{opacity:Er}};wa(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=Bwe(e,0),c=Bwe(e,1);return o.x=a.x=Bo(s,l,Er),o.x2=a.x2=Bo(s,c),o.y=a.y=Dd(s,l,Er),o.y2=a.y2=Dd(s,c),Pc({type:yae,role:GCn,from:r,encode:u},n)}function Bwe(e,t){return{scale:e.scale,range:t}}function TIn(e,t,n,r,i){const s=Gl(e,t),o=e.orient,a=e.gridScale,u=E8(o,1,-1),l=CIn(e.offset,u);let c,f,d;const h={enter:c={opacity:Er},update:d={opacity:vf},exit:f={opacity:Er}};wa(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:yf,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=Bo(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:u,offset:l}:{value:0,offset:l},y=a?{scale:a,range:1,mult:u,offset:l}:Fn(m,{mult:u,offset:l});return c.x=d.x=Bo(o,p,g),c.y=d.y=Dd(o,p,g),c.x2=d.x2=Dd(o,y),c.y2=d.y2=Bo(o,y),f.x=Bo(o,p),f.y=Dd(o,p),Pc({type:yae,role:YCn,key:yf,from:r,encode:h},n)}function CIn(e,t){if(t!==1)if(!Tt(e))e=vo(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Fn({},e);for(;n.mult!=null;)if(Tt(n.mult))n=n.mult=Fn({},n.mult);else return n.mult=vo(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function AIn(e,t,n,r,i,s){const o=Gl(e,t),a=e.orient,u=E8(a,-1,1);let l,c,f;const d={enter:l={opacity:Er},update:f={opacity:vf},exit:c={opacity:Er}};wa(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=jo(i);h.mult=u;const p={scale:e.scale,field:yf,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return f.y=l.y=Bo(a,Er,p),f.y2=l.y2=Bo(a,h),c.x=Bo(a,p),f.x=l.x=Dd(a,Er,p),f.x2=l.x2=Dd(a,h),c.y=Dd(a,p),Pc({type:yae,role:XCn,key:yf,from:r,encode:d},n)}function Az(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function IIn(e,t,n,r,i,s){const o=Gl(e,t),a=e.orient,u=e.scale,l=E8(a,-1,1),c=Bb(o("labelFlush")),f=Bb(o("labelFlushOffset")),d=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=jo(i);g.mult=l,g.offset=jo(o("labelPadding")||0),g.offset.mult=l;const y={scale:u,field:yf,band:.5,offset:Jze(s.offset,o("labelOffset"))},v=Bo(a,p?Az(u,c,'"left"','"right"','"center"'):{value:"center"},mIn(a,"left","right")),b=Bo(a,iVe(a,"bottom","top"),p?Az(u,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=Az(u,c,`-(${f})`,f,0);p=p&&f;const E={opacity:Er,x:Bo(a,y,g),y:Dd(a,y,g)},x={enter:E,update:m={opacity:vf,text:{field:pae},x:E.x,y:E.y,align:v,baseline:b},exit:{opacity:Er,x:E.x,y:E.y}};wa(x,{dx:!d&&p?Bo(a,w):null,dy:!h&&p?Dd(a,w):null}),wa(x,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:h});const S=o("labelBound");let C=o("labelOverlap");return C=C||S?{separation:o("labelSeparation"),method:C,order:"datum.index",bound:S?{scale:u,orient:a,tolerance:S}:null}:void 0,m.align!==v&&(m.align=Ux(m.align,v)),m.baseline!==b&&(m.baseline=Ux(m.baseline,b)),Pc({type:_w,role:KCn,style:PP,key:yf,from:r,encode:x,overlap:C},n)}function kIn(e,t,n,r){const i=Gl(e,t),s=e.orient,o=E8(s,-1,1);let a,u;const l={enter:a={opacity:Er,anchor:jo(i("titleAnchor",null)),align:{signal:vae}},update:u=Fn({},a,{opacity:vf,text:jo(e.title)}),exit:{opacity:Er}},c={signal:`lerp(range("${e.scale}"), ${b8(0,1,.5)})`};return u.x=Bo(s,c),u.y=Dd(s,c),a.angle=Bo(s,Er,EIn(o,90)),a.baseline=Bo(s,iVe(s,Ev,th),{value:Ev}),u.angle=a.angle,u.baseline=a.baseline,wa(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),RIn(i,s,l,n),l.update.align=Ux(l.update.align,a.align),l.update.angle=Ux(l.update.angle,a.angle),l.update.baseline=Ux(l.update.baseline,a.baseline),Pc({type:_w,role:QCn,style:mae,from:r,encode:l},n)}function RIn(e,t,n,r){const i=(a,u)=>a!=null?(n.update[u]=Ux(jo(a),n.update[u]),!1):!RE(u,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?jo(o):Bo(t,jo(o),jo(s))}function NIn(e,t){const n=xIn(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,u=Gl(e,n),l=AAn(u),c={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},f=Gt(t.add(eh({},[c]))),d=Gt(t.add(P2n({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(TIn(e,n,r.grid,d,l)),c.ticks&&(p=u("tickSize"),h.push(AIn(e,n,r.ticks,d,p,l))),c.labels&&(p=c.ticks?p:0,h.push(IIn(e,n,r.labels,d,p,l))),c.domain&&h.push(SIn(e,n,r.domain,f)),c.title&&h.push(kIn(e,n,r.title,f)),w8(PR({role:WCn,from:f,encode:$C(PIn(u,e),i,OP),marks:h,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:s,interactive:o,style:a}),t)}function PIn(e,t){const n={enter:{},update:{}};return wa(n,{orient:e("orient"),offset:e("offset")||0,position:ld(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function oVe(e,t,n){const r=xt(e.signals),i=xt(e.scales);return n||r.forEach(s=>Fze(s,t)),xt(e.projections).forEach(s=>cAn(s,t)),i.forEach(s=>J2n(s,t)),xt(e.data).forEach(s=>hIn(s,t)),i.forEach(s=>Z2n(s,t)),(n||r).forEach(s=>N2n(s,t)),xt(e.axes).forEach(s=>NIn(s,t)),xt(e.marks).forEach(s=>w8(s,t)),xt(e.legends).forEach(s=>tIn(s,t)),e.title&&uIn(e.title,t),t.parseLambdas(),t}const OIn=e=>$C({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function DIn(e,t){const n=t.config,r=Gt(t.root=t.add(e4())),i=$In(e,n);i.forEach(l=>Fze(l,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(eh()),o=t.add(Uze(Lze(OIn(e.encode),v8,cae,e.style,t,{pulse:Gt(s)}))),a=t.add(Hze({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Gt(o)}));t.operators.pop(),t.pushState(Gt(o),Gt(a),null),oVe(e,t,i),t.operators.push(a);let u=t.add(Bze({mark:r,pulse:Gt(a)}));return u=t.add(Vze({pulse:Gt(u)})),u=t.add(bw({pulse:Gt(u)})),t.addData("root",new A_(t,s,s,u)),t}function H2(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function $In(e,t){const n=o=>ld(e[o],t[o]),r=[H2("background",n("background")),H2("autosize",VCn(n("autosize"))),H2("padding",qCn(n("padding"))),H2("width",n("width")||0),H2("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return xt(e.signals).forEach(o=>{Xt(i,o.name)?o=Fn(i[o.name],o):r.push(o),s[o.name]=o}),xt(t.signals).forEach(o=>{!Xt(s,o.name)&&!Xt(i,o.name)&&r.push(o)}),r}function aVe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Uwe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}aVe.prototype=Uwe.prototype={parse(e){return oVe(e,this)},fork(){return new Uwe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof NY?Gt(e):e;return this.add(W2n({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Gt(this.add(bw({pulse:e})))),this._parent.push(t),this._lookup.push(n?Gt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return yr(this._parent)},encode(){return yr(this._encode)},lookup(){return yr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(St(e))return RR(e,t);e.signal||Ue("Unsupported field reference: "+dt(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Gt(this.add(M2n(i)))}return r},compareRef(e){let t=!1;const n=s=>vo(s)?(t=!0,this.signalRef(s.signal)):w2n(s)?(t=!0,this.exprRef(s.expr)):s,r=xt(e.field).map(n),i=xt(e.order).map(n);return t?Gt(this.add(Awe({fields:r,orders:i}))):Twe(r,i)},keyRef(e,t){let n=!1;const r=s=>vo(s)?(n=!0,Gt(i[s.signal])):s,i=this.signals;return e=xt(e).map(r),n?Gt(this.add(L2n({fields:e,flat:t}))):y2n(e,t)},sortRef(e){if(!e)return e;const t=g8(e.op,e.field),n=e.order||v2n;return n.signal?Gt(this.add(Awe({fields:t,orders:this.signalRef(n.signal)}))):Twe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Xt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ue("Duplicate signal name: "+dt(e));const n=t instanceof NY?t:this.add(e4(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Ue("Unrecognized signal name: "+dt(e)),this.signals[e]},signalRef(e){return this.signals[e]?Gt(this.signals[e]):(Xt(this.lambdas,e)||(this.lambdas[e]=this.add(e4(null))),Gt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Pp(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Tt(e)?e:this.signalRef(e.signal||xae(e))},exprRef(e,t){const n={expr:Pp(e,this)};return t&&(n.expr.$name=t),Gt(this.add(D2n(n)))},addBinding(e,t){this.bindings||Ue("Nested signals do not support binding: "+dt(e)),this.bindings.push(Fn({signal:e},t))},addScaleProj(e,t){Xt(this.scales,e)&&Ue("Duplicate scale or projection name: "+dt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Y2n(t))},addProjection(e,t){this.addScaleProj(e,q2n(t))},getScale(e){return this.scales[e]||Ue("Unrecognized scale name: "+dt(e)),this.scales[e]},scaleRef(e){return Gt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Xt(this.data,e)&&Ue("Duplicate data set name: "+dt(e)),this.data[e]=t},getData(e){return this.data[e]||Ue("Undefined data set name: "+dt(e)),this.data[e]},addDataPipeline(e,t){return Xt(this.data,e)&&Ue("Duplicate data set name: "+dt(e)),this.addData(e,A_.fromEntries(this,t))}};function xae(e){return(qe(e)?MIn:LIn)(e)}function MIn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Tt(i)?i.signal||xae(i):dt(i))}return n+"]"}function LIn(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+dt(r)+":"+(Tt(i)?i.signal||xae(i):dt(i));return t+"}"}function FIn(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function jIn(e,t,n){return Tt(e)||Ue("Input Vega specification must be an object."),t=AC(FIn(),t,e.config),DIn(e,new aVe(t,n)).toRuntime()}var BIn="5.29.0";Fn(GS,jyn,A_n,swn,Mwn,Vwn,gEn,Kwn,vEn,EEn,PEn,jEn);const UIn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:no,CanvasHandler:AP,CanvasRenderer:z6,DATE:Bl,DAY:Ha,DAYOFYEAR:Np,Dataflow:Bx,Debug:P8e,Error:yie,EventStream:Fj,Gradient:K9e,GroupItem:Qj,HOURS:kc,Handler:roe,HybridHandler:BUe,HybridRenderer:uY,Info:N8e,Item:Xj,MILLISECONDS:Vd,MINUTES:Rc,MONTH:Ka,Marks:Nc,MultiPulse:Lie,None:R8e,Operator:gi,Parameters:Lj,Pulse:Fy,QUARTER:jl,RenderType:cy,Renderer:CP,ResourceLoader:nUe,SECONDS:If,SVGHandler:AUe,SVGRenderer:loe,SVGStringRenderer:jUe,Scenegraph:bUe,TIME_UNITS:kie,Transform:$e,View:Tze,WEEK:po,Warn:vie,YEAR:ya,accessor:Wl,accessorFields:Ya,accessorName:_s,array:xt,ascending:Nj,bandwidthNRD:Uie,bin:UBe,bootstrapCI:zBe,boundClip:XUe,boundContext:EP,boundItem:rY,boundMark:mUe,boundStroke:l0,changeset:gw,clampRange:V8e,codegenExpression:J7e,compare:xie,constant:ru,cumulativeLogNormal:Gie,cumulativeNormal:Bj,cumulativeUniform:Qie,dayofyear:tBe,debounce:Sie,defaultLocale:Pie,definition:FBe,densityLogNormal:Wie,densityNormal:zie,densityUniform:Xie,domChild:fo,domClear:af,domCreate:uy,domFind:noe,dotbin:VBe,error:Ue,expressionFunction:Vs,extend:Fn,extent:Rp,extentIndex:H8e,falsy:k0,fastmap:kC,field:Cf,flush:q8e,font:n8,fontFamily:TP,fontSize:Jp,format:eM,formatLocale:k6,formats:$ie,hasOwnProperty:Xt,id:cP,identity:nu,inferType:ABe,inferTypes:IBe,ingest:Wr,inherits:yt,inrange:nx,interpolate:Ose,interpolateColors:Yj,interpolateRange:$9e,intersect:WUe,intersectBoxLine:rx,intersectPath:Use,intersectPoint:zse,intersectRule:iUe,isArray:qe,isBoolean:e1,isDate:Ly,isFunction:jn,isIterable:W8e,isNumber:Ir,isObject:Tt,isRegExp:G8e,isString:St,isTuple:$j,key:Tie,lerp:Y8e,lineHeight:bv,loader:Oj,locale:TBe,logger:bie,lruCache:K8e,markup:uoe,merge:X8e,mergeConfig:AC,multiLineOffset:Zse,one:CC,pad:Q8e,panLinear:L8e,panLog:F8e,panPow:j8e,panSymlog:B8e,parse:jIn,parseExpression:Xoe,parseSelector:n1,path:qF,pathCurves:Fse,pathEqual:QUe,pathParse:QS,pathRectangle:J9e,pathRender:ER,pathSymbols:Q9e,pathTrail:Z9e,peek:yr,point:i8,projection:woe,quantileLogNormal:Yie,quantileNormal:Uj,quantileUniform:Jie,quantiles:jie,quantizeInterpolator:M9e,quarter:U8e,quartiles:Bie,get random(){return kf},randomInteger:V0n,randomKDE:Hie,randomLCG:z0n,randomLogNormal:qBe,randomMixture:WBe,randomNormal:Vie,randomUniform:GBe,read:NBe,regressionConstant:Zie,regressionExp:KBe,regressionLinear:ese,regressionLoess:JBe,regressionLog:YBe,regressionPoly:QBe,regressionPow:XBe,regressionQuad:tse,renderModule:s8,repeat:kA,resetDefaultLocale:jgn,resetSVGClipId:tUe,resetSVGDefIds:qbn,responseType:RBe,runtimeContext:dze,sampleCurve:Vj,sampleLogNormal:qie,sampleNormal:jj,sampleUniform:Kie,scale:jr,sceneEqual:coe,sceneFromJSON:yUe,scenePickVisit:D6,sceneToJSON:gUe,sceneVisit:Hd,sceneZOrder:Vse,scheme:Dse,serializeXML:$Ue,setHybridRendererOptions:Ubn,setRandom:B0n,span:fP,splitAccessPath:Qp,stringValue:dt,textMetrics:yc,timeBin:vBe,timeFloor:uBe,timeFormatLocale:bR,timeInterval:RC,timeOffset:fBe,timeSequence:pBe,timeUnitSpecifier:eBe,timeUnits:Rie,toBoolean:Cie,toDate:Aie,toNumber:qa,toSet:zd,toString:Iie,transform:jBe,transforms:GS,truncate:J8e,truthy:Af,tupleid:Yt,typeParsers:YG,utcFloor:lBe,utcInterval:NC,utcOffset:dBe,utcSequence:mBe,utcdayofyear:iBe,utcquarter:z8e,utcweek:sBe,version:BIn,visitArray:F0,week:nBe,writeConfig:IC,zero:Q0,zoomLinear:_ie,zoomLog:wie,zoomPow:I6,zoomSymlog:Eie},Symbol.toStringTag,{value:"Module"}));function zIn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var VIn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},HIn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},qIn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const WIn=Array.prototype.slice,_1=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,WIn.call(t,1))},GIn=(e,t,n,r,i,s,o)=>new Date(e,t||0,n??1,r||0,i||0,s||0,o||0);var YIn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:GIn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return _1("join",arguments)},indexof:function(){return _1("indexOf",arguments)},lastindexof:function(){return _1("lastIndexOf",arguments)},slice:function(){return _1("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return _1("substring",arguments,String)},split:function(){return _1("split",arguments,String)},replace:function(){return _1("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const KIn=["view","item","group","xy","x","y"],FY=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&FY.add(setImmediate);const XIn={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:VIn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),FY.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||YIn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>HIn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>qIn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,FY.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function q2(e,t,n,r,i,s){const o=a=>XIn[a.type](o,a);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=s,KIn.forEach(a=>o.fn[a]=function(){return i.vega[a](...arguments)}),o(e)}var QIn={operator(e,t){const n=t.ast,r=e.functions;return i=>q2(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>q2(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>q2(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const o=s.item&&s.item.datum;return q2(n,r,i,o,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(o,a)=>{const u=o.datum;let l=0,c;for(const f in r)c=q2(r[f].ast,i,a,u,void 0,o),o[f]!==c&&(o[f]=c,l=1);return n!=="rule"&&zIn(o,r,s),l}}};const JIn="vega-lite",ZIn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',ekn="5.18.1",tkn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],nkn="https://vega.github.io/vega-lite/",rkn="Vega-Lite is a concise high-level language for interactive visualization.",ikn=["vega","chart","visualization"],skn="build/vega-lite.js",okn="build/vega-lite.min.js",akn="build/vega-lite.min.js",ukn="build/src/index",lkn="build/src/index.d.ts",ckn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},fkn=["bin","build","src","vega-lite*","tsconfig.json"],dkn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},hkn={type:"git",url:"https://github.com/vega/vega-lite.git"},pkn="BSD-3-Clause",mkn={url:"https://github.com/vega/vega-lite/issues"},gkn={"@babel/core":"^7.24.5","@babel/preset-env":"^7.24.5","@babel/preset-typescript":"^7.24.1","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.8.0","@typescript-eslint/parser":"^7.8.0",ajv:"^8.13.0","ajv-formats":"^2.1.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.1.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.1.3","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.9.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.2.5",puppeteer:"^15.0.0","release-it":"^17.2.1",rollup:"^4.17.2","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.0","ts-jest":"^29.1.2","ts-json-schema-generator":"^1.5.0",typescript:"~5.4.5","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.25.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},ykn={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},vkn={vega:"^5.24.0"},bkn={node:">=18"},_kn="yarn@1.22.19",wkn={name:JIn,author:ZIn,version:ekn,collaborators:tkn,homepage:nkn,description:rkn,keywords:ikn,main:skn,unpkg:okn,jsdelivr:akn,module:ukn,types:lkn,bin:ckn,files:fkn,scripts:dkn,repository:hkn,license:pkn,bugs:mkn,devDependencies:gkn,dependencies:ykn,peerDependencies:vkn,engines:bkn,packageManager:_kn};function Sae(e){return!!e.or}function Tae(e){return!!e.and}function Cae(e){return!!e.not}function _M(e,t){if(Cae(e))_M(e.not,t);else if(Tae(e))for(const n of e.and)_M(n,t);else if(Sae(e))for(const n of e.or)_M(n,t);else t(e)}function zx(e,t){return Cae(e)?{not:zx(e.not,t)}:Tae(e)?{and:e.and.map(n=>zx(n,t))}:Sae(e)?{or:e.or.map(n=>zx(n,t))}:t(e)}const gn=structuredClone;function uVe(e){throw new Error(e)}function nT(e,t){const n={};for(const r of t)Xt(e,r)&&(n[r]=e[r]);return n}function kl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>li(e)).join(",")})`};function sr(e){if(Ir(e))return e;const t=St(e)?e:li(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function jY(e){return e===!1||e===null}function or(e,t){return e.includes(t)}function I_(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function Aae(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function lVe(e,...t){for(const n of t)Ekn(e,n??{});return e}function Ekn(e,t){for(const n of tt(t))IC(e,n,t[n],!0)}function Zh(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function xkn(e,t){const n=tt(e),r=tt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function cVe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Iae(e,t){for(const n of e)if(t.has(n))return!0;return!1}function BY(e){const t=new Set;for(const n of e){const i=Qp(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function kae(e,t){return e===void 0||t===void 0?!0:Iae(BY(e),BY(t))}function ui(e){return tt(e).length===0}const tt=Object.keys,va=Object.values,xv=Object.entries;function OR(e){return e===!0||e===!1}function es(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function HI(e,t){return Cae(e)?`!(${HI(e.not,t)})`:Tae(e)?`(${e.and.map(n=>HI(n,t)).join(") && (")})`:Sae(e)?`(${e.or.map(n=>HI(n,t)).join(") || (")})`:t(e)}function t4(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&t4(e[n],t)&&delete e[n],ui(e)}function DP(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Rae(e,t="datum"){const n=Qp(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(dt).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function fVe(e,t="datum"){return`${t}[${dt(Qp(e).join("."))}]`}function Skn(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Rf(e){return`${Qp(e).map(Skn).join("\\.")}`}function k_(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function FC(e){return`${Qp(e).join(".")}`}function rT(e){return e?Qp(e).length:0}function js(...e){for(const t of e)if(t!==void 0)return t}let dVe=42;function hVe(e){const t=++dVe;return e?String(e)+t:t}function Tkn(){dVe=42}function pVe(e){return mVe(e)?e:`__${e}`}function mVe(e){return e.startsWith("__")}function DR(e){if(e!==void 0)return(e%360+360)%360}function x8(e){return Ir(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const zwe=Object.getPrototypeOf(structuredClone({}));function hc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!hc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!hc(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==zwe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==zwe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!hc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function li(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const u=a[i],l=n(r[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return t.splice(o,1),`{${s}}`}(e)}const ag="row",ug="column",S8="facet",ts="x",Go="y",nh="x2",tm="y2",r1="xOffset",jC="yOffset",rh="radius",f0="radius2",zf="theta",d0="theta2",ih="latitude",sh="longitude",oh="latitude2",Nf="longitude2",Ul="color",nm="fill",rm="stroke",zl="shape",h0="size",ww="angle",p0="opacity",i1="fillOpacity",s1="strokeOpacity",o1="strokeWidth",a1="strokeDash",$P="text",iT="order",MP="detail",T8="key",R_="tooltip",C8="href",A8="url",I8="description",Ckn={x:1,y:1,x2:1,y2:1},gVe={theta:1,theta2:1,radius:1,radius2:1};function yVe(e){return e in gVe}const Nae={longitude:1,longitude2:1,latitude:1,latitude2:1};function vVe(e){switch(e){case ih:return"y";case oh:return"y2";case sh:return"x";case Nf:return"x2"}}function bVe(e){return e in Nae}const Akn=tt(Nae),Pae={...Ckn,...gVe,...Nae,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Vx(e){return e===Ul||e===nm||e===rm}const _Ve={row:1,column:1,facet:1},pf=tt(_Ve),Oae={...Pae,..._Ve},Ikn=tt(Oae),{order:s5n,detail:o5n,tooltip:a5n,...kkn}=Oae,{row:u5n,column:l5n,facet:c5n,...Rkn}=kkn;function Nkn(e){return!!Rkn[e]}function wVe(e){return!!Oae[e]}const Pkn=[nh,tm,oh,Nf,d0,f0];function EVe(e){return Ew(e)!==e}function Ew(e){switch(e){case nh:return ts;case tm:return Go;case oh:return ih;case Nf:return sh;case d0:return zf;case f0:return rh}return e}function Sv(e){if(yVe(e))switch(e){case zf:return"startAngle";case d0:return"endAngle";case rh:return"outerRadius";case f0:return"innerRadius"}return e}function im(e){switch(e){case ts:return nh;case Go:return tm;case ih:return oh;case sh:return Nf;case zf:return d0;case rh:return f0}}function Vl(e){switch(e){case ts:case nh:return"width";case Go:case tm:return"height"}}function xVe(e){switch(e){case ts:return"xOffset";case Go:return"yOffset";case nh:return"x2Offset";case tm:return"y2Offset";case zf:return"thetaOffset";case rh:return"radiusOffset";case d0:return"theta2Offset";case f0:return"radius2Offset"}}function Dae(e){switch(e){case ts:return"xOffset";case Go:return"yOffset"}}function Okn(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Dkn=tt(Pae),{x:f5n,y:d5n,x2:h5n,y2:p5n,xOffset:m5n,yOffset:g5n,latitude:y5n,longitude:v5n,latitude2:b5n,longitude2:_5n,theta:w5n,theta2:E5n,radius:x5n,radius2:S5n,...$ae}=Pae,$kn=tt($ae),Mae={x:1,y:1},sm=tt(Mae);function Bs(e){return e in Mae}const Lae={theta:1,radius:1},Mkn=tt(Lae);function k8(e){return e==="width"?ts:Go}const SVe={xOffset:1,yOffset:1};function LP(e){return e in SVe}const{text:T5n,tooltip:C5n,href:A5n,url:I5n,description:k5n,detail:R5n,key:N5n,order:P5n,...TVe}=$ae,Lkn=tt(TVe);function Fkn(e){return!!$ae[e]}function jkn(e){switch(e){case Ul:case nm:case rm:case h0:case zl:case p0:case o1:case a1:return!0;case i1:case s1:case ww:return!1}}const CVe={...Mae,...Lae,...SVe,...TVe},R8=tt(CVe);function m0(e){return!!CVe[e]}function Bkn(e,t){return zkn(e)[t]}const AVe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:O5n,...Ukn}=AVe;function zkn(e){switch(e){case Ul:case nm:case rm:case I8:case MP:case T8:case R_:case C8:case iT:case p0:case i1:case s1:case o1:case S8:case ag:case ug:return AVe;case ts:case Go:case r1:case jC:case ih:case sh:return Ukn;case nh:case tm:case oh:case Nf:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case h0:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case a1:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case zl:return{point:"always",geoshape:"always"};case $P:return{text:"always"};case ww:return{point:"always",square:"always",text:"always"};case A8:return{image:"always"};case zf:return{text:"always",arc:"always"};case rh:return{text:"always",arc:"always"};case d0:case f0:return{arc:"always"}}}function Iz(e){switch(e){case ts:case Go:case zf:case rh:case r1:case jC:case h0:case ww:case o1:case p0:case i1:case s1:case nh:case tm:case d0:case f0:return;case S8:case ag:case ug:case zl:case a1:case $P:case R_:case C8:case A8:case I8:return"discrete";case Ul:case nm:case rm:return"flexible";case ih:case sh:case oh:case Nf:case MP:case T8:case iT:return}}const Vkn={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Hkn={count:1,min:1,max:1};function Bg(e){return!!e&&!!e.argmin}function u1(e){return!!e&&!!e.argmax}function Fae(e){return St(e)&&!!Vkn[e]}const qkn=new Set(["count","valid","missing","distinct"]);function IVe(e){return St(e)&&qkn.has(e)}function Wkn(e){return St(e)&&or(["min","max"],e)}const Gkn=new Set(["count","sum","distinct","valid","missing"]),Ykn=new Set(["mean","average","median","q1","q3","min","max"]);function kVe(e){return e1(e)&&(e=z8(e,void 0)),"bin"+tt(e).map(t=>N8(e[t])?es(`_${t}_${xv(e[t])}`):es(`_${t}_${e[t]}`)).join("")}function Ii(e){return e===!0||xw(e)&&!e.binned}function ua(e){return e==="binned"||xw(e)&&e.binned===!0}function xw(e){return Tt(e)}function N8(e){return e==null?void 0:e.param}function Vwe(e){switch(e){case ag:case ug:case h0:case Ul:case nm:case rm:case o1:case p0:case i1:case s1:case zl:return 6;case a1:return 4;default:return 10}}function FP(e){return!!(e!=null&&e.expr)}function fl(e){const t=tt(e||{}),n={};for(const r of t)n[r]=sc(e[r]);return n}function RVe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:u,subtitleFont:l,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},v={...u?{subtitleColor:u}:{},...l?{subtitleFont:l}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=nT(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function U0(e){return St(e)||qe(e)&&St(e[0])}function Vt(e){return!!(e!=null&&e.signal)}function l1(e){return!!e.step}function Kkn(e){return qe(e)?!1:"fields"in e&&!("data"in e)}function Xkn(e){return qe(e)?!1:"fields"in e&&"data"in e}function Xm(e){return qe(e)?!1:"field"in e&&"data"in e}const Qkn={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Jkn=tt(Qkn),Zkn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},UY=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function NVe(e){const t=qe(e.condition)?e.condition.map(Hwe):Hwe(e.condition);return{...sc(e),condition:t}}function sc(e){if(FP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Hwe(e){if(FP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Mi(e){if(FP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Vt(e)?e:e!==void 0?{value:e}:void 0}function eRn(e){return Vt(e)?e.signal:dt(e)}function qwe(e){return Vt(e)?e.signal:dt(e.value)}function Sd(e){return Vt(e)?e.signal:e==null?null:dt(e)}function tRn(e,t,n){for(const r of n){const i=Ug(r,t.markDef,t.config);i!==void 0&&(e[r]=Mi(i))}return e}function PVe(e){return[].concat(e.type,e.style??[])}function qr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:Ug(e,t,n,r)}function Ug(e,t,n,{vgChannel:r}={}){return js(r?n4(e,t,n.style):void 0,n4(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function n4(e,t,n){return OVe(e,PVe(t),n)}function OVe(e,t,n){t=xt(t);let r;for(const i of t){const s=n[i];s&&s[e]!==void 0&&(r=s[e])}return r}function DVe(e,t){return xt(e).reduce((n,r)=>(n.field.push(gt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function $Ve(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(hc(i,r))return;n.push(r)}),n}function MVe(e,t){return hc(e,t)||!t?e:e?[...xt(e),...xt(t)].join(", "):t}function LVe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((U0(n)||Vt(n))&&(U0(r)||Vt(r)))return{explicit:e.explicit,value:MVe(n,r)};if(U0(n)||Vt(n))return{explicit:e.explicit,value:n};if(U0(r)||Vt(r))return{explicit:e.explicit,value:r};if(!U0(n)&&!Vt(n)&&!U0(r)&&!Vt(r))return{explicit:e.explicit,value:$Ve(n,r)};throw new Error("It should never reach here")}function jae(e){return`Invalid specification ${li(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const nRn='Autosize "fit" only works for single views and layered views.';function Wwe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Gwe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function Ywe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Vl(e)}.`:'Dropping "fit" because spec has discrete size.'}function Bae(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Kwe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function rRn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function iRn(e){return`The "nearest" transform is not supported for ${e} marks.`}function FVe(e){return`Selection not supported for ${e} yet.`}function sRn(e){return`Cannot find a selection named "${e}".`}const oRn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",aRn="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",uRn="Legend bindings are only supported for selections over an individual field or encoding channel.";function lRn(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function cRn(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const fRn="The same selection must be used to override scale domains in a layered view.",dRn='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function hRn(e){return`Unknown repeated value "${e}".`}function Xwe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const pRn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function mRn(e){return`Unrecognized parse "${e}".`}function Qwe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const gRn="Attempt to add the same child twice.";function yRn(e){return`Ignoring an invalid transform: ${li(e)}.`}const vRn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Jwe(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function bRn(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${li(t)} is overridden by a child projection ${li(n)}.`}const _Rn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function wRn(e){return`${e}Offset dropped because ${e} is continuous`}function ERn(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${li(n)}}.`}function jVe(e){return`Invalid field type "${e}".`}function xRn(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function SRn(e){return`Invalid aggregation operator "${e}".`}function BVe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function TRn(e){return`Position range does not support relative band size for ${e}.`}function zY(e,t){return`Dropping ${li(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const CRn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function P8(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function ARn(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function IRn(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function kRn(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function RRn(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function kz(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function NRn(e){return`The ${e} for range marks cannot be an expression`}function PRn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function ORn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function DRn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function $Rn(e){return`Cannot use the relative band size with ${e} scale.`}function MRn(e){return`Using unaggregated domain with raw field has no effect (${li(e)}).`}function LRn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function FRn(e){return`Unaggregated domain is currently unsupported for log scale (${li(e)}).`}function jRn(e){return`Cannot apply size to non-oriented mark "${e}".`}function BRn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function URn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function UVe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function zVe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function zRn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${li(n)} and ${li(r)}). Using ${li(n)}.`}function VRn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${li(n)} and ${li(r)}). Using the union of the two domains.`}function HRn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function qRn(e){return`Dropping sort property ${li(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Zwe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",WRn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",GRn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",YRn="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function KRn(e){return`Cannot stack "${e}" if there is already "${e}2".`}function XRn(e){return`Stack is applied to a non-linear scale (${e}).`}function QRn(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function r4(e,t){return`Invalid ${e}: ${li(t)}.`}function JRn(e){return`Dropping day from datetime ${li(e)} as day cannot be combined with other units.`}function ZRn(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function eNn(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function tNn(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function eEe(e){return`1D error band does not support ${e}.`}function VVe(e){return`Channel ${e} is required for "binned" bin.`}function nNn(e){return`Channel ${e} should not be used with "binned" bin.`}function rNn(e){return`Domain for ${e} is required for threshold scale.`}const HVe=bie(vie);let sT=HVe;function iNn(e){return sT=e,sT}function sNn(){return sT=HVe,sT}function st(...e){sT.warn(...e)}function oNn(...e){sT.debug(...e)}function Sw(e){if(e&&Tt(e)){for(const t of zae)if(t in e)return!0}return!1}const qVe=["january","february","march","april","may","june","july","august","september","october","november","december"],aNn=qVe.map(e=>e.substr(0,3)),WVe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],uNn=WVe.map(e=>e.substr(0,3));function lNn(e){if(x8(e)&&(e=+e),Ir(e))return e>4&&st(r4("quarter",e)),e-1;throw new Error(r4("quarter",e))}function cNn(e){if(x8(e)&&(e=+e),Ir(e))return e-1;{const t=e.toLowerCase(),n=qVe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=aNn.indexOf(r);if(i!==-1)return i;throw new Error(r4("month",e))}}function fNn(e){if(x8(e)&&(e=+e),Ir(e))return e%7;{const t=e.toLowerCase(),n=WVe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=uNn.indexOf(r);if(i!==-1)return i;throw new Error(r4("day",e))}}function Uae(e,t){const n=[];if(t&&e.day!==void 0&&tt(e).length>1&&(st(JRn(e)),e=gn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?cNn(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?lNn(e.quarter):e.quarter;n.push(Ir(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?fNn(e.day):e.day;n.push(Ir(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function N_(e){const n=Uae(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function dNn(e){const n=Uae(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function hNn(e){const t=Uae(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const GVe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},zae=tt(GVe);function pNn(e){return!!GVe[e]}function Tw(e){return Tt(e)?e.binned:YVe(e)}function YVe(e){return e&&e.startsWith("binned")}function Vae(e){return e.startsWith("utc")}function mNn(e){return e.substring(3)}const gNn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function O8(e){return zae.filter(t=>XVe(e,t))}function KVe(e){const t=O8(e);return t[t.length-1]}function XVe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function yNn(e,t,{end:n}={end:!1}){const r=Rae(t),i=Vae(e)?"utc":"";function s(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let o;const a={};for(const u of zae)XVe(e,u)&&(a[u]=s(u),o=u);return n&&(a[o]+="+1"),dNn(a)}function QVe(e){if(!e)return;const t=O8(e);return`timeUnitSpecifier(${li(t)}, ${li(gNn)})`}function vNn(e,t,n){if(!e)return;const r=QVe(e);return`${n||Vae(e)?"utc":"time"}Format(${t}, ${r})`}function Vo(e){if(!e)return;let t;return St(e)?YVe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Tt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Vae(t.unit)&&(t.utc=!0,t.unit=mNn(t.unit)),t}function bNn(e){const{utc:t,...n}=Vo(e);return n.unit?(t?"utc":"")+tt(n).map(r=>es(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+tt(n).map(r=>es(`_${r}_${n[r]}`)).join("")}function JVe(e,t=n=>n){const n=Vo(e),r=KVe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=ZVe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(N_(a))} - ${t(N_(i))}`}}const _Nn={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function wNn(e){return!!_Nn[e]}function ZVe(e,t=1){if(wNn(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function ENn(e){return e==null?void 0:e.param}function Hae(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function qae(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function Wae(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function Gae(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function Yae(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Kae(e){if(e!=null&&e.field){if(qe(e.range)&&e.range.length===2)return!0;if(Vt(e.range))return!0}return!1}function Xae(e){return!!(e!=null&&e.field)&&(qe(e.oneOf)||qe(e.in))}function xNn(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function eHe(e){return Xae(e)||Hae(e)||Kae(e)||qae(e)||Gae(e)||Wae(e)||Yae(e)}function yh(e,t){return V8(e,{timeUnit:t,wrapTime:!0})}function SNn(e,t){return e.map(n=>yh(n,t))}function tHe(e,t=!0){const{field:n}=e,r=Vo(e.timeUnit),{unit:i,binned:s}=r||{},o=gt(e,{expr:"datum"}),a=i?`time(${s?o:yNn(i,n)})`:o;if(Hae(e))return`${a}===${yh(e.equal,i)}`;if(qae(e)){const u=e.lt;return`${a}<${yh(u,i)}`}else if(Gae(e)){const u=e.gt;return`${a}>${yh(u,i)}`}else if(Wae(e)){const u=e.lte;return`${a}<=${yh(u,i)}`}else if(Yae(e)){const u=e.gte;return`${a}>=${yh(u,i)}`}else{if(Xae(e))return`indexof([${SNn(e.oneOf,i).join(",")}], ${a}) !== -1`;if(xNn(e))return Qae(a,e.valid);if(Kae(e)){const{range:u}=e,l=Vt(u)?{signal:`${u.signal}[0]`}:u[0],c=Vt(u)?{signal:`${u.signal}[1]`}:u[1];if(l!==null&&c!==null&&t)return"inrange("+a+", ["+yh(l,i)+", "+yh(c,i)+"])";const f=[];return l!==null&&f.push(`${a} >= ${yh(l,i)}`),c!==null&&f.push(`${a} <= ${yh(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${li(e)}`)}function Qae(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function TNn(e){return eHe(e)&&e.timeUnit?{...e,timeUnit:Vo(e.timeUnit)}:e}const jP={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function CNn(e){return e==="quantitative"||e==="temporal"}function nHe(e){return e==="ordinal"||e==="nominal"}const P_=jP.quantitative,Jae=jP.ordinal,oT=jP.temporal,Zae=jP.nominal,BC=jP.geojson;function ANn(e){if(e)switch(e=e.toLowerCase(),e){case"q":case P_:return"quantitative";case"t":case oT:return"temporal";case"o":case Jae:return"ordinal";case"n":case Zae:return"nominal";case BC:return"geojson"}}const Rl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},VY={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function INn(e,t){const n=VY[e],r=VY[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const kNn={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function tEe(e){return kNn[e]}const rHe=new Set(["linear","log","pow","sqrt","symlog"]),iHe=new Set([...rHe,"time","utc"]);function sHe(e){return rHe.has(e)}const oHe=new Set(["quantile","quantize","threshold"]),RNn=new Set([...iHe,...oHe,"sequential","identity"]),NNn=new Set(["ordinal","bin-ordinal","point","band"]);function Ho(e){return NNn.has(e)}function Oc(e){return RNn.has(e)}function Td(e){return iHe.has(e)}function aT(e){return oHe.has(e)}const PNn={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function ONn(e){return!St(e)&&!!e.name}function aHe(e){return e==null?void 0:e.param}function DNn(e){return e==null?void 0:e.unionWith}function $Nn(e){return Tt(e)&&"field"in e}const MNn={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:D5n,domain:$5n,range:M5n,rangeMax:L5n,rangeMin:F5n,scheme:j5n,...LNn}=MNn,FNn=tt(LNn);function HY(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Td(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Td(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Td(e);case"nice":return Td(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Oc(e)&&!or(["log","time","utc","threshold","quantile"],e)}}function uHe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Vx(e)?void 0:DRn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function jNn(e,t){return or([Jae,Zae],t)?e===void 0||Ho(e):t===oT?or([Rl.TIME,Rl.UTC,void 0],e):t===P_?sHe(e)||aT(e)||e===void 0:!0}function BNn(e,t,n=!1){if(!m0(e))return!1;switch(e){case ts:case Go:case r1:case jC:case zf:case rh:return Td(t)||t==="band"?!0:t==="point"?!n:!1;case h0:case o1:case p0:case i1:case s1:case ww:return Td(t)||aT(t)||or(["band","point","ordinal"],t);case Ul:case nm:case rm:return t!=="band";case a1:case zl:return t==="ordinal"||aT(t)}}function eue(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:s}=e,o=nue(e);return ot(n)&&!IVe(n.aggregate)&&i&&Td(i.get("type"))?UNn({fieldDef:n,channel:t,markDef:r,ref:o,config:s}):o}function UNn({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return qr("invalid",n,i)===null?[zNn(e,t),r]:r}function zNn(e,t){const n=tue(e,!0),i=Ew(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function tue(e,t=!0){return Qae(St(e)?e:gt(e,{expr:"datum"}),!t)}function VNn(e){const{datum:t}=e;return Sw(t)?N_(t):`${li(t)}`}function Ub(e,t,n,r){const i={};if(t&&(i.scale=t),om(e)){const{datum:s}=e;Sw(s)?i.signal=N_(s):Vt(s)?i.signal=s.signal:FP(s)?i.signal=s.expr:i.value=s}else i.field=gt(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function i4({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!Vt(o)&&0<o&&o<1?"datum":void 0,u=gt(t,{expr:a,suffix:i}),l=n!==void 0?gt(n,{expr:a}):gt(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const f=o===0?u:l;c.field=f}else{const f=Vt(o)?`(1-${o.signal}) * ${u} + ${o.signal} * ${l}`:`${1-o} * ${u} + ${o} * ${l}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function HNn({scaleName:e,fieldDef:t}){const n=gt(t,{expr:"datum"}),r=gt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function nue({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:u,defaultRef:l,bandPosition:c}){if(t){if(An(t)){const f=o==null?void 0:o.get("type");if(Mu(t)){c??(c=Tv({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Ii(d)||c&&h&&p===oT)return a!=null&&a.impute?Ub(t,s,{binSuffix:"mid"},{offset:u}):c&&!Ho(f)?i4({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:u}):Ub(t,s,VP(t,e)?{binSuffix:"range"}:{},{offset:u});if(ua(d)){if(ot(n))return i4({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:u});st(VVe(e===ts?nh:tm))}}return Ub(t,s,Ho(f)?{binSuffix:"range"}:{},{offset:u,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(qd(t)){const f=t.value,d=u?{offset:u}:{};return{...qI(e,f),...d}}}return jn(l)&&(l=l()),l&&{...l,...u?{offset:u}:{}}}function qI(e,t){return or(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:or(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Mi(t)}function O_(e){return e&&e!=="number"&&e!=="time"}function lHe(e,t,n){return`${e}(${t}${n?`, ${li(n)}`:""})`}const qNn="  ";function rue({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var u,l;if(O_(n))return Cd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=cHe(e,r,i),a=uT(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return Cd({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return Cd({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&ot(e)&&e.timeUnit===void 0)return Cd({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(cT(e)){const c=GNn({field:o,timeUnit:ot(e)?(u=Vo(e.timeUnit))==null?void 0:u.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:Aw(e)&&((l=e.scale)==null?void 0:l.type)===Rl.UTC});return c?{signal:c}:void 0}if(t=qY({type:a,specifiedFormat:t,config:s,normalizeStack:i}),ot(e)&&Ii(e.bin)){const c=gt(e,{expr:r,binSuffix:"end"});return{signal:BP(o,c,t,n,s)}}else return t||uT(e)==="quantitative"?{signal:`${hHe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function cHe(e,t,n){return ot(e)?n?`${gt(e,{expr:t,suffix:"end"})}-${gt(e,{expr:t,suffix:"start"})}`:gt(e,{expr:t}):VNn(e)}function Cd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=cHe(e,r,i)),o!=="datum.value"&&ot(e)&&Ii(e.bin)){const a=gt(e,{expr:r,binSuffix:"end"});return{signal:BP(o,a,t,n,s)}}return{signal:lHe(n,o,t)}}function fHe(e,t,n,r,i,s){var o;if(!(St(r)&&O_(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&uT(e)==="quantitative"&&(i.normalizedNumberFormatType&&lT(e)&&e.stack==="normalize"||i.numberFormatType))){if(lT(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return qY({type:"quantitative",config:i,normalizeStack:!0});if(cT(e)){const a=ot(e)?(o=Vo(e.timeUnit))==null?void 0:o.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:WNn({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:s})}return qY({type:t,specifiedFormat:n,config:i})}}function dHe(e,t,n){var r;if(e&&(Vt(e)||e==="number"||e==="time"))return e;if(cT(t)&&n!=="time"&&n!=="utc")return ot(t)&&((r=Vo(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function qY({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(St(t))return t;if(e===P_)return r?n.normalizedNumberFormat:n.numberFormat}function WNn({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:QVe(t)}:r?void 0:n.timeFormat)}function hHe(e,t){return`format(${e}, "${t||""}")`}function nEe(e,t,n,r){return O_(n)?lHe(n,e,t):hHe(e,(St(t)?t:void 0)??r.numberFormat)}function BP(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return BP(e,t,i.numberFormat,i.numberFormatType,i);const s=nEe(e,n,r,i),o=nEe(t,n,r,i);return`${Qae(e,!1)} ? "null" : ${s} + "${qNn}" + ${o}`}function GNn({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=St(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):vNn(t,e,s)}const Vu={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},pHe=Vu.arc,D8=Vu.area,$8=Vu.bar,YNn=Vu.image,M8=Vu.line,L8=Vu.point,KNn=Vu.rect,s4=Vu.rule,mHe=Vu.text,iue=Vu.tick,XNn=Vu.trail,sue=Vu.circle,oue=Vu.square,gHe=Vu.geoshape;function Cw(e){return["line","area","trail"].includes(e)}function $R(e){return["rect","bar","image","arc"].includes(e)}const QNn=new Set(tt(Vu));function Op(e){return e.type}const JNn=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],ZNn=["fill","fillOpacity"],ePn=[...JNn,...ZNn],tPn={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},rEe=tt(tPn),nPn={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},rPn={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},iPn={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},yHe=tt(iPn);function D_(e){return e&&e.band!=null}const sPn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},vHe=5,oPn={binSpacing:1,continuousBandSize:vHe,minBandSize:.25,timeUnitBandPosition:.5},aPn={binSpacing:0,continuousBandSize:vHe,minBandSize:.25,timeUnitBandPosition:.5},uPn={thickness:1};function lPn(e){return Op(e)?e.type:e}const F8="min",cPn={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function iEe(e){return e in cPn}function bHe(e){return!!(e!=null&&e.encoding)}function pp(e){return e&&(e.op==="count"||!!e.field)}function _He(e){return e&&qe(e)}function UP(e){return"row"in e||"column"in e}function aue(e){return!!e&&"header"in e}function j8(e){return"facet"in e}function fPn(e){return e.param}function dPn(e){return e&&!St(e)&&"repeat"in e}function sEe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function uue(e){return"sort"in e}function Tv({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(An(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ot(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return Ug("timeUnitBandPosition",n,r);if(Ii(s))return .5}}function wHe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){var l,c,f;const a=Vl(e),u=qr(o?"size":a,r,i,{vgChannel:a});if(u!==void 0)return u;if(ot(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Ug("timeUnitBandSize",r,i)};if(Ii(h)&&!Ho(s))return{band:1}}if($R(r.type))return s?Ho(s)?((l=i[r.type])==null?void 0:l.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function EHe(e,t,n,r){return Ii(e.bin)||e.timeUnit&&Mu(e)&&e.type==="temporal"?Tv({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function xHe(e){return e&&!!e.sort&&!e.field}function B8(e){return e&&"condition"in e}function U8(e){const t=e==null?void 0:e.condition;return!!t&&!qe(t)&&ot(t)}function zP(e){const t=e==null?void 0:e.condition;return!!t&&!qe(t)&&An(t)}function hPn(e){const t=e==null?void 0:e.condition;return!!t&&(qe(t)||qd(t))}function ot(e){return e&&(!!e.field||e.aggregate==="count")}function uT(e){return e==null?void 0:e.type}function om(e){return e&&"datum"in e}function py(e){return Mu(e)&&!a4(e)||o4(e)}function oEe(e){return Mu(e)&&e.type==="quantitative"&&!e.bin||o4(e)}function o4(e){return om(e)&&Ir(e.datum)}function An(e){return ot(e)||om(e)}function Mu(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function qd(e){return e&&"value"in e&&"value"in e}function Aw(e){return e&&("scale"in e||"sort"in e)}function lT(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function SHe(e){return e&&"legend"in e}function THe(e){return e&&("format"in e||"formatType"in e)}function pPn(e){return kl(e,["legend","axis","header","scale"])}function mPn(e){return"op"in e}function gt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(yPn(e))n=pVe("count");else{let o;if(!t.nofn)if(mPn(e))o=e.op;else{const{bin:a,aggregate:u,timeUnit:l}=e;Ii(a)?(o=kVe(a),i=(t.binSuffix??"")+(t.suffix??"")):u?u1(u)?(s=`["${n}"]`,n=`argmax_${u.argmax}`):Bg(u)?(s=`["${n}"]`,n=`argmin_${u.argmin}`):o=String(u):l&&!Tw(l)&&(o=bNn(l),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?FC(n):t.expr?fVe(n,t.expr)+s:Rf(n)+s}function a4(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ot(e)&&!!e.bin;case"temporal":return!1}throw new Error(jVe(e.type))}function gPn(e){var t;return Aw(e)&&aT((t=e.scale)==null?void 0:t.type)}function yPn(e){return e.aggregate==="count"}function vPn(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(Ii(r))return`${n} (binned)`;if(i&&!Tw(i)){const a=(o=Vo(i))==null?void 0:o.unit;if(a)return`${n} (${O8(a).join("-")})`}else if(s)return u1(s)?`${n} for max ${s.argmax}`:Bg(s)?`${n} for min ${s.argmin}`:`${DP(s)} of ${n}`;return n}function bPn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(u1(t))return`${i} for argmax(${t.argmax})`;if(Bg(t))return`${i} for argmin(${t.argmin})`;const s=r&&!Tw(r)?Vo(r):void 0,o=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||Ii(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const CHe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return bPn(e);default:return vPn(e,t)}};let AHe=CHe;function IHe(e){AHe=e}function _Pn(){IHe(CHe)}function Hx(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=lue(e))==null?void 0:a.title;if(!ot(e))return i??e.title;const s=e,o=r?cue(s,t):void 0;return n?js(i,s.title,o):i??s.title??o}function lue(e){if(lT(e)&&e.axis)return e.axis;if(SHe(e)&&e.legend)return e.legend;if(aue(e)&&e.header)return e.header}function cue(e,t){return AHe(e,t)}function u4(e){if(THe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=lue(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function wPn(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(uue(e)&&qe(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!u1(n)&&!Bg(n))return"quantitative";if(Aw(e)&&((s=e.scale)!=null&&s.type))switch(VY[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Dp(e){if(ot(e))return e;if(U8(e))return e.condition}function mo(e){if(An(e))return e;if(zP(e))return e.condition}function kHe(e,t,n,r={}){if(St(e)||Ir(e)||e1(e)){const i=St(e)?"string":Ir(e)?"number":"boolean";return st(ERn(t,i,e)),{value:e}}return An(e)?l4(e,t,n,r):zP(e)?{...e,condition:l4(e.condition,t,n,r)}:e}function l4(e,t,n,r){if(THe(e)){const{format:i,formatType:s,...o}=e;if(O_(s)&&!n.customFormatTypes)return st(Jwe(t)),l4(o,t,n,r)}else{const i=lT(e)?"axis":SHe(e)?"legend":aue(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(O_(o)&&!n.customFormatTypes)return st(Jwe(t)),l4({...e,[i]:a},t,n,r)}}return ot(e)?fue(e,t,r):EPn(e)}function EPn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ir(n)?"quantitative":St(n)?"nominal":Sw(n)?"temporal":void 0,{...e,type:t}}function fue(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!Fae(r)&&!u1(r)&&!Bg(r)&&(st(SRn(r)),delete a.aggregate),i&&(a.timeUnit=Vo(i)),o&&(a.field=`${o}`),Ii(s)&&(a.bin=z8(s,t)),ua(s)&&!Bs(t)&&st(nNn(t)),Mu(a)){const{type:u}=a,l=ANn(u);u!==l&&(a.type=l),u!=="quantitative"&&IVe(r)&&(st(xRn(u,r)),a.type="quantitative")}else if(!EVe(t)){const u=wPn(a,t);a.type=u}if(Mu(a)){const{compatible:u,warning:l}=xPn(a,t)||{};u===!1&&st(l)}if(uue(a)&&St(a.sort)){const{sort:u}=a;if(iEe(u))return{...a,sort:{encoding:u}};const l=u.substr(1);if(u.charAt(0)==="-"&&iEe(l))return{...a,sort:{encoding:l,order:"descending"}}}if(aue(a)){const{header:u}=a;if(u){const{orient:l,...c}=u;if(l)return{...a,header:{...c,labelOrient:u.labelOrient||l,titleOrient:u.titleOrient||l}}}}return a}function z8(e,t){return e1(e)?{maxbins:Vwe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Vwe(t)}:e}const lE={compatible:!0};function xPn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case ag:case ug:case S8:return a4(e)?lE:{compatible:!1,warning:IRn(t)};case ts:case Go:case r1:case jC:case Ul:case nm:case rm:case $P:case MP:case T8:case R_:case C8:case A8:case ww:case zf:case rh:case I8:return lE;case sh:case Nf:case ih:case oh:return n!==P_?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:lE;case p0:case i1:case s1:case o1:case h0:case d0:case f0:case nh:case tm:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:lE;case zl:case a1:return!a4(e)&&!gPn(e)?{compatible:!1,warning:kRn(t)}:lE;case iT:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:lE}}function cT(e){const{formatType:t}=u4(e);return t==="time"||!t&&SPn(e)}function SPn(e){return e&&(e.type==="temporal"||ot(e)&&!!e.timeUnit)}function V8(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const s=t&&((u=Vo(t))==null?void 0:u.unit);let o=s||n==="temporal",a;return FP(e)?a=e.expr:Vt(e)?a=e.signal:Sw(e)?(o=!0,a=N_(e)):(St(e)||Ir(e))&&o&&(a=`datetime(${li(e)})`,pNn(s)&&(Ir(e)&&e<1e4||St(e)&&isNaN(Date.parse(e)))&&(a=N_({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:li(e)}function RHe(e,t){const{type:n}=e;return t.map(r=>{const i=ot(e)&&!Tw(e.timeUnit)?e.timeUnit:void 0,s=V8(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function VP(e,t){return Ii(e.bin)?m0(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const aEe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function HP(e){return e==null?void 0:e.condition}const NHe=["domain","grid","labels","ticks","title"],TPn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},PHe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},CPn={...PHe,style:1,labelExpr:1,encoding:1};function uEe(e){return!!CPn[e]}const APn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},OHe=tt(APn);function g0(e){return"mark"in e}class H8{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return g0(t)?lPn(t.mark)===this.name:!1}}function zb(e,t){const n=e&&e[t];return n?qe(n)?I_(n,r=>!!r.field):ot(n)||U8(n):!1}function DHe(e,t){const n=e&&e[t];return n?qe(n)?I_(n,r=>!!r.field):ot(n)||om(n)||zP(n):!1}function $He(e,t){if(Bs(t)){const n=e[t];if((ot(n)||om(n))&&(nHe(n.type)||ot(n)&&n.timeUnit)){const r=Dae(t);return DHe(e,r)}}return!1}function due(e){return I_(Ikn,t=>{if(zb(e,t)){const n=e[t];if(qe(n))return I_(n,r=>!!r.aggregate);{const r=Dp(n);return r&&!!r.aggregate}}return!1})}function MHe(e,t){const n=[],r=[],i=[],s=[],o={};return hue(e,(a,u)=>{if(ot(a)){const{field:l,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=lue(a),m=p==null?void 0:p.title;let g=gt(a,{forAs:!0});const y={...m?[]:{title:Hx(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(u1(c)?(v="argmax",g=gt({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${l}`):Bg(c)?(v="argmin",g=gt({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${l}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:g};l&&(b.field=l),s.push(b)}}else if(n.push(g),Mu(a)&&Ii(f)){if(r.push({bin:f,field:l,as:g}),n.push(gt(a,{binSuffix:"end"})),VP(a,u)&&n.push(gt(a,{binSuffix:"range"})),Bs(u)){const v={field:`${g}_end`};o[`${u}2`]=v}y.bin="binned",EVe(u)||(y.type=P_)}else if(d&&!Tw(d)){i.push({timeUnit:d,field:l,as:g});const v=Mu(a)&&a.type!==oT&&"time";v&&(u===$P||u===R_?y.formatType=v:Fkn(u)?y.legend={formatType:v,...y.legend}:Bs(u)&&(y.axis={formatType:v,...y.axis}))}o[u]=y}else n.push(l),o[u]=e[u]}else o[u]=e[u]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function IPn(e,t,n){const r=Bkn(t,n);if(r){if(r==="binned"){const i=e[t===nh?ts:Go];return!!(ot(i)&&ot(e[t])&&ua(i.bin))}}else return!1;return!0}function kPn(e,t,n,r){const i={};for(const s of tt(e))wVe(s)||st(ARn(s));for(let s of Dkn){if(!e[s])continue;const o=e[s];if(LP(s)){const a=Okn(s),u=i[a];if(ot(u)&&CNn(u.type)&&ot(o)&&!u.timeUnit){st(wRn(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(st(_Rn),s=zf),!IPn(e,s,t)){st(P8(s,t));continue}if(s===h0&&t==="line"){const a=Dp(e[s]);if(a!=null&&a.aggregate){st(CRn);continue}}if(s===Ul&&(n?"fill"in e:"stroke"in e)){st(BVe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===MP||s===iT&&!qe(o)&&!qd(o)||s===R_&&qe(o)){if(o){if(s===iT){const a=e[s];if(xHe(a)){i[s]=a;continue}}i[s]=xt(o).reduce((a,u)=>(ot(u)?a.push(fue(u,s)):st(zY(u,s)),a),[])}}else{if(s===R_&&o===null)i[s]=null;else if(!ot(o)&&!om(o)&&!qd(o)&&!B8(o)&&!Vt(o)){st(zY(o,s));continue}i[s]=kHe(o,s,r)}}return i}function q8(e,t){const n={};for(const r of tt(e)){const i=kHe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function RPn(e){const t=[];for(const n of tt(e))if(zb(e,n)){const r=e[n],i=xt(r);for(const s of i)ot(s)?t.push(s):U8(s)&&t.push(s.condition)}return t}function hue(e,t,n){if(e)for(const r of tt(e)){const i=e[r];if(qe(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function NPn(e,t,n,r){return e?tt(e).reduce((i,s)=>{const o=e[s];return qe(o)?o.reduce((a,u)=>t.call(r,a,u,s),i):t.call(r,i,o,s)},n):n}function LHe(e,t){return tt(t).reduce((n,r)=>{switch(r){case ts:case Go:case C8:case I8:case A8:case nh:case tm:case r1:case jC:case zf:case d0:case rh:case f0:case ih:case sh:case oh:case Nf:case $P:case zl:case ww:case R_:return n;case iT:if(e==="line"||e==="trail")return n;case MP:case T8:{const i=t[r];if(qe(i)||ot(i))for(const s of xt(i))s.aggregate||n.push(gt(s,{}));return n}case h0:if(e==="trail")return n;case Ul:case nm:case rm:case p0:case i1:case s1:case a1:case o1:{const i=Dp(t[r]);return i&&!i.aggregate&&n.push(gt(i,{})),n}}},[])}function PPn(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(qe(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return qe(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function WY(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const u=r?` of ${pue(t)}`:"";return{field:o+t.field,type:t.type,title:Vt(a)?{signal:`${a}"${escape(u)}"`}:a+u}}),s=RPn(n).map(pPn);return{tooltip:[...i,...Zh(s,sr)]}}function pue(e){const{title:t,field:n}=e;return js(t,n)}function mue(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:u,positionPrefix:l,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=pue(n);return FHe(e,a,i,{mark:u,encoding:{[t]:{field:`${l}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...St(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function FHe(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...Op(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...e1(e[t])?{}:e[t]}}]:[]}function jHe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:BD(s,n),continuousAxisChannelDef2:BD(o,n),continuousAxisChannelDefError:BD(a,n),continuousAxisChannelDefError2:BD(u,n),continuousAxis:i}}function BD(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&st(tNn(n,t)),r}else return e}function BHe(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(Op(n)&&n.orient)return n.orient;if(py(i)){if(py(s)){const o=ot(i)&&i.aggregate,a=ot(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return cT(s)&&!cT(i)?"horizontal":"vertical"}return"horizontal"}else{if(py(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const c4="boxplot",OPn=["box","median","outliers","rule","ticks"],DPn=new H8(c4,zHe);function UHe(e){return Ir(e)?"tukey":e}function zHe(e,{config:t}){e={...e,encoding:q8(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=Op(n)?n:{type:n};i&&st(FVe("boxplot"));const u=a.extent??t.boxplot.extent,l=qr("size",a,t),c=a.invalid,f=UHe(u),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:x}=$Pn(e,u,t),S=FC(m.field),{color:C,size:I,...k}=b,R=Ae=>mue(a,g,m,Ae,t.boxplot),D=R(k),P=R(b),$=(Tt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",L=R({...k,...I?{size:I}:{},color:{condition:{test:`datum['lower_box_${m.field}'] >= datum['upper_box_${m.field}']`,...C||{value:$}}}}),M=WY([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,b),B={type:"tick",color:"black",opacity:1,orient:w,invalid:c,aria:!1},z=f==="min-max"?M:WY([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,b),H=[...D({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...D({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...D({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:z}),...D({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:z})],O=[...f!=="tukey"?H:[],...P({partName:"box",mark:{type:"bar",...l?{size:l}:{},orient:E,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...L({partName:"median",mark:{type:"tick",invalid:c,...Tt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...l?{size:l}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:M})];if(f==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:O};const U=`datum["lower_box_${m.field}"]`,q=`datum["upper_box_${m.field}"]`,F=`(${q} - ${U})`,V=`${U} - ${u} * ${F}`,G=`${q} + ${u} * ${F}`,Z=`datum["${m.field}"]`,ae={joinaggregate:VHe(m.field),groupby:y},re={transform:[{filter:`(${V} <= ${Z}) && (${Z} <= ${G})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${S}`},{op:"max",field:m.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:H},{tooltip:ue,...pe}=k,{scale:xe,axis:ve}=m,We=pue(m),Be=kl(ve,["title"]),ht=FHe(a,"outliers",t.boxplot,{transform:[{filter:`(${Z} < ${V}) || (${Z} > ${G})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...We!==void 0?{title:We}:{},...xe!==void 0?{scale:xe}:{},...ui(Be)?{}:{axis:Be}},...pe,...C?{color:C}:{},...x?{tooltip:x}:{}}})[0];let Je;const we=[...d,...h,ae];return ht?Je={transform:we,layer:[ht,re]}:(Je=re,Je.transform.unshift(...we)),{...o,layer:[Je,{transform:p,layer:O}]}}function VHe(e){const t=FC(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function $Pn(e,t,n){const r=BHe(e,c4),{continuousAxisChannelDef:i,continuousAxis:s}=jHe(e,r,c4),o=i.field,a=FC(o),u=UHe(t),l=[...VHe(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(u==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(u==="min-max"?"upper_whisker_":"max_")+a}],c=u==="min-max"||u==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[s]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=PPn(d),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:b}=MHe(p,n),w=r==="vertical"?"horizontal":"vertical",E=r,x=[...m,...g,{aggregate:[...y,...l],groupby:v},...c];return{bins:m,timeUnits:g,transform:x,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:h}}const gue="errorbar",MPn=["ticks","rule"],LPn=new H8(gue,HHe);function HHe(e,{config:t}){e={...e,encoding:q8(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:u,tooltipEncoding:l}=qHe(e,gue,t);delete s.size;const c=mue(a,i,r,s,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:o,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return{...u,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function FPn(e,t){const{encoding:n}=e;if(jPn(n))return{orient:BHe(e,t),inputType:"raw"};const r=BPn(n),i=UPn(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,u=n.y2;if(An(a)&&An(u))throw new Error(`${t} cannot have both x2 and y2`);if(An(a)){if(py(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(An(u)){if(py(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,u=n.xError2,l=n.yError,c=n.yError2;if(An(u)&&!An(a))throw new Error(`${t} cannot have xError2 without xError`);if(An(c)&&!An(l))throw new Error(`${t} cannot have yError2 without yError`);if(An(a)&&An(l))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(An(a)){if(py(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(An(l)){if(py(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function jPn(e){return(An(e.x)||An(e.y))&&!An(e.x2)&&!An(e.y2)&&!An(e.xError)&&!An(e.xError2)&&!An(e.yError)&&!An(e.yError2)}function BPn(e){return An(e.x2)||An(e.y2)}function UPn(e){return An(e.xError)||An(e.xError2)||An(e.yError)||An(e.yError2)}function qHe(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,u=Op(r)?r:{type:r};s&&st(FVe(t));const{orient:l,inputType:c}=FPn(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=jHe(e,l,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=zPn(u,f,d,h,p,c,t,n),{[m]:w,[m==="x"?"x2":"y2"]:E,[m==="x"?"xError":"yError"]:x,[m==="x"?"xError2":"yError2"]:S,...C}=i,{bins:I,timeUnits:k,aggregate:R,groupby:D,encoding:P}=MHe(C,n),$=[...R,...g],L=c!=="raw"?[]:D,M=WY(v,f,P,b);return{transform:[...a.transform??[],...I,...k,...$.length===0?[]:[{aggregate:$,groupby:L}],...y],groupby:L,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:P,ticksOrient:l==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:a,tooltipEncoding:M}}function zPn(e,t,n,r,i,s,o,a){let u=[],l=[];const c=t.field;let f,d=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&st(eNn(h,p,o)),p==="stderr"||p==="stdev")u=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],l=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:DP(h)},{fieldPrefix:"upper_",titlePrefix:lEe(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:lEe(h,p,"-")}],d=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),u=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Hx({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Hx({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Hx({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&st(ZRn(e.center,e.extent)),s==="aggregated-upper-lower"?(f=[],l=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):s==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?l.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):l.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of l)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:k_(k_(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:l,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}function lEe(e,t,n){return`${DP(e)} ${n} ${t}`}const yue="errorband",VPn=["band","borders"],HPn=new H8(yue,WHe);function WHe(e,{config:t}){e={...e,encoding:q8(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:u}=qHe(e,yue,t),l=o,c=mue(l,i,r,s,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...l.interpolate?{interpolate:l.interpolate}:{},...l.tension&&l.interpolate?{tension:l.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):l.interpolate?st(eEe("interpolate")):l.tension&&st(eEe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:u})]}}const GHe={};function vue(e,t,n){const r=new H8(e,t);GHe[e]={normalizer:r,parts:n}}function qPn(){return tt(GHe)}vue(c4,zHe,OPn);vue(gue,HHe,MPn);vue(yue,WHe,VPn);const WPn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],YHe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},KHe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},GPn=tt(YHe),YPn=tt(KHe),KPn={header:1,headerRow:1,headerColumn:1,headerFacet:1},XHe=tt(KPn),QHe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],XPn={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},QPn={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Wd="_vgsid_",JPn={point:{on:"click",fields:[Wd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function bue(e){return e==="legend"||!!(e!=null&&e.legend)}function Rz(e){return bue(e)&&Tt(e)}function _ue(e){return!!(e!=null&&e.select)}function JHe(e){const t=[];for(const n of e||[]){if(_ue(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function ZPn(e){return W8(e)||Eue(e)||wue(e)}function wue(e){return"concat"in e}function W8(e){return"vconcat"in e}function Eue(e){return"hconcat"in e}function ZHe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function $p(e){return Tt(e)&&e.step!==void 0}function cEe(e){return e.view||e.width||e.height}const fEe=20,eOn={align:1,bounds:1,center:1,columns:1,spacing:1},tOn=tt(eOn);function nOn(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(j8(e)&&!UP(e.facet)||wue(e))&&(i.columns=o),W8(e)&&(i.columns=1);for(const a of tOn)if(e[a]!==void 0)if(a==="spacing"){const u=e[a];i[a]=Ir(u)?u:{row:u.row??s,column:u.column??s}}else i[a]=e[a];return i}function GY(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function f4(e,t){const n=d4(e,t);return $p(n)?n.step:eqe}function d4(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return js(n,{step:e.step})}const eqe=20,rOn={continuousWidth:200,continuousHeight:200,step:eqe},iOn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:rOn,mark:rPn,arc:{},area:{},bar:oPn,circle:{},geoshape:{},image:{},line:{},point:{},rect:aPn,rule:{color:"black"},square:{},text:{color:"black"},tick:uPn,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:PNn,projection:{},legend:XPn,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:JPn,style:{},title:{},facet:{spacing:fEe},concat:{spacing:fEe},normalizedNumberFormat:".0%"},ym=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],dEe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},hEe={blue:ym[0],orange:ym[1],red:ym[2],teal:ym[3],green:ym[4],yellow:ym[5],purple:ym[6],pink:ym[7],brown:ym[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function sOn(e={}){return{signals:[{name:"color",value:Tt(e)?{...hEe,...e}:hEe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function oOn(e){return{signals:[{name:"fontSize",value:Tt(e)?{...dEe,...e}:dEe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function aOn(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function tqe(e){const t=tt(e||{}),n={};for(const r of t){const i=e[r];n[r]=HP(i)?NVe(i):sc(i)}return n}function uOn(e){const t=tt(e),n={};for(const r of t)n[r]=tqe(e[r]);return n}const lOn=[...yHe,...OHe,...XHe,"background","padding","legend","lineBreak","scale","style","title","view"];function nqe(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=AC({},gn(iOn),n?aOn(n):{},t?sOn(t):{},r?oOn(r):{},s||{});i&&IC(o,"selection",i,!0);const a=kl(o,lOn);for(const u of["background","lineBreak","padding"])o[u]&&(a[u]=sc(o[u]));for(const u of yHe)o[u]&&(a[u]=fl(o[u]));for(const u of OHe)o[u]&&(a[u]=tqe(o[u]));for(const u of XHe)o[u]&&(a[u]=fl(o[u]));return o.legend&&(a.legend=fl(o.legend)),o.scale&&(a.scale=fl(o.scale)),o.style&&(a.style=uOn(o.style)),o.title&&(a.title=fl(o.title)),o.view&&(a.view=fl(o.view)),a}const cOn=new Set(["view",...QNn]),fOn=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],dOn={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...nPn};function hOn(e){e=gn(e);for(const t of fOn)delete e[t];if(e.axis)for(const t in e.axis)HP(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of WPn)delete e.legend[t];if(e.mark){for(const t of rEe)delete e.mark[t];e.mark.tooltip&&Tt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(JHe(e.params)),delete e.params);for(const t of cOn){for(const r of rEe)delete e[t][r];const n=dOn[t];if(n)for(const r of n)delete e[t][r];mOn(e,t)}for(const t of qPn())delete e[t];pOn(e);for(const t in e)Tt(e[t])&&ui(e[t])&&delete e[t];return ui(e)?void 0:e}function pOn(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=RVe(e.title);ui(t)||(e.style["group-title"]={...e.style["group-title"],...t}),ui(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),ui(r)?delete e.title:e.title=r}function mOn(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};ui(s)||(e.style[n??t]=s),delete e[t]}function G8(e){return"layer"in e}function gOn(e){return"repeat"in e}function yOn(e){return!qe(e.repeat)&&e.repeat.layer}class xue{map(t,n){return j8(t)?this.mapFacet(t,n):gOn(t)?this.mapRepeat(t,n):Eue(t)?this.mapHConcat(t,n):W8(t)?this.mapVConcat(t,n):wue(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(G8(t))return this.mapLayer(t,n);if(g0(t))return this.mapUnit(t,n);throw new Error(jae(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const vOn={zero:1,center:1,normalize:1};function bOn(e){return e in vOn}const _On=new Set([pHe,$8,D8,s4,L8,sue,oue,M8,mHe,iue]),wOn=new Set([$8,D8,pHe]);function cE(e){return ot(e)&&uT(e)==="quantitative"&&!e.bin}function pEe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(ot(o)&&ot(a))if(cE(o)&&cE(a)){if(o.stack)return t;if(a.stack)return i;const u=ot(o)&&!!o.aggregate,l=ot(a)&&!!a.aggregate;if(u!==l)return u?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(cE(o))return t;if(cE(a))return i}else{if(cE(o))return s&&n==="vertical"?void 0:t;if(cE(a))return s&&n==="horizontal"?void 0:i}}function EOn(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function rqe(e,t){var m,g;const n=Op(e)?e:{type:e},r=n.type;if(!_On.has(r))return null;const i=pEe(t,"x",n)||pEe(t,"theta",n);if(!i)return null;const s=t[i],o=ot(s)?gt(s,{}):void 0,a=EOn(i),u=[],l=new Set;if(t[a]){const y=t[a],v=ot(y)?gt(y,{}):void 0;v&&v!==o&&(u.push(a),l.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=ot(f)?gt(f,{}):void 0;d&&d!==o&&(u.push(c),l.add(d));const h=$kn.reduce((y,v)=>{if(v!=="tooltip"&&zb(t,v)){const b=t[v];for(const w of xt(b)){const E=Dp(w);if(E.aggregate)continue;const x=gt(E,{});(!x||!l.has(x))&&y.push({channel:v,fieldDef:E})}}return y},[]);let p;return s.stack!==void 0?e1(s.stack)?p=s.stack?"zero":null:p=s.stack:wOn.has(r)&&(p="zero"),!p||!bOn(p)||due(t)&&h.length===0?null:((m=s==null?void 0:s.scale)!=null&&m.type&&((g=s==null?void 0:s.scale)==null?void 0:g.type)!==Rl.LINEAR&&s!=null&&s.stack&&st(XRn(s.scale.type)),An(t[im(i)])?(s.stack!==void 0&&st(KRn(i)),null):(ot(s)&&s.aggregate&&!Gkn.has(s.aggregate)&&st(QRn(s.aggregate)),{groupbyChannels:u,groupbyFields:l,fieldChannel:i,impute:s.impute===null?!1:Cw(r),stackBy:h,offset:p}))}function iqe(e,t,n){const r=fl(e),i=qr("orient",r,n);if(r.orient=COn(r.type,t,i),i!==void 0&&i!==r.orient&&st(ORn(r.orient,i)),r.type==="bar"&&r.orient){const u=qr("cornerRadiusEnd",r,n);if(u!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:sPn[r.orient];for(const c of l)r[c]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=qr("opacity",r,n),o=qr("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=SOn(r.type,t)),qr("cursor",r,n)===void 0&&(r.cursor=xOn(r,t,n)),r}function xOn(e,t,n){return t.href||e.href||qr("href",e,n)?"pointer":e.cursor}function SOn(e,t){if(or([L8,iue,sue,oue],e)&&!due(t))return .7}function TOn(e,t,{graticule:n}){if(n)return!1;const r=Ug("filled",e,t),i=e.type;return js(r,i!==L8&&i!==M8&&i!==s4)}function COn(e,t,n){switch(e){case L8:case sue:case oue:case mHe:case KNn:case YNn:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case $8:if(ot(r)&&(ua(r.bin)||ot(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ot(i)&&(ua(i.bin)||ot(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(ot(r)&&r.type===P_&&!Ii(r.bin)||o4(r))&&ot(i)&&ua(i.bin)?"horizontal":"vertical";if(!o)return(ot(i)&&i.type===P_&&!Ii(i.bin)||o4(i))&&ot(r)&&ua(r.bin)?"vertical":"horizontal"}case s4:if(s&&!(ot(r)&&ua(r.bin))&&o&&!(ot(i)&&ua(i.bin)))return;case D8:if(o)return ot(i)&&ua(i.bin)?"horizontal":"vertical";if(s)return ot(r)&&ua(r.bin)?"vertical":"horizontal";if(e===s4){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case M8:case iue:{const a=oEe(r),u=oEe(i);if(n)return n;if(a&&!u)return e!=="tick"?"horizontal":"vertical";if(!a&&u)return e!=="tick"?"vertical":"horizontal";if(a&&u)return"vertical";{const l=Mu(r)&&r.type===oT,c=Mu(i)&&i.type===oT;if(l&&!c)return"vertical";if(!l&&c)return"horizontal"}return}}return"vertical"}function AOn(e){const{point:t,line:n,...r}=e;return tt(r).length>1?r:r.type}function IOn(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:kl(e[t],["point","line"])});return e}function Nz(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Tt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Tt(t.point)?t.point:{}:void 0}function mEe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class kOn{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(g0(t)){const{mark:r,encoding:i}=t,s=Op(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!Nz(s,n[s.type],i);case"area":return!!Nz(s,n[s.type],i)||!!mEe(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:u,encoding:l,...c}=t,f=q8(l,i),d=Op(a)?a:{type:a},h=Nz(d,i[d.type],f),p=d.type==="area"&&mEe(d,i[d.type]),m=[{name:u,...s?{params:s}:{},mark:AOn({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:kl(f,["shape"])}],g=rqe(iqe(d,f,i),f);let y=f;if(g){const{fieldChannel:v,offset:b}=g;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=kl(y,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...nT(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...nT(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:IOn(i)})}}function ROn(e,t){return t?UP(e)?oqe(e,t):sqe(e,t):e}function Pz(e,t){return t?oqe(e,t):e}function YY(e,t,n){const r=t[e];if(dPn(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};st(hRn(r.repeat));return}return t}function sqe(e,t){if(e=YY("field",e,t),e!==void 0){if(e===null)return null;if(uue(e)&&pp(e.sort)){const n=YY("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function gEe(e,t){if(ot(e))return sqe(e,t);{const n=YY("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function yEe(e,t){if(An(e)){const n=gEe(e,t);if(n)return n;if(B8(e))return{condition:e.condition}}else{if(zP(e)){const n=gEe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function oqe(e,t){const n={};for(const r in e)if(Xt(e,r)){const i=e[r];if(qe(i))n[r]=i.map(s=>yEe(s,t)).filter(s=>s);else{const s=yEe(i,t);s!==void 0&&(n[r]=s)}}return n}class NOn{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(g0(t)){const{encoding:n,mark:r}=t;if(r==="line"||Op(r)&&r.type==="line")for(const i of Pkn){const s=Ew(i),o=n[s];if(n[i]&&(ot(o)&&!ua(o.bin)||om(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return st(PRn(!!i.x2,!!i.y2)),r({...t,mark:Tt(s)?{...s,type:"rule"}:"rule"},n)}}class POn extends xue{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[DPn,LPn,HPn,new kOn,new NOn]}map(t,n){if(g0(t)){const r=zb(t.encoding,ag),i=zb(t.encoding,ug),s=zb(t.encoding,S8);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=Pz(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(o,n.config))return u.run(o,n,a);return o}mapRepeat(t,n){return yOn(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:u}=r,{repeater:l={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:u},spec:i}},n):{...s,layer:u.map(f=>{const d={...l,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${es(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!qe(r)&&t.columns&&(t=kl(t,["columns"]),st(Xwe("repeat")));const a=[],{repeater:u={},repeaterPrefix:l=""}=n,c=!qe(r)&&r.row||[u?u.row:null],f=!qe(r)&&r.column||[u?u.column:null],d=qe(r)&&r||[u?u.repeat:null];for(const p of d)for(const m of c)for(const g of f){const y={repeat:p,row:m,column:g,layer:u.layer},v=(i.name?`${i.name}_`:"")+l+"child__"+(qe(r)?`${es(p)}`:(r.row?`row_${es(m)}`:"")+(r.column?`column_${es(g)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(kl(b,["data"]))}const h=qe(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return UP(r)&&t.columns&&(t=kl(t,["columns"]),st(Xwe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,u=bEe({parentProjection:o,projection:i}),l=vEe({parentEncoding:s,encoding:Pz(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...l?{encoding:l}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:u,projection:l,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),y=Pz(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...u?{width:u}:{},...c?{height:c}:{},...f?{view:f}:{},...l?{projection:l}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&st(RRn([...r?[ag]:[],...i?[ug]:[]]));const o={},a={};for(const u of[ag,ug]){const l=t[u];if(l){const{align:c,center:f,spacing:d,columns:h,...p}=l;o[u]=p;for(const m of["align","center","spacing"])l[m]!==void 0&&(a[m]??(a[m]={}),a[m][u]=l[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:u,columns:l,...c}=s;return{facetMapping:ROn(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...u?{spacing:u}:{},...l?{columns:l}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,u={...i,parentEncoding:vEe({parentEncoding:n,encoding:s,layer:!0}),parentProjection:bEe({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[u.repeaterPrefix,t.name].filter(l=>l).join("_")}:{}},u)}}function vEe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...tt(e),...tt(t)]);for(const s of i){const o=t[s],a=e[s];if(An(o)){const u={...a,...o};r[s]=u}else zP(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||qd(a)||Vt(a)||An(a)||qe(a))&&(r[s]=a)}}else r=t;return!r||ui(r)?void 0:r}function bEe(e){const{parentProjection:t,projection:n}=e;return t&&n&&st(bRn({parentProjection:t,projection:n})),n??t}function Sue(e){return"filter"in e}function OOn(e){return(e==null?void 0:e.stop)!==void 0}function aqe(e){return"lookup"in e}function DOn(e){return"data"in e}function $On(e){return"param"in e}function MOn(e){return"pivot"in e}function LOn(e){return"density"in e}function FOn(e){return"quantile"in e}function jOn(e){return"regression"in e}function BOn(e){return"loess"in e}function UOn(e){return"sample"in e}function zOn(e){return"window"in e}function VOn(e){return"joinaggregate"in e}function HOn(e){return"flatten"in e}function qOn(e){return"calculate"in e}function uqe(e){return"bin"in e}function WOn(e){return"impute"in e}function GOn(e){return"timeUnit"in e}function YOn(e){return"aggregate"in e}function KOn(e){return"stack"in e}function XOn(e){return"fold"in e}function QOn(e){return"extent"in e&&!("density"in e)&&!("regression"in e)}function JOn(e){return e.map(t=>Sue(t)?{filter:zx(t.filter,TNn)}:t)}class ZOn extends xue{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=_Ee(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=_Ee(t,n),t.encoding){const r={};for(const[i,s]of xv(t.encoding))r[i]=lqe(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:xv(r).map(([s,o])=>{const{init:a,bind:u,empty:l,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=l!=="none";for(const f of va(n.selectionPredicates[s]??{}))f.empty=l!=="none";return{name:s,value:a,select:c,bind:u}})}:t}}function _Ee(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(Sue(s))return{filter:KY(s,t)};if(uqe(s)&&xw(s.bin))return{...s,bin:cqe(s.bin)};if(aqe(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function lqe(e,t){var r,i;const n=gn(e);if(ot(n)&&xw(n.bin)&&(n.bin=cqe(n.bin)),Aw(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...o}=n.scale.domain;n.scale.domain={...o,...s?{param:s}:{}}}if(B8(n))if(qe(n.condition))n.condition=n.condition.map(s=>{const{selection:o,param:a,test:u,...l}=s;return a?s:{...l,test:KY(s,t)}});else{const{selection:s,param:o,test:a,...u}=lqe(n.condition,t);n.condition=o?n.condition:{...u,test:KY(n.condition,t)}}return n}function cqe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function KY(e,t){const n=r=>zx(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):zx(e.test||e.filter,r=>r.selection?n(r.selection):r)}class XY extends xue{map(t,n){const r=n.selections??[];if(t.params&&!g0(t)){const i=[];for(const s of t.params)_ue(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(St(a)&&(a===t.name||i.includes(a))||qe(a)&&a.map(u=>i.indexOf(u)).every((u,l,c)=>u!==-1&&(l===0||u>c[l-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=XY.prototype[e];XY.prototype[e]=function(n,r){return t.call(this,n,eDn(n,r))}}function eDn(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function fqe(e,t){t===void 0&&(t=nqe(e.config));const n=iDn(e,t),{width:r,height:i}=e,s=sDn(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const tDn=new POn,nDn=new ZOn,rDn=new XY;function iDn(e,t={}){const n={config:t};return rDn.map(tDn.map(nDn.map(e,n),n),n)}function wEe(e){return St(e)?{type:e}:e??{}}function sDn(e,t,n){let{width:r,height:i}=t;const s=g0(e)||G8(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(st(Wwe("width")),r=void 0),i=="container"&&(st(Wwe("height")),i=void 0));const a={type:"pad",...o,...n?wEe(n.autosize):{},...wEe(e.autosize)};if(a.type==="fit"&&!s&&(st(nRn),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&st(Gwe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&st(Gwe("height")),!hc(a,{type:"pad"}))return a}function oDn(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function aDn(e){return e?`fit-${k8(e)}`:"fit"}const uDn=["background","padding"];function EEe(e,t){const n={};for(const r of uDn)e&&e[r]!==void 0&&(n[r]=sc(e[r]));return t&&(n.params=e.params),n}class y0{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new y0(gn(this.explicit),gn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return js(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of tt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ah(e){return{explicit:!0,value:e}}function Xl(e){return{explicit:!1,value:e}}function dqe(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:Y8(t,n,r,i)}}function Y8(e,t,n,r){return e.explicit&&t.explicit&&st(zRn(n,r,e.value,t.value)),e}function Cv(e,t,n,r,i=Y8){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:hc(e.value,t.value)?e:i(e,t,n,r)}class lDn extends y0{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function fT(e){return"url"in e}function MR(e){return"values"in e}function hqe(e){return"name"in e&&!fT(e)&&!MR(e)&&!Uy(e)}function Uy(e){return e&&(pqe(e)||mqe(e)||Tue(e))}function pqe(e){return"sequence"in e}function mqe(e){return"sphere"in e}function Tue(e){return"graticule"in e}var Yi;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Yi||(Yi={}));function gqe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Rf(i.field),i}function $_(e,t=!0,n=nu){if(qe(e)){const r=e.map(i=>$_(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Sw(e))return n(t?N_(e):hNn(e));return t?n(li(e)):e}function cDn(e,t){for(const n of va(e.component.selection??{})){const r=n.name;let i=`${r}${Iv}, ${n.resolve==="global"?"true":`{unit: ${Vb(e)}}`}`;for(const s of J8)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+zDn,on:[{events:{signal:n.name+Iv},update:`modify(${dt(n.name+M_)}, ${i})`}]})}return Cue(t)}function fDn(e,t){if(e.component.selection&&tt(e.component.selection).length){const n=dt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:n1("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Cue(t)}function dDn(e,t){let n=!1;for(const r of va(e.component.selection??{})){const i=r.name,s=dt(i+M_);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${Dqe}(${s}, ${dt(a)}${u}`})}n=!0;for(const a of J8)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Cue(t)}function hDn(e,t){const n=[...t],r=Vb(e,{escape:!1});for(const i of va(e.component.selection??{})){const s={name:i.name+M_};if(i.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Wd}}]),i.init){const a=i.project.items.map(gqe);s.values=i.project.hasSelectionId?i.init.map(u=>({unit:r,[Wd]:$_(u,!1)[0]})):i.init.map(u=>({unit:r,fields:a,values:$_(u,!1)}))}n.filter(a=>a.name===i.name+M_).length||n.push(s)}return n}function yqe(e,t){for(const n of va(e.component.selection??{}))for(const r of J8)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function pDn(e,t){for(const n of e.children)gs(n)&&(t=yqe(n,t));return t}function mDn(e,t,n,r){const i=jqe(e,t.param,t);return{signal:Oc(n.get("type"))&&qe(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function Cue(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class ii{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){st(gRn);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Nl extends ii{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${hVe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Oz(e){return e.as!==void 0}function xEe(e){return`${e}_end`}class mp extends ii{clone(){return new mp(null,gn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:u}=s;if(u){let l;if(Tw(u)){if(gs(n)){const{mark:c,markDef:f,config:d}=n,h=Tv({fieldDef:s,markDef:f,config:d});($R(c)||h)&&(l={timeUnit:Vo(u),field:a})}}else l={as:gt(s,{forAs:!0}),field:a,timeUnit:u};if(gs(n)){const{mark:c,markDef:f,config:d}=n,h=Tv({fieldDef:s,markDef:f,config:d});$R(c)&&Bs(o)&&h!==.5&&(l.rectBandPosition=h)}l&&(i[sr(l)]=l)}return i},{});return ui(r)?null:new mp(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=Vo(r),o={...i,timeUnit:s};return new mp(t,{[sr(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of xv(this.timeUnits)){const s=Oz(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(va(this.timeUnits).map(t=>Oz(t)?t.as:xEe(t.field)))}dependentFields(){return new Set(va(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${sr(this.timeUnits)}`}assemble(){const t=[];for(const n of va(this.timeUnits)){const{rectBandPosition:r}=n,i=Vo(n.timeUnit);if(Oz(n)){const{field:s,as:o}=n,{unit:a,utc:u,...l}=i,c=[o,`${o}_end`];t.push({field:Rf(s),type:"timeunit",...a?{units:O8(a)}:{},...u?{timezone:"utc"}:{},...l,as:c}),t.push(...SEe(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=vqe({timeUnit:i,field:o}),u=xEe(o);t.push({type:"formula",expr:a,as:u}),t.push(...SEe([o,u],r,i))}}return t}}const K8="offsetted_rect_start",X8="offsetted_rect_end";function vqe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=KVe(r),{part:o,step:a}=ZVe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', datum['${t}'], ${n?-a:a})`}function SEe([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,s=`datum['${t}']`;return[{type:"formula",expr:TEe([vqe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${K8}`},{type:"formula",expr:TEe([i,s],n+.5),as:`${e}_${X8}`}]}return[]}function TEe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const qP="_tuple_fields";class gDn{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const yDn={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new gDn),s={},o={},a=new Set,u=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=es(`${r}_${g}`);for(let v=1;a.has(y);v++)y=es(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},l=t.type,c=e.config.selection[l],f=n.value!==void 0?xt(n.value):null;let{fields:d,encodings:h}=Tt(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(Tt(p))for(const m of tt(p))Nkn(m)?(h||(h=[])).push(m):l==="interval"?(st(dRn),h=c.encodings):(d??(d=[])).push(m)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){st(rRn(p,m.aggregate));continue}else if(!g){st(Kwe(p));continue}if(m.timeUnit&&!Tw(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};o[sr(y)]=y}if(!s[g]){const y=l==="interval"&&m0(p)&&Oc(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...u(v,"data"),...u(v,"visual")},i.items.push(s[g]=v),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Wd,bVe(p)?(v.geoChannel=p,v.channel=vVe(p),i.hasChannel[v.channel]=s[g]):i.hasChannel[p]=s[g]}}else st(Kwe(p))}for(const p of d??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...u(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Wd}f&&(t.init=f.map(p=>i.items.map(m=>Tt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),ui(o)||(i.timeUnit=new mp(null,o))},signals:(e,t,n)=>{const r=t.name+qP;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(gqe)})}},lg={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!m0(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&st(aRn),!s||!Oc(o)){st(oRn);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||CEe(e)||r.length===0)return n;const i=n.filter(o=>o.name===t.name)[0];let s=i.update;if(s.indexOf(Dqe)>=0)i.update=`{${r.map(o=>`${dt(Rf(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${dt(Rf(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!CEe(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function QY(e,t){return`domain(${dt(e.scaleName(t))})`}function CEe(e){return e.parent&&qC(e.parent)&&!e.parent.parent}const qx="_brush",bqe="_scale_trigger",W2="geo_interval_init_tick",_qe="_init",vDn="_center",bDn={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Tt(n.select)?n.select:{}};i.fields=[Wd],i.encodings||(i.encodings=n.value?tt(n.value):[sh,ih]),n.select={type:"interval",...i}}if(t.translate&&!lg.defined(t)){const i=`!event.item || event.item.mark.name !== ${dt(t.name+qx)}`;for(const s of t.events){if(!s.between){st(`${s} is not an ordered event stream for interval selections.`);continue}const o=xt((r=s.between[0]).filter??(r.filter=[]));o.indexOf(i)<0&&o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Iv,s=va(t.project.hasChannel).filter(a=>a.channel===ts||a.channel===Go),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,u)=>a.concat(_Dn(e,t,u,o&&o[u.index])),[])),e.hasProjection){const a=dt(e.projectionName()),u=e.projectionName()+vDn,{x:l,y:c}=t.project.hasChannel,f=l&&l.signals.visual,d=c&&c.signals.visual,h=l?o&&o[l.index]:`${u}[0]`,p=c?o&&o[c.index]:`${u}[1]`,m=E=>e.getSizeSignalRef(E).signal,g=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":m("width")}, ${d?d+"[1]":m("height")}]]`;o&&(n.unshift({name:r+_qe,init:`[scale(${a}, [${l?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${l?h[1]:h}, ${c?p[1]:p}])]`}),(!l||!c)&&(n.find(x=>x.name===u)||n.unshift({name:u,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${dt(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${Vb(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,w=s.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...o?[{signal:W2}]:[]],update:b}]})}else{if(!lg.defined(t)){const l=r+bqe,c=s.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,m=dt(e.scaleName(d)),g=e.getScaleComponent(d).get("type"),y=Oc(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:l,value:{},on:[{events:s.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${l} : {}`}]})}const a=s.map(l=>l.signals.data),u=`unit: ${Vb(e)}, fields: ${r+qP}, values`;return n.concat({name:i,...o?{init:`{${u}: ${$_(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${u}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(gs(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===W2).length||n.unshift({name:W2,value:null,on:[{events:"timer{1}",update:`${W2} === null ? {} : ${W2}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,a=s==null?void 0:s.signals.visual,u=`data(${dt(t.name+M_)})`;if(lg.defined(t)||!i&&!s)return n;const l={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of tt(l))l[g]=[{test:`${u}.length && ${u}[0].unit === ${Vb(e)}`,...l[g]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=tt(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=d??(t.translate?"move":null);return[{name:`${r+qx}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:l}},...n,{name:r+qx,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...l,...p}}}]}};function _Dn(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=dt(i?e.scaleName(s):e.projectionName()),u=d=>`scale(${a}, ${d})`,l=e.getSizeSignalRef(s===ts?"width":"height").signal,c=`${s}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${l})]`}],[]);if(i){const d=n.signals.data,h=lg.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:$_(r,!0,u)}:{value:[]};return f.push({events:{signal:t.name+bqe},update:Oc(m)?`[${u(`${d}[0]`)}, ${u(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:o,...g,on:f},{name:d,...r?{init:$_(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const d=s===ts?0:1,h=t.name+_qe,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:o,...p,on:f}]}}const wDn={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+qP,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=va(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+qx):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let l=`unit: ${Vb(e)}, `;if(t.project.hasSelectionId)l+=`${Wd}: ${o}[${dt(Wd)}]`;else{const f=s.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${o}[${dt(e.vgField(d.channel,{}))}], ${o}[${dt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${o}[${dt(d.field)}]`}).join(", ");l+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+Iv,on:c?[{events:c,update:`${u} ? {${l}} : null`,force:!0}]:[]}])}};function UC(e,t,n,r){const i=B8(t)&&t.condition,s=r(t);if(i){const a=xt(i).map(u=>{const l=r(u);if(fPn(u)){const{param:c,empty:f}=u;return{test:Fqe(e,{param:c,empty:f}),...l}}else return{test:m4(e,u.test),...l}});return{[n]:[...a,...s!==void 0?[s]:[]]}}else return s!==void 0?{[n]:s}:{}}function Aue(e,t="text"){const n=e.encoding[t];return UC(e,n,t,r=>Q8(r,e.config))}function Q8(e,t,n="datum"){if(e){if(qd(e))return Mi(e.value);if(An(e)){const{format:r,formatType:i}=u4(e);return rue({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function wqe(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(qe(o))return{tooltip:AEe({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return UC(e,o,"tooltip",u=>{const l=Q8(u,i,a);if(l)return l;if(u===null)return;let c=qr("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),St(c))return{value:c};if(Tt(c))return Vt(c)?c:c.content==="encoding"?AEe(n,s,i,t):{signal:a}})}}function Eqe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s={},o=r?"datum.datum":"datum",a=[];function u(c,f){const d=Ew(f),h=Mu(c)?c:{...c,type:e[d].type},p=h.title||cue(h,i),m=xt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(Bs(f)){const y=f==="x"?"x2":"y2",v=Dp(e[y]);if(ua(h.bin)&&v){const b=gt(h,{expr:o}),w=gt(v,{expr:o}),{format:E,formatType:x}=u4(h);g=BP(b,w,E,x,i),s[y]=!0}}if((Bs(f)||f===zf||f===rh)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=u4(h);g=rue({fieldOrDatumDef:h,format:y,formatType:v,expr:o,config:i,normalizeStack:!0}).signal}g??(g=Q8(h,i,o).signal),a.push({channel:f,key:m,value:g})}hue(e,(c,f)=>{ot(c)?u(c,f):U8(c)&&u(c.condition,f)});const l={};for(const{channel:c,key:f,value:d}of a)!s[c]&&!l[f]&&(l[f]=d);return l}function AEe(e,t,n,{reactiveGeom:r}={}){const i=Eqe(e,t,n,{reactiveGeom:r}),s=xv(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function EDn(e){const{markDef:t,config:n}=e,r=qr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...xDn(e),...SDn(e)}}function xDn(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=qr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in Zkn?{}:{ariaRoleDescription:{value:t}}}function SDn(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return UC(e,s,"description",u=>Q8(u,e.config));const o=qr("description",n,r);if(o!=null)return{description:Mi(o)};if(r.aria===!1)return{};const a=Eqe(t,i,r);if(!ui(a))return{description:{signal:xv(a).map(([u,l],c)=>`"${c>0?"; ":""}${u}: " + (${l})`).join(" + ")}}}function $o(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:u}=n;a===void 0&&(u??(u=qr(e,r,s,{vgChannel:o,ignoreVgConfig:!0})),u!==void 0&&(a=Mi(u)));const l=i[e];return UC(t,l,o??e,c=>nue({channel:e,channelDef:c,markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function xqe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??qr("filled",n,i),a=or(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,u=qr(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,l=qr(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",f={...u?{fill:Mi(u)}:{},...l?{stroke:Mi(l)}:{}};return n.color&&(o?n.fill:n.stroke)&&st(BVe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...$o("color",e,{vgChannel:c,defaultValue:o?u:l}),...$o("fill",e,{defaultValue:r.fill?u:void 0}),...$o("stroke",e,{defaultValue:r.stroke?l:void 0})}}function TDn(e){const{encoding:t,mark:n}=e,r=t.order;return!Cw(n)&&qd(r)?UC(e,r,"zindex",i=>Mi(i.value)):{}}function dT({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:nue({channel:s,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:Mi(o),bandPosition:i})};const u=t[s];return u?{offsetType:"visual",offset:u}:{}}function Wa(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,u=i[e],l=i[im(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=dT({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=Iue({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),m=!u&&Bs(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:CDn({channel:e,channelDef:u,channel2Def:l,markDef:s,config:o,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function CDn(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(An(n)&&i&&t===i.fieldChannel){if(ot(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return i4({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return Ub(n,r,{suffix:"end"},{offset:s})}return eue(e)}function Iue({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=Ew(n),u=Sv(n),l=qr(n,s,o,{vgChannel:u});if(l!==void 0)return qI(n,l);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!or([Rl.LOG,Rl.TIME,Rl.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[Vl(n)],mult:.5}}}}const ADn={left:"x",center:"xc",right:"x2"},IDn={top:"y",middle:"yc",bottom:"y2"};function Sqe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Sv(e);const i=e==="x"?"align":"baseline",s=qr(i,t,n);let o;return Vt(s)?(st(NRn(i)),o=void 0):o=s,e==="x"?ADn[o||(r==="top"?"left":"center")]:IDn[o||r]}function h4(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Tqe(e,t,{defaultPos:n,defaultPos2:r}):Wa(e,t,{defaultPos:n})}function Tqe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=im(e),a=Vl(e),u=kDn(t,r,o),l=u[a]?Sqe(e,i,s):Sv(e);return{...Wa(e,t,{defaultPos:n,vgChannel:l}),...u}}function kDn(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,u=Ew(n),l=Vl(n),c=Sv(n),f=r[u],d=e.scaleName(u),h=e.getScaleComponent(u),{offset:p}=n in r||n in s?dT({channel:n,markDef:s,encoding:r,model:e}):dT({channel:u,markDef:s,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=Vl(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=RDn({channel:n,channelDef:f,channel2Def:r[n],markDef:s,config:a,scaleName:d,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:UD(n,s)||UD(n,{[n]:n4(n,s,a.style),[l]:n4(l,s,a.style)})||UD(n,a[i])||UD(n,a.mark)||{[c]:Iue({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function RDn({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:u,defaultRef:l}){return An(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Ub(t,s,{suffix:"start"},{offset:u}):eue({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:u,defaultRef:l})}function UD(e,t){const n=Vl(e),r=Sv(e);if(t[r]!==void 0)return{[r]:qI(e,t[r])};if(t[e]!==void 0)return{[r]:qI(e,t[e])};if(t[n]){const i=t[n];if(D_(i))st(TRn(n));else return{[n]:qI(e,i)}}}function Av(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=im(t),a=Vl(t),u=r[t],l=r[o],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??qr("size",i,n,{vgChannel:a}),p=xVe(t),m=s==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return ot(u)&&(Ii(u.bin)||ua(u.bin)||u.timeUnit&&!l)&&!(h&&!D_(h))&&!r[p]&&!Ho(f)?ODn({fieldDef:u,fieldDef2:l,channel:t,model:e}):(An(u)&&Ho(f)||m)&&!l?PDn(u,t,e):Tqe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function NDn(e,t,n,r,i,s,o){if(D_(i))if(n){const u=n.get("type");if(u==="band"){let l=`bandwidth('${t}')`;i.band!==1&&(l=`${i.band} * ${l}`);const c=Ug("minBandSize",{type:o},r);return{signal:c?`max(${Sd(c)}, ${l})`:l}}else i.band!==1&&(st($Rn(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Vt(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(l1(u)&&Ir(u.step))return{value:u.step-2}}if(!s){const{bandPaddingInner:u,barBandPaddingInner:l,rectBandPaddingInner:c}=r.scale,f=js(u,o==="bar"?l:c);if(Vt(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Ir(f))return{signal:`${1-f} * ${e}`}}return{value:f4(r.view,e)-2}}function PDn(e,t,n){var I,k;const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,u=n.scaleName(t),l=n.getScaleComponent(t),c=Vl(t),f=im(t),d=xVe(t),h=n.scaleName(d),p=n.getScaleComponent(Dae(t)),m=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=$o("size",n,{vgChannel:c,defaultRef:Mi(r.size)}):st(jRn(r.type)));const y=!!g,v=wHe({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(I=l||p)==null?void 0:I.get("type"),useVlSizeChannel:m});g=g||{[c]:NDn(c,h||u,p||l,s,v,!!e,r.type)};const b=((k=l||p)==null?void 0:k.get("type"))==="band"&&D_(v)&&!y?"top":"middle",w=Sqe(t,r,s,b),E=w==="xc"||w==="yc",{offset:x,offsetType:S}=dT({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),C=eue({channel:t,channelDef:e,markDef:r,config:s,scaleName:u,scale:l,stack:o,offset:x,defaultRef:Iue({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:l}),bandPosition:E?S==="encoding"?0:.5:Vt(v)?{signal:`(1-${v})/2`}:D_(v)?(1-v.band)/2:0});if(c)return{[w]:C,...g};{const R=Sv(f),D=g[c],P=x?{...D,offset:x}:D;return{[w]:C,[R]:qe(C)?[C[0],{...C[1],offset:P}]:{...C,offset:P}}}}function IEe(e,t,n,r,i,s,o){if(yVe(e))return 0;const a=e==="x"||e==="y2",u=a?-t/2:t/2;if(Vt(n)||Vt(i)||Vt(r)||s){const l=Sd(n),c=Sd(i),f=Sd(r),d=Sd(s),p=s?`(${o} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${o})) : ${u})`:u,m=f?`${f} + `:"",g=l?`(${l} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-u:+i+u)}function ODn({fieldDef:e,fieldDef2:t,channel:n,model:r}){var k;const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),u=r.scaleName(n),l=a?a.get("type"):void 0,c=a.get("reverse"),f=wHe({channel:n,fieldDef:e,markDef:s,config:i,scaleType:l}),d=(k=r.component.axes[n])==null?void 0:k[0],h=(d==null?void 0:d.get("translate"))??.5,p=Bs(n)?qr("binSpacing",s,i)??0:0,m=im(n),g=Sv(n),y=Sv(m),v=Ug("minBandSize",s,i),{offset:b}=dT({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:w}=dT({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),E=HNn({fieldDef:e,scaleName:u}),x=IEe(n,p,c,h,b,v,E),S=IEe(m,p,c,h,w??b,v,E),C=Vt(f)?{signal:`(1-${f.signal})/2`}:D_(f)?(1-f.band)/2:.5,I=Tv({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(Ii(e.bin)||e.timeUnit){const R=e.timeUnit&&I!==.5;return{[y]:kEe({fieldDef:e,scaleName:u,bandPosition:C,offset:S,useRectOffsetField:R}),[g]:kEe({fieldDef:e,scaleName:u,bandPosition:Vt(C)?{signal:`1-${C.signal}`}:1-C,offset:x,useRectOffsetField:R})}}else if(ua(e.bin)){const R=Ub(e,u,{},{offset:S});if(ot(t))return{[y]:R,[g]:Ub(t,u,{},{offset:x})};if(xw(e.bin)&&e.bin.step)return{[y]:R,[g]:{signal:`scale("${u}", ${gt(e,{expr:"datum"})} + ${e.bin.step})`,offset:x}}}st(VVe(m))}function kEe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return i4({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:K8,endSuffix:X8}:{}})}const DDn=new Set(["aria","width","height"]);function Vf(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?xqe(e):{};return{...$Dn(e.markDef,t),...REe(e,"fill",n),...REe(e,"stroke",r),...$o("opacity",e),...$o("fillOpacity",e),...$o("strokeOpacity",e),...$o("strokeWidth",e),...$o("strokeDash",e),...TDn(e),...wqe(e),...Aue(e,"href"),...EDn(e)}}function REe(e,t,n){const{config:r,mark:i,markDef:s}=e;if(qr("invalid",s,r)==="hide"&&n&&!Cw(i)){const a=MDn(e,{invalid:!0,channels:R8});if(a)return{[t]:[{test:a,value:null},...xt(n)]}}return n?{[t]:n}:{}}function $Dn(e,t){return Jkn.reduce((n,r)=>(!DDn.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Mi(e[r])),n),{})}function MDn(e,{invalid:t=!1,channels:n}){const r=n.reduce((s,o)=>{const a=e.getScaleComponent(o);if(a){const u=a.get("type"),l=e.vgField(o,{expr:"datum"});l&&Oc(u)&&(s[l]=!0)}return s},{}),i=tt(r);if(i.length>0){const s=t?"||":"&&";return i.map(o=>tue(o,t)).join(` ${s} `)}}function kue(e){const{config:t,markDef:n}=e;if(qr("invalid",n,t)){const i=LDn(e,{channels:sm});if(i)return{defined:{signal:i}}}return{}}function LDn(e,{invalid:t=!1,channels:n}){const r=n.reduce((s,o)=>{var u;const a=e.getScaleComponent(o);if(a){const l=a.get("type"),c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&Oc(l)&&(s[c]=!0)}return s},{}),i=tt(r);if(i.length>0){const s=t?"||":"&&";return i.map(o=>tue(o,t)).join(` ${s} `)}}function NEe(e,t){if(t!==void 0)return{[e]:Mi(t)}}const Dz="voronoi",Cqe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(Dz)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(Cw(s))return st(iRn(s)),n;const o={name:e.getName(Dz),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...wqe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,u=!1;return n.forEach((l,c)=>{const f=l.name??"";f===e.component.mark[0].name?a=c:f.indexOf(Dz)>=0&&(u=!0)}),u||n.splice(a+1,0,o),n}},Aqe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!bue(e.bind),parse:(e,t,n)=>$qe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=Cqe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,l)=>{const c=es(`${r}_${u.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...o?{init:$_(o[l])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${dt(u.field)}] : null`}]:[],bind:s[u.field]??s[u.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.filter(l=>l.name===r+Iv)[0],o=r+qP,a=i.items.map(l=>es(`${r}_${l.field}`)),u=a.map(l=>`${l} !== null`).join(" && ");return a.length&&(s.update=`${u} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},p4="_toggle",Iqe={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+p4,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Iv,r=t.name+p4;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Vb(e)}}, `)+`${r} ? ${n} : null`}},FDn={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=St(t.clear)?n1(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Aqe.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===es(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+Iv);r(i,"null"),Iqe.defined(t)&&(i=n.findIndex(s=>s.name===t.name+p4),r(i,"false"))}return n}},kqe={defined:e=>{const t=e.resolve==="global"&&e.bind&&bue(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Wd;return t&&!n&&st(uRn),t&&n},parse:(e,t,n)=>{const r=gn(n);if(r.select=St(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},$qe(t,r),Tt(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=xt(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=Rz(t.bind)?t.bind.legend:"click",s=St(i)?n1(i,"view"):xt(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=Rz(t.bind)&&t.bind.legend,s=o=>a=>{const u=gn(a);return u.markname=o,u};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${es(o.field)}_legend`,u=`${r}_${a}`;if(n.filter(c=>c.name===u).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(d=>d.name===r+Iv),o=r+qP,a=i.items.filter(d=>d.hasLegend).map(d=>es(`${r}_${es(d.field)}_legend`)),l=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(d=>({signal:d})),update:l}):a.length>0&&(s.update=l,delete s.value,delete s.on);const c=n.find(d=>d.name===r+p4),f=Rz(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function jDn(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of va(e.component.selection??{})){const o=s.project.hasField[r]??s.project.hasChannel[t];if(o&&kqe.defined(s)){const a=n.get("selections")??[];a.push(s.name),n.set("selections",a,!1),o.hasLegend=!0}}}const Rqe="_translate_anchor",Nqe="_translate_delta",BDn={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=lg.defined(t),s=r+Rqe,{x:o,y:a}=t.project.hasChannel;let u=n1(t.translate,"scope");return i||(u=u.map(l=>(l.between[0].markname=r+qx,l))),n.push({name:s,value:{},on:[{events:u.map(l=>l.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?QY(e,ts):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?QY(e,Go):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+Nqe,value:{},on:[{events:u,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&PEe(e,t,o,"width",n),a!==void 0&&PEe(e,t,a,"height",n),n}};function PEe(e,t,n,r,i){const s=t.name,o=s+Rqe,a=s+Nqe,u=n.channel,l=lg.defined(t),c=i.filter(E=>E.name===n.signals[l?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(u),h=d&&d.get("type"),p=d&&d.get("reverse"),m=l?u===ts?p?"":"-":p?"-":"":"",g=`${o}.extent_${u}`,y=`${m}${a}.${u} / ${l?`${f}`:`span(${g})`}`,v=!l||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=l?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",w=`${v}(${g}, ${y}${b})`;c.on.push({events:{signal:a},update:l?w:`clampRange(${w}, 0, ${f})`})}const Pqe="_zoom_anchor",Oqe="_zoom_delta",UDn={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=lg.defined(t),s=r+Oqe,{x:o,y:a}=t.project.hasChannel,u=dt(e.scaleName(ts)),l=dt(e.scaleName(Go));let c=n1(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+qx,f))),n.push({name:r+Pqe,on:[{events:c,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&OEe(e,t,o,"width",n),a!==void 0&&OEe(e,t,a,"height",n),n}};function OEe(e,t,n,r,i){const s=t.name,o=n.channel,a=lg.defined(t),u=i.filter(v=>v.name===n.signals[a?"data":"visual"])[0],l=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),f=c&&c.get("type"),d=a?QY(e,o):u.name,h=s+Oqe,p=`${s}${Pqe}.${o}`,m=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",g=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${d}, ${p}, ${h}${g})`;u.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${l})`})}const M_="_store",Iv="_tuple",zDn="_modify",Dqe="vlSelectionResolve",J8=[wDn,bDn,yDn,Iqe,Aqe,lg,kqe,FDn,BDn,UDn,Cqe];function VDn(e){let t=e.parent;for(;t&&!bc(t);)t=t.parent;return t}function Vb(e,{escape:t}={escape:!0}){let n=t?dt(e.name):e.name;const r=VDn(e);if(r){const{facet:i}=r;for(const s of pf)i[s]&&(n+=` + '__facet_${s}_' + (facet[${dt(r.vgField(s))}])`)}return n}function Rue(e){return va(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function $qe(e,t){(St(t.select)||!t.select.on)&&delete e.events,(St(t.select)||!t.select.clear)&&delete e.clear,(St(t.select)||!t.select.toggle)&&delete e.toggle}function JY(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...JY(e.object)),t.push(...JY(e.property))),t)}function Mqe(e){return e.object.type==="MemberExpression"?Mqe(e.object):e.object.name==="datum"}function Lqe(e){const t=Xoe(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Mqe(r)&&n.add(JY(r).slice(1).join("."))}),n}class zC extends ii{clone(){return new zC(null,this.model,gn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=m4(this.model,this.filter,this),this._dependentFields=Lqe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function HDn(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const s=es(i.name),o=i.select,a=St(o)?o:o.type,u=Tt(o)?gn(o):{type:a},l=r[a];for(const d in l)d==="fields"||d==="encodings"||(d==="mark"&&(u[d]={...l[d],...u[d]}),(u[d]===void 0||u[d]===!0)&&(u[d]=gn(l[d]??u[d])));const c=n[s]={...u,name:s,type:a,init:i.value,bind:i.bind,events:St(u.on)?n1(u.on,"scope"):xt(gn(u.on))},f=gn(i);for(const d of J8)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function Fqe(e,t,n,r="datum"){const i=St(t)?t:t.param,s=es(i),o=dt(s+M_);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const u=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",l=a.resolve==="global"?")":`, ${dt(a.resolve)})`,c=`${u}${o}, ${r}${l}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function jqe(e,t,n){const r=es(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&st(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${dt(s)}.`);else if(i&&!s){const a=o.project.items.filter(u=>u.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,st((a.length?"Multiple ":"No ")+`matching ${dt(i)} encoding found for selection ${dt(n.param)}. Using "field": ${dt(s)}.`)):s=a[0].field}return`${o.name}[${dt(Rf(s))}]`}function qDn(e,t){for(const[n,r]of xv(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Nl(new zC(t,e,{param:n}),i,Yi.Lookup,e.component.data.outputNodeRefCounts)}}function m4(e,t,n){return HI(t,r=>St(r)?r:ENn(r)?Fqe(e,r,n):tHe(r))}function WDn(e,t){if(e)return qe(e)&&!U0(e)?e.map(n=>cue(n,t)).join(", "):e}function $z(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function UA(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:s,scale:o,labelExpr:a,title:u,zindex:l,...c}=e.combine();if(!i){for(const h in c){const p=TPn[h],m=c[h];if(p&&p!==t&&p!=="both")delete c[h];else if(HP(m)){const{condition:g,...y}=m,v=xt(g),b=aEe[h];if(b){const{vgProp:w,part:E}=b,x=[...v.map(S=>{const{test:C,...I}=S;return{test:m4(null,C),...I}}),y];$z(c,E,w,x),delete c[h]}else if(b===null){const w={signal:v.map(E=>{const{test:x,...S}=E;return`${m4(null,x)} ? ${qwe(S)} : `}).join("")+qwe(y)};c[h]=w}}else if(Vt(m)){const g=aEe[h];if(g){const{vgProp:y,part:v}=g;$z(c,v,y,m),delete c[h]}}or(["labelAlign","labelBaseline"],h)&&c[h]===null&&delete c[h]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},ui(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:js(l,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Vt(c.encode.labels.update.text)&&(p=k_(a,"datum.label",c.encode.labels.update.text.signal)),$z(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of NHe)e.hasAxisPart(p)||delete c.encode[p];ui(c.encode)&&delete c.encode}const h=WDn(u,n);return{scale:o,orient:s,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:js(l,0)}}}}function Bqe(e){const{axes:t}=e.component,n=[];for(const r of sm)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function GDn(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>UA(i,"grid",t)),...r.map(i=>UA(i,"grid",t)),...n.map(i=>UA(i,"main",t)),...r.map(i=>UA(i,"main",t))].filter(i=>i)}function DEe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...tt(o),...tt(a)]),l={};for(const c of u.values())l[c]={signal:`${r.signal} === "${s}" ? ${Sd(o[c])} : ${Sd(a[c])}`};return l}return t[i]})])}function YDn(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:sHe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=Vt(n)?"axisOrient":`axis${DP(n)}`,a=[...i,...i.map(l=>s+l.substr(4))],u=["axis",o,s];return{vlOnlyAxisConfig:DEe(a,r,e,n),vgAxisConfig:DEe(u,r,e,n),axisConfigStyle:KDn([...u,...a],r)}}function KDn(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=xt(s);for(const o of s)n.push(t.style[o])}}return Object.assign.apply(null,n)}function ZY(e,t,n,r={}){var s;const i=OVe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[o])==null?void 0:s[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const $Ee={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??XDn(n,e),gridScale:({model:e,channel:t})=>QDn(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||zqe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||Uqe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??ZDn(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??e$n(t.type,n,ot(t)&&!!t.timeUnit,ot(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??n$n({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:r$n,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=Vqe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return $Ve(i?[sEe(i)]:[],ot(o)?[sEe(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>i$n(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??s$n(n,t)};function XDn(e,t){return!Ho(e)&&ot(t)&&!Ii(t==null?void 0:t.bin)&&!ua(t==null?void 0:t.bin)}function QDn(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function JDn(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Vt(s)?s:DR(s);{const{configValue:o}=ZY("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?DR(o):n===ts&&or([Zae,Jae],e.type)&&!(ot(e)&&e.timeUnit)?270:void 0}}function eK(e){return`(((${e.signal} % 360) + 360) % 360)`}function Uqe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Vt(e)){const i=eK(e),s=Vt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Vt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Vt(e)){const i=eK(e),s=Vt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Vt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function zqe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Vt(e)){const o=eK(e),a=Vt(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Vt(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function ZDn(e,t){if(t==="x"&&or(["quantitative","temporal"],e))return!0}function e$n(e,t,n,r){if(n&&!Tt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function t$n(e){return e==="x"?"bottom":"left"}function n$n({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Ho(t)&&t!=="log"){if(ot(e)){if(Ii(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&or(["month","hours","day","quarter"],(i=Vo(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function r$n({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ot(t)){const{timeUnit:n}=t;if(n){const r=JVe(n);if(r)return{signal:r}}}}function Vqe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return MVe(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function i$n(e,t){const n=e.values;if(qe(n))return RHe(t,n);if(Vt(n))return n}function s$n(e,t){return e==="rect"&&a4(t)?1:0}class hT extends ii{clone(){return new hT(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=Lqe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Aw(r)&&_He(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,u=a.map((l,c)=>`${tHe({field:s,timeUnit:o,equal:l})} ? ${c} : `).join("")+a.length;t=new hT(t,{calculate:u,as:pT(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${sr(this.transform)}`}}function pT(e,t,n){return gt(e,{prefix:t,suffix:"sort_index",...n})}function Z8(e,t){return or(["top","bottom"],t)?"column":or(["left","right"],t)||e==="row"?"row":"column"}function mT(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return js((t||{})[e],i[e],n.header[e])}function eB(e,t,n,r){const i={};for(const s of e){const o=mT(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const Nue=["row","column"],Pue=["header","footer"];function o$n(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=eB(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=Z8(t,a),l=DR(o);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...qqe(l,u),...Hqe(u,l,s),...Wqe(r,i,t,GPn,YHe)}}}function Hqe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=zqe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function qqe(e,t){const n=Uqe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function a$n(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Pue)if(n[i])for(const s of n[i]){const o=l$n(e,t,i,n,s);o!=null&&r.push(o)}return r}function u$n(e,t){const{sort:n}=e;return pp(n)?{field:gt(n,{expr:"datum"}),order:n.order??"ascending"}:qe(n)?{field:pT(e,t,{expr:"datum"}),order:"ascending"}:{field:gt(e,{expr:"datum"}),order:n??"ascending"}}function tK(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:u}=eB(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),l=rue({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=Z8(t,a);return{text:{signal:u?k_(k_(u,"datum.label",l),"datum.value",gt(e,{expr:"parent"})):l},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...qqe(s,c),...Hqe(c,s,o),...Wqe(n,e,t,YPn,KHe)}}function l$n(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=eB(["labelOrient"],o.header,a,t);(t==="row"&&!or(["top","bottom"],f)||t==="column"&&!or(["left","right"],f))&&(s=tK(o,t,a))}const u=bc(e)&&!UP(e.facet),l=i.axes,c=(l==null?void 0:l.length)>0;if(s||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:u$n(o,t)}:{},...c&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:l}:{}}}}return null}const c$n={column:{start:0,end:1},row:{start:1,end:0}};function f$n(e,t){return c$n[t][e]}function d$n(e,t){const n={};for(const r of pf){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:o}=eB(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=Z8(r,o),u=f$n(s,a);u!==void 0&&(n[a]=u)}}return ui(n)?void 0:n}function Wqe(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=mT(o,t==null?void 0:t.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function Oue(e){return[...zD(e,"width"),...zD(e,"height"),...zD(e,"childWidth"),...zD(e,"childHeight")]}function zD(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(Ho(o)&&l1(a)){const u=e.scaleName(n);return bc(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[MEe(u,a)]:[MEe(u,a),{name:i,update:Gqe(u,s,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=GY(e.config.view,s?"width":"height"),u=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function MEe(e,t){const n=`${e}_step`;return Vt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Gqe(e,t,n){const r=t.get("type"),i=t.get("padding"),s=js(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Sd(o)}, ${Sd(s)}) * ${e}_step`}function Yqe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function Kqe(e,t){return tt(e).reduce((n,r)=>{const i=e[r];return{...n,...UC(t,i,r,s=>Mi(s.value))}},{})}function Xqe(e,t){if(bc(t))return e==="theta"?"independent":"shared";if(qC(t))return"shared";if(Bue(t))return Bs(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Due(e,t){const n=e.scale[t],r=Bs(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&st(HRn(t)),"independent"):e[r][t]||"shared"}const h$n={...QPn,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Qqe=tt(h$n);class p$n extends y0{}const LEe={symbols:m$n,gradient:g$n,labels:y$n,entries:v$n};function m$n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:u,mark:l}=n,c=o.filled&&l!=="trail";let f={...tRn({},n,ePn),...xqe(n,{filled:c})};const d=i.get("symbolOpacity")??u.legend.symbolOpacity,h=i.get("symbolFillColor")??u.legend.symbolFillColor,p=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,m=d===void 0?Jqe(a.opacity)??o.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===Ul)delete f.fill;else if(f.fill.field)h?delete f.fill:(f.fill=Mi(u.legend.symbolBaseFillColor??"black"),f.fillOpacity=Mi(m??1));else if(qe(f.fill)){const g=nK(a.fill??a.color)??o.fill??(c&&o.color);g&&(f.fill=Mi(g))}}if(f.stroke){if(r==="stroke"||!c&&r===Ul)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(qe(f.stroke)){const g=js(nK(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(f.stroke={value:g})}}if(r!==p0){const g=ot(t)&&eWe(n,i,t);g?f.opacity=[{test:g,...Mi(m??1)},Mi(u.legend.unselectedOpacity)]:m&&(f.opacity=Mi(m))}return f={...f,...e},ui(f)?void 0:f}function g$n(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const l=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?Jqe(o.opacity)||s.opacity:void 0;return l&&(a.opacity=Mi(l)),a={...a,...e},ui(a)?void 0:a}function y$n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=ot(t)?eWe(n,i,t):void 0,u=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=s;let f;O_(c)?f=Cd({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:o}):l===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=Cd({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&ot(t)&&t.timeUnit===void 0&&(f=Cd({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d={...u?{opacity:u}:{},...f?{text:f}:{},...e};return ui(d)?void 0:d}function v$n(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function Jqe(e){return Zqe(e,(t,n)=>Math.max(t,n.value))}function nK(e){return Zqe(e,(t,n)=>js(t,n.value))}function Zqe(e,t){if(hPn(e))return xt(e.condition).reduce(t,e.value);if(qd(e))return e.value}function eWe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=dt(n.field);return r.map(s=>`(!length(data(${dt(es(s)+M_)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const FEe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return fHe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return dHe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??T$n(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??C$n(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??_$n(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Hx(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Vx(n)&&Td(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>b$n(t,e)};function b$n(e,t){const n=e.values;if(qe(n))return RHe(t,n);if(Vt(n))return n}function _$n(e,t,n,r){if(t!=="shape"){const i=nK(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function w$n(e){const{legend:t}=e;return js(t.type,E$n(e))}function E$n({channel:e,timeUnit:t,scaleType:n}){if(Vx(e)){if(or(["quarter","month","day"],t))return"symbol";if(Td(n))return"gradient"}return"symbol"}function x$n({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??S$n(n,t)}function S$n(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function T$n({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:u}=e;if(Td(i))return n==="horizontal"?r==="top"||r==="bottom"?jEe(t,"width",o,s):o:jEe(t,"height",u,a)}function jEe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function C$n(e){if(or(["quantile","threshold","log","symlog"],e))return"greedy"}function tWe(e){const t=gs(e)?A$n(e):N$n(e);return e.component.legends=t,t}function A$n(e){const{encoding:t}=e,n={};for(const r of[Ul,...QHe]){const i=mo(t[r]);!i||!e.getScaleComponent(r)||r===zl&&ot(i)&&i.type===BC||(n[r]=R$n(e,r))}return n}function I$n(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function k$n(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function R$n(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new p$n({},I$n(e,t));jDn(e,t,a);const u=n!==void 0?!n:o.disable;if(a.set("disable",u,n!==void 0),u)return a;n=n||{};const l=e.getScaleComponent(t).get("type"),c=mo(i[t]),f=ot(c)?(w=Vo(c.timeUnit))==null?void 0:w.unit:void 0,d=n.orient||s.legend.orient||"right",h=w$n({legend:n,channel:t,timeUnit:f,scaleType:l}),p=x$n({legend:n,legendType:h,orient:d,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:l,orient:d,legendType:h,direction:p};for(const E of Qqe){if(h==="gradient"&&E.startsWith("symbol")||h==="symbol"&&E.startsWith("gradient"))continue;const x=E in FEe?FEe[E](m):n[E];if(x!==void 0){const S=k$n(x,E,n,e.fieldDef(t));(S||s.legend[E]===void 0)&&a.set(E,x,S)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const E of["labels","legend","title","symbols","gradient","entries"]){const x=Kqe(g[E]??{},e),S=E in LEe?LEe[E](x,b):x;S!==void 0&&!ui(S)&&(v[E]={...y!=null&&y.length&&ot(c)?{name:`${es(c.field)}_legend_${E}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return ui(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function N$n(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){tWe(r);for(const i of tt(r.component.legends))n.legend[i]=Due(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=nWe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of tt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function nWe(e,t){var s,o,a,u;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of Qqe){const c=Cv(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",(f,d)=>{switch(l){case"symbolType":return P$n(f,d);case"title":return LVe(f,d);case"type":return i=!0,Xl("symbol")}return Y8(f,d,l,"legend")});e.setWithExplicit(l,c)}return i&&((o=(s=e.implicit)==null?void 0:s.encode)!=null&&o.gradient&&t4(e.implicit,["encode","gradient"]),(u=(a=e.explicit)==null?void 0:a.encode)!=null&&u.gradient&&t4(e.explicit,["encode","gradient"])),e}function P$n(e,t){return t.value==="circle"?t:e}function O$n(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function rWe(e){const t=e.component.legends,n={};for(const i of tt(t)){const s=e.getScaleComponent(i),o=li(s.get("domains"));if(n[o])for(const a of n[o])nWe(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return va(n).flat().map(i=>D$n(i,e.config)).filter(i=>i!==void 0)}function D$n(e,t){var o,a,u;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(o=s.encode)!=null&&o.symbols){const l=s.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!s.stroke&&(l.stroke={value:"transparent"});for(const c of QHe)s[c]&&delete l[c]}if(s.title||delete s.title,r!==void 0){let l=r;(u=(a=s.encode)==null?void 0:a.labels)!=null&&u.update&&Vt(s.encode.labels.update.text)&&(l=k_(r,"datum.label",s.encode.labels.update.text.signal)),O$n(s,"labels","text",{signal:l})}return s}}function $$n(e){return qC(e)||Bue(e)?M$n(e):iWe(e)}function M$n(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),iWe(e))}function iWe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const u=Vt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return or(o,u)||o.push(u),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const L$n=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class sWe extends y0{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function oWe(e){e.component.projection=gs(e)?F$n(e):U$n(e)}function F$n(e){if(e.hasProjection){const t=fl(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?j$n(e):void 0,s=new sWe(e.projectionName(!0),{...fl(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function j$n(e){const t=[],{encoding:n}=e;for(const r of[[sh,ih],[Nf,oh]])(mo(n[r[0]])||mo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(zl)&&e.typedFieldDef(zl).type===BC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Yi.Main)),t}function B$n(e,t){const n=Aae(L$n,i=>!!(!Xt(e.explicit,i)&&!Xt(t.explicit,i)||Xt(e.explicit,i)&&Xt(t.explicit,i)&&hc(e.get(i),t.get(i))));if(hc(e.size,t.size)){if(n)return e;if(hc(e.explicit,{}))return t;if(hc(t.explicit,{}))return e}return null}function U$n(e){if(e.children.length===0)return;let t;for(const r of e.children)oWe(r);const n=Aae(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=B$n(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new sWe(r,t.specifiedProjection,t.size,gn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function z$n(e,t,n,r){if(VP(t,n)){const i=gs(e)?e.axis(n)??e.legend(n)??{}:{},s=gt(t,{expr:"datum"}),o=gt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:gt(t,{binSuffix:"range",forAs:!0}),formula:BP(s,o,i.format,i.formatType,r)}}return{}}function aWe(e,t){return`${kVe(e)}_${t}`}function V$n(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function $ue(e,t,n){const r=z8(n,void 0)??{},i=aWe(r,t);return e.getName(`${i}_bins`)}function H$n(e){return"as"in e}function BEe(e,t,n){let r,i;H$n(e)?r=St(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[gt(e,{forAs:!0}),gt(e,{binSuffix:"end",forAs:!0})];const s={...z8(t,void 0)},o=aWe(s,e.field),{signal:a,extentSignal:u}=V$n(n,o);if(N8(s.extent)){const c=s.extent;i=jqe(n,c.param,c),delete s.extent}const l={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:o,binComponent:l}}class gp extends ii{clone(){return new gp(null,gn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(Mu(s)&&Ii(s.bin)){const{key:a,binComponent:u}=BEe(s,s.bin,n);i[a]={...u,...i[a],...z$n(n,s,o,n.config)}}return i},{});return ui(r)?null:new gp(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=BEe(n,n.bin,r);return new gp(t,{[i]:s})}merge(t,n){for(const r of tt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Zh([...this.bins[r].as,...t.bins[r].as],sr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(va(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(va(this.bins).map(t=>t.field))}hash(){return`Bin ${sr(this.bins)}`}assemble(){return va(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:Rf(t.field),as:r,signal:t.signal,...N8(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:Rf(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const u of i)for(let l=0;l<2;l++)n.push({type:"formula",expr:gt({field:r[l]},{expr:"datum"}),as:u[l]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function q$n(e,t,n,r){var s;const i=gs(r)?r.encoding[im(t)]:void 0;if(Mu(n)&&gs(r)&&EHe(n,i,r.markDef,r.config)){e.add(gt(n,{})),e.add(gt(n,{suffix:"end"}));const{mark:o,markDef:a,config:u}=r,l=Tv({fieldDef:n,markDef:a,config:u});$R(o)&&l!==.5&&Bs(t)&&(e.add(gt(n,{suffix:K8})),e.add(gt(n,{suffix:X8}))),n.bin&&VP(n,t)&&e.add(gt(n,{binSuffix:"range"}))}else if(bVe(t)){const o=vVe(t);e.add(r.getName(o))}else e.add(gt(n));return Aw(n)&&$Nn((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function W$n(e,t){for(const n of tt(t)){const r=t[n];for(const i of tt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class $d extends ii{clone(){return new $d(null,new Set(this.dimensions),gn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:u,field:l}=o;if(u)if(u==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([gt(o,{forAs:!0})]);else{if(Bg(u)||u1(u)){const c=Bg(u)?"argmin":"argmax",f=u[c];i[f]??(i[f]={}),i[f][c]=new Set([gt({op:c,field:f},{forAs:!0})])}else i[l]??(i[l]={}),i[l][u]=new Set([gt(o,{forAs:!0})]);m0(a)&&n.scaleDomain(a)==="unaggregated"&&(i[l]??(i[l]={}),i[l].min=new Set([gt({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([gt({field:l,aggregate:"max"},{forAs:!0})]))}else q$n(s,a,o,n)}),s.size+tt(i).length===0)?null:new $d(t,s,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const s of n.aggregate){const{op:o,field:a,as:u}=s;o&&(o==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([u||gt(s,{forAs:!0})])):(i[a]??(i[a]={}),i[a][o]=new Set([u||gt(s,{forAs:!0})])))}for(const s of n.groupby??[])r.add(s);return r.size+tt(i).length===0?null:new $d(t,r,i)}merge(t){return cVe(this.dimensions,t.dimensions)?(W$n(this.measures,t.measures),!0):(oNn("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...tt(this.measures)])}producedFields(){const t=new Set;for(const n of tt(this.measures))for(const r of tt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${sr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of tt(this.measures))for(const o of tt(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:Rf(s));return{type:"aggregate",groupby:[...this.dimensions].map(Rf),ops:t,fields:n,as:r}}}class VC extends ii{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of pf){const o=n.facet[s];if(o){const{bin:a,sort:u}=o;this[s]={name:n.getName(`${s}_domain`),fields:[gt(o),...Ii(a)?[gt(o,{binSuffix:"end"})]:[]],...pp(u)?{sortField:u}:qe(u)?{sortIndexField:pT(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of pf)this[n]&&(t+=` ${n.charAt(0)}:${sr(this[n])}`);return t}get fields(){var n;const t=[];for(const r of pf)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of pf)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of sm){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(Ho(i)&&l1(s)){const o=tB(this.childModel,n),a=jue(o);a?t[n]=a:st(Bae(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:l}=this[t];if(u){const{op:c=F8,field:f}=u;s.push(f),o.push(c),a.push(gt(u,{forAs:!0}))}else l&&(s.push(l),o.push("max"),a.push(l));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){var u;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const l of Nue){for(const c of Pue){const f=(r[l]&&r[l][c])??[];for(const d of f)if(((u=d.axes)==null?void 0:u.length)>0){s[l]=!0;break}}if(s[l]){const c=`length(data("${this.facet.name}"))`,f=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),u=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:u}]})}for(const a of[ug,ag])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function UEe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function G$n(e,t){const n=Rae(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=UEe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=UEe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return st(mRn(t)),null}function Y$n(e){const t={};return _M(e.filter,n=>{if(eHe(n)){let r=null;Hae(n)?r=sc(n.equal):Wae(n)?r=sc(n.lte):qae(n)?r=sc(n.lt):Gae(n)?r=sc(n.gt):Yae(n)?r=sc(n.gte):Kae(n)?r=n.range[0]:Xae(n)&&(r=(n.oneOf??n.in)[0]),r&&(Sw(r)?t[n.field]="date":Ir(r)?t[n.field]="number":St(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function K$n(e){const t={};function n(r){cT(r)?t[r.field]="date":r.type==="quantitative"&&Wkn(r.aggregate)?t[r.field]="number":rT(r.field)>1?r.field in t||(t[r.field]="flatten"):Aw(r)&&pp(r.sort)&&rT(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((gs(e)||bc(e))&&e.forEachFieldDef((r,i)=>{if(Mu(r))n(r);else{const s=Ew(i),o=e.fieldDef(s);n({...r,type:o.type})}}),gs(e)){const{mark:r,markDef:i,encoding:s}=e;if(Cw(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];ot(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function X$n(e){const t={};if(gs(e)&&e.component.selection)for(const n of tt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&rT(i.field)>1&&(t[i.field]="flatten")}return t}class Ga extends ii{clone(){return new Ga(null,gn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${sr(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const s=n.data;return!Uy(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of tt(r)){const u=i.getWithExplicit(a);u.value!==void 0&&(u.explicit||u.value===r[a]||u.value==="derived"||r[a]==="flatten"?delete r[a]:st(Qwe(a,r[a],u.value)))}for(const a of tt(n)){const u=i.get(a);u!==void 0&&(u===n[a]?delete n[a]:st(Qwe(a,n[a],u)))}const s=new y0(n,r);i.copyAll(s);const o={};for(const a of tt(s.combine())){const u=s.get(a);u!==null&&(o[a]=u)}return tt(o).length===0||i.parseNothing?null:new Ga(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of tt(this._parse)){const r=this._parse[n];rT(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(tt(this._parse))}dependentFields(){return new Set(tt(this._parse))}assembleTransforms(t=!1){return tt(this._parse).filter(n=>t?rT(n)>1:!0).map(n=>{const r=G$n(n,this._parse[n]);return r?{type:"formula",expr:r,as:FC(n)}:null}).filter(n=>n!==null)}}class kv extends ii{clone(){return new kv(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Wd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Wd}}}class WP extends ii{clone(){return new WP(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${sr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class GP extends ii{clone(){return new GP(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${sr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class L_ extends ii{constructor(t){super(null),t??(t={name:"source"});let n;if(Uy(t)||(n=t.format?{...kl(t.format,["parse"])}:{}),MR(t))this._data={values:t.values};else if(fT(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];or(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else mqe(t)?this._data={values:[{type:"Sphere"}]}:(hqe(t)||Uy(t))&&(this._data={});this._generator=Uy(t),t.name&&(this._name=t.name),n&&!ui(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var zEe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Q$n=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},zA;function Mue(e){return e instanceof L_||e instanceof WP||e instanceof GP}class Lue{constructor(){zA.set(this,void 0),zEe(this,zA,!1,"f")}setModified(){zEe(this,zA,!0,"f")}get modifiedFlag(){return Q$n(this,zA,"f")}}zA=new WeakMap;class Iw extends Lue{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class Fue extends Lue{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class J$n extends Fue{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of tt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Z$n extends Fue{constructor(t){super(),this.requiresSelectionId=t&&Rue(t)}run(t){t instanceof kv&&(this.requiresSelectionId&&(Mue(t.parent)||t.parent instanceof $d||t.parent instanceof Ga)||(this.setModified(),t.remove()))}}class eMn extends Lue{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof mp&&(r=t.producedFields(),Iae(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class tMn extends Fue{constructor(){super()}run(t){t instanceof Nl&&!t.isRequired()&&(this.setModified(),t.remove())}}class nMn extends Iw{run(t){if(!Mue(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Ga)if(t instanceof Ga)this.setModified(),t.merge(n);else{if(kae(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class rMn extends Iw{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Ga);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const u of tt(a))u in i?i[u]!==a[u]&&s.add(u):i[u]=a[u]}for(const o of s)delete i[o];if(!ui(i)){this.setModified();const o=new Ga(t,i);for(const a of n){if(a instanceof Ga)for(const u of tt(i))delete a.parse[u];t.removeChild(a),a.parent=o,a instanceof Ga&&tt(a.parse).length===0&&a.remove()}}}}}class iMn extends Iw{run(t){t instanceof Nl||t.numChildren()>0||t instanceof VC||t instanceof L_||(this.setModified(),t.remove())}}class sMn extends Iw{run(t){const n=t.children.filter(i=>i instanceof mp),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class oMn extends Iw{run(t){const n=t.children.filter(i=>i instanceof $d),r={};for(const i of n){const s=sr(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of tt(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class aMn extends Iw{constructor(t){super(),this.model=t}run(t){const n=!(Mue(t)||t instanceof zC||t instanceof Ga||t instanceof kv),r=[],i=[];for(const s of t.children)s instanceof gp&&(n&&!kae(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof gp?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class uMn extends Iw{run(t){const n=[...t.children];if(!I_(n,o=>o instanceof Nl)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof Nl){let a=o;for(;a.numChildren()===1;){const[u]=a.children;if(u instanceof Nl)a=u;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class kw extends ii{clone(){return new kw(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??gt(t)}hash(){return`JoinAggregateTransform ${sr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function lMn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=gt(r);return i&&t.push(i),t},[])}function cMn(e){return qe(e)&&e.every(t=>St(t))&&e.length>1}class cg extends ii{clone(){return new cg(null,gn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],u=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),u.push(js(f.order,"ascending"));const l={field:a,order:u};let c;return cMn(s)?c=s:St(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new cg(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:l,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:u}=r,l=s.map(h=>{const p=i[h];return Dp(p)}).filter(h=>!!h),c=lMn(n),f=n.encoding.order;let d;if(qe(f)||ot(f))d=DVe(f);else{const h=xHe(f)?f.sort:o==="y"?"descending":"ascending";d=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new cg(t,{dimensionFieldDefs:l,stackField:n.vgField(o),facetby:[],stackby:c,sort:d,offset:a,impute:u,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${sr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[gt(i,{binSuffix:"mid"})]:[gt(i,{}),gt(i,{binSuffix:"end"})]:[gt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:u,as:l}=this._stack;if(u)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=gt(c,{expr:"datum"}),p=gt(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${p}`,as:gt(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:gt(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:l,offset:a}),t}}class HC extends ii{clone(){return new HC(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??gt(t)}hash(){return`WindowTransform ${sr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(f=>Fae(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],u=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),u.push(f.order??"ascending");const l={field:a,order:u},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:l,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function fMn(e){function t(n){if(!(n instanceof VC)){const r=n.clone();if(r instanceof Nl){const i=iK+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof $d||r instanceof cg||r instanceof HC||r instanceof kw)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function rK(e){if(e instanceof VC)if(e.numChildren()===1&&!(e.children[0]instanceof Nl)){const t=e.children[0];(t instanceof $d||t instanceof cg||t instanceof HC||t instanceof kw)&&t.addDimensions(e.fields),t.swapWithParent(),rK(e)}else{const t=e.model.component.data.main;uWe(t);const n=fMn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(rK)}function uWe(e){if(e instanceof Nl&&e.type===Yi.Main&&e.numChildren()===1){const t=e.children[0];t instanceof VC||(t.swapWithParent(),uWe(e))}}const iK="scale_",VD=5;function sK(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!sK(t.children))return!1}return!0}function Qf(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function VEe(e,t,n){let r=e.sources,i=!1;return i=Qf(new tMn,r)||i,i=Qf(new Z$n(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Qf(new iMn,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Qf(new nMn,r)||i,i=Qf(new aMn(t),r)||i,i=Qf(new eMn,r)||i,i=Qf(new rMn,r)||i,i=Qf(new oMn,r)||i,i=Qf(new sMn,r)||i,i=Qf(new J$n,r)||i,i=Qf(new uMn,r)||i),e.sources=r,i}function dMn(e,t){sK(e.sources);let n=0,r=0;for(let i=0;i<VD&&VEe(e,t,!0);i++)n++;e.sources.map(rK);for(let i=0;i<VD&&VEe(e,t,!1);i++)r++;sK(e.sources),Math.max(n,r)===VD&&st(`Maximum optimization runs(${VD}) reached.`)}class Oo{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Oo(()=>t(n))}}function lWe(e){gs(e)?hMn(e):pMn(e)}function hMn(e){const t=e.component.scales;for(const n of tt(t)){const r=gMn(e,n);if(t[n].setWithExplicit("domains",r),vMn(e,n),e.component.data.isFaceted){let s=e;for(;!bc(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)Xm(a)&&(a.data=iK+a.data.replace(iK,""))}}}function pMn(e){for(const n of e.children)lWe(n);const t=e.component.scales;for(const n of tt(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=Cv(r,o.getWithExplicit("domains"),"domains","scale",oK);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&st(fRn),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function mMn(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=HEe(t,n);if(!i){st(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=HEe(t,n);if(i)return"unaggregated"}return e}function gMn(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=mMn(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&mo(r.x2)?mo(r.x)?Cv(N0(n,i,e,"x"),N0(n,i,e,"x2"),"domain","scale",oK):N0(n,i,e,"x2"):t==="y"&&mo(r.y2)?mo(r.y)?Cv(N0(n,i,e,"y"),N0(n,i,e,"y2"),"domain","scale",oK):N0(n,i,e,"y2"):N0(n,i,e,t)}function yMn(e,t,n){return e.map(r=>({signal:`{data: ${V8(r,{timeUnit:n,type:t})}}`}))}function Mz(e,t,n){var i;const r=(i=Vo(n))==null?void 0:i.unit;return t==="temporal"||r?yMn(e,t,r):[e]}function N0(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:u}=n,l=mo(i[r]),{type:c}=l,f=l.timeUnit;if(DNn(t)){const p=N0(e,void 0,n,r),m=Mz(t.unionWith,c,f);return Ah([...m,...p.value])}else{if(Vt(t))return Ah([t]);if(t&&t!=="unaggregated"&&!aHe(t))return Ah(Mz(t,c,f))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return Xl([[0,1]]);const p=n.requestDataName(Yi.Main);return Xl([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const d=m0(r)&&ot(l)?bMn(n,r,e):void 0;if(om(l)){const p=Mz([l.datum],c,f);return Xl(p)}const h=l;if(t==="unaggregated"){const p=n.requestDataName(Yi.Main),{field:m}=l;return Xl([{data:p,field:gt({field:m,aggregate:"min"})},{data:p,field:gt({field:m,aggregate:"max"})}])}else if(Ii(h.bin)){if(Ho(e))return Xl(e==="bin-ordinal"?[]:[{data:OR(d)?n.requestDataName(Yi.Main):n.requestDataName(Yi.Raw),field:n.vgField(r,VP(h,r)?{binSuffix:"range"}:{}),sort:d===!0||!Tt(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:p}=h;if(Ii(p)){const m=$ue(n,h.field,p);return Xl([new Oo(()=>{const g=n.getSignalName(m);return`[${g}.start, ${g}.stop]`})])}else return Xl([{data:n.requestDataName(Yi.Main),field:n.vgField(r,{})}])}}else if(h.timeUnit&&or(["time","utc"],e)){const p=i[im(r)];if(EHe(h,p,s,a)){const m=n.requestDataName(Yi.Main),g=Tv({fieldDef:h,fieldDef2:p,markDef:s,config:a}),y=$R(o)&&g!==.5&&Bs(r);return Xl([{data:m,field:n.vgField(r,y?{suffix:K8}:{})},{data:m,field:n.vgField(r,{suffix:y?X8:"end"})}])}}return Xl(d?[{data:OR(d)?n.requestDataName(Yi.Main):n.requestDataName(Yi.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(Yi.Main),field:n.vgField(r)}])}function Lz(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":F8),...r?{field:Rf(r)}:{},...i?{order:i}:{}}}function vMn(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,s=aHe(r)&&r,o=xw(i)&&N8(i.extent)&&i.extent;(s||o)&&n.set("selectionExtent",s??o,!0)}function bMn(e,t,n){if(!Ho(n))return;const r=e.fieldDef(t),i=r.sort;if(_He(i))return{op:"min",field:pT(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(pp(i)){const a=s&&!o.has(i.field);return Lz(i,a)}else if(bHe(i)){const{encoding:a,order:u}=i,l=e.fieldDef(a),{aggregate:c,field:f}=l,d=s&&!o.has(f);if(Bg(c)||u1(c))return Lz({field:gt(l),order:u},d);if(Fae(c)||!c)return Lz({op:c,field:f,order:u},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(or(["ascending",void 0],i))return!0}}function HEe(e,t){const{aggregate:n,type:r}=e;return n?St(n)&&!Ykn.has(n)?{valid:!1,reason:LRn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:FRn(e)}:{valid:!0}:{valid:!1,reason:MRn(e)}}function oK(e,t,n,r){return e.explicit&&t.explicit&&st(VRn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function _Mn(e){const t=Zh(e.map(o=>{if(Xm(o)){const{sort:a,...u}=o;return u}return o}),sr),n=Zh(e.map(o=>{if(Xm(o)){const a=o.sort;return a!==void 0&&!OR(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),sr);if(t.length===0)return;if(t.length===1){const o=e[0];if(Xm(o)&&n.length>0){let a=n[0];if(n.length>1){st(Zwe);const u=n.filter(l=>Tt(l)&&"op"in l&&l.op!=="min");n.every(l=>Tt(l)&&"op"in l)&&u.length===1?a=u[0]:a=!0}else if(Tt(a)&&"field"in a){const u=a.field;o.field===u&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=Zh(n.map(o=>OR(o)||!("op"in o)||St(o.op)&&o.op in Hkn?o:(st(qRn(o)),!0)),sr);let i;r.length===1?i=r[0]:r.length>1&&(st(Zwe),i=!0);const s=Zh(e.map(o=>Xm(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function jue(e){if(Xm(e)&&St(e.field))return e.field;if(Kkn(e)){let t;for(const n of e.fields)if(Xm(n)&&St(n.field)){if(!t)t=n.field;else if(t!==n.field)return st(WRn),t}return st(GRn),t}else if(Xkn(e)){st(YRn);const t=e.fields[0];return St(t)?t:void 0}}function tB(e,t){const r=e.component.scales[t].get("domains").map(i=>(Xm(i)&&(i.data=e.lookupDataSource(i.data)),i));return _Mn(r)}function cWe(e){return qC(e)||Bue(e)?e.children.reduce((t,n)=>t.concat(cWe(n)),qEe(e)):qEe(e)}function qEe(e){return tt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:u,range:l,reverse:c,...f}=i,d=wMn(i.range,s,n,e),h=tB(e,n),p=a?mDn(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function wMn(e,t,n,r){if(Bs(n)){if(l1(e))return{step:{signal:`${t}_step`}}}else if(Tt(e)&&Xm(e))return{...e,data:r.lookupDataSource(e.data)};return e}class fWe extends y0{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:I_(this.get("domains"),t=>qe(t)&&t.length===2&&Ir(t[0])&&t[0]<=0&&Ir(t[1])&&t[1]>=0)}}const EMn=["range","scheme"];function xMn(e){const t=e.component.scales;for(const n of R8){const r=t[n];if(!r)continue;const i=SMn(n,e);r.setWithExplicit("range",i)}}function WEe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=Vl(t),o=e.getName(s);if(Tt(r)&&r.binned&&r.step!==void 0)return new Oo(()=>{const a=e.scaleName(t),u=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${u})`});if(Ii(r)){const a=$ue(e,i,r);return new Oo(()=>{const u=e.getSignalName(a),l=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(o)} / (${l})`})}}}function SMn(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const f of EMn)if(n[f]!==void 0){const d=HY(s,f),h=uHe(e,f);if(!d)st(UVe(s,f,e));else if(h)st(h);else switch(f){case"range":{const p=n.range;if(qe(p)){if(Bs(e))return Ah(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return Oo.fromName(y,g)}return m}))}else if(Tt(p))return Ah({data:t.requestDataName(Yi.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Ah(p)}case"scheme":return Ah(TMn(n[f]))}}const o=e===ts||e==="xOffset"?"width":"height",a=r[o];if($p(a)){if(Bs(e))if(Ho(s)){const f=hWe(a,t,e);if(f)return Ah({step:f})}else st(zVe(o));else if(LP(e)){const f=e===r1?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=pWe(a,s);if(p)return Ah(p)}}}const{rangeMin:u,rangeMax:l}=n,c=CMn(e,t);return(u!==void 0||l!==void 0)&&HY(s,"rangeMin")&&qe(c)&&c.length===2?Ah([u??c[0],l??c[1]]):Xl(c)}function TMn(e){return ONn(e)?{scheme:e.name,...kl(e,["name"])}:{scheme:e}}function dWe(e,t,n,{center:r}={}){const i=Vl(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===Go&&Oc(n)?r?[Oo.fromName(a=>`${o(a)}/2`,s),Oo.fromName(a=>`-${o(a)}/2`,s)]:[Oo.fromName(o,s),0]:r?[Oo.fromName(a=>`-${o(a)}/2`,s),Oo.fromName(a=>`${o(a)}/2`,s)]:[0,Oo.fromName(o,s)]}function CMn(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=mo(s[e]),u=t.getScaleComponent(e).get("type"),{domain:l,domainMid:c}=t.specifiedScales[e];switch(e){case ts:case Go:{if(or(["point","band"],u)){const f=mWe(e,n,r.view);if($p(f))return{step:hWe(f,t,e)}}return dWe(e,t,u)}case r1:case jC:return AMn(e,t,u);case h0:{const f=t.component.scales[e].get("zero"),d=gWe(i,f,r),h=RMn(i,n,t,r);return aT(u)?kMn(d,h,IMn(u,r,l,e)):[d,h]}case zf:return[0,Math.PI*2];case ww:return[0,360];case rh:return[0,new Oo(()=>{const f=t.getSignalName(bc(t.parent)?"child_width":"width"),d=t.getSignalName(bc(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case o1:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case a1:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case zl:return"symbol";case Ul:case nm:case rm:return u==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case p0:case i1:case s1:return[r.scale.minOpacity,r.scale.maxOpacity]}}function hWe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=Dae(n),o=r[s];if(ZHe({step:e,offsetIsDiscrete:An(o)&&nHe(o.type)})==="offset"&&DHe(r,s)){const u=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(u.get("type")==="band"){const d=u.get("paddingInner")??u.get("padding")??0,h=u.get("paddingOuter")??u.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${eRn(f)})`}}else return e.step}function pWe(e,t){if(ZHe({step:e,offsetIsDiscrete:Ho(t)})==="offset")return{step:e.step}}function AMn(e,t,n){const r=e===r1?"x":"y",i=t.getScaleComponent(r);if(!i)return dWe(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:u}=t;if(s==="band"){const l=mWe(r,t.size,t.config.view);if($p(l)){const c=pWe(l,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const l=t.encoding[r];if(ot(l)&&l.timeUnit){const c=JVe(l.timeUnit,p=>`scale('${o}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=Tv({fieldDef:l,markDef:a,config:u})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Vt(f)?`${f.signal}/2`+h:`${f/2+d}`,m=Vt(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return uVe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function mWe(e,t,n){const r=e===ts?"width":"height",i=t[r];return i||d4(n,r)}function IMn(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&qe(n)?n.length+1:(st(rNn(r)),3)}}function kMn(e,t,n){const r=()=>{const i=Sd(t),s=Sd(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return Vt(t)?new Oo(r):{signal:r()}}function gWe(e,t,n){if(t)return Vt(t)?{signal:`${t.signal} ? 0 : ${gWe(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(P8("size",e))}const GEe=.95;function RMn(e,t,n,r){const i={x:WEe(n,"x"),y:WEe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=YEe(t,i,r.view);return Ir(s)?s-1:new Oo(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=YEe(t,i,r.view);return Ir(s)?Math.pow(GEe*s,2):new Oo(()=>`pow(${GEe} * ${s.signal}, 2)`)}}throw new Error(P8("size",e))}function YEe(e,t,n){const r=$p(e.width)?e.width.step:f4(n,"width"),i=$p(e.height)?e.height.step:f4(n,"height");return t.x||t.y?new Oo(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function yWe(e,t){gs(e)?NMn(e,t):bWe(e,t)}function NMn(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of tt(n)){const u=o[a],l=n[a],c=e.getScaleComponent(a),f=mo(i[a]),d=u[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=HY(h,t),y=uHe(a,t);if(d!==void 0&&(g?y&&st(y):st(UVe(h,t,a))),g&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":Sw(u[t])||b==="temporal"||v?l.set(t,{signal:V8(u[t],{type:b,timeUnit:v})},!0):l.set(t,u[t],!0);break;default:l.copyKeyFromObject(t,u)}}else{const v=t in KEe?KEe[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:s,config:r,hasNestedOffsetScale:$He(i,a),hasSecondaryRangeChannel:!!i[im(a)]}):r.scale[t];v!==void 0&&l.set(t,v,!1)}}}const KEe={bins:({model:e,fieldOrDatumDef:t})=>ot(t)?PMn(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>OMn(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>DMn(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>$Mn(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>MMn(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>LMn(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ot(e)?e.sort:void 0;return FMn(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>jMn(e,t,n,r,i,s.scale,o)};function vWe(e){gs(e)?xMn(e):bWe(e,"range")}function bWe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?vWe(r):yWe(r,t);for(const r of tt(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=Cv(i,a,t,"scale",dqe((u,l)=>{switch(t){case"range":return u.step&&l.step?u.step-l.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function PMn(e,t){const n=t.bin;if(Ii(n)){const r=$ue(e,t.field,n);return new Oo(()=>e.getSignalName(r))}else if(ua(n)&&xw(n)&&n.step!==void 0)return{step:n.step}}function OMn(e,t){if(or([Ul,nm,rm],e)&&t!=="nominal")return"hcl"}function DMn(e,t,n,r,i,s){var o;if(!((o=Dp(s))!=null&&o.bin||qe(n)||i!=null||r!=null||or([Rl.TIME,Rl.UTC],e)))return Bs(t)?!0:void 0}function $Mn(e,t,n,r,i,s){if(Bs(e)){if(Td(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(ot(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===Rl.POINT)return n.pointPadding}}function MMn(e,t,n,r,i,s=!1){if(e===void 0){if(Bs(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:u,bandWithNestedOffsetPaddingInner:l}=i;return s?l:js(o,n==="bar"?a:u)}else if(LP(t)&&r===Rl.BAND)return i.offsetBandPaddingInner}}function LMn(e,t,n,r,i,s=!1){if(e===void 0){if(Bs(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===Rl.BAND)return js(o,Vt(r)?{signal:`${r.signal}/2`}:r/2)}else if(LP(t)){if(n===Rl.POINT)return .5;if(n===Rl.BAND)return i.offsetBandPaddingOuter}}}function FMn(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Oc(e)&&t==="descending"?Vt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Oc(e)&&t==="descending")return!0}function jMn(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&Oc(i)){if(qe(n)){const u=n[0],l=n[n.length-1];if(Ir(u)&&u<=0&&Ir(l)&&l>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!aT(i))return!0;if(!(ot(t)&&t.bin)&&or([...sm,...Mkn],e)){const{orient:u,type:l}=r;return or(["bar","area","line","trail"],l)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:or(["bar","area"],l)&&!o?!0:s==null?void 0:s.zero}return!1}function BMn(e,t,n,r,i=!1){const s=UMn(t,n,r,i),{type:o}=e;return m0(t)?o!==void 0?BNn(t,o)?ot(n)&&!jNn(o,n.type)?(st(URn(o,s)),s):o:(st(BRn(t,o,s)),s):s:null}function UMn(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Vx(e)||Iz(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&st(kz(e,"ordinal")),"ordinal";if(Bs(e)||LP(e)){if(or(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in Lae)return"band";const s=n[Vl(e)];return D_(s)||lT(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Vx(e)?"time":Iz(e)==="discrete"?(st(kz(e,"temporal")),"ordinal"):ot(t)&&t.timeUnit&&Vo(t.timeUnit).utc?"utc":"time";case"quantitative":return Vx(e)?ot(t)&&Ii(t.bin)?"bin-ordinal":"linear":Iz(e)==="discrete"?(st(kz(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(jVe(t.type))}function zMn(e,{ignoreRange:t}={}){_We(e),lWe(e);for(const n of FNn)yWe(e,n);t||vWe(e)}function _We(e){gs(e)?e.component.scales=VMn(e):e.component.scales=qMn(e)}function VMn(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of R8){const o=mo(t[s]);if(o&&n===gHe&&s===zl&&o.type===BC)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const u=$He(t,s),l=BMn(a,s,o,r,u);i[s]=new fWe(e.scaleName(`${s}`,!0),{value:l,explicit:a.type===l})}}return i}const HMn=dqe((e,t)=>tEe(e)-tEe(t));function qMn(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){_We(s);for(const o of tt(s.component.scales))if((t=i.scale)[o]??(t[o]=Xqe(o,e)),i.scale[o]==="shared"){const a=r[o],u=s.component.scales[o].getWithExplicit("type");a?INn(a.value,u.value)?r[o]=Cv(a,u,"type","scale",HMn):(i.scale[o]="independent",delete r[o]):r[o]=u}}for(const s of tt(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new fWe(o,a);for(const u of e.children){const l=u.component.scales[s];l&&(u.renameScale(l.get("name"),o),l.merged=!0)}}return n}class Fz{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function gs(e){return(e==null?void 0:e.type)==="unit"}function bc(e){return(e==null?void 0:e.type)==="facet"}function Bue(e){return(e==null?void 0:e.type)==="concat"}function qC(e){return(e==null?void 0:e.type)==="layer"}class Uue{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.correctDataNames=u=>{var l,c,f;return(l=u.from)!=null&&l.data&&(u.from.data=this.lookupDataSource(u.from.data)),(f=(c=u.from)==null?void 0:c.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=s,this.view=fl(a),this.name=t.name??i,this.title=U0(t.title)?{text:t.title}:t.title?fl(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new Fz,this.projectionNameMap=r?r.projectionNameMap:new Fz,this.signalNameMap=r?r.signalNameMap:new Fz,this.data=t.data,this.description=t.description,this.transforms=JOn(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:nOn(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:j8(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new y0,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?gn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){zMn(this)}parseProjection(){oWe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){tWe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of tt(r)){const o=r[s];o!==void 0&&(i[s]=Mi(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Mi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:ui(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=d$n(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of pf)t[r].title&&n.push(o$n(this,r));for(const r of Nue)n=n.concat(a$n(this,r));return n}assembleAxes(){return GDn(this.component.axes,this.config)}assembleLegends(){return rWe(this)}assembleProjections(){return $$n(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...RVe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return or(["unit","layer"],this.type)?or(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),ui(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||bc(this.parent)?cWe(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return es((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Yi[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(bc(this.parent)){const n=Yqe(t),r=k8(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(Ho(s)&&l1(o)){const a=i.get("name"),u=tB(this,r),l=jue(u);if(l){const c=gt({aggregate:"distinct",field:l},{expr:"datum"});return{signal:Gqe(a,i,c)}}else return st(Bae(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(wVe(t)&&m0(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(sRn(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class wWe extends Uue{vgField(t,n={}){const r=this.fieldDef(t);if(r)return gt(r,n)}reduceFieldDef(t,n){return NPn(this.getMapping(),(r,i,s)=>{const o=Dp(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){hue(this.getMapping(),(r,i)=>{const s=Dp(r);s&&t(s,i)},n)}}class nB extends ii{clone(){return new nB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${sr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class rB extends ii{clone(){return new rB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${sr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class LR extends ii{clone(){return new LR(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:s}=n;if(qr("invalid",s,r)!=="filter")return null;const a=n.reduceFieldDef((u,l,c)=>{const f=m0(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");Oc(d)&&l.aggregate!=="count"&&!Cw(i)&&(u[l.field]=l)}return u},{});return tt(a).length?new LR(t,a):null}dependentFields(){return new Set(tt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${sr(this.filter)}`}assemble(){const t=tt(this.filter).reduce((n,r)=>{const i=this.filter[r],s=gt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (isValid(${s}) && isFinite(+${s})))`):i.type==="quantitative"&&(n.push(`isValid(${s})`),n.push(`isFinite(+${s})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class iB extends ii{clone(){return new iB(this.parent,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${sr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class sB extends ii{clone(){return new sB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${sr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Wx extends ii{clone(){return new Wx(null,gn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[sh,ih],[Nf,oh]]){const s=i.map(o=>{const a=mo(n.encoding[o]);return ot(a)?a.field:om(a)?{expr:`${a.datum}`}:qd(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new Wx(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(zl)){const i=n.typedFieldDef(zl);i.type===BC&&(t=new Wx(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(St);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${sr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class FR extends ii{clone(){return new FR(null,this.projection,gn(this.fields),gn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[sh,ih],[Nf,oh]]){const i=r.map(o=>{const a=mo(n.encoding[o]);return ot(a)?a.field:om(a)?{expr:`${a.datum}`}:qd(a)?{expr:`${a.value}`}:void 0}),s=r[0]===Nf?"2":"";(i[0]||i[1])&&(t=new FR(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(St))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${sr(this.fields)} ${sr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Hb extends ii{clone(){return new Hb(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Hb(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(ot(i)&&ot(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:u,value:l,frame:c,keyvals:f}=o.impute,d=LHe(n.mark,r);return new Hb(t,{impute:o.field,key:a.field,...u?{method:u}:{},...l!==void 0?{value:l}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${sr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:OOn(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const l={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,l,c]}else return[u]}}class oB extends ii{clone(){return new oB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${sr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class jR extends ii{clone(){return new jR(null,gn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(DOn(o)){let u=SWe(o.data,s);u||(u=new L_(o.data),s.push(u));const l=n.getName(`lookup_${i}`);a=new Nl(u,l,Yi.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=a}else if($On(o)){const u=o.param;r={as:u,...r};let l;try{l=n.getSelectionComponent(es(u),u)}catch{throw new Error(lRn(u))}if(a=l.materialized,!a)throw new Error(cRn(u))}return new jR(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?xt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${sr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:xt(this.transform.as)}:{}};else{let n=this.transform.as;St(n)||(st(vRn),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class aB extends ii{clone(){return new aB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${sr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class uB extends ii{clone(){return new uB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${sr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class lB extends ii{clone(){return new lB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zh((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${sr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class cB extends ii{clone(){return new cB(null,gn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${sr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function EWe(e){let t=0;function n(r,i){if(r instanceof L_&&!r.isGenerator&&!fT(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Ga&&(r.parent instanceof L_&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof VC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof WP||r instanceof GP||r instanceof LR||r instanceof zC||r instanceof hT||r instanceof FR||r instanceof $d||r instanceof jR||r instanceof HC||r instanceof kw||r instanceof sB||r instanceof iB||r instanceof nB||r instanceof oB||r instanceof aB||r instanceof uB||r instanceof kv||r instanceof cB||r instanceof lB||r instanceof rB)&&i.transform.push(r.assemble()),(r instanceof gp||r instanceof mp||r instanceof Hb||r instanceof cg||r instanceof Wx)&&i.transform.push(...r.assemble()),r instanceof Nl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Nl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Nl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function WMn(e){const t=[],n=EWe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function GMn(e,t){const n=[],r=EWe(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function YMn(e){return e==="top"||e==="left"||Vt(e)?"header":"footer"}function KMn(e){for(const t of pf)XMn(e,t);XEe(e,"x"),XEe(e,"y")}function XMn(e,t){var o;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const a=n[t],u=mT("title",null,r,t);let l=Hx(a,r,{allowDisabling:!0,includeDefault:u===void 0||!!u});i.component.layoutHeaders[t].title&&(l=qe(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=mT("labelOrient",a.header,r,t),f=a.header!==null?js((o=a.header)==null?void 0:o.labels,r.header.labels,!0):!1,d=or(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:a.header!==null?l:null,facetFieldDef:a,[d]:t==="facet"?[]:[xWe(e,t,f)]}}}function xWe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function XEe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Due(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const u=YMn(a.get("orient"));o[u]??(o[u]=[xWe(e,s,!1)]);const l=UA(a,"main",e.config,{header:!0});l&&o[u][0].axes.push(l),a.mainExtracted=!0}}}}function QMn(e){zue(e),g4(e,"width"),g4(e,"height")}function JMn(e){zue(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";g4(e,t),g4(e,n)}function zue(e){for(const t of e.children)t.parseLayoutSize()}function g4(e,t){const n=Yqe(t),r=k8(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const u=a.component.layoutSize.getWithExplicit(n),l=i.scale[r]??Xqe(r,e);if(l==="independent"&&u.value==="step"){o=void 0;break}if(o){if(l==="independent"&&o.value!==u.value){o=void 0;break}o=Cv(o,u,n,"")}else o=u}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function ZMn(e){const{size:t,component:n}=e;for(const r of sm){const i=Vl(r);if(t[i]){const s=t[i];n.layoutSize.set(i,$p(s)?"step":s,!0)}else{const s=e3n(e,i);n.layoutSize.set(i,s,!1)}}}function e3n(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(Ho(s)){const a=d4(r.view,t);return l1(o)||$p(a)?"step":a}else return GY(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return GY(r.view,t);{const s=d4(r.view,t);return $p(s)?s.step:s}}}function aK(e,t,n){return gt(t,{suffix:`by_${gt(e)}`,...n})}class WI extends wWe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Gue(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!UP(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=tt(t),r={};for(const i of n){if(![ag,ug].includes(i)){st(P8(i,"facet"));break}const s=t[i];if(s.field===void 0){st(zY(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=fue(t,n);return r.header?r.header=fl(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=fB(this),this.child.parseData()}parseLayoutSize(){zue(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),KMn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of pf)for(const r of Pue){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=mT("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const u=Z8(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(s!=null&&s[0]){const a=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[u]??(t[u]={}),t[u][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof WI))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof WI?{...this.channelHasField("column")?{encode:{update:{columns:{field:gt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof WI){if(this.child.channelHasField("column")){const i=gt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of sm){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(Ho(o)&&l1(a)){const u=tB(this.child,i),l=jue(u);l?(t.push(l),n.push("distinct"),r.push(`distinct_${l}`)):st(Bae(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),u=[];for(const c of pf){const f=this.facet[c];if(f){u.push(gt(f));const{bin:d,sort:h}=f;if(Ii(d)&&u.push(gt(f,{binSuffix:"end"})),pp(h)){const{field:p,op:m=F8}=h,g=aK(f,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(qe(h)){const p=pT(f,c);s.push(p),o.push("max"),a.push(p)}}}const l=!!r&&!!i;return{name:t,data:n,groupby:u,...l||s.length>0?{aggregate:{...l?{cross:l}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?pp(r.sort)?[aK(r,r.sort,{expr:"datum"})]:qe(r.sort)?[pT(r,t,{expr:"datum"})]:[gt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(pp(i)?i.order:!qe(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return tK(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of Nue)if(t[s]){const o=mT("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(o))return tK(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=WMn(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:pf.map(u=>this.facetSortFields(u)).flat(),order:pf.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(fDn(this,[]))}]}getMapping(){return this.facet}}function t3n(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(pp(s.sort)){const{field:o,op:a=F8}=s.sort;e=i=new kw(e,{joinaggregate:[{op:a,field:o,as:aK(s,s.sort,{forAs:!0})}],groupby:[gt(s)]})}return i}return null}function SWe(e,t){var n,r,i,s;for(const o of t){const a=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const u=(n=e.format)==null?void 0:n.mesh,l=(r=a.format)==null?void 0:r.feature;if(u&&l)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||l)&&c!==l)continue;const f=(s=a.format)==null?void 0:s.mesh;if(!((u||f)&&u!==f)){if(MR(e)&&MR(a)){if(hc(e.values,a.values))return o}else if(fT(e)&&fT(a)){if(e.url===a.url)return o}else if(hqe(e)&&e.name===o.dataName)return o}}return null}function n3n(e,t){if(e.data||!e.parent){if(e.data===null){const r=new L_({values:[]});return t.push(r),r}const n=SWe(e.data,t);if(n)return Uy(e.data)||(n.data.format=lVe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new L_(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function r3n(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(qOn(i))o=e=new hT(e,i),s="derived";else if(Sue(i)){const a=Y$n(i);o=e=Ga.makeWithAncestors(e,{},a,n)??e,e=new zC(e,t,i.filter)}else if(uqe(i))o=e=gp.makeFromTransform(e,i,t),s="number";else if(GOn(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Ga(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=mp.makeFromTransform(e,i);else if(YOn(i))o=e=$d.makeFromTransform(e,i),s="number",Rue(t)&&(e=new kv(e));else if(aqe(i))o=e=jR.make(e,t,i,r++),s="derived";else if(zOn(i))o=e=new HC(e,i),s="number";else if(VOn(i))o=e=new kw(e,i),s="number";else if(KOn(i))o=e=cg.makeFromTransform(e,i),s="derived";else if(XOn(i))o=e=new sB(e,i),s="derived";else if(QOn(i))o=e=new rB(e,i),s="derived";else if(HOn(i))o=e=new iB(e,i),s="derived";else if(MOn(i))o=e=new lB(e,i),s="derived";else if(UOn(i))e=new cB(e,i);else if(WOn(i))o=e=Hb.makeFromTransform(e,i),s="derived";else if(LOn(i))o=e=new nB(e,i),s="derived";else if(FOn(i))o=e=new aB(e,i),s="derived";else if(jOn(i))o=e=new uB(e,i),s="derived";else if(BOn(i))o=e=new oB(e,i),s="derived";else{st(yRn(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function fB(e){var h;let t=n3n(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(Uy(i)||fT(i)||MR(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new lDn;Uy(i)?(pqe(i)?t=new GP(t,i.sequence):Tue(i)&&(t=new WP(t,i.graticule)),o.parseNothing=!0):((h=i==null?void 0:i.format)==null?void 0:h.parse)===null&&(o.parseNothing=!0),t=Ga.makeExplicit(t,e,o)??t,t=new kv(t);const a=e.parent&&qC(e.parent);(gs(e)||bc(e))&&a&&(t=gp.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=r3n(t,e,o));const u=X$n(e),l=K$n(e);t=Ga.makeWithAncestors(t,{},{...u,...l},o)??t,gs(e)&&(t=Wx.parseAll(t,e),t=FR.parseAll(t,e)),(gs(e)||bc(e))&&(a||(t=gp.makeFromEncoding(t,e)??t),t=mp.makeFromEncoding(t,e)??t,t=hT.parseAllForSortIndex(t,e));const c=t=QEe(Yi.Raw,e,t);if(gs(e)){const p=$d.makeFromEncoding(t,e);p&&(t=p,Rue(e)&&(t=new kv(t))),t=Hb.makeFromEncoding(t,e)??t,t=cg.makeFromEncoding(t,e)??t}gs(e)&&(t=LR.make(t,e)??t);const f=t=QEe(Yi.Main,e,t);gs(e)&&qDn(e,f);let d=null;if(bc(e)){const p=e.getName("facet");t=t3n(t,e.facet)??t,d=new VC(t,e,p,f.getSource()),n[p]=d}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:f,facetRoot:d,ancestorParse:o}}function QEe(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new Nl(n,s,e,i);return r[s]=o,o}class i3n extends Uue{constructor(t,n,r,i){var s,o,a,u;super(t,"concat",n,r,i,t.resolve),(((o=(s=t.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((u=(a=t.resolve)==null?void 0:a.axis)==null?void 0:u.y)==="shared")&&st(pRn),this.children=this.getChildren(t).map((l,c)=>Gue(l,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=fB(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of tt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return W8(t)?t.vconcat:Eue(t)?t.hconcat:t.concat}parseLayoutSize(){JMn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=Oue(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function s3n(e){return e===!1||e===null}const o3n={disable:1,gridScale:1,scale:1,...PHe,labelExpr:1,encode:1},TWe=tt(o3n);class Vue extends y0{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new Vue(gn(this.explicit),gn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!s3n(this.get(t))}hasOrientSignalRef(){return Vt(this.explicit.orient)}}function a3n(e,t,n){const{encoding:r,config:i}=e,s=mo(r[t])??mo(r[im(t)]),o=e.axis(t)||{},{format:a,formatType:u}=o;if(O_(u))return{text:Cd({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:u,config:i}),...n};if(a===void 0&&u===void 0&&i.customFormatTypes){if(uT(s)==="quantitative"){if(lT(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Cd({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Cd({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(uT(s)==="temporal"&&i.timeFormatType&&ot(s)&&!s.timeUnit)return{text:Cd({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function u3n(e){return sm.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[m3n(n,e)]),t),{})}const l3n={bottom:"top",top:"bottom",left:"right",right:"left"};function c3n(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of tt(i.component.axes))n.axis[s]=Due(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=f3n(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of sm){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:u}=o.getWithExplicit("orient");if(!Vt(a)){if(r[a]>0&&!u){const l=l3n[a];r[a]>r[l]&&o.set("orient",l,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function f3n(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=d3n(i,s)}}}else return t.map(n=>n.clone());return e}function d3n(e,t){for(const n of TWe){const r=Cv(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return LVe(i,s);case"gridScale":return{explicit:i.explicit,value:js(i.value,s.value)}}return Y8(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function h3n(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Vt(n.labelAngle)?n.labelAngle:DR(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Vqe(r,i))return!0}return e===n[t]}const p3n=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function m3n(e,t){var y,v;let n=t.axis(e);const r=new Vue,i=mo(t.encoding[e]),{mark:s,config:o}=t,a=(n==null?void 0:n.orient)||((y=o[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=o.axis)==null?void 0:v.orient)||t$n(e),u=t.getScaleComponent(e).get("type"),l=YDn(e,u,a,t.config),c=n!==void 0?!n:ZY("disable",o.style,n==null?void 0:n.style,l).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=JDn(i,n,e,o.style,l),d=dHe(n.formatType,i,u),h=fHe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:a,labelAngle:f,format:h,formatType:d,mark:s,config:o};for(const b of TWe){const w=b in $Ee?$Ee[b](p):uEe(b)?n[b]:void 0,E=w!==void 0,x=h3n(w,b,n,t,e);if(E&&x)r.set(b,w,x);else{const{configValue:S=void 0,configFrom:C=void 0}=uEe(b)&&b!=="values"?ZY(b,o.style,n.style,l):{},I=S!==void 0;E&&!I?r.set(b,w,x):(C!=="vgAxisConfig"||p3n.has(b)&&I||HP(S)||Vt(S))&&r.set(b,S,!1)}}const m=n.encoding??{},g=NHe.reduce((b,w)=>{if(!r.hasAxisPart(w))return b;const E=Kqe(m[w]??{},t),x=w==="labels"?a3n(t,e,E):E;return x!==void 0&&!ui(x)&&(b[w]={update:x}),b},{});return ui(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function g3n({encoding:e,size:t}){for(const n of sm){const r=Vl(n);$p(t[r])&&py(e[n])&&(delete t[r],st(zVe(r)))}return t}const y3n={vgMark:"arc",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...Av(e,"radius"),...Av(e,"theta")})},v3n={vgMark:"area",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...h4("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...h4("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...kue(e)})},b3n={vgMark:"rect",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Av(e,"x"),...Av(e,"y")})},_3n={vgMark:"shape",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ot(n)&&n.type===BC?{field:gt(n,{expr:"datum"})}:{}}]}},w3n={vgMark:"image",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Av(e,"x"),...Av(e,"y"),...Aue(e,"url")})},E3n={vgMark:"line",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...$o("size",e,{vgChannel:"strokeWidth"}),...kue(e)})},x3n={vgMark:"trail",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...$o("size",e),...kue(e)})};function Hue(e,t){const{config:n}=e;return{...Vf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...$o("size",e),...$o("angle",e),...S3n(e,n,t)}}function S3n(e,t,n){return n?{shape:{value:n}}:$o("shape",e)}const T3n={vgMark:"symbol",encodeEntry:e=>Hue(e)},C3n={vgMark:"symbol",encodeEntry:e=>Hue(e,"circle")},A3n={vgMark:"symbol",encodeEntry:e=>Hue(e,"square")},I3n={vgMark:"rect",encodeEntry:e=>({...Vf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Av(e,"x"),...Av(e,"y")})},k3n={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Vf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...h4("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...h4("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...$o("size",e,{vgChannel:"strokeWidth"})}}},R3n={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Vf(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Wa("x",e,{defaultPos:"mid"}),...Wa("y",e,{defaultPos:"mid"}),...Aue(e),...$o("size",e,{vgChannel:"fontSize"}),...$o("angle",e),...NEe("align",N3n(e.markDef,n,t)),...NEe("baseline",P3n(e.markDef,n,t)),...Wa("radius",e,{defaultPos:null}),...Wa("theta",e,{defaultPos:null})}}};function N3n(e,t,n){if(qr("align",e,n)===void 0)return"center"}function P3n(e,t,n){if(qr("baseline",e,n)===void 0)return"middle"}const O3n={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",s=r==="horizontal"?"height":"width";return{...Vf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Wa("x",e,{defaultPos:"mid",vgChannel:"xc"}),...Wa("y",e,{defaultPos:"mid",vgChannel:"yc"}),...$o("size",e,{defaultValue:D3n(e),vgChannel:i}),[s]:Mi(qr("thickness",n,t))}}};function D3n(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",s=e.getScaleComponent(r==="horizontal"?"x":"y"),o=qr("size",n,t,{vgChannel:i})??t.tick.bandSize;if(o!==void 0)return o;{const a=s?s.get("range"):void 0;return a&&l1(a)&&Ir(a.step)?a.step*3/4:f4(t.view,i)*3/4}}const HD={arc:y3n,area:v3n,bar:b3n,circle:C3n,geoshape:_3n,image:w3n,line:E3n,point:T3n,rect:I3n,rule:k3n,square:A3n,text:R3n,tick:O3n,trail:x3n};function $3n(e){if(or([M8,D8,XNn],e.mark)){const t=LHe(e.mark,e.encoding);if(t.length>0)return M3n(e,t)}else if(e.mark===$8){const t=UY.some(n=>qr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return L3n(e)}return que(e)}const JEe="faceted_path_";function M3n(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:JEe+e.requestDataName(Yi.Main),data:e.requestDataName(Yi.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:que(e,{fromPrefix:JEe})}]}const ZEe="stack_group_";function L3n(e){var l;const[t]=que(e,{fromPrefix:ZEe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...nT(t.encode.update,["y","yc","y2","height",...UY]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...kl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...nT(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...kl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of UY){const f=Ug(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):f&&(s[c]=Mi(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((l=e.stack.groupbyChannels)==null?void 0:l.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=gt(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(gt(f,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Ug(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Mi(d)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Yi.Main),name:ZEe+e.requestDataName(Yi.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function F3n(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!qe(o)&&qd(o)&&jY(o.value)||!o&&jY(qr("order",i,s)))){if((qe(o)||ot(o))&&!n)return DVe(o,{expr:"datum"});if(Cw(r)){const u=i.orient==="horizontal"?"y":"x",l=t[u];if(ot(l)){const c=l.sort;if(qe(c))return{field:gt(l,{prefix:u,suffix:"sort_index",expr:"datum"})};if(pp(c))return{field:gt({aggregate:due(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(bHe(c)){const f=e.fieldDef(c.encoding);return{field:gt(f,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:gt(l,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function que(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=js(r.clip,j3n(e),B3n(e)),a=PVe(r),u=i.key,l=F3n(e),c=U3n(e),f=qr("aria",r,s),d=HD[n].postEncodingTransform?HD[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:HD[n].vgMark,...o?{clip:o}:{},...a?{style:a}:{},...u?{key:u.field}:{},...l?{sort:l}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Yi.Main)},encode:{update:HD[n].encodeEntry(e)},...d?{transform:d}:{}}]}function j3n(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function B3n(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function U3n(e){if(!e.component.selection)return null;const t=tt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=tt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class CWe extends wWe{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,cEe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const o=Op(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=TOn(o,s,{graticule:t.data&&Tue(t.data)}));const u=this.encoding=kPn(t.encoding||{},a,o.filled,s);this.markDef=iqe(o,u,s),this.size=g3n({encoding:u,size:cEe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=rqe(this.markDef,u),this.specifiedScales=this.initScales(a,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(l=>_ue(l))}get hasProjection(){const{encoding:t}=this,n=this.mark===gHe,r=t&&Akn.some(i=>An(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return R8.reduce((r,i)=>{const s=mo(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=fl(t);return qe(n)&&(i.domain=n.map(sc)),qe(r)&&(i.range=r.map(sc)),i}initAxes(t){return sm.reduce((n,r)=>{const i=t[r];if(An(i)||r===ts&&An(t.x2)||r===Go&&An(t.y2)){const s=An(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=tt(t),r={};for(const i of n){const s=t[i];r[i]=HP(s)?NVe(s):sc(s)}return r}initLegends(t){return Lkn.reduce((n,r)=>{const i=mo(t[r]);if(i&&jkn(r)){const s=i.legend;n[r]=s&&fl(s)}return n},{})}parseData(){this.component.data=fB(this)}parseLayoutSize(){ZMn(this)}parseSelections(){this.component.selection=HDn(this,this.selection)}parseMarkGroup(){this.component.mark=$3n(this)}parseAxesAndHeaders(){this.component.axes=u3n(this)}assembleSelectionTopLevelSignals(t){return dDn(this,t)}assembleSignals(){return[...Bqe(this),...cDn(this,[])]}assembleSelectionData(t){return hDn(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return Oue(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!qC(this.parent))&&(t=yqe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return zb(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Dp(n)}typedFieldDef(t){const n=this.fieldDef(t);return Mu(n)?n:null}}class Wue extends Uue{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,u)=>{if(G8(a))return new Wue(a,this,this.getName(`layer_${u}`),o,s);if(g0(a))return new CWe(a,this,this.getName(`layer_${u}`),o,s);throw new Error(jae(a))})}parseData(){this.component.data=fB(this);for(const t of this.children)t.parseData()}parseLayoutSize(){QMn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of tt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){c3n(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),Bqe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),Oue(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of xt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return pDn(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),rWe(this))}}function Gue(e,t,n,r,i){if(j8(e))return new WI(e,t,n,i);if(G8(e))return new Wue(e,t,n,r,i);if(g0(e))return new CWe(e,t,n,r,i);if(ZPn(e))return new i3n(e,t,n,i);throw new Error(jae(e))}function z3n(e,t={}){t.logger&&iNn(t.logger),t.fieldTitle&&IHe(t.fieldTitle);try{const n=nqe(AC(t.config,e.config)),r=fqe(e,n),i=Gue(r,null,"",void 0,n);return i.parse(),dMn(i.component.data,i),{spec:H3n(i,V3n(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&sNn(),t.fieldTitle&&_Pn()}}function V3n(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):St(t)&&(t={type:t}),i&&s&&oDn(t.type)){if(i==="step"&&s==="step")st(Ywe()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";st(Ywe(k8(o)));const a=o==="width"?"height":"width";t.type=aDn(a)}}return{...tt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...EEe(n,!1),...EEe(e,!0)}}function H3n(e,t,n={},r){const i=e.config?hOn(e.config):void 0,s=[].concat(e.assembleSelectionData([]),GMn(e.component.data,n)),o=e.assembleProjections(),a=e.assembleTitle(),u=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...u?{style:u}:{},...l?{encode:{update:l}}:{},data:s,...o.length>0?{projections:o}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...JHe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const q3n=wkn.version,W3n=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:rT,accessPathWithDatum:Rae,compile:z3n,contains:or,deepEqual:hc,deleteNestedProperty:t4,duplicate:gn,entries:xv,every:Aae,fieldIntersection:kae,flatAccessWithDatum:fVe,getFirstDefined:js,hasIntersection:Iae,hash:sr,internalField:pVe,isBoolean:OR,isEmpty:ui,isEqual:xkn,isInternalField:mVe,isNullOrFalse:jY,isNumeric:x8,keys:tt,logicalExpr:HI,mergeDeep:lVe,never:uVe,normalize:fqe,normalizeAngle:DR,omit:kl,pick:nT,prefixGenerator:BY,removePathFromField:FC,replaceAll:k_,replacePathInField:Rf,resetIdCounter:Tkn,setEqual:cVe,some:I_,stringify:li,titleCase:DP,unique:Zh,uniqueId:hVe,vals:va,varName:es,version:q3n},Symbol.toStringTag,{value:"Module"}));function AWe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var G3n="vega-themes",Y3n="2.15.0",K3n="Themes for stylized Vega and Vega-Lite visualizations.",X3n=["vega","vega-lite","themes","style"],Q3n="BSD-3-Clause",J3n={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Z3n=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],eLn="build/vega-themes.js",Yue="build/vega-themes.module.js",tLn="build/vega-themes.min.js",nLn="build/vega-themes.min.js",rLn="build/vega-themes.module.d.ts",iLn={type:"git",url:"https://github.com/vega/vega-themes.git"},sLn=["src","build"],oLn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},aLn={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},uLn={vega:"*","vega-lite":"*"},lLn={},cLn={name:G3n,version:Y3n,description:K3n,keywords:X3n,license:Q3n,author:J3n,contributors:Z3n,main:eLn,module:Yue,unpkg:tLn,jsdelivr:nLn,types:rLn,repository:iLn,files:sLn,scripts:oLn,devDependencies:aLn,peerDependencies:uLn,dependencies:lLn};const fE="#fff",exe="#888",fLn={background:"#333",view:{stroke:exe},title:{color:fE,subtitleColor:fE},style:{"guide-label":{fill:fE},"guide-title":{fill:fE}},axis:{domainColor:fE,gridColor:exe,tickColor:fE}},w1="#4572a7",dLn={background:"#fff",arc:{fill:w1},area:{fill:w1},line:{stroke:w1,strokeWidth:2},path:{stroke:w1},rect:{fill:w1},shape:{stroke:w1},symbol:{fill:w1,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},E1="#30a2da",jz="#cbcbcb",hLn="#999",pLn="#333",txe="#f0f0f0",nxe="#333",mLn={arc:{fill:E1},area:{fill:E1},axis:{domainColor:jz,grid:!0,gridColor:jz,gridWidth:1,labelColor:hLn,labelFontSize:10,titleColor:pLn,tickColor:jz,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:txe,group:{fill:txe},legend:{labelColor:nxe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:nxe,titleFontSize:14,titlePadding:10},line:{stroke:E1,strokeWidth:2},path:{stroke:E1,strokeWidth:.5},rect:{fill:E1},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:E1},bar:{binSpacing:2,fill:E1,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},x1="#000",gLn={group:{fill:"#e5e5e5"},arc:{fill:x1},area:{fill:x1},line:{stroke:x1},path:{stroke:x1},rect:{fill:x1},shape:{stroke:x1},symbol:{fill:x1,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},yLn=22,vLn="normal",rxe="Benton Gothic, sans-serif",ixe=11.5,bLn="normal",S1="#82c6df",Bz="Benton Gothic Bold, sans-serif",sxe="normal",oxe=13,G2={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},_Ln={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Bz,fontSize:yLn,fontWeight:vLn},arc:{fill:S1},area:{fill:S1},line:{stroke:S1,strokeWidth:2},path:{stroke:S1},rect:{fill:S1},shape:{stroke:S1},symbol:{fill:S1,size:30},axis:{labelFont:rxe,labelFontSize:ixe,labelFontWeight:bLn,titleFont:Bz,titleFontSize:oxe,titleFontWeight:sxe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:rxe,labelFontSize:ixe,symbolType:"square",titleFont:Bz,titleFontSize:oxe,titleFontWeight:sxe},range:{category:G2["category-6"],diverging:G2["fireandice-6"],heatmap:G2["fire-7"],ordinal:G2["fire-7"],ramp:G2["fire-7"]}},T1="#ab5787",qD="#979797",wLn={background:"#f9f9f9",arc:{fill:T1},area:{fill:T1},line:{stroke:T1},path:{stroke:T1},rect:{fill:T1},shape:{stroke:T1},symbol:{fill:T1,size:30},axis:{domainColor:qD,domainWidth:.5,gridWidth:.2,labelColor:qD,tickColor:qD,tickWidth:.2,titleColor:qD},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},C1="#3e5c69",ELn={background:"#fff",arc:{fill:C1},area:{fill:C1},line:{stroke:C1},path:{stroke:C1},rect:{fill:C1},shape:{stroke:C1},symbol:{fill:C1},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Gc="#1696d2",axe="#000000",xLn="#FFFFFF",WD="Lato",Uz="Lato",SLn="Lato",TLn="#DEDDDD",CLn=18,Y2={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},ALn={background:xLn,title:{anchor:"start",fontSize:CLn,font:WD},axisX:{domain:!0,domainColor:axe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Uz,labelAngle:0,tickColor:axe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:WD},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:TLn,gridWidth:1,labelFontSize:12,labelFont:Uz,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:WD,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Uz,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:WD,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Y2["six-groups-cat-1"],diverging:Y2["diverging-colors"],heatmap:Y2["diverging-colors"],ordinal:Y2["six-groups-seq"],ramp:Y2["shades-blue"]},area:{fill:Gc},rect:{fill:Gc},line:{color:Gc,stroke:Gc,strokeWidth:5},trail:{color:Gc,stroke:Gc,strokeWidth:0,size:1},path:{stroke:Gc,strokeWidth:.5},point:{filled:!0},text:{font:SLn,color:Gc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Gc,stroke:null}},arc:{fill:Gc},shape:{stroke:Gc},symbol:{fill:Gc,size:30}},A1="#3366CC",uxe="#ccc",GD="Arial, sans-serif",ILn={arc:{fill:A1},area:{fill:A1},path:{stroke:A1},rect:{fill:A1},shape:{stroke:A1},symbol:{stroke:A1},circle:{fill:A1},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:GD,fontSize:12},"guide-title":{font:GD,fontSize:12},"group-title":{font:GD,fontSize:12}},title:{font:GD,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:uxe,tickColor:uxe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Kue=e=>e*(1/3+1),lxe=Kue(9),cxe=Kue(10),fxe=Kue(12),K2="Segoe UI",dxe="wf_standard-font, helvetica, arial, sans-serif",hxe="#252423",X2="#605E5C",pxe="transparent",kLn="#C8C6C4",nd="#118DFF",RLn="#12239E",NLn="#E66C37",PLn="#6B007B",OLn="#E044A7",DLn="#744EC2",$Ln="#D9B300",MLn="#D64550",IWe=nd,kWe="#DEEFFF",mxe=[kWe,IWe],LLn=[kWe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",IWe],FLn={view:{stroke:pxe},background:pxe,font:K2,header:{titleFont:dxe,titleFontSize:fxe,titleColor:hxe,labelFont:K2,labelFontSize:cxe,labelColor:X2},axis:{ticks:!1,grid:!1,domain:!1,labelColor:X2,labelFontSize:lxe,titleFont:dxe,titleColor:hxe,titleFontSize:fxe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:kLn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:nd},line:{stroke:nd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:K2,fontSize:lxe,fill:X2},arc:{fill:nd},area:{fill:nd,line:!0,opacity:.6},path:{stroke:nd},rect:{fill:nd},point:{fill:nd,filled:!0,size:75},shape:{stroke:nd},symbol:{fill:nd,strokeWidth:1.5,size:50},legend:{titleFont:K2,titleFontWeight:"bold",titleColor:X2,labelFont:K2,labelFontSize:cxe,labelColor:X2,symbolType:"circle",symbolSize:75},range:{category:[nd,RLn,NLn,PLn,OLn,DLn,$Ln,MLn],diverging:mxe,heatmap:mxe,ordinal:LLn}},zz='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',jLn='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',Vz=400,YD={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},BLn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],ULn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function dB({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=YD.gridBg[e],i=YD.textPrimary[e],s=YD.textSecondary[e],o=n==="dark"?BLn:ULn,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:zz,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:jLn,labelFontWeight:Vz,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:YD.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:zz,fill:s,fontWeight:Vz},"guide-title":{font:zz,fill:s,fontWeight:Vz}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const zLn=dB({theme:"white",background:"#ffffff"}),VLn=dB({theme:"g10",background:"#f4f4f4"}),HLn=dB({theme:"g90",background:"#262626"}),qLn=dB({theme:"g100",background:"#161616"}),WLn=cLn.version,GLn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:VLn,carbong100:qLn,carbong90:HLn,carbonwhite:zLn,dark:fLn,excel:dLn,fivethirtyeight:mLn,ggplot2:gLn,googlecharts:ILn,latimes:_Ln,powerbi:FLn,quartz:wLn,urbaninstitute:ALn,version:WLn,vox:ELn},Symbol.toStringTag,{value:"Module"}));function YLn(e,t,n,r){if(qe(e))return`[${e.map(i=>t(St(i)?i:gxe(i,n))).join(", ")}]`;if(Tt(e)){let i="";const{title:s,image:o,...a}=e;s&&(i+=`<h2>${t(s)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const u=Object.keys(a);if(u.length>0){i+="<table>";for(const l of u){let c=a[l];c!==void 0&&(Tt(c)&&(c=gxe(c,n)),i+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function KLn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function gxe(e,t){return JSON.stringify(e,KLn(t))}var XLn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const RWe="vg-tooltip-element",QLn={offsetX:10,offsetY:10,id:RWe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:JLn,maxDepth:2,formatTooltip:YLn,baseURL:""};function JLn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function ZLn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return XLn.toString().replace(RWe,e)}function e6n(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class t6n{constructor(t){this.options={...QLn,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=ZLn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=e6n(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${o}px`,this.el.style.left=`${s}px`}}var Hz={};function n6n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qz,yxe;function r6n(){return yxe||(yxe=1,qz=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),qz}var i6n=Br;Br.Node=F_;Br.create=Br;function Br(e){var t=this;if(t instanceof Br||(t=new Br),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Br.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Br.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Br.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Br.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o6n(this,arguments[e]);return this.length};Br.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a6n(this,arguments[e]);return this.length};Br.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Br.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Br.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Br.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Br.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Br.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Br.prototype.map=function(e,t){t=t||this;for(var n=new Br,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Br.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Br,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Br.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Br.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Br.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Br.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Br.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Br;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Br.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Br;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Br.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var s=[],r=0;i&&r<t;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=s6n(this,i,n[r]);return s};Br.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function s6n(e,t,n){var r=t===e.head?new F_(n,null,t,e):new F_(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function o6n(e,t){e.tail=new F_(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a6n(e,t){e.head=new F_(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function F_(e,t,n,r){if(!(this instanceof F_))return new F_(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{r6n()(Br)}catch{}const u6n=i6n,ob=Symbol("max"),km=Symbol("length"),dE=Symbol("lengthCalculator"),GI=Symbol("allowStale"),Cb=Symbol("maxAge"),Sm=Symbol("dispose"),vxe=Symbol("noDisposeOnSet"),Io=Symbol("lruList"),rd=Symbol("cache"),NWe=Symbol("updateAgeOnGet"),Wz=()=>1;class l6n{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[ob]=t.max||1/0;const n=t.length||Wz;if(this[dE]=typeof n!="function"?Wz:n,this[GI]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Cb]=t.maxAge||0,this[Sm]=t.dispose,this[vxe]=t.noDisposeOnSet||!1,this[NWe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ob]=t||1/0,Q2(this)}get max(){return this[ob]}set allowStale(t){this[GI]=!!t}get allowStale(){return this[GI]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Cb]=t,Q2(this)}get maxAge(){return this[Cb]}set lengthCalculator(t){typeof t!="function"&&(t=Wz),t!==this[dE]&&(this[dE]=t,this[km]=0,this[Io].forEach(n=>{n.length=this[dE](n.value,n.key),this[km]+=n.length})),Q2(this)}get lengthCalculator(){return this[dE]}get length(){return this[km]}get itemCount(){return this[Io].length}rforEach(t,n){n=n||this;for(let r=this[Io].tail;r!==null;){const i=r.prev;bxe(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Io].head;r!==null;){const i=r.next;bxe(this,t,r,n),r=i}}keys(){return this[Io].toArray().map(t=>t.key)}values(){return this[Io].toArray().map(t=>t.value)}reset(){this[Sm]&&this[Io]&&this[Io].length&&this[Io].forEach(t=>this[Sm](t.key,t.value)),this[rd]=new Map,this[Io]=new u6n,this[km]=0}dump(){return this[Io].map(t=>y4(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Io]}set(t,n,r){if(r=r||this[Cb],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,s=this[dE](n,t);if(this[rd].has(t)){if(s>this[ob])return Gx(this,this[rd].get(t)),!1;const u=this[rd].get(t).value;return this[Sm]&&(this[vxe]||this[Sm](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[km]+=s-u.length,u.length=s,this.get(t),Q2(this),!0}const o=new c6n(t,n,s,i,r);return o.length>this[ob]?(this[Sm]&&this[Sm](t,n),!1):(this[km]+=o.length,this[Io].unshift(o),this[rd].set(t,this[Io].head),Q2(this),!0)}has(t){if(!this[rd].has(t))return!1;const n=this[rd].get(t).value;return!y4(this,n)}get(t){return Gz(this,t,!0)}peek(t){return Gz(this,t,!1)}pop(){const t=this[Io].tail;return t?(Gx(this,t),t.value):null}del(t){Gx(this,this[rd].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[rd].forEach((t,n)=>Gz(this,n,!1))}}const Gz=(e,t,n)=>{const r=e[rd].get(t);if(r){const i=r.value;if(y4(e,i)){if(Gx(e,r),!e[GI])return}else n&&(e[NWe]&&(r.value.now=Date.now()),e[Io].unshiftNode(r));return i.value}},y4=(e,t)=>{if(!t||!t.maxAge&&!e[Cb])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Cb]&&n>e[Cb]},Q2=e=>{if(e[km]>e[ob])for(let t=e[Io].tail;e[km]>e[ob]&&t!==null;){const n=t.prev;Gx(e,t),t=n}},Gx=(e,t)=>{if(t){const n=t.value;e[Sm]&&e[Sm](n.key,n.value),e[km]-=n.length,e[rd].delete(n.key),e[Io].removeNode(t)}};class c6n{constructor(t,n,r,i,s){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}}const bxe=(e,t,n,r)=>{let i=n.value;y4(e,i)&&(Gx(e,n),e[GI]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var f6n=l6n;const d6n=Object.freeze({loose:!0}),h6n=Object.freeze({}),p6n=e=>e?typeof e!="object"?d6n:e:h6n;var Xue=p6n,uK={exports:{}};const m6n="2.0.0",PWe=256,g6n=Number.MAX_SAFE_INTEGER||9007199254740991,y6n=16,v6n=PWe-6,b6n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Que={MAX_LENGTH:PWe,MAX_SAFE_COMPONENT_LENGTH:y6n,MAX_SAFE_BUILD_LENGTH:v6n,MAX_SAFE_INTEGER:g6n,RELEASE_TYPES:b6n,SEMVER_SPEC_VERSION:m6n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const _6n=typeof process=="object"&&Hz&&Hz.NODE_DEBUG&&/\bsemver\b/i.test(Hz.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var hB=_6n;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Que,s=hB;t=e.exports={};const o=t.re=[],a=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=m=>{for(const[g,y]of d)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),b=c++;s(m,b,g),l[m]=b,u[b]=g,o[b]=new RegExp(g,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),p("FULL",`^${u[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),p("LOOSE",`^${u[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),p("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[l.COERCE],!0),p("COERCERTLFULL",u[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(uK,uK.exports);var Jue=uK.exports;const _xe=/^[0-9]+$/,OWe=(e,t)=>{const n=_xe.test(e),r=_xe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},w6n=(e,t)=>OWe(t,e);var E6n={compareIdentifiers:OWe,rcompareIdentifiers:w6n};const KD=hB,{MAX_LENGTH:wxe,MAX_SAFE_INTEGER:XD}=Que,{safeRe:Exe,t:xxe}=Jue,x6n=Xue,{compareIdentifiers:hE}=E6n;let S6n=class vh{constructor(t,n){if(n=x6n(n),t instanceof vh){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>wxe)throw new TypeError(`version is longer than ${wxe} characters`);KD("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Exe[xxe.LOOSE]:Exe[xxe.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>XD||this.major<0)throw new TypeError("Invalid major version");if(this.minor>XD||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>XD||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<XD)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(KD("SemVer.compare",this.version,this.options,t),!(t instanceof vh)){if(typeof t=="string"&&t===this.version)return 0;t=new vh(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof vh||(t=new vh(t,this.options)),hE(this.major,t.major)||hE(this.minor,t.minor)||hE(this.patch,t.patch)}comparePre(t){if(t instanceof vh||(t=new vh(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(KD("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return hE(r,i)}while(++n)}compareBuild(t){t instanceof vh||(t=new vh(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(KD("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return hE(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),hE(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Zue=S6n;const Sxe=Zue,T6n=(e,t,n)=>new Sxe(e,n).compare(new Sxe(t,n));var WC=T6n;const C6n=WC,A6n=(e,t,n)=>C6n(e,t,n)===0;var I6n=A6n;const k6n=WC,R6n=(e,t,n)=>k6n(e,t,n)!==0;var N6n=R6n;const P6n=WC,O6n=(e,t,n)=>P6n(e,t,n)>0;var D6n=O6n;const $6n=WC,M6n=(e,t,n)=>$6n(e,t,n)>=0;var L6n=M6n;const F6n=WC,j6n=(e,t,n)=>F6n(e,t,n)<0;var B6n=j6n;const U6n=WC,z6n=(e,t,n)=>U6n(e,t,n)<=0;var V6n=z6n;const H6n=I6n,q6n=N6n,W6n=D6n,G6n=L6n,Y6n=B6n,K6n=V6n,X6n=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return H6n(e,n,r);case"!=":return q6n(e,n,r);case">":return W6n(e,n,r);case">=":return G6n(e,n,r);case"<":return Y6n(e,n,r);case"<=":return K6n(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var Q6n=X6n,Yz,Txe;function J6n(){if(Txe)return Yz;Txe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Yz=t;const n=Xue,{safeRe:r,t:i}=Jue,s=Q6n,o=hB,a=Zue,u=DWe();return Yz}var Kz,Cxe;function DWe(){if(Cxe)return Kz;Cxe=1;class e{constructor($,L){if(L=r(L),$ instanceof e)return $.loose===!!L.loose&&$.includePrerelease===!!L.includePrerelease?$:new e($.raw,L);if($ instanceof i)return this.raw=$.value,this.set=[[$]],this.format(),this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=$.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(B=>!p(B[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&m(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map($=>$.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange($){const M=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+$,B=n.get(M);if(B)return B;const z=this.options.loose,H=z?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];$=$.replace(H,R(this.options.includePrerelease)),s("hyphen replace",$),$=$.replace(a[u.COMPARATORTRIM],l),s("comparator trim",$),$=$.replace(a[u.TILDETRIM],c),s("tilde trim",$),$=$.replace(a[u.CARETTRIM],f),s("caret trim",$);let O=$.split(" ").map(V=>y(V,this.options)).join(" ").split(/\s+/).map(V=>k(V,this.options));z&&(O=O.filter(V=>(s("loose invalid filter",V,this.options),!!V.match(a[u.COMPARATORLOOSE])))),s("range list",O);const U=new Map,q=O.map(V=>new i(V,this.options));for(const V of q){if(p(V))return[V];U.set(V.value,V)}U.size>1&&U.has("")&&U.delete("");const F=[...U.values()];return n.set(M,F),F}intersects($,L){if(!($ instanceof e))throw new TypeError("a Range is required");return this.set.some(M=>g(M,L)&&$.set.some(B=>g(B,L)&&M.every(z=>B.every(H=>z.intersects(H,L)))))}test($){if(!$)return!1;if(typeof $=="string")try{$=new o($,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(D(this.set[L],$,this.options))return!0;return!1}}Kz=e;const t=f6n,n=new t({max:1e3}),r=Xue,i=J6n(),s=hB,o=Zue,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:c,caretTrimReplace:f}=Jue,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=Que,p=P=>P.value==="<0.0.0-0",m=P=>P.value==="",g=(P,$)=>{let L=!0;const M=P.slice();let B=M.pop();for(;L&&M.length;)L=M.every(z=>B.intersects(z,$)),B=M.pop();return L},y=(P,$)=>(s("comp",P,$),P=E(P,$),s("caret",P),P=b(P,$),s("tildes",P),P=S(P,$),s("xrange",P),P=I(P,$),s("stars",P),P),v=P=>!P||P.toLowerCase()==="x"||P==="*",b=(P,$)=>P.trim().split(/\s+/).map(L=>w(L,$)).join(" "),w=(P,$)=>{const L=$.loose?a[u.TILDELOOSE]:a[u.TILDE];return P.replace(L,(M,B,z,H,O)=>{s("tilde",P,M,B,z,H,O);let U;return v(B)?U="":v(z)?U=`>=${B}.0.0 <${+B+1}.0.0-0`:v(H)?U=`>=${B}.${z}.0 <${B}.${+z+1}.0-0`:O?(s("replaceTilde pr",O),U=`>=${B}.${z}.${H}-${O} <${B}.${+z+1}.0-0`):U=`>=${B}.${z}.${H} <${B}.${+z+1}.0-0`,s("tilde return",U),U})},E=(P,$)=>P.trim().split(/\s+/).map(L=>x(L,$)).join(" "),x=(P,$)=>{s("caret",P,$);const L=$.loose?a[u.CARETLOOSE]:a[u.CARET],M=$.includePrerelease?"-0":"";return P.replace(L,(B,z,H,O,U)=>{s("caret",P,B,z,H,O,U);let q;return v(z)?q="":v(H)?q=`>=${z}.0.0${M} <${+z+1}.0.0-0`:v(O)?z==="0"?q=`>=${z}.${H}.0${M} <${z}.${+H+1}.0-0`:q=`>=${z}.${H}.0${M} <${+z+1}.0.0-0`:U?(s("replaceCaret pr",U),z==="0"?H==="0"?q=`>=${z}.${H}.${O}-${U} <${z}.${H}.${+O+1}-0`:q=`>=${z}.${H}.${O}-${U} <${z}.${+H+1}.0-0`:q=`>=${z}.${H}.${O}-${U} <${+z+1}.0.0-0`):(s("no pr"),z==="0"?H==="0"?q=`>=${z}.${H}.${O}${M} <${z}.${H}.${+O+1}-0`:q=`>=${z}.${H}.${O}${M} <${z}.${+H+1}.0-0`:q=`>=${z}.${H}.${O} <${+z+1}.0.0-0`),s("caret return",q),q})},S=(P,$)=>(s("replaceXRanges",P,$),P.split(/\s+/).map(L=>C(L,$)).join(" ")),C=(P,$)=>{P=P.trim();const L=$.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return P.replace(L,(M,B,z,H,O,U)=>{s("xRange",P,M,B,z,H,O,U);const q=v(z),F=q||v(H),V=F||v(O),G=V;return B==="="&&G&&(B=""),U=$.includePrerelease?"-0":"",q?B===">"||B==="<"?M="<0.0.0-0":M="*":B&&G?(F&&(H=0),O=0,B===">"?(B=">=",F?(z=+z+1,H=0,O=0):(H=+H+1,O=0)):B==="<="&&(B="<",F?z=+z+1:H=+H+1),B==="<"&&(U="-0"),M=`${B+z}.${H}.${O}${U}`):F?M=`>=${z}.0.0${U} <${+z+1}.0.0-0`:V&&(M=`>=${z}.${H}.0${U} <${z}.${+H+1}.0-0`),s("xRange return",M),M})},I=(P,$)=>(s("replaceStars",P,$),P.trim().replace(a[u.STAR],"")),k=(P,$)=>(s("replaceGTE0",P,$),P.trim().replace(a[$.includePrerelease?u.GTE0PRE:u.GTE0],"")),R=P=>($,L,M,B,z,H,O,U,q,F,V,G,Z)=>(v(M)?L="":v(B)?L=`>=${M}.0.0${P?"-0":""}`:v(z)?L=`>=${M}.${B}.0${P?"-0":""}`:H?L=`>=${L}`:L=`>=${L}${P?"-0":""}`,v(q)?U="":v(F)?U=`<${+q+1}.0.0-0`:v(V)?U=`<${q}.${+F+1}.0-0`:G?U=`<=${q}.${F}.${V}-${G}`:P?U=`<${q}.${F}.${+V+1}-0`:U=`<=${U}`,`${L} ${U}`.trim()),D=(P,$,L)=>{for(let M=0;M<P.length;M++)if(!P[M].test($))return!1;if($.prerelease.length&&!L.includePrerelease){for(let M=0;M<P.length;M++)if(s(P[M].semver),P[M].semver!==i.ANY&&P[M].semver.prerelease.length>0){const B=P[M].semver;if(B.major===$.major&&B.minor===$.minor&&B.patch===$.patch)return!0}return!1}return!0};return Kz}const Z6n=DWe(),e4n=(e,t,n)=>{try{t=new Z6n(t,n)}catch{return!1}return t.test(e)};var t4n=e4n,$We=n6n(t4n);function n4n(e,t,n){const r=e.open(t),i=1e4,s=250,{origin:o}=new URL(t);let a=~~(i/s);function u(c){c.source===r&&(a=0,e.removeEventListener("message",u,!1))}e.addEventListener("message",u,!1);function l(){a<=0||(r.postMessage(n,o),setTimeout(l,s),a-=1)}setTimeout(l,s)}var r4n=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function MWe(e,...t){for(const n of t)i4n(e,n);return e}function i4n(e,t){for(const n of Object.keys(t))IC(e,n,t[n],!0)}const sd=UIn;let BR=W3n;const QD=typeof window<"u"?window:void 0;var $xe;BR===void 0&&(($xe=QD==null?void 0:QD.vl)!=null&&$xe.compile)&&(BR=QD.vl);const s4n={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},o4n={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},VA={vega:"Vega","vega-lite":"Vega-Lite"},v4={vega:sd.version,"vega-lite":BR?BR.version:"not available"},a4n={vega:e=>e,"vega-lite":(e,t)=>BR.compile(e,{config:t}).spec},u4n=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,l4n="chart-wrapper";function c4n(e){return typeof e=="function"}function Axe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${VA[r]} JSON Source`}function f4n(e,t){if(e.$schema){const n=AWe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${VA[n.library]}, but mode argument sets ${VA[t]??t}.`);const r=n.library;return $We(v4[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${VA[r]} ${n.version}, but the current version of ${VA[r]} is v${v4[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function LWe(e){return!!(e&&"load"in e)}function Ixe(e){return LWe(e)?e:sd.loader(e)}function d4n(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return St(t.defaultStyle)&&(t.defaultStyle=!1),t}async function h4n(e,t,n={}){let r,i;St(t)?(i=Ixe(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=d4n(r),o=s.loader;(!i||o)&&(i=Ixe(n.loader??o));const a=await kxe(s,i),u=await kxe(n,i),l={...MWe(u,a),config:AC(u.config??{},a.config??{})};return await m4n(e,r,l,i)}async function kxe(e,t){const n=St(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=St(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function p4n(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function m4n(e,t,n={},r){const i=n.theme?AC(GLn[n.theme],n.config??{}):n.config,s=e1(n.actions)?n.actions:MWe({},s4n,n.actions??{}),o={...o4n,...n.i18n},a=n.renderer??"canvas",u=n.logLevel??sd.Warn,l=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:x,rootContainer:S}=p4n(c);if(!x.getElementById(E)){const C=document.createElement("style");C.id=E,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?r4n.toString():n.defaultStyle,S.appendChild(C)}}const f=f4n(t,n.mode);let d=a4n[f](t,i);if(f==="vega-lite"&&d.$schema){const E=AWe(d.$schema);$We(v4.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${v4.vega}.`)}c.classList.add("vega-embed"),s&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(s){const E=document.createElement("div");E.classList.add(l4n),c.appendChild(E),h=E}const p=n.patch;if(p&&(d=p instanceof Function?p(d):Ij(d,p,!0,!1).newDocument),n.formatLocale&&sd.formatLocale(n.formatLocale),n.timeFormatLocale&&sd.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const E in n.expressionFunctions){const x=n.expressionFunctions[E];"fn"in x?sd.expressionFunction(E,x.fn,x.visitor):x instanceof Function&&sd.expressionFunction(E,x)}const{ast:m}=n,g=sd.parse(d,f==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||sd.View)(g,{loader:r,logLevel:u,renderer:a,...m?{expr:sd.expressionInterpreter??n.expr??QIn}:{}});if(y.addSignalListener("autosize",(E,x)=>{const{type:S}=x;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:E,tooltip:x}=n,S=E&&!LWe(E)?E==null?void 0:E.baseURL:void 0,C=c4n(x)?x:new t6n({baseURL:S,...x===!0?{}:x}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:E,updateSet:x}=typeof v=="boolean"?{}:v;y.hover(E,x)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(s!==!1){let E=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=o.CLICK_TO_VIEW_ACTIONS,c.append(S),E=S;const C=document.createElement("summary");C.innerHTML=u4n,S.append(C),b=I=>{S.contains(I.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const x=document.createElement("div");if(E.append(x),x.classList.add("vega-actions"),s===!0||s.export!==!1){for(const S of["svg","png"])if(s===!0||s.export===!0||s.export[S]){const C=o[`${S.toUpperCase()}_ACTION`],I=document.createElement("a"),k=Tt(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;I.text=C,I.href="#",I.target="_blank",I.download=`${l}.${S}`,I.addEventListener("mousedown",async function(R){R.preventDefault();const D=await y.toImageURL(S,k);this.href=D}),x.append(I)}}if(s===!0||s.source!==!1){const S=document.createElement("a");S.text=o.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(C){Axe(X7(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),x.append(S)}if(f==="vega-lite"&&(s===!0||s.compiled!==!1)){const S=document.createElement("a");S.text=o.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(C){Axe(X7(d),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),x.append(S)}if(s===!0||s.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=o.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(I){n4n(window,S,{config:i,mode:f,renderer:a,spec:X7(t)}),I.preventDefault()}),x.append(C)}}function w(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:w,embedOptions:n}}function g4n(e){return!!e&&{}.toString.call(e)==="[object Function]"}function y4n(e,t,n){n&&(g4n(n)?n(e.data(t)):e.change(t,sd.changeset().remove(()=>!0).insert(n)))}function v4n(e,t){Object.keys(t).forEach(n=>{y4n(e,n,t[n])})}function FWe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const jWe=()=>{};function Xz(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function b4n(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=FWe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!b$(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function Rxe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function Qz(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function HA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class BWe extends de.PureComponent{constructor(){super(...arguments),HA(this,"containerRef",de.createRef()),HA(this,"resultPromise",void 0),HA(this,"handleError",t=>{const{onError:n=jWe}=this.props;n(t,this.containerRef.current),console.warn(t)}),HA(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=FWe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=b4n(Qz(this.props),Qz(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!DG(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&Rxe(a,s),i&&Xz(a,i)),a.run()})}else DG(i,s)||this.modifyView(o=>{s&&Rxe(o,s),i&&Xz(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=Qz(this.props);this.resultPromise=h4n(this.containerRef.current,a,o).then(u=>{if(u){const{view:l}=u;Xz(l,r)&&l.run()}return u}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return de.createElement("div",{ref:this.containerRef,className:t,style:n})}}HA(BWe,"propTypes",{className:be.string,onError:be.func});function lK(){return lK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lK.apply(this,arguments)}function cK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _4n={};class UWe extends de.PureComponent{constructor(){super(...arguments),cK(this,"vegaEmbed",de.createRef()),cK(this,"handleNewView",t=>{this.update();const{onNewView:n=jWe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){DG(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{v4n(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return de.createElement(BWe,lK({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}cK(UWe,"defaultProps",{data:_4n});function fK(){return fK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fK.apply(this,arguments)}function dK(e){return de.createElement(UWe,fK({},e,{mode:"vega-lite"}))}function w4n({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:s}]=j4(!0),[o,a]=kb(),u=A.useMemo(()=>e.type==="metadata"?[]:t.map(d=>Object.entries(d.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(d=>d.map(([,h])=>h.answer)).flat(),[t,e.type,n]),l=A.useMemo(()=>{var d;return e.type==="metadata"||(d=r.correctAnswer)==null?void 0:d.find(h=>h.id===e.id)},[e.id,e.type,r.correctAnswer]),c=A.useMemo(()=>{const f={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...f,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const d={params:[{name:"correctAnswer",value:l==null?void 0:l.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...f,data:{values:u},mark:"bar",params:l!==void 0?d.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?d.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?d.color:void 0,order:l!==void 0?d.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...f,data:{values:u},mark:"bar",params:l!==void 0?d.params:void 0,transform:l!==void 0?d.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?d.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return _.jsxs(wT,{p:"lg",withBorder:!0,ref:o,children:[_.jsxs(Ht,{direction:"row",justify:"space-between",onClick:s,children:[_.jsxs(Ht,{align:"center",children:[e.type==="metadata"&&_.jsx(kat,{size:20}),e.type==="numerical"&&_.jsx(Fat,{size:20}),(e.type==="shortText"||e.type==="longText")&&_.jsx(Sat,{size:20}),e.type==="likert"&&_.jsx(Pat,{size:20}),e.type==="dropdown"&&_.jsx(qat,{size:20}),e.type==="slider"&&_.jsx(bat,{size:20}),e.type==="radio"&&_.jsx(Uat,{size:20}),e.type==="checkbox"&&_.jsx(Wat,{size:20}),e.type==="iframe"&&_.jsx($at,{size:20}),_.jsx(Ji,{order:5,ml:4,children:e.id})]}),_.jsx(Iat,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),_.jsxs(U4,{in:i,mah:400,children:[_.jsx(Ee,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:_.jsx(oS,{})}),_.jsxs(HQ,{cols:2,h:360,children:[_.jsx(mg,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="iframe"?_.jsx(dK,{spec:c,actions:!1,height:270,width:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):_.jsxs(Ht,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&_.jsx(tI,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&_.jsxs(_.Fragment,{children:[_.jsx(lt,{fw:700,children:"Response Values: "}),u.map((f,d)=>_.jsx(Ht,{align:"center",gap:"xs",children:_.jsx(lt,{children:f[e.id]})},d))]})]})}),_.jsx(mg,{mih:200,children:e.type==="metadata"?_.jsx(dK,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):_.jsxs(_.Fragment,{children:[_.jsx(lt,{fw:700,children:"Response Specification: "}),_.jsx(tI,{block:!0,children:JSON.stringify(e,null,2)}),_.jsx("br",{}),l&&_.jsxs(_.Fragment,{children:[_.jsx(lt,{fw:700,children:"Correct Answer: "}),_.jsx(tI,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function E4n({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&w8e(t.components[n],t),i=A.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?_.jsx(Ht,{w:"100%",direction:"column",gap:"xs",children:i.map(s=>_.jsx(w4n,{response:s,participantData:e,trialId:n,trialConfig:r},s.id))}):_.jsx(Ht,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:_.jsx(lt,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function x4n({studyConfig:e,inprogress:t,completed:n,rejected:r}){const[i,s]=A.useState([...n]),o=A.useCallback(l=>{const c=[];l.includes("completed")&&c.push(...n),l.includes("inprogress")&&c.push(...t),l.includes("rejected")&&c.push(...r),s(c)},[n,t,r]),a=A.useMemo(()=>{let l=Cy(e.sequence);return l=$J(l,"root"),l.components.push("end"),l},[e.sequence]),{trialId:u}=bg();return _.jsxs(wT,{shadow:"sm",p:"md",withBorder:!0,children:[_.jsx(Ht,{direction:"row",justify:"space-between",children:_.jsx(uc.Group,{defaultValue:["completed"],onChange:o,mb:"xs",mt:8,ml:"xs",children:_.jsxs(to,{children:[_.jsx(uc,{value:"completed",label:"Completed"}),_.jsx(uc,{value:"inprogress",label:"In Progress"}),_.jsx(uc,{value:"rejected",label:"Rejected"})]})})}),_.jsx(oS,{my:"xs"}),i.length===0?_.jsx(Ht,{justify:"center",align:"center",pt:"lg",pb:"md",children:_.jsx(lt,{children:"No data available."})}):_.jsxs(Ht,{direction:"row",children:[_.jsx(Ee,{w:340,children:_.jsx(x6,{configSequence:a,participantSequence:a,fullSequence:a,participantView:!1,studyConfig:e,analysisNavigation:!0})}),_.jsx(oS,{orientation:"vertical",mx:"md"}),_.jsx(E4n,{participantData:i,studyConfig:e,trialId:u})]})]})}function S4n({globalConfig:e}){const{studyId:t}=bg(),[n,r]=A.useState([]),[i,s]=A.useState(void 0),[o,a]=A.useState(!1),{storageEngine:u}=ro(),l=Jg(),{tab:c}=bg(),{user:f}=pw(),d=A.useCallback(async()=>{if(a(!0),t){const g=await Aj(t,e);if(!g||!u)return;await u.initializeStudyDb(t,g);const y=await u.getAllParticipantsData();r(y),s(g),a(!1)}},[e,u,t]);A.useEffect(()=>{d()},[e,u,t,d]);const[h,p,m]=A.useMemo(()=>{const g=n.filter(b=>!b.rejected&&b.completed),y=n.filter(b=>!b.rejected&&!b.completed),v=n.filter(b=>b.rejected);return[g,y,v]},[n]);return _.jsxs(_.Fragment,{children:[_.jsx(LI,{studyIds:e.configsList}),_.jsx(Fi.Main,{children:_.jsxs(Ef,{fluid:!0,style:{height:"100%",position:"relative"},children:[_.jsx(Ec,{visible:o}),_.jsxs(Ht,{direction:"row",align:"center",children:[_.jsx(Ji,{order:5,children:t}),_.jsx(T8e,{completed:h.length,inProgress:p.length,rejected:m.length})]}),_.jsx(mc,{h:"xs"}),_.jsxs(ks,{variant:"outline",value:c,onChange:g=>l(`/analysis/stats/${t}/${g}`),style:{height:"100%"},children:[_.jsxs(ks.List,{children:[_.jsx(ks.Tab,{value:"table",leftSection:_.jsx(Gat,{size:16}),children:"Table View"}),_.jsx(ks.Tab,{value:"stats",leftSection:_.jsx(Cat,{size:16}),children:"Trial Stats"}),_.jsx(Qi,{label:"Coming soon",position:"bottom",children:_.jsx(ks.Tab,{value:"replay",leftSection:_.jsx(Bat,{size:16}),disabled:!0,children:"Participant Replay"})}),_.jsx(ks.Tab,{value:"manage",leftSection:_.jsx(tIe,{size:16}),disabled:!f.isAdmin,children:"Manage"})]}),_.jsx(ks.Panel,{value:"table",pt:"xs",children:i&&_.jsx(Omn,{completed:h,inProgress:p,rejected:m,studyConfig:i,refresh:d})}),_.jsx(ks.Panel,{value:"stats",pt:"xs",children:i&&_.jsx(x4n,{studyConfig:i,completed:h,inprogress:p,rejected:m})}),_.jsx(ks.Panel,{value:"replay",pt:"xs",children:"Replay Tab Content"}),_.jsx(ks.Panel,{value:"manage",pt:"xs",children:t&&f.isAdmin?_.jsx(Umn,{studyId:t,refresh:d}):_.jsx(Ef,{mt:20,children:_.jsx(CT,{title:"Unauthorized Access",variant:"light",color:"red",icon:_.jsx(ZAe,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function Nxe({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=pw(),{storageEngine:o}=ro(),[a,u]=A.useState(!1),l=bg();return A.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&l[t]){const f=await n(l[t]);f&&u(f)}else u(!0);if(a)try{r&&await i(r)||s()}catch(f){s(),console.warn(f)}})()},[r.isAdmin,a]),r.determiningStatus||!o?_.jsx(Ec,{visible:r.determiningStatus||!(o!=null&&o.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?_.jsx(sJ,{to:"/login"}):_.jsx(_.Fragment,{children:e})}async function zWe(e,t){if(e instanceof ic){t(!0);const n=new Mm,r=m6();try{await Nln(r,n,wje)}catch(i){S6({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function T4n(){const{user:e}=pw(),[t,n]=A.useState(!1),{storageEngine:r}=ro();return A.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&S6({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?_.jsx(sJ,{to:"/"}):_.jsx(Ef,{children:_.jsx(G_,{padding:"lg",children:_.jsxs(Ht,{align:"center",direction:"column",justify:"center",children:[_.jsx(Fv,{maw:200,mt:50,mb:100,src:`${Cl}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),_.jsxs(_.Fragment,{children:[_.jsx(lt,{mb:20,children:"To access admin settings, please sign in using your Google account."}),_.jsx(Rn,{onClick:()=>zWe(r,n),leftSection:_.jsx(Yat,{}),variant:"filled",children:"Sign In With Google"})]}),_.jsx(Ec,{visible:t})]})})})}var VWe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vs,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",l="day",c="week",f="month",d="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var L=["th","st","nd","rd"],M=$%100;return"["+$+(L[(M-20)%10]||L[M]||L[0])+"]"}},b=function($,L,M){var B=String($);return!B||B.length>=L?$:""+Array(L+1-B.length).join(M)+$},w={s:b,z:function($){var L=-$.utcOffset(),M=Math.abs(L),B=Math.floor(M/60),z=M%60;return(L<=0?"+":"-")+b(B,2,"0")+":"+b(z,2,"0")},m:function $(L,M){if(L.date()<M.date())return-$(M,L);var B=12*(M.year()-L.year())+(M.month()-L.month()),z=L.clone().add(B,f),H=M-z<0,O=L.clone().add(B+(H?-1:1),f);return+(-(B+(M-z)/(H?z-O:O-z))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:f,y:h,w:c,d:l,D:p,h:u,m:a,s:o,ms:s,Q:d}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},E="en",x={};x[E]=v;var S="$isDayjsObject",C=function($){return $ instanceof D||!(!$||!$[S])},I=function $(L,M,B){var z;if(!L)return E;if(typeof L=="string"){var H=L.toLowerCase();x[H]&&(z=H),M&&(x[H]=M,z=H);var O=L.split("-");if(!z&&O.length>1)return $(O[0])}else{var U=L.name;x[U]=L,z=U}return!B&&z&&(E=z),z||!B&&E},k=function($,L){if(C($))return $.clone();var M=typeof L=="object"?L:{};return M.date=$,M.args=arguments,new D(M)},R=w;R.l=I,R.i=C,R.w=function($,L){return k($,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var D=function(){function $(M){this.$L=I(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[S]=!0}var L=$.prototype;return L.parse=function(M){this.$d=function(B){var z=B.date,H=B.utc;if(z===null)return new Date(NaN);if(R.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var O=z.match(g);if(O){var U=O[2]-1||0,q=(O[7]||"0").substring(0,3);return H?new Date(Date.UTC(O[1],U,O[3]||1,O[4]||0,O[5]||0,O[6]||0,q)):new Date(O[1],U,O[3]||1,O[4]||0,O[5]||0,O[6]||0,q)}}return new Date(z)}(M),this.init()},L.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},L.$utils=function(){return R},L.isValid=function(){return this.$d.toString()!==m},L.isSame=function(M,B){var z=k(M);return this.startOf(B)<=z&&z<=this.endOf(B)},L.isAfter=function(M,B){return k(M)<this.startOf(B)},L.isBefore=function(M,B){return this.endOf(B)<k(M)},L.$g=function(M,B,z){return R.u(M)?this[B]:this.set(z,M)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(M,B){var z=this,H=!!R.u(B)||B,O=R.p(M),U=function(ue,pe){var xe=R.w(z.$u?Date.UTC(z.$y,pe,ue):new Date(z.$y,pe,ue),z);return H?xe:xe.endOf(l)},q=function(ue,pe){return R.w(z.toDate()[ue].apply(z.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(pe)),z)},F=this.$W,V=this.$M,G=this.$D,Z="set"+(this.$u?"UTC":"");switch(O){case h:return H?U(1,0):U(31,11);case f:return H?U(1,V):U(0,V+1);case c:var ae=this.$locale().weekStart||0,re=(F<ae?F+7:F)-ae;return U(H?G-re:G+(6-re),V);case l:case p:return q(Z+"Hours",0);case u:return q(Z+"Minutes",1);case a:return q(Z+"Seconds",2);case o:return q(Z+"Milliseconds",3);default:return this.clone()}},L.endOf=function(M){return this.startOf(M,!1)},L.$set=function(M,B){var z,H=R.p(M),O="set"+(this.$u?"UTC":""),U=(z={},z[l]=O+"Date",z[p]=O+"Date",z[f]=O+"Month",z[h]=O+"FullYear",z[u]=O+"Hours",z[a]=O+"Minutes",z[o]=O+"Seconds",z[s]=O+"Milliseconds",z)[H],q=H===l?this.$D+(B-this.$W):B;if(H===f||H===h){var F=this.clone().set(p,1);F.$d[U](q),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else U&&this.$d[U](q);return this.init(),this},L.set=function(M,B){return this.clone().$set(M,B)},L.get=function(M){return this[R.p(M)]()},L.add=function(M,B){var z,H=this;M=Number(M);var O=R.p(B),U=function(V){var G=k(H);return R.w(G.date(G.date()+Math.round(V*M)),H)};if(O===f)return this.set(f,this.$M+M);if(O===h)return this.set(h,this.$y+M);if(O===l)return U(1);if(O===c)return U(7);var q=(z={},z[a]=r,z[u]=i,z[o]=n,z)[O]||1,F=this.$d.getTime()+M*q;return R.w(F,this)},L.subtract=function(M,B){return this.add(-1*M,B)},L.format=function(M){var B=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var H=M||"YYYY-MM-DDTHH:mm:ssZ",O=R.z(this),U=this.$H,q=this.$m,F=this.$M,V=z.weekdays,G=z.months,Z=z.meridiem,ae=function(pe,xe,ve,We){return pe&&(pe[xe]||pe(B,H))||ve[xe].slice(0,We)},re=function(pe){return R.s(U%12||12,pe,"0")},ue=Z||function(pe,xe,ve){var We=pe<12?"AM":"PM";return ve?We.toLowerCase():We};return H.replace(y,function(pe,xe){return xe||function(ve){switch(ve){case"YY":return String(B.$y).slice(-2);case"YYYY":return R.s(B.$y,4,"0");case"M":return F+1;case"MM":return R.s(F+1,2,"0");case"MMM":return ae(z.monthsShort,F,G,3);case"MMMM":return ae(G,F);case"D":return B.$D;case"DD":return R.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return ae(z.weekdaysMin,B.$W,V,2);case"ddd":return ae(z.weekdaysShort,B.$W,V,3);case"dddd":return V[B.$W];case"H":return String(U);case"HH":return R.s(U,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return ue(U,q,!0);case"A":return ue(U,q,!1);case"m":return String(q);case"mm":return R.s(q,2,"0");case"s":return String(B.$s);case"ss":return R.s(B.$s,2,"0");case"SSS":return R.s(B.$ms,3,"0");case"Z":return O}return null}(pe)||O.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(M,B,z){var H,O=this,U=R.p(B),q=k(M),F=(q.utcOffset()-this.utcOffset())*r,V=this-q,G=function(){return R.m(O,q)};switch(U){case h:H=G()/12;break;case f:H=G();break;case d:H=G()/3;break;case c:H=(V-F)/6048e5;break;case l:H=(V-F)/864e5;break;case u:H=V/i;break;case a:H=V/r;break;case o:H=V/n;break;default:H=V}return z?H:R.a(H)},L.daysInMonth=function(){return this.endOf(f).$D},L.$locale=function(){return x[this.$L]},L.locale=function(M,B){if(!M)return this.$L;var z=this.clone(),H=I(M,B,!0);return H&&(z.$L=H),z},L.clone=function(){return R.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},$}(),P=D.prototype;return k.prototype=P,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",l],["$M",f],["$y",h],["$D",p]].forEach(function($){P[$[1]]=function(L){return this.$g(L,$[0],$[1])}}),k.extend=function($,L){return $.$i||($(L,D,k),$.$i=!0),k},k.locale=I,k.isDayjs=C,k.unix=function($){return k(1e3*$)},k.en=x[E],k.Ls=x,k.p={},k})})(VWe);var C4n=VWe.exports;const Ft=On(C4n);function A4n({type:e,date:t,locale:n,format:r,labelSeparator:i}){const s=o=>Ft(o).locale(n).format(r);return e==="default"?t===null?"":s(t):e==="multiple"?t.map(s).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${s(t[0])} ${i} ${s(t[1])}`:t[0]?`${s(t[0])} ${i} `:"":""}function I4n({formatter:e,...t}){return(e||A4n)(t)}function k4n({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function HWe({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:s}){var u,l,c;const o=k4n({direction:t,size:s,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const a=(c=(l=(u=e.current)==null?void 0:u[o.levelIndex])==null?void 0:l[o.rowIndex])==null?void 0:c[o.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?HWe({controlsRef:e,direction:t,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:s}):a.focus())}function R4n(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function N4n(e){var t;return(t=e.current)==null?void 0:t.map(n=>n.map(r=>r.length))}function ele({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const s=R4n(i.key);if(s){i.preventDefault();const o=N4n(e);HWe({controlsRef:e,direction:s,levelIndex:t,rowIndex:n,cellIndex:r,size:o})}}var qWe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vs,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,u=function(d,h,p){p===void 0&&(p={});var m=new Date(d),g=function(y,v){v===void 0&&(v={});var b=v.timeZoneName||"short",w=y+"|"+b,E=r[w];return E||(E=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:b}),r[w]=E),E}(h,p);return g.formatToParts(m)},l=function(d,h){for(var p=u(d,h),m=[],g=0;g<p.length;g+=1){var y=p[g],v=y.type,b=y.value,w=n[v];w>=0&&(m[w]=parseInt(b,10))}var E=m[3],x=E===24?0:E,S=m[0]+"-"+m[1]+"-"+m[2]+" "+x+":"+m[4]+":"+m[5]+":000",C=+d;return(o.utc(S).valueOf()-(C-=C%1e3))/6e4},c=s.prototype;c.tz=function(d,h){d===void 0&&(d=a);var p=this.utcOffset(),m=this.toDate(),g=m.toLocaleString("en-US",{timeZone:d}),y=Math.round((m-new Date(g))/1e3/60),v=o(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(m.getTimezoneOffset()/15)-y,!0);if(h){var b=v.utcOffset();v=v.add(p-b,"minute")}return v.$x.$timezone=d,v},c.offsetName=function(d){var h=this.$x.$timezone||o.tz.guess(),p=u(this.valueOf(),h,{timeZoneName:d}).find(function(m){return m.type.toLowerCase()==="timezonename"});return p&&p.value};var f=c.startOf;c.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(p,d,h).tz(this.$x.$timezone,!0)},o.tz=function(d,h,p){var m=p&&h,g=p||h||a,y=l(+o(),g);if(typeof d!="string")return o(d).tz(g);var v=function(x,S,C){var I=x-60*S*1e3,k=l(I,C);if(S===k)return[I,S];var R=l(I-=60*(k-S)*1e3,C);return k===R?[I,k]:[x-60*Math.min(k,R)*1e3,Math.max(k,R)]}(o.utc(d,m).valueOf(),y,g),b=v[0],w=v[1],E=o(b).utcOffset(w);return E.$x.$timezone=g,E},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(d){a=d}}})})(qWe);var P4n=qWe.exports;const O4n=On(P4n);var WWe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vs,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var u=o.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},u.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),l.call(this,m)};var c=u.init;u.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var f=u.utcOffset;u.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(E){E===void 0&&(E="");var x=E.match(r);if(!x)return null;var S=(""+x[0]).match(i)||["-",0,0],C=S[0],I=60*+S[1]+ +S[2];return I===0?0:C==="+"?I:-I}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m,b=this;if(g)return b.$offset=v,b.$u=m===0,b;if(m!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(v+w,n)).$offset=v,b.$x.$localOffset=w}else b=this.utc();return b};var d=u.format;u.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,g)},u.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var h=u.toDate;u.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=u.diff;u.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),b=a(m).local();return p.call(v,b,g,y)}}})})(WWe);var D4n=WWe.exports;const $4n=On(D4n);Ft.extend($4n);Ft.extend(O4n);function M4n(e,t){return t?Ft(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const Pxe=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=M4n(e,t);return n==="remove"&&(r*=-1),Ft(e).add(r,"minutes").toDate()};function zy(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>Pxe(i,n,e)):Pxe(t,n,e)}function L4n({minDate:e,maxDate:t,timezone:n}){const r=zy("add",new Date,n);return!e&&!t?r:e&&Ft(r).isBefore(e)?e:t&&Ft(r).isAfter(t)?t:r}const F4n={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},j4n=A.createContext(F4n);function Fc(){const e=A.useContext(j4n),t=A.useCallback(o=>o||e.locale,[e.locale]),n=A.useCallback(o=>o||e.timezone||void 0,[e.timezone]),r=A.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),i=A.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),s=A.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:s}}function B4n(e,t){if(t==="range"&&Array.isArray(e)){const[n,r]=e;return n?r?`${n.toISOString()}  ${r.toISOString()}`:`${n.toISOString()} `:""}return t==="multiple"&&Array.isArray(e)?e.map(n=>n==null?void 0:n.toISOString()).filter(Boolean).join(", "):!Array.isArray(e)&&e?e.toISOString():""}function GWe({value:e,type:t,name:n,form:r}){return _.jsx("input",{type:"hidden",value:B4n(e,t),name:n,form:r})}GWe.displayName="@mantine/dates/HiddenDatesInput";var YWe={day:"m_396ce5cb"};const U4n={},z4n=(e,{size:t})=>({day:{"--day-size":mn(t,"day-size")}}),tle=je((e,t)=>{const n=Ie("Day",U4n,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,date:l,disabled:c,__staticSelector:f,weekend:d,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:y,lastInRange:v,hidden:b,static:w,...E}=n,x=Et({name:f||"Day",classes:YWe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:z4n,rootSelector:"day"}),S=Fc();return _.jsx(Zs,{...x("day",{style:b?{display:"none"}:void 0}),component:w?"div":"button",ref:t,disabled:c,"data-today":Ft(l).isSame(zy("add",new Date,S.getTimezone()),"day")||void 0,"data-hidden":b||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&d||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":w||void 0,unstyled:a,...E,children:(m==null?void 0:m(l))||l.getDate()})});tle.classes=YWe;tle.displayName="@mantine/dates/Day";function V4n({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=Ft().day(n),i=[];for(let s=0;s<7;s+=1)typeof t=="string"?i.push(Ft(r).add(s,"days").locale(e).format(t)):i.push(t(Ft(r).add(s,"days").toDate()));return i}var KWe={weekday:"m_18a3eca"};const H4n={},q4n=(e,{size:t})=>({weekdaysRow:{"--wr-fz":zo(t),"--wr-spacing":Os(t)}}),nle=je((e,t)=>{const n=Ie("WeekdaysRow",H4n,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,locale:l,firstDayOfWeek:c,weekdayFormat:f,cellComponent:d="th",__staticSelector:h,...p}=n,m=Et({name:h||"WeekdaysRow",classes:KWe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:q4n,rootSelector:"weekdaysRow"}),g=Fc(),y=V4n({locale:g.getLocale(l),format:f,firstDayOfWeek:g.getFirstDayOfWeek(c)}).map((v,b)=>_.jsx(d,{...m("weekday"),children:v},b));return _.jsx(Ee,{component:"tr",ref:t,...m("weekdaysRow"),...p,children:y})});nle.classes=KWe;nle.displayName="@mantine/dates/WeekdaysRow";function W4n(e,t=1){const n=new Date(e),r=t===0?6:t-1;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function G4n(e,t=1){const n=new Date(e);for(;n.getDay()!==t;)n.setDate(n.getDate()-1);return n}function Y4n({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=e.getMonth(),i=new Date(e.getFullYear(),r,1),s=new Date(e.getFullYear(),e.getMonth()+1,0),o=W4n(s,t),a=G4n(i,t),u=[];for(;a<=o;){const l=[];for(let c=0;c<7;c+=1)l.push(new Date(a)),a.setDate(a.getDate()+1);u.push(l)}if(n&&u.length<6){const l=u[u.length-1],c=l[l.length-1],f=new Date(c);for(f.setDate(f.getDate()+1);u.length<6;){const d=[];for(let h=0;h<7;h+=1)d.push(new Date(f)),f.setDate(f.getDate()+1);u.push(d)}}return u}function XWe(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function QWe(e,t){return t instanceof Date?Ft(e).isAfter(Ft(t).subtract(1,"day"),"day"):!0}function JWe(e,t){return t instanceof Date?Ft(e).isBefore(Ft(t).add(1,"day"),"day"):!0}function K4n(e,t,n,r,i,s,o){const a=e.flat().filter(c=>{var f;return JWe(c,n)&&QWe(c,t)&&!(i!=null&&i(c))&&!((f=r==null?void 0:r(c))!=null&&f.disabled)&&(!s||XWe(c,o))}),u=a.find(c=>{var f;return(f=r==null?void 0:r(c))==null?void 0:f.selected});if(u)return u;const l=a.find(c=>Ft().isSame(c,"date"));return l||a[0]}var ZWe={month:"m_cc9820d3",monthCell:"m_8f457cd5"};const X4n={withCellSpacing:!0},pB=je((e,t)=>{const n=Ie("Month",X4n,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,__staticSelector:l,locale:c,firstDayOfWeek:f,weekdayFormat:d,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:y,maxDate:v,renderDay:b,hideOutsideDates:w,hideWeekdays:E,getDayAriaLabel:x,static:S,__getDayRef:C,__onDayKeyDown:I,__onDayClick:k,__onDayMouseEnter:R,__preventFocus:D,__stopPropagation:P,withCellSpacing:$,size:L,...M}=n,B=Et({name:l||"Month",classes:ZWe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,rootSelector:"month"}),z=Fc(),H=Y4n({month:h,firstDayOfWeek:z.getFirstDayOfWeek(f),consistentWeeks:z.consistentWeeks}),O=K4n(H,y,v,m,g,w,h),{resolvedClassNames:U,resolvedStyles:q}=Vg({classNames:r,styles:o,props:n}),F=H.map((V,G)=>{const Z=V.map((ae,re)=>{const ue=!XWe(ae,h),pe=(x==null?void 0:x(ae))||Ft(ae).locale(c||z.locale).format("D MMMM YYYY"),xe=m==null?void 0:m(ae),ve=Ft(ae).isSame(O,"date");return _.jsx("td",{...B("monthCell"),"data-with-spacing":$||void 0,children:_.jsx(tle,{__staticSelector:l||"Month",classNames:U,styles:q,unstyled:a,"data-mantine-stop-propagation":P||void 0,renderDay:b,date:ae,size:L,weekend:z.getWeekendDays(p).includes(ae.getDay()),outside:ue,hidden:w?ue:!1,"aria-label":pe,static:S,disabled:(g==null?void 0:g(ae))||!JWe(ae,v)||!QWe(ae,y),ref:We=>C==null?void 0:C(G,re,We),...xe,onKeyDown:We=>{var Be;(Be=xe==null?void 0:xe.onKeyDown)==null||Be.call(xe,We),I==null||I(We,{rowIndex:G,cellIndex:re,date:ae})},onMouseEnter:We=>{var Be;(Be=xe==null?void 0:xe.onMouseEnter)==null||Be.call(xe,We),R==null||R(We,ae)},onClick:We=>{var Be;(Be=xe==null?void 0:xe.onClick)==null||Be.call(xe,We),k==null||k(We,ae)},onMouseDown:We=>{var Be;(Be=xe==null?void 0:xe.onMouseDown)==null||Be.call(xe,We),D&&We.preventDefault()},tabIndex:D||!ve?-1:0})},ae.toString())});return _.jsx("tr",{...B("monthRow"),children:Z},G)});return _.jsxs(Ee,{component:"table",...B("month"),size:L,ref:t,...M,children:[!E&&_.jsx("thead",{...B("monthThead"),children:_.jsx(nle,{__staticSelector:l||"Month",locale:c,firstDayOfWeek:f,weekdayFormat:d,size:L,classNames:U,styles:q,unstyled:a})}),_.jsx("tbody",{...B("monthTbody"),children:F})]})});pB.classes=ZWe;pB.displayName="@mantine/dates/Month";var eGe={pickerControl:"m_dc6a3c71"};const Q4n={},J4n=(e,{size:t})=>({pickerControl:{"--dpc-fz":zo(t),"--dpc-size":mn(t,"dpc-size")}}),mB=je((e,t)=>{const n=Ie("PickerControl",Q4n,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,firstInRange:l,lastInRange:c,inRange:f,__staticSelector:d,selected:h,disabled:p,...m}=n,g=Et({name:d||"PickerControl",classes:eGe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:J4n,rootSelector:"pickerControl"});return _.jsx(Zs,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":f&&!p&&!h||void 0,"data-first-in-range":l&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});mB.classes=eGe;mB.displayName="@mantine/dates/PickerControl";function tGe(e,t,n){return!t&&!n?!1:!!(t&&Ft(e).isBefore(t,"year")||n&&Ft(e).isAfter(n,"year"))}function Z4n(e,t,n,r){const i=e.flat().filter(a=>{var u;return!tGe(a,t,n)&&!((u=r==null?void 0:r(a))!=null&&u.disabled)}),s=i.find(a=>{var u;return(u=r==null?void 0:r(a))==null?void 0:u.selected});if(s)return s;const o=i.find(a=>Ft().isSame(a,"year"));return o||i[0]}function nGe(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let s=0;s<4;s+=1){const o=s===3?1:3;for(let a=0;a<o;a+=1)i[s].push(new Date(n+r,0)),r+=1}return i}var rGe={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const eFn={yearsListFormat:"YYYY",withCellSpacing:!0},gB=je((e,t)=>{const n=Ie("YearsList",eFn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,decade:l,yearsListFormat:c,locale:f,minDate:d,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:b,__preventFocus:w,__stopPropagation:E,withCellSpacing:x,size:S,...C}=n,I=Et({name:m||"YearsList",classes:rGe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,rootSelector:"yearsList"}),k=Fc(),R=nGe(l),D=Z4n(R,d,h,p),P=R.map(($,L)=>{const M=$.map((B,z)=>{const H=p==null?void 0:p(B),O=Ft(B).isSame(D,"year");return _.jsx("td",{...I("yearsListCell"),"data-with-spacing":x||void 0,children:_.jsx(mB,{...I("yearsListControl"),size:S,unstyled:a,"data-mantine-stop-propagation":E||void 0,disabled:tGe(B,d,h),ref:U=>g==null?void 0:g(L,z,U),...H,onKeyDown:U=>{var q;(q=H==null?void 0:H.onKeyDown)==null||q.call(H,U),y==null||y(U,{rowIndex:L,cellIndex:z,date:B})},onClick:U=>{var q;(q=H==null?void 0:H.onClick)==null||q.call(H,U),v==null||v(U,B)},onMouseEnter:U=>{var q;(q=H==null?void 0:H.onMouseEnter)==null||q.call(H,U),b==null||b(U,B)},onMouseDown:U=>{var q;(q=H==null?void 0:H.onMouseDown)==null||q.call(H,U),w&&U.preventDefault()},tabIndex:w||!O?-1:0,children:Ft(B).locale(k.getLocale(f)).format(c)})},z)});return _.jsx("tr",{...I("yearsListRow"),children:M},L)});return _.jsx(Ee,{component:"table",ref:t,size:S,...I("yearsList"),...C,children:_.jsx("tbody",{children:P})})});gB.classes=rGe;gB.displayName="@mantine/dates/YearsList";function iGe(e,t,n){return!t&&!n?!1:!!(t&&Ft(e).isBefore(t,"month")||n&&Ft(e).isAfter(n,"month"))}function tFn(e,t,n,r){const i=e.flat().filter(a=>{var u;return!iGe(a,t,n)&&!((u=r==null?void 0:r(a))!=null&&u.disabled)}),s=i.find(a=>{var u;return(u=r==null?void 0:r(a))==null?void 0:u.selected});if(s)return s;const o=i.find(a=>Ft().isSame(a,"month"));return o||i[0]}function nFn(e){const t=Ft(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let s=0;s<3;s+=1)n[i].push(Ft(t).add(r,"months").toDate()),r+=1;return n}var sGe={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const rFn={monthsListFormat:"MMM",withCellSpacing:!0},yB=je((e,t)=>{const n=Ie("MonthsList",rFn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,__staticSelector:l,year:c,monthsListFormat:f,locale:d,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:b,__preventFocus:w,__stopPropagation:E,withCellSpacing:x,size:S,...C}=n,I=Et({name:l||"MonthsList",classes:sGe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,rootSelector:"monthsList"}),k=Fc(),R=nFn(c),D=tFn(R,h,p,m),P=R.map(($,L)=>{const M=$.map((B,z)=>{const H=m==null?void 0:m(B),O=Ft(B).isSame(D,"month");return _.jsx("td",{...I("monthsListCell"),"data-with-spacing":x||void 0,children:_.jsx(mB,{...I("monthsListControl"),size:S,unstyled:a,__staticSelector:l||"MonthsList","data-mantine-stop-propagation":E||void 0,disabled:iGe(B,h,p),ref:U=>g==null?void 0:g(L,z,U),...H,onKeyDown:U=>{var q;(q=H==null?void 0:H.onKeyDown)==null||q.call(H,U),y==null||y(U,{rowIndex:L,cellIndex:z,date:B})},onClick:U=>{var q;(q=H==null?void 0:H.onClick)==null||q.call(H,U),v==null||v(U,B)},onMouseEnter:U=>{var q;(q=H==null?void 0:H.onMouseEnter)==null||q.call(H,U),b==null||b(U,B)},onMouseDown:U=>{var q;(q=H==null?void 0:H.onMouseDown)==null||q.call(H,U),w&&U.preventDefault()},tabIndex:w||!O?-1:0,children:Ft(B).locale(k.getLocale(d)).format(f)})},z)});return _.jsx("tr",{...I("monthsListRow"),children:M},L)});return _.jsx(Ee,{component:"table",ref:t,size:S,...I("monthsList"),...C,children:_.jsx("tbody",{children:P})})});yB.classes=sGe;yB.displayName="@mantine/dates/MonthsList";var oGe={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const iFn={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},sFn=(e,{size:t})=>({calendarHeader:{"--dch-control-size":mn(t,"dch-control-size"),"--dch-fz":zo(t)}}),c1=je((e,t)=>{const n=Ie("CalendarHeader",iFn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,nextIcon:l,previousIcon:c,nextLabel:f,previousLabel:d,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:b,levelControlAriaLabel:w,withNext:E,withPrevious:x,__staticSelector:S,__preventFocus:C,__stopPropagation:I,...k}=n,R=Et({name:S||"CalendarHeader",classes:oGe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:sFn,rootSelector:"calendarHeader"}),D=C?P=>P.preventDefault():void 0;return _.jsxs(Ee,{...R("calendarHeader"),ref:t,...k,children:[x&&_.jsx(Zs,{...R("calendarHeaderControl"),"data-direction":"previous","aria-label":d,onClick:p,unstyled:a,onMouseDown:D,disabled:v,"data-disabled":v||void 0,tabIndex:C||v?-1:0,"data-mantine-stop-propagation":I||void 0,children:c||_.jsx(iS,{...R("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),_.jsx(Zs,{component:b?"button":"div",...R("calendarHeaderLevel"),onClick:b?m:void 0,unstyled:a,onMouseDown:b?D:void 0,disabled:!b,"data-static":!b||void 0,"aria-label":w,tabIndex:C||!b?-1:0,"data-mantine-stop-propagation":I||void 0,children:g}),E&&_.jsx(Zs,{...R("calendarHeaderControl"),"data-direction":"next","aria-label":f,onClick:h,unstyled:a,onMouseDown:D,disabled:y,"data-disabled":y||void 0,tabIndex:C||y?-1:0,"data-mantine-stop-propagation":I||void 0,children:l||_.jsx(iS,{...R("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});c1.classes=oGe;c1.displayName="@mantine/dates/CalendarHeader";function oFn(e){const t=nGe(e);return[t[0][0],t[3][0]]}const aFn={decadeLabelFormat:"YYYY"},vB=je((e,t)=>{const n=Ie("DecadeLevel",aFn,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:w,nextDisabled:E,previousDisabled:x,levelControlAriaLabel:S,withNext:C,withPrevious:I,decadeLabelFormat:k,classNames:R,styles:D,unstyled:P,__staticSelector:$,__stopPropagation:L,size:M,...B}=n,z=Fc(),[H,O]=oFn(r),U={__staticSelector:$||"DecadeLevel",classNames:R,styles:D,unstyled:P,size:M},q=typeof E=="boolean"?E:o?!Ft(O).endOf("year").isBefore(o):!1,F=typeof x=="boolean"?x:s?!Ft(H).startOf("year").isAfter(s):!1,V=(G,Z)=>Ft(G).locale(i||z.locale).format(Z);return _.jsxs(Ee,{"data-decade-level":!0,size:M,ref:t,...B,children:[_.jsx(c1,{label:typeof k=="function"?k(H,O):`${V(H,k)}  ${V(O,k)}`,__preventFocus:p,__stopPropagation:L,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:w,nextDisabled:q,previousDisabled:F,hasNextLevel:!1,levelControlAriaLabel:S,withNext:C,withPrevious:I,...U}),_.jsx(gB,{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,__preventFocus:p,__stopPropagation:L,withCellSpacing:h,...U})]})});vB.classes={...gB.classes,...c1.classes};vB.displayName="@mantine/dates/DecadeLevel";const uFn={yearLabelFormat:"YYYY"},bB=je((e,t)=>{const n=Ie("YearLevel",uFn,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:w,onLevelClick:E,nextDisabled:x,previousDisabled:S,hasNextLevel:C,levelControlAriaLabel:I,withNext:k,withPrevious:R,yearLabelFormat:D,__staticSelector:P,__stopPropagation:$,size:L,classNames:M,styles:B,unstyled:z,...H}=n,O=Fc(),U={__staticSelector:P||"YearLevel",classNames:M,styles:B,unstyled:z,size:L},q=typeof x=="boolean"?x:o?!Ft(r).endOf("year").isBefore(o):!1,F=typeof S=="boolean"?S:s?!Ft(r).startOf("year").isAfter(s):!1;return _.jsxs(Ee,{"data-year-level":!0,size:L,ref:t,...H,children:[_.jsx(c1,{label:typeof D=="function"?D(r):Ft(r).locale(i||O.locale).format(D),__preventFocus:p,__stopPropagation:$,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:w,onLevelClick:E,nextDisabled:q,previousDisabled:F,hasNextLevel:C,levelControlAriaLabel:I,withNext:k,withPrevious:R,...U}),_.jsx(yB,{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,__preventFocus:p,__stopPropagation:$,withCellSpacing:h,...U})]})});bB.classes={...c1.classes,...yB.classes};bB.displayName="@mantine/dates/YearLevel";const lFn={monthLabelFormat:"MMMM YYYY"},_B=je((e,t)=>{const n=Ie("MonthLevel",lFn,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:b,withCellSpacing:w,__preventFocus:E,__stopPropagation:x,nextIcon:S,previousIcon:C,nextLabel:I,previousLabel:k,onNext:R,onPrevious:D,onLevelClick:P,nextDisabled:$,previousDisabled:L,hasNextLevel:M,levelControlAriaLabel:B,withNext:z,withPrevious:H,monthLabelFormat:O,classNames:U,styles:q,unstyled:F,__staticSelector:V,size:G,static:Z,...ae}=n,re=Fc(),ue={__staticSelector:V||"MonthLevel",classNames:U,styles:q,unstyled:F,size:G},pe=typeof $=="boolean"?$:f?!Ft(r).endOf("month").isBefore(f):!1,xe=typeof L=="boolean"?L:c?!Ft(r).startOf("month").isAfter(c):!1;return _.jsxs(Ee,{"data-month-level":!0,size:G,ref:t,...ae,children:[_.jsx(c1,{label:typeof O=="function"?O(r):Ft(r).locale(i||re.locale).format(O),__preventFocus:E,__stopPropagation:x,nextIcon:S,previousIcon:C,nextLabel:I,previousLabel:k,onNext:R,onPrevious:D,onLevelClick:P,nextDisabled:pe,previousDisabled:xe,hasNextLevel:M,levelControlAriaLabel:B,withNext:z,withPrevious:H,...ue}),_.jsx(pB,{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:b,__preventFocus:E,__stopPropagation:x,static:Z,withCellSpacing:w,...ue})]})});_B.classes={...pB.classes,...c1.classes};_B.displayName="@mantine/dates/MonthLevel";var aGe={levelsGroup:"m_30b26e33"};const cFn={},f1=je((e,t)=>{const n=Ie("LevelsGroup",cFn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:u,__staticSelector:l,...c}=n,f=Et({name:l||"LevelsGroup",classes:aGe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,rootSelector:"levelsGroup"});return _.jsx(Ee,{ref:t,...f("levelsGroup"),...c})});f1.classes=aGe;f1.displayName="@mantine/dates/LevelsGroup";const fFn={numberOfColumns:1},wB=je((e,t)=>{const n=Ie("DecadeLevelGroup",fFn,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:u,__onControlClick:l,__onControlMouseEnter:c,withCellSpacing:f,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:b,previousDisabled:w,classNames:E,styles:x,unstyled:S,__staticSelector:C,__stopPropagation:I,numberOfColumns:k,levelControlAriaLabel:R,decadeLabelFormat:D,size:P,vars:$,...L}=n,M=A.useRef([]),B=Array(k).fill(0).map((z,H)=>{const O=Ft(r).add(H*10,"years").toDate();return _.jsx(vB,{size:P,yearsListFormat:a,decade:O,withNext:H===k-1,withPrevious:H===0,decadeLabelFormat:D,__onControlClick:l,__onControlMouseEnter:c,__onControlKeyDown:(U,q)=>ele({levelIndex:H,rowIndex:q.rowIndex,cellIndex:q.cellIndex,event:U,controlsRef:M}),__getControlRef:(U,q,F)=>{Array.isArray(M.current[H])||(M.current[H]=[]),Array.isArray(M.current[H][U])||(M.current[H][U]=[]),M.current[H][U][q]=F},levelControlAriaLabel:typeof R=="function"?R(O):R,locale:i,minDate:s,maxDate:o,__preventFocus:d,__stopPropagation:I,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:b,previousDisabled:w,getYearControlProps:u,__staticSelector:C||"DecadeLevelGroup",classNames:E,styles:x,unstyled:S,withCellSpacing:f},H)});return _.jsx(f1,{classNames:E,styles:x,__staticSelector:C||"DecadeLevelGroup",ref:t,size:P,unstyled:S,...L,children:B})});wB.classes={...f1.classes,...vB.classes};wB.displayName="@mantine/dates/DecadeLevelGroup";const dFn={numberOfColumns:1},EB=je((e,t)=>{const n=Ie("YearLevelGroup",dFn,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:u,__onControlClick:l,__onControlMouseEnter:c,withCellSpacing:f,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:b,nextDisabled:w,previousDisabled:E,hasNextLevel:x,classNames:S,styles:C,unstyled:I,__staticSelector:k,__stopPropagation:R,numberOfColumns:D,levelControlAriaLabel:P,yearLabelFormat:$,size:L,vars:M,...B}=n,z=A.useRef([]),H=Array(D).fill(0).map((O,U)=>{const q=Ft(r).add(U,"years").toDate();return _.jsx(bB,{size:L,monthsListFormat:a,year:q,withNext:U===D-1,withPrevious:U===0,yearLabelFormat:$,__stopPropagation:R,__onControlClick:l,__onControlMouseEnter:c,__onControlKeyDown:(F,V)=>ele({levelIndex:U,rowIndex:V.rowIndex,cellIndex:V.cellIndex,event:F,controlsRef:z}),__getControlRef:(F,V,G)=>{Array.isArray(z.current[U])||(z.current[U]=[]),Array.isArray(z.current[U][F])||(z.current[U][F]=[]),z.current[U][F][V]=G},levelControlAriaLabel:typeof P=="function"?P(q):P,locale:i,minDate:s,maxDate:o,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:b,nextDisabled:w,previousDisabled:E,hasNextLevel:x,getMonthControlProps:u,classNames:S,styles:C,unstyled:I,__staticSelector:k||"YearLevelGroup",withCellSpacing:f},U)});return _.jsx(f1,{classNames:S,styles:C,__staticSelector:k||"YearLevelGroup",ref:t,size:L,unstyled:I,...B,children:H})});EB.classes={...bB.classes,...f1.classes};EB.displayName="@mantine/dates/YearLevelGroup";const hFn={numberOfColumns:1},xB=je((e,t)=>{const n=Ie("MonthLevelGroup",hFn,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,__preventFocus:b,nextIcon:w,previousIcon:E,nextLabel:x,previousLabel:S,onNext:C,onPrevious:I,onLevelClick:k,nextDisabled:R,previousDisabled:D,hasNextLevel:P,classNames:$,styles:L,unstyled:M,numberOfColumns:B,levelControlAriaLabel:z,monthLabelFormat:H,__staticSelector:O,__stopPropagation:U,size:q,static:F,vars:V,...G}=n,Z=A.useRef([]),ae=Array(B).fill(0).map((re,ue)=>{const pe=Ft(r).add(ue,"months").toDate();return _.jsx(_B,{month:pe,withNext:ue===B-1,withPrevious:ue===0,monthLabelFormat:H,__stopPropagation:U,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(xe,ve)=>ele({levelIndex:ue,rowIndex:ve.rowIndex,cellIndex:ve.cellIndex,event:xe,controlsRef:Z}),__getDayRef:(xe,ve,We)=>{Array.isArray(Z.current[ue])||(Z.current[ue]=[]),Array.isArray(Z.current[ue][xe])||(Z.current[ue][xe]=[]),Z.current[ue][xe][ve]=We},levelControlAriaLabel:typeof z=="function"?z(pe):z,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:b,nextIcon:w,previousIcon:E,nextLabel:x,previousLabel:S,onNext:C,onPrevious:I,onLevelClick:k,nextDisabled:R,previousDisabled:D,hasNextLevel:P,classNames:$,styles:L,unstyled:M,__staticSelector:O||"MonthLevelGroup",size:q,static:F,withCellSpacing:v},ue)});return _.jsx(f1,{classNames:$,styles:L,__staticSelector:O||"MonthLevelGroup",ref:t,size:q,...G,children:ae})});xB.classes={...f1.classes,..._B.classes};xB.displayName="@mantine/dates/MonthLevelGroup";var uGe={input:"m_6fa5e2aa"};const pFn={},SB=je((e,t)=>{const{inputProps:n,wrapperProps:r,placeholder:i,classNames:s,styles:o,unstyled:a,popoverProps:u,modalProps:l,dropdownType:c,children:f,formattedValue:d,dropdownHandlers:h,dropdownOpened:p,onClick:m,clearable:g,onClear:y,clearButtonProps:v,rightSection:b,shouldClear:w,readOnly:E,disabled:x,value:S,name:C,form:I,type:k,...R}=d2e("PickerInputBase",pFn,e),D=b||(g&&w&&!E&&!x?_.jsx(Wg,{variant:"transparent",onClick:y,unstyled:a,size:n.size||"sm",...v}):null),P=()=>{k==="range"&&Array.isArray(S)&&S[0]&&!S[1]&&y(),h.close()};return _.jsxs(_.Fragment,{children:[c==="modal"&&!E&&_.jsx(bs,{opened:p,onClose:P,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:a,...l,children:f}),_.jsx(ji.Wrapper,{...r,children:_.jsxs(pa,{position:"bottom-start",opened:p,trapFocus:!0,returnFocus:!0,unstyled:a,...u,disabled:(u==null?void 0:u.disabled)||c==="modal"||E,onClose:()=>{var $;($=u==null?void 0:u.onClose)==null||$.call(u),P()},children:[_.jsx(pa.Target,{children:_.jsx(ji,{"aria-label":d||i,"data-dates-input":!0,"data-read-only":E||void 0,disabled:x,component:"button",type:"button",multiline:!0,onClick:$=>{m==null||m($),h.toggle()},rightSection:D,...n,ref:t,classNames:{...s,input:ws(uGe.input,s==null?void 0:s.input)},...R,children:d||_.jsx(ji.Placeholder,{error:n.error,unstyled:a,className:s==null?void 0:s.placeholder,style:o==null?void 0:o.placeholder,children:i})})}),_.jsx(pa.Dropdown,{"data-dates-dropdown":!0,children:f})]})}),_.jsx(GWe,{value:S,name:C,form:I,type:k})]})});SB.classes=uGe;SB.displayName="@mantine/dates/PickerInputBase";const Oxe=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function rle({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const s=A.useRef(e),o=Fc(),[a,u,l]=eo({value:zy("add",t,o.getTimezone(),!i),defaultValue:zy("add",n,o.getTimezone(),!i),finalValue:Oxe(e),onChange:f=>{r==null||r(zy("remove",f,o.getTimezone(),!i))}});let c=a;return s.current!==e&&(s.current=e,t===void 0&&(c=n!==void 0?n:Oxe(e),u(c))),[c,u,l]}function Jz(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function mFn(e){return e===0?"month":e===1?"year":"decade"}function J2(e,t,n){return mFn(Wh(Jz(e,0),Jz(t,0),Jz(n,2)))}const gFn={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},TB=je((e,t)=>{const n=Ie("Calendar",gFn,e),{vars:r,maxLevel:i,minLevel:s,defaultLevel:o,level:a,onLevelChange:u,date:l,defaultDate:c,onDateChange:f,numberOfColumns:d,columnsToScroll:h,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:y,onMonthMouseEnter:v,__updateDateOnYearSelect:b,__updateDateOnMonthSelect:w,firstDayOfWeek:E,weekdayFormat:x,weekendDays:S,getDayProps:C,excludeDate:I,renderDay:k,hideOutsideDates:R,hideWeekdays:D,getDayAriaLabel:P,monthLabelFormat:$,nextIcon:L,previousIcon:M,__onDayClick:B,__onDayMouseEnter:z,withCellSpacing:H,monthsListFormat:O,getMonthControlProps:U,yearLabelFormat:q,yearsListFormat:F,getYearControlProps:V,decadeLabelFormat:G,classNames:Z,styles:ae,unstyled:re,minDate:ue,maxDate:pe,locale:xe,__staticSelector:ve,size:We,__preventFocus:Be,__stopPropagation:ht,onNextDecade:Je,onPreviousDecade:we,onNextYear:Ae,onPreviousYear:ze,onNextMonth:et,onPreviousMonth:Ot,static:Oe,__timezoneApplied:fe,...Xe}=n,{resolvedClassNames:nt,resolvedStyles:ge}=Vg({classNames:Z,styles:ae,props:n}),[ke,Ve]=eo({value:a?J2(a,s,i):void 0,defaultValue:o?J2(o,s,i):void 0,finalValue:J2(void 0,s,i),onChange:u}),[Ye,pt]=rle({type:"default",value:l,defaultValue:c,onChange:f,applyTimezone:!fe}),xn={__staticSelector:ve||"Calendar",styles:ge,classNames:nt,unstyled:re,size:We},nr=Fc(),mt=h||d||1,Lt=Ye||zy("add",new Date,nr.getTimezone()),vt=()=>{const Tn=Ft(Lt).add(mt,"month").toDate();et==null||et(Tn),pt(Tn)},rn=()=>{const Tn=Ft(Lt).subtract(mt,"month").toDate();Ot==null||Ot(Tn),pt(Tn)},Sn=()=>{const Tn=Ft(Lt).add(mt,"year").toDate();Ae==null||Ae(Tn),pt(Tn)},sn=()=>{const Tn=Ft(Lt).subtract(mt,"year").toDate();ze==null||ze(Tn),pt(Tn)},Hs=()=>{const Tn=Ft(Lt).add(10*mt,"year").toDate();Je==null||Je(Tn),pt(Tn)},Ui=()=>{const Tn=Ft(Lt).subtract(10*mt,"year").toDate();we==null||we(Tn),pt(Tn)};return _.jsxs(Ee,{ref:t,size:We,"data-calendar":!0,...Xe,children:[ke==="month"&&_.jsx(xB,{month:Lt,minDate:ue,maxDate:pe,firstDayOfWeek:E,weekdayFormat:x,weekendDays:S,getDayProps:C,excludeDate:I,renderDay:k,hideOutsideDates:R,hideWeekdays:D,getDayAriaLabel:P,onNext:vt,onPrevious:rn,hasNextLevel:i!=="month",onLevelClick:()=>Ve("year"),numberOfColumns:d,locale:xe,levelControlAriaLabel:p==null?void 0:p.monthLevelControl,nextLabel:p==null?void 0:p.nextMonth,nextIcon:L,previousLabel:p==null?void 0:p.previousMonth,previousIcon:M,monthLabelFormat:$,__onDayClick:B,__onDayMouseEnter:z,__preventFocus:Be,__stopPropagation:ht,static:Oe,withCellSpacing:H,...xn}),ke==="year"&&_.jsx(EB,{year:Lt,numberOfColumns:d,minDate:ue,maxDate:pe,monthsListFormat:O,getMonthControlProps:U,locale:xe,onNext:Sn,onPrevious:sn,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Ve("decade"),levelControlAriaLabel:p==null?void 0:p.yearLevelControl,nextLabel:p==null?void 0:p.nextYear,nextIcon:L,previousLabel:p==null?void 0:p.previousYear,previousIcon:M,yearLabelFormat:q,__onControlMouseEnter:v,__onControlClick:(Tn,Nr)=>{w&&pt(Nr),Ve(J2("month",s,i)),g==null||g(Nr)},__preventFocus:Be,__stopPropagation:ht,withCellSpacing:H,...xn}),ke==="decade"&&_.jsx(wB,{decade:Lt,minDate:ue,maxDate:pe,yearsListFormat:F,getYearControlProps:V,locale:xe,onNext:Hs,onPrevious:Ui,numberOfColumns:d,nextLabel:p==null?void 0:p.nextDecade,nextIcon:L,previousLabel:p==null?void 0:p.previousDecade,previousIcon:M,decadeLabelFormat:G,__onControlMouseEnter:y,__onControlClick:(Tn,Nr)=>{b&&pt(Nr),Ve(J2("year",s,i)),m==null||m(Nr)},__preventFocus:Be,__stopPropagation:ht,withCellSpacing:H,...xn})]})});TB.classes={...wB.classes,...EB.classes,...xB.classes};TB.displayName="@mantine/dates/Calendar";function yFn(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:u,defaultDate:l,onDateChange:c,numberOfColumns:f,columnsToScroll:d,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:b,onNextYear:w,onPreviousYear:E,onNextDecade:x,onPreviousDecade:S,withCellSpacing:C,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:k,firstDayOfWeek:R,weekdayFormat:D,weekendDays:P,getDayProps:$,excludeDate:L,renderDay:M,hideOutsideDates:B,hideWeekdays:z,getDayAriaLabel:H,monthLabelFormat:O,monthsListFormat:U,getMonthControlProps:q,yearLabelFormat:F,yearsListFormat:V,getYearControlProps:G,decadeLabelFormat:Z,allowSingleDateInRange:ae,allowDeselect:re,minDate:ue,maxDate:pe,locale:xe,...ve}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:u,defaultDate:l,onDateChange:c,numberOfColumns:f,columnsToScroll:d,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:b,onNextYear:w,onPreviousYear:E,onNextDecade:x,onPreviousDecade:S,withCellSpacing:C,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:k,firstDayOfWeek:R,weekdayFormat:D,weekendDays:P,getDayProps:$,excludeDate:L,renderDay:M,hideOutsideDates:B,hideWeekdays:z,getDayAriaLabel:H,monthLabelFormat:O,monthsListFormat:U,getMonthControlProps:q,yearLabelFormat:F,yearsListFormat:V,getYearControlProps:G,decadeLabelFormat:Z,allowSingleDateInRange:ae,allowDeselect:re,minDate:ue,maxDate:pe,locale:xe},others:ve}}function Dxe(e,t){const n=[...t].sort((r,i)=>r.getTime()-i.getTime());return Ft(n[0]).startOf("day").subtract(1,"ms").isBefore(e)&&Ft(n[1]).endOf("day").add(1,"ms").isAfter(e)}function vFn({type:e,level:t,value:n,defaultValue:r,onChange:i,allowSingleDateInRange:s,allowDeselect:o,onMouseLeave:a,applyTimezone:u=!0}){const[l,c]=rle({type:e,value:n,defaultValue:r,onChange:i,applyTimezone:u}),[f,d]=A.useState(e==="range"&&l[0]&&!l[1]?l[0]:null),[h,p]=A.useState(null),m=x=>{if(e==="range"){if(f instanceof Date&&!l[1]){if(Ft(x).isSame(f,t)&&!s){d(null),p(null),c([null,null]);return}const S=[x,f];S.sort((C,I)=>C.getTime()-I.getTime()),c(S),p(null),d(null);return}if(l[0]&&!l[1]&&Ft(x).isSame(l[0],t)&&!s){d(null),p(null),c([null,null]);return}c([x,null]),p(null),d(x);return}if(e==="multiple"){l.some(S=>Ft(S).isSame(x,t))?c(l.filter(S=>!Ft(S).isSame(x,t))):c([...l,x]);return}l&&o&&Ft(x).isSame(l,t)?c(null):c(x)},g=x=>f instanceof Date&&h instanceof Date?Dxe(x,[h,f]):l[0]instanceof Date&&l[1]instanceof Date?Dxe(x,l):!1,y=e==="range"?x=>{a==null||a(x),p(null)}:a,v=x=>l[0]instanceof Date&&Ft(x).isSame(l[0],t)?!(h&&Ft(h).isBefore(l[0])):!1,b=x=>l[1]instanceof Date?Ft(x).isSame(l[1],t):!(l[0]instanceof Date)||!h?!1:Ft(h).isBefore(l[0])&&Ft(x).isSame(l[0],t),w=x=>{if(e==="range")return{selected:l.some(C=>C&&Ft(C).isSame(x,t)),inRange:g(x),firstInRange:v(x),lastInRange:b(x),"data-autofocus":!!l[0]&&Ft(l[0]).isSame(x,t)||void 0};if(e==="multiple")return{selected:l.some(C=>C&&Ft(C).isSame(x,t)),"data-autofocus":!!l[0]&&Ft(l[0]).isSame(x,t)||void 0};const S=Ft(l).isSame(x,t);return{selected:S,"data-autofocus":S||void 0}},E=e==="range"&&f?p:()=>{};return A.useEffect(()=>{e==="range"&&!l[0]&&!l[1]&&d(null)},[n]),{onDateChange:m,onRootMouseLeave:y,onHoveredDateChange:E,getControlProps:w,_value:l,setValue:c}}const bFn={type:"default",defaultLevel:"month",numberOfColumns:1},CB=je((e,t)=>{const n=Ie("DatePicker",bFn,e),{classNames:r,styles:i,vars:s,type:o,defaultValue:a,value:u,onChange:l,__staticSelector:c,getDayProps:f,allowSingleDateInRange:d,allowDeselect:h,onMouseLeave:p,numberOfColumns:m,hideOutsideDates:g,__onDayMouseEnter:y,__onDayClick:v,__timezoneApplied:b,...w}=n,{onDateChange:E,onRootMouseLeave:x,onHoveredDateChange:S,getControlProps:C}=vFn({type:o,level:"day",allowDeselect:h,allowSingleDateInRange:d,value:u,defaultValue:a,onChange:l,onMouseLeave:p,applyTimezone:!b}),{resolvedClassNames:I,resolvedStyles:k}=Vg({classNames:r,styles:i,props:n}),R=Fc();return _.jsx(TB,{ref:t,minLevel:"month",classNames:I,styles:k,__staticSelector:c||"DatePicker",onMouseLeave:x,numberOfColumns:m,hideOutsideDates:g??m!==1,__onDayMouseEnter:(D,P)=>{S(P),y==null||y(D,P)},__onDayClick:(D,P)=>{E(P),v==null||v(D,P)},getDayProps:D=>({...C(D),...f==null?void 0:f(D)}),...w,date:zy("add",w.date,R.getTimezone(),b),__timezoneApplied:!0})});CB.classes=TB.classes;CB.displayName="@mantine/dates/DatePicker";function _Fn({type:e,value:t,defaultValue:n,onChange:r,locale:i,format:s,closeOnChange:o,sortDates:a,labelSeparator:u,valueFormatter:l}){const c=Fc(),[f,d]=j4(!1),[h,p]=rle({type:e,value:t,defaultValue:n,onChange:r}),m=I4n({type:e,date:h,locale:c.getLocale(i),format:s,labelSeparator:c.getLabelSeparator(u),formatter:l}),g=b=>{o&&(e==="default"&&d.close(),e==="range"&&b[0]&&b[1]&&d.close()),p(a&&e==="multiple"?[...b].sort((w,E)=>w.getTime()-E.getTime()):b)},y=()=>g(e==="range"?[null,null]:e==="multiple"?[]:null),v=e==="range"?!!h[0]:e==="multiple"?h.length>0:h!==null;return{_value:h,setValue:g,onClear:y,shouldClear:v,formattedValue:m,dropdownOpened:f,dropdownHandlers:d}}const wFn={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},ile=je((e,t)=>{const n=Ie("DatePickerInput",wFn,e),{type:r,value:i,defaultValue:s,onChange:o,valueFormat:a,labelSeparator:u,locale:l,classNames:c,styles:f,unstyled:d,closeOnChange:h,size:p,variant:m,dropdownType:g,sortDates:y,minDate:v,maxDate:b,vars:w,defaultDate:E,valueFormatter:x,...S}=n,{resolvedClassNames:C,resolvedStyles:I}=Vg({classNames:c,styles:f,props:n}),{calendarProps:k,others:R}=yFn(S),{_value:D,setValue:P,formattedValue:$,dropdownHandlers:L,dropdownOpened:M,onClear:B,shouldClear:z}=_Fn({type:r,value:i,defaultValue:s,onChange:o,locale:l,format:a,labelSeparator:u,closeOnChange:h,sortDates:y,valueFormatter:x}),H=Array.isArray(D)?D[0]||E:D||E,O=Fc();return _.jsx(SB,{formattedValue:$,dropdownOpened:M,dropdownHandlers:L,classNames:C,styles:I,unstyled:d,ref:t,onClear:B,shouldClear:z,value:D,size:p,variant:m,dropdownType:g,...R,type:r,__staticSelector:"DatePickerInput",children:_.jsx(CB,{...k,size:p,variant:m,type:r,value:D,defaultDate:H||L4n({maxDate:b,minDate:v,timezone:O.getTimezone()}),onChange:P,locale:l,classNames:C,styles:I,unstyled:d,__staticSelector:"DatePickerInput",__stopPropagation:g==="popover",minDate:v,maxDate:b,date:zy("add",k.date,O.getTimezone()),__timezoneApplied:!0})})});ile.classes={...SB.classes,...CB.classes};ile.displayName="@mantine/dates/DatePickerInput";function EFn(e,t){const n=Object.values(e).map(r=>[r.startTime,r.endTime]).flat();return t[0]===null||t[1]===null?!1:Math.min(...n)>=t[0].getTime()&&Math.max(...n)<=t[1].getTime()}function xFn({studyId:e,allParticipants:t}){const n=Jg(),[r,i]=kb(),s=t.filter(p=>p.completed).map(p=>Math.max(...Object.values(p.answers).map(m=>m.endTime).filter(m=>m!==void 0))).filter(p=>Number.isFinite(p)),[o,a]=A.useState([new Date(new Date(Math.min(...s.length>0?s:[new Date().getTime()])).setHours(0,0,0,0)),new Date(new Date(Math.max(...s.length>0?s:[new Date().getTime()])).setHours(24,0,0,0))]),[u,l,c,f]=A.useMemo(()=>{const p=t.filter(y=>!y.rejected&&y.completed),m=t.filter(y=>!y.rejected&&!y.completed),g=t.filter(y=>y.rejected);return[p,m,g,p.filter(y=>EFn(y.answers,o))]},[t,o]),d=A.useMemo(()=>{var p,m;return f.length>0?[{Date:(p=o[0])==null?void 0:p.getTime(),Participants:0},...f.map(g=>Math.max(...Object.values(g.answers).map(y=>y.endTime).flat())).sort((g,y)=>g-y).map((g,y)=>({Date:g,Participants:y})),{Date:(m=o[1])==null?void 0:m.getTime(),Participants:f.length}]:[]},[f,o]),h=A.useMemo(()=>{var p,m;return{width:i.width-40-8,height:200,mark:{type:"line",interpolate:"step-before"},encoding:{x:{field:"Date",type:"temporal",scale:{domain:[(p=o[0])==null?void 0:p.getTime(),(m=o[1])==null?void 0:m.getTime()]}},y:{field:"Participants",type:"quantitative"}},data:{values:d}}},[i.width,o,d]);return _.jsx(Ef,{children:_.jsxs(G_,{ref:r,padding:"lg",shadow:"md",withBorder:!0,children:[_.jsxs(Ht,{align:"center",mb:"xs",justify:"space-between",children:[_.jsxs(Ht,{direction:"row",align:"center",children:[_.jsx(Ji,{order:5,children:e}),_.jsx(T8e,{completed:u.length,inProgress:l.length,rejected:c.length,filteredCompleted:f.length})]}),_.jsxs(to,{children:[_.jsx(pie,{allParticipants:t,studyId:e}),_.jsx(Qi,{label:"Analyze and manage study data",children:_.jsx(Rn,{onClick:p=>{!p.ctrlKey&&!p.metaKey&&(p.preventDefault(),n(`/analysis/stats/${e}`))},px:4,component:"a",href:`${Cl}analysis/stats/${e}`,children:_.jsx(Aat,{})})})]})]}),_.jsx(ile,{type:"range",label:"Time Filter",placeholder:"Select a date range",value:o,onChange:a}),d.length>0?_.jsxs(_.Fragment,{children:[_.jsx(lt,{mt:16,children:"Finished Participants"}),_.jsx(dK,{spec:h,actions:!1})]}):_.jsx(Ee,{h:293.4,children:_.jsx(vg,{style:{height:"100%"},children:_.jsx(lt,{children:"Not enough participants for chart"})})})]})})}function SFn({globalConfig:e}){const[t,n]=A.useState(!1),[r,i]=A.useState({}),[s,o]=A.useState({}),{storageEngine:a}=ro(),{user:u}=pw();A.useEffect(()=>{(async()=>{n(!0);const f={},d={},h=async m=>{const g=await Aj(m,e);if(a){if(f[m]=await a.getAllParticipantsDataByStudy(m),g===null)return;if(a instanceof ic){const y=await a.getModes(m);d[m]=y.analyticsInterfacePubliclyAccessible}}};await(async()=>{const m=e.configsList.map(g=>h(g));try{await Promise.all(m),i(f),o(d)}catch(g){console.error("Error fetching data:",g)}finally{n(!1)}})()})()},[e,a]);const l=e.configsList.map(c=>r[c]&&((s[c]||u.isAdmin)&&!e.configs[c].test?_.jsx(Eu.Col,{span:{md:12,xl:6},children:_.jsx(xFn,{studyId:c,allParticipants:r[c]})},`${c}-panel`):null));return _.jsxs(_.Fragment,{children:[_.jsx(LI,{studyIds:e.configsList}),_.jsx(Fi.Main,{children:_.jsx(Ef,{fluid:!0,children:_.jsxs(Ee,{children:[_.jsx(Ji,{mb:20,order:4,children:"Your Studies:"}),_.jsxs(Eu,{children:[l.length>0?l:_.jsx(Ef,{mt:100,children:_.jsx(lt,{children:"No studies to show. If you believe that this is in error, make sure that you are logged in."})}),_.jsx(Ec,{visible:t})]})]})})})]})}function TFn(){const{user:e,triggerAuth:t}=pw(),{storageEngine:n}=ro(),[r,i]=A.useState(!1),[s,o]=A.useState([]),[a,u]=A.useState(!1),[l,c]=A.useState(!1),[f,d]=A.useState(!1),[h,p]=A.useState(!1),[m,g]=A.useState(!1),[y,v]=A.useState(""),[b,w]=A.useState(null),E=oRe({initialValues:{email:""},validate:{email:C0t("Invalid email")}});A.useEffect(()=>{(async()=>{if(u(!0),n instanceof ic){const P=await(n==null?void 0:n.getUserManagementData("authentication"));i(P==null?void 0:P.isEnabled);const $=await(n==null?void 0:n.getUserManagementData("adminUsers"));$&&$.adminUsersList&&o($==null?void 0:$.adminUsersList.map(L=>L.email))}else i(!1);u(!1)})()},[n]);const x=async()=>{if(u(!0),n instanceof ic){const D=await zWe(n,u);D&&D.email?(w({email:D.email,uid:D.uid}),p(!0)):g(!0)}u(!1)},S=async D=>{u(!0),n instanceof ic&&D&&(await n.changeAuth(!0),await n.addAdminUser(D),o([D.email]),i(!0),t()),p(!1),u(!1)},C=async()=>{if(u(!0),n instanceof ic){await n.addAdminUser({email:E.values.email,uid:null});const D=await n.getUserManagementData("adminUsers");o(D==null?void 0:D.adminUsersList.map(P=>P.email))}u(!1),c(!1),E.setValues({email:""})},I=D=>{d(!0),v(D)},k=async()=>{if(u(!0),n instanceof ic){await n.removeAdminUser(y);const D=await n.getUserManagementData("adminUsers");o(D==null?void 0:D.adminUsersList.map(P=>P.email))}d(!1),u(!1)},R=A.useMemo(()=>n instanceof ic,[n]);return _.jsxs(_.Fragment,{children:[_.jsx(Ef,{children:_.jsxs(G_,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[_.jsx(Ji,{mb:20,order:3,children:"Authentication"}),r?_.jsx(Ht,{children:_.jsx(lt,{children:"Authentication is enabled."})}):_.jsxs(Ht,{justify:"space-between",children:[_.jsx(Ee,{children:_.jsx(lt,{children:"Authentication is currently disabled."})}),_.jsx(Qi,{label:"You can only enable auth when using Firebase",disabled:R,children:_.jsx(Rn,{onClick:D=>R?x():D.preventDefault(),color:"green","data-disabled":R?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),r?_.jsxs(Ht,{mt:40,direction:"column",children:[_.jsxs(Ht,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[_.jsx(Ji,{order:6,children:"Enabled Users"}),_.jsx(uJ,{style:{cursor:"pointer"},onClick:()=>c(!0)})]}),s.length>0?s.map(D=>{var P;return _.jsxs(Ht,{justify:"space-between",mb:10,children:[_.jsx(lt,{children:D}),D===((P=e.user)==null?void 0:P.email)?_.jsx(lt,{color:"blue",size:"xs",children:"You"}):_.jsx(W_,{variant:"subtle",onClick:()=>I(D),children:_.jsx(rIe,{color:"red"})})]},D)}):null]}):null]})}),_.jsx(bs,{opened:l,onClose:()=>c(!1),title:"Add Admin User",children:_.jsxs(Ee,{component:"form",onSubmit:E.onSubmit(()=>C()),children:[_.jsx(ey,{leftSection:_.jsx(Eat,{}),placeholder:"User Gmail Account",...E.getInputProps("email")}),_.jsxs(Ht,{mt:30,justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"red",onClick:()=>c(!1),children:"Cancel"}),_.jsx(Rn,{type:"submit",children:"Save"})]})]})}),_.jsxs(bs,{opened:f,size:"large",onClose:()=>d(!1),title:_.jsxs(lt,{fw:700,children:["Remove",y,"?"]}),children:[_.jsxs(lt,{mt:40,children:["Are you sure you want to remove",_.jsx("b",{children:y})," ","as an administrator?"]}),_.jsxs(Ht,{mt:40,justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),_.jsx(Rn,{onClick:()=>k(),children:"Yes, I'm sure."})]})]}),_.jsxs(bs,{opened:h,size:"md",onClose:()=>p(!1),title:_.jsx(lt,{fw:700,children:"Enable Authentication?"}),children:[_.jsxs(lt,{mt:40,children:["User"," ",_.jsx("b",{children:b==null?void 0:b.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),_.jsxs(Ht,{mt:40,justify:"right",children:[_.jsx(Rn,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),_.jsx(Rn,{onClick:()=>S(b),children:"Yes, I'm sure."})]})]}),_.jsxs(bs,{opened:m,size:"md",onClose:()=>g(!1),title:_.jsx(lt,{fw:700,children:"An Error Occurred."}),children:[_.jsxs(lt,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",_.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),_.jsx(Ht,{mt:40,justify:"right",children:_.jsx(Rn,{mr:5,onClick:()=>g(!1),children:"Okay"})})]}),_.jsx(Ec,{visible:a})]})}class CFn extends xje{constructor(){super("localStorage");Gu(this,"studyDatabase");Gu(this,"studyId")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await IE.createInstance({name:n});const i=await this.getCurrentConfigHash(),s=await y6(JSON.stringify(r));i&&i!==s&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",s);const o=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...o,[s]:r})}async initializeParticipantSession(n,r,i,s,o){var f;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const u=await this.getModes(n),l=await y6(JSON.stringify(i)),c={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1};return u.dataCollectionEnabled&&await((f=this.studyDatabase)==null?void 0:f.setItem(this.currentParticipantId,c)),c}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await IE.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=g6();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),i}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=IE.createInstance({name:n}),i=[];return await r.iterate((s,o)=>{o!=="config"&&o!=="currentParticipant"&&o!=="sequenceArray"&&o!=="configs"&&o!=="currentConfigHash"&&o!=="modes"&&i.push(s)}),i}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=g6();this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n),!0}async validateUser(n){return!0}async rejectParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const i=await this.studyDatabase.getItem(r);if(!i)throw new Error("Participant not found");if(i.rejected)return;i.rejected=!0;const s=await this.studyDatabase.getItem("sequenceArray");s&&(s.unshift(i.sequence),this.setSequenceArray(s)),await this.studyDatabase.setItem(r,i)}async setMode(n,r,i){this.studyDatabase=await IE.createInstance({name:n});const s=await this.studyDatabase.getItem("modes");if(!s)throw new Error("Modes not initialized");s[r]=i,this.studyDatabase.setItem("modes",s)}async getModes(n){this.studyDatabase=await IE.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}_verifyStudyDatabase(n){return n!==void 0}}async function AFn(){let e,t=!1;{const n=new ic;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new CFn;await n.connect(),e=n}return e}function pE({title:e}){const t=jv();return A.useEffect(()=>{document.title=e},[t,e]),null}async function IFn(){const t=await(await fetch(`${Cl}global.json`)).text();return rmn(t)}function kFn(){const[e,t]=A.useState(null),[n,r]=A.useState({});A.useEffect(()=>{async function a(){e&&r(await Imn(e))}a()},[e]),A.useEffect(()=>{e||IFn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=ro();A.useEffect(()=>{if(i!==void 0)return;async function a(){const u=await AFn();s(u)}a()},[s,i]);const o=async a=>i instanceof ic?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?_.jsx(fat,{basename:Cl,children:_.jsx(Rmn,{children:_.jsx(yat,{children:_.jsx(Fi,{padding:"md",header:{height:70},children:_.jsxs(aat,{children:[_.jsx(vm,{path:"/",element:_.jsxs(_.Fragment,{children:[_.jsx(pE,{title:"ReVISit | Home"}),_.jsx(LI,{studyIds:e.configsList}),_.jsx(Pmt,{globalConfig:e,studyConfigs:n})]})}),_.jsx(vm,{path:"/:studyId/*",element:_.jsxs(_.Fragment,{children:[_.jsx(pE,{title:"ReVISit | Study"}),_.jsx(kmn,{globalConfig:e})]})}),_.jsx(vm,{path:"/analysis/dashboard",element:_.jsxs(_.Fragment,{children:[_.jsx(pE,{title:"ReVISit | Analysis"}),_.jsx(SFn,{globalConfig:e})]})}),_.jsx(vm,{path:"/analysis",element:_.jsx(OG,{to:"/analysis/dashboard"})}),_.jsx(vm,{path:"/analysis/stats/:studyId/:tab/:trialId?",element:_.jsxs(_.Fragment,{children:[_.jsx(pE,{title:"ReVISit | Analysis"}),_.jsx(Nxe,{paramToCheck:"studyId",paramCallback:o,children:_.jsx(S4n,{globalConfig:e})})]})}),_.jsx(vm,{path:"/analysis/stats/:studyId",element:_.jsx(OG,{to:"./table",replace:!0})}),_.jsx(vm,{path:"/settings",element:_.jsxs(Nxe,{children:[_.jsx(pE,{title:"ReVISit | Settings"}),_.jsx(LI,{studyIds:e.configsList}),_.jsx(Fi.Main,{children:_.jsx(TFn,{})})]})}),_.jsx(vm,{path:"/login",element:_.jsxs(_.Fragment,{children:[_.jsx(pE,{title:"ReVISit | Login"}),_.jsx(LI,{studyIds:e.configsList}),_.jsx(Fi.Main,{children:_.jsx(T4n,{})})]})})]})})})})}):null}Zz.createRoot(document.getElementById("root")).render(_.jsx(de.StrictMode,{children:_.jsx(yot,{children:_.jsxs(gCe,{children:[_.jsx(Qg,{}),_.jsx(kFn,{})]})})}))});export default RFn();
